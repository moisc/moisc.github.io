<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PascalGrip: An Engineering Ethics Adventure</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #3498db;
            --success-color: #2ecc71;
            --warning-color: #f39c12;
            --danger-color: #e74c3c;
            --dark-color: #2c3e50;
            --light-color: #ecf0f1;
            --shadow: 0 4px 8px rgba(0,0,0,0.1);
            --transition: all 0.3s ease;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Roboto', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        h1 {
            text-align: center;
            color: var(--dark-color);
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--primary-color);
        }
        
        .game-container {
            background-color: white;
            border-radius: 10px;
            box-shadow: var(--shadow);
            padding: 20px;
            margin-bottom: 20px;
            position: relative;
        }
        
        .scene {
            display: none;
            animation: fadeIn 0.5s;
        }
        
        .scene.active {
            display: block;
        }
        
        .scene-heading {
            font-size: 24px;
            color: var(--dark-color);
            margin-bottom: 10px;
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 5px;
        }
        
        .character {
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .dialogue {
            background-color: #f8f9fa;
            border-left: 4px solid var(--primary-color);
            padding: 10px 15px;
            margin: 15px 0;
            border-radius: 0 5px 5px 0;
        }
        
        .scene-image {
            width: 100%;
            height: 200px;
            background-size: cover;
            background-position: center;
            margin: 15px 0;
            border-radius: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: white;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.7);
            transition: var(--transition);
        }
        
        .choices-container {
            margin-top: 20px;
        }
        
        .choice-btn {
            display: block;
            width: 100%;
            padding: 12px 15px;
            margin-bottom: 10px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            text-align: left;
            font-size: 16px;
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }
        
        .choice-btn:hover {
            background-color: #2980b9;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        .choice-btn:active {
            transform: translateY(0);
            box-shadow: var(--shadow);
        }
        
        .choice-btn.ethical {
            border-left: 5px solid var(--success-color);
        }
        
        .choice-btn.unethical {
            border-left: 5px solid var(--danger-color);
        }
        
        .choice-btn::after {
            content: "→";
            position: absolute;
            right: 15px;
            opacity: 0;
            transition: var(--transition);
        }
        
        .choice-btn:hover::after {
            opacity: 1;
            transform: translateX(5px);
        }
        
        .stats {
            display: flex;
            justify-content: space-around;
            background-color: var(--dark-color);
            color: white;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
        }
        
        .stat {
            text-align: center;
            transition: var(--transition);
        }
        
        .stat-value {
            font-size: 24px;
            font-weight: bold;
        }
        
        .stat-label {
            font-size: 14px;
            opacity: 0.8;
        }
        
        .ethics-meter {
            height: 20px;
            background-color: #ecf0f1;
            border-radius: 10px;
            margin-bottom: 20px;
            overflow: hidden;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .ethics-fill {
            height: 100%;
            width: 50%;
            background: linear-gradient(to right, #e74c3c, #f39c12, #f1c40f, #2ecc71);
            transition: width 0.8s ease;
        }
        
        .ethics-pointer {
            width: 10px;
            height: 30px;
            background-color: var(--dark-color);
            position: relative;
            top: -25px;
            left: 50%;
            transform: translateX(-50%);
            transition: left 0.8s ease;
        }
        
        .feedback {
            padding: 15px;
            border-radius: 5px;
            margin-top: 20px;
            display: none;
            animation: fadeIn 0.5s;
        }
        
        .feedback.positive {
            background-color: #d5f5e3;
            border-left: 4px solid var(--success-color);
        }
        
        .feedback.negative {
            background-color: #fadbd8;
            border-left: 4px solid var(--danger-color);
        }
        
        .feedback.neutral {
            background-color: #eaeded;
            border-left: 4px solid #95a5a6;
        }
        
        .nspe-citation {
            font-style: italic;
            color: #7f8c8d;
            font-size: 14px;
            margin-top: 5px;
        }
        
        .button-container {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        
        .control-btn {
            padding: 10px 15px;
            background-color: var(--dark-color);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: var(--transition);
        }
        
        .control-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        .restart-btn {
            background-color: var(--danger-color);
        }
        
        .next-btn {
            background-color: var(--success-color);
        }
        
        .result {
            background-color: var(--primary-color);
            color: white;
            padding: 20px;
            border-radius: 5px;
            margin-top: 20px;
            text-align: center;
            display: none;
            animation: fadeIn 0.5s;
            box-shadow: var(--shadow);
        }
        
        .result h2 {
            margin-top: 0;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        #scene-presentation, 
        #scene-class-discussion,
        #game-over,
        #game-success {
            display: none;
        }
        
        .certificate {
            border: 10px solid #f1c40f;
            padding: 20px;
            text-align: center;
            background-color: #fffacd;
            position: relative;
            margin-top: 40px;
            animation: glow 2s infinite alternate;
        }
        
        @keyframes glow {
            from {
                box-shadow: 0 0 10px #f1c40f;
            }
            to {
                box-shadow: 0 0 20px #f1c40f;
            }
        }
        
        .certificate:before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><text x="10" y="50" font-family="Arial" font-size="12" opacity="0.1" transform="rotate(-45 50,50)">ETHICS</text></svg>');
        }
        
        .certificate h2 {
            font-family: 'Times New Roman', Times, serif;
            color: #b7950b;
        }
        
        .stamp {
            position: absolute;
            right: 20px;
            bottom: 20px;
            width: 100px;
            height: 100px;
            border: 5px solid var(--danger-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: var(--danger-color);
            transform: rotate(-15deg);
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% {
                transform: rotate(-15deg) scale(1);
            }
            50% {
                transform: rotate(-15deg) scale(1.05);
            }
            100% {
                transform: rotate(-15deg) scale(1);
            }
        }
        
        /* Mobile responsiveness */
        @media (max-width: 600px) {
            .scene-heading {
                font-size: 20px;
            }
            
            .stats {
                flex-direction: column;
                align-items: center;
            }
            
            .stat {
                margin-bottom: 10px;
            }
            
            .button-container {
                flex-direction: column;
            }
            
            .control-btn {
                margin-bottom: 10px;
                width: 100%;
            }
        }
        
        /* Progress tracker */
        .progress-tracker {
            position: sticky;
            top: 10px;
            z-index: 100;
            background: rgba(255, 255, 255, 0.9);
            padding: 5px 10px;
            border-radius: 20px;
            display: flex;
            justify-content: center;
            box-shadow: var(--shadow);
            margin-bottom: 15px;
            backdrop-filter: blur(5px);
        }
        
        .hidden {
            display: none !important;
        }
        
        /* Loading animation */
        .loader {
            width: 100%;
            height: 100%;
            position: fixed;
            top: 0;
            left: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: rgba(255, 255, 255, 0.9);
            z-index: 1000;
        }
        
        .spinner {
            width: 50px;
            height: 50px;
            border: 5px solid #f3f3f3;
            border-top: 5px solid var(--primary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Sound controls */
        .sound-controls {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 100;
        }
        
        .sound-btn {
            background-color: var(--dark-color);
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }
        
        .sound-btn:hover {
            transform: scale(1.1);
        }
        
        /* Save/Load Game */
        .save-load-container {
            position: fixed;
            bottom: 20px;
            left: 20px;
            z-index: 100;
            display: flex;
            gap: 10px;
        }
        
        .save-btn, .load-btn {
            background-color: var(--dark-color);
            color: white;
            border: none;
            border-radius: 5px;
            padding: 5px 10px;
            font-size: 14px;
            cursor: pointer;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }
        
        .save-btn:hover, .load-btn:hover {
            transform: scale(1.05);
        }
        
        /* Toast notifications */
        .toast {
            position: fixed;
            bottom: 70px;
            right: 20px;
            background-color: var(--dark-color);
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            box-shadow: var(--shadow);
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.3s, transform 0.3s;
            z-index: 1000;
        }
        
        .toast.active {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
</head>
<body>
    <div class="loader" id="loader">
        <div class="spinner"></div>
    </div>
    
    <div class="progress-tracker">
        <div class="stat">
            <div class="stat-label">Progress</div>
            <div class="stat-value" id="progress-value">0%</div>
        </div>
    </div>
    
    <h1>PascalGrip: An Engineering Ethics Adventure</h1>
    
    <div class="game-container">
        <div class="stats">
            <div class="stat">
                <div class="stat-value" id="ethics-score">50</div>
                <div class="stat-label">Ethics Score</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="reputation">50</div>
                <div class="stat-label">Reputation</div>
            </div>
            <div class="stat">
                <div class="stat-value" id="career">50</div>
                <div class="stat-label">Career</div>
            </div>
        </div>
        
        <div class="ethics-meter">
            <div class="ethics-fill" id="ethics-fill"></div>
            <div class="ethics-pointer" id="ethics-pointer"></div>
        </div>
        
        <!-- Introduction Scene -->
        <div class="scene active" id="scene-intro">
            <div class="scene-heading">Introduction</div>
            <p>You are a member of the 5SHC - Wildfire Hose Clamp Team at Cal Poly. Your team has been developing an innovative clamp for firefighting hoses.</p>
            <p>Today, you've received an unexpected email from Dr. Kris Pascal, the faculty supervisor for your project.</p>
            
            <div class="scene-image" style="background-color: #3498db;">
                📧 New Message 📧
            </div>
            
            <div class="dialogue">
                <span class="character">From: Dr. Kris Pascal, Cal Poly Fire Protection Engineering</span><br>
                <span class="character">Subject: Shark Tank Pitch</span><br><br>
                Team,<br><br>
                I have some exciting news. As you know I will be retiring soon and since I still have kids in school I wll need a passive income stream. I sent in an application to the ABC show Shark Tank and they accepted my application for the wildfire hose clamp!<br><br>
                I know you have not yet finished testing the prototypes, but I need you to provide me with some pictures. I know the prototype may not look great right now, but that is what photoshop is for! If you can make it look fantastic, I would really appreciate it.<br><br>
                In addition, I need some data to show the sharks. They will want to know that my design actually works. Please create some data tables for different load conditions to show how much pressure is applied to the hose. You may have to use your "Imagineering" for this task, but please make it as realistic as possible.<br><br>
                Dr. Pascal
            </div>
            
            <div class="choices-container">
                <button class="choice-btn unethical" data-choice="scene-1a">Agree to help with everything Dr. Pascal requested</button>
                <button class="choice-btn ethical" data-choice="scene-1b">Refuse to help with any manipulation of data or images</button>
                <button class="choice-btn neutral" data-choice="scene-1c">Offer a compromise solution</button>
                <button class="choice-btn neutral" data-choice="scene-1d">Delay responding while you consult with the team</button>
            </div>
        </div>
        
        <!-- Scene 1A - Agree to help -->
        <div class="scene" id="scene-1a">
            <div class="scene-heading">You Agree to Help</div>
            <p>You decide to help Dr. Pascal with everything they requested. After all, they're about to retire and need this income. Plus, it's good exposure for the project!</p>
            
            <div class="scene-image" style="background-color: #e74c3c;">
                🖌️ Photoshop Time! 📊
            </div>
            
            <div class="dialogue">
                <span class="character">Your Response:</span><br><br>
                "Dr. Pascal, we're excited about this opportunity! We'll get started on those enhanced photos and data tables right away. The prototype isn't quite ready for prime time, but we can definitely make it look fantastic. We understand the importance of making a good impression on the Sharks!"
            </div>
            
            <div class="feedback negative">
                <strong>Ethical Consideration:</strong> You've agreed to potentially misrepresent the product's status and capabilities, which could be considered deceptive.
                <div class="nspe-citation">NSPE Code of Ethics II.3.a: "Engineers shall be objective and truthful in professional reports, statements, or testimony."</div>
            </div>
            
            <div class="choices-container">
                <button class="choice-btn unethical" data-choice="scene-2a">Create heavily edited photos and fabricated data</button>
                <button class="choice-btn neutral" data-choice="scene-2b">Enhance photos moderately and use extrapolated data from limited tests</button>
                <button class="choice-btn ethical" data-choice="scene-2c">Have second thoughts and try to steer toward a more honest approach</button>
            </div>
        </div>
        
        <!-- Scene 1B - Refuse to help -->
        <div class="scene" id="scene-1b">
            <div class="scene-heading">You Refuse to Help</div>
            <p>You decide that you cannot in good conscience help with manipulating data or creating misleading images for the Shark Tank pitch.</p>
            
            <div class="scene-image" style="background-color: #2ecc71;">
                🛑 Ethical Boundary 🛑
            </div>
            
            <div class="dialogue">
                <span class="character">Your Response:</span><br><br>
                "Dr. Pascal, while I'm excited about your Shark Tank opportunity, I'm not comfortable creating photoshopped images or engineered data that might misrepresent our product. This would violate engineering ethics codes and could potentially create legal issues if investors make decisions based on inaccurate information. I'd be happy to help prepare honest materials that show the prototype's genuine potential."
            </div>
            
            <div class="feedback positive">
                <strong>Ethical Consideration:</strong> You've taken a clear ethical stand based on professional integrity and truthfulness.
                <div class="nspe-citation">NSPE Code of Ethics III.1.a: "Engineers shall avoid all conduct or practice that deceives the public."</div>
            </div>
            
            <div class="choices-container">
                <button class="choice-btn neutral" data-choice="scene-2d">Face Dr. Pascal's disappointment and potential fallout</button>
                <button class="choice-btn ethical" data-choice="scene-2e">Suggest alternative approaches for the Shark Tank pitch</button>
                <button class="choice-btn ethical" data-choice="scene-2f">Volunteer to work overtime to get real data ready</button>
            </div>
        </div>
        
        <!-- Scene 1C - Compromise -->
        <div class="scene" id="scene-1c">
            <div class="scene-heading">You Offer a Compromise</div>
            <p>You decide to find middle ground that helps Dr. Pascal while still maintaining ethical standards.</p>
            
            <div class="scene-image" style="background-color: #f39c12;">
                🤝 Finding Balance 🤝
            </div>
            
            <div class="dialogue">
                <span class="character">Your Response:</span><br><br>
                "Dr. Pascal, congratulations on the Shark Tank opportunity! I'd like to help in a way that supports your pitch while maintaining engineering integrity. Instead of photoshopping the current prototype, we could create clearly labeled 'concept renders' of the final design vision. Rather than inventing data, we could present the preliminary results we do have, along with transparent projections and a clear development timeline. This approach would still give the Sharks what they need to evaluate the opportunity without crossing ethical lines."
            </div>
            
            <div class="feedback positive">
                <strong>Ethical Consideration:</strong> You've found a creative solution that maintains honesty while still being helpful.
                <div class="nspe-citation">NSPE Code of Ethics III.2.a: "Engineers shall undertake assignments only when qualified by education or experience in the specific technical fields involved."</div>
            </div>
            
            <div class="choices-container">
                <button class="choice-btn ethical" data-choice="scene-2g">Dr. Pascal accepts your compromise</button>
                <button class="choice-btn neutral" data-choice="scene-2h">Dr. Pascal pushes back, asking for more "enhancement"</button>
                <button class="choice-btn unethical" data-choice="scene-2i">Dr. Pascal brings in the department chair to pressure you</button>
            </div>
        </div>
        
        <!-- Scene 1D - Delay -->
        <div class="scene" id="scene-1d">
            <div class="scene-heading">You Delay Responding</div>
            <p>You decide to consult with your teammates before responding to such an ethically complex request.</p>
            
            <div class="scene-image" style="background-color: #9b59b6;">
                🤔 Team Discussion 🤔
            </div>
            
            <div class="dialogue">
                <span class="character">In the Team Meeting:</span><br><br>
                "Hey everyone, Dr. Pascal just asked us to photoshop images of our prototype and create some engineered data for a Shark Tank pitch. I wanted to discuss this as a team before responding. What are your thoughts on the ethical implications here?"
            </div>
            
            <div class="feedback neutral">
                <strong>Ethical Consideration:</strong> Consulting with colleagues about ethical dilemmas is a responsible approach to decision-making.
                <div class="nspe-citation">NSPE Code of Ethics III.8.a: "Engineers shall consult with other engineers when needed by the circumstances."</div>
            </div>
            
            <div class="choices-container">
                <button class="choice-btn neutral" data-choice="scene-2j">Team agrees to help with minor enhancements but no fabrication</button>
                <button class="choice-btn neutral" data-choice="scene-2k">Team is divided on what to do</button>
                <button class="choice-btn ethical" data-choice="scene-2l">Team agrees to refuse the unethical requests</button>
            </div>
        </div>

        <!-- Scene 2A - Create heavily edited content -->
        <div class="scene" id="scene-2a">
            <div class="scene-heading">Full Fabrication</div>
            <p>You decide to go all-in with creating impressive but largely fabricated materials for the Shark Tank pitch.</p>
            
            <div class="scene-image" style="background-color: #e74c3c;">
                💰 Shark Tank Dreams 💰
            </div>
            
            <div class="dialogue">
                <span class="character">Two Weeks Later:</span><br><br>
                Dr. Pascal is thrilled with the materials you've created. The photoshopped images make the prototype look like a finished, polished product. The data tables show impressive performance metrics that the actual prototype couldn't achieve yet. Dr. Pascal submits everything for the Shark Tank pitch preparation.
            </div>
            
            <div class="feedback negative">
                <strong>Ethical Warning:</strong> You've created materials that substantially misrepresent the product's current state and capabilities.
                <div class="nspe-citation">NSPE Code of Ethics II.5.a: "Engineers shall not falsify their qualifications or permit misrepresentation of their or their associates' qualifications."</div>
            </div>
            
            <div class="choices-container">
                <button class="choice-btn unethical" data-choice="scene-shark-tank-a">Dr. Pascal goes on Shark Tank with your materials</button>
                <button class="choice-btn neutral" data-choice="scene-investor-due-diligence">A Shark expresses interest and requests due diligence materials</button>
                <button class="choice-btn ethical" data-choice="scene-regret">You regret your decision and try to fix the situation</button>
            </div>
        </div>

        <!-- Shark Tank Scene A -->
        <div class="scene" id="scene-shark-tank-a">
            <div class="scene-heading">Shark Tank Appearance</div>
            <p>Dr. Pascal appears on Shark Tank with the fabricated materials. The pitch starts strong...</p>
            
            <div class="scene-image" style="background-color: #2c3e50;">
                🦈 Shark Tank 📺
            </div>
            
            <div class="dialogue">
                <span class="character">Shark:</span> "These performance numbers look incredible. How did you test this?"<br><br>
                <span class="character">Dr. Pascal:</span> "We ran extensive tests at the university lab."<br><br>
                <span class="character">Shark:</span> "And this is the current prototype?" *points to photoshopped image*<br><br>
                <span class="character">Dr. Pascal:</span> "Yes, this is what we've developed."<br><br>
                <span class="character">Shark:</span> "Something doesn't add up here. These numbers seem too perfect. I'd like to bring in my engineering consultant to take a look."
            </div>
            
            <div class="feedback negative">
                <strong>Ethical Consequence:</strong> The fabricated data is raising red flags with the investors.
            </div>
            
            <div class="choices-container">
                <button class="choice-btn unethical" data-choice="scene-exposure">The deception is exposed on national television</button>
                <button class="choice-btn unethical" data-choice="scene-lucky-escape">Dr. Pascal manages to deflect and get a deal anyway</button>
            </div>
        </div>

        <!-- Exposure Scene -->
        <div class="scene" id="scene-exposure">
            <div class="scene-heading">Public Exposure</div>
            <p>The fabrication is exposed during the Shark Tank episode, creating a disastrous situation.</p>
            
            <div class="scene-image" style="background-color: #c0392b;">
                😱 Exposed on TV 😱
            </div>
            
            <div class="dialogue">
                <span class="character">Engineering Consultant:</span> "These data patterns don't match real-world testing. And this image has clear signs of digital manipulation."<br><br>
                <span class="character">Shark:</span> "So you're presenting us with fake data and doctored photos? I'm definitely out."<br><br>
                <span class="character">Dr. Pascal:</span> "The engineering team created these materials... I trusted their work."<br><br>
                <span class="character">All Sharks:</span> "We're out."
            </div>
            
            <div class="feedback negative">
                <strong>Ethical Consequence:</strong> The deception has been publicly exposed, damaging Dr. Pascal's reputation and potentially yours.
                <div class="nspe-citation">NSPE Code of Ethics III.3.a: "Engineers shall avoid the use of statements containing a material misrepresentation of fact or omitting a material fact."</div>
            </div>
            
            <div class="choices-container">
                <button class="choice-btn unethical" data-choice="scene-aftermath-bad">Face the aftermath of the public deception</button>
            </div>
        </div>

        <!-- Bad Aftermath Scene -->
        <div class="scene" id="scene-aftermath-bad">
            <div class="scene-heading">Severe Consequences</div>
            <p>The fallout from the Shark Tank disaster is significant and far-reaching.</p>
            
            <div class="scene-image" style="background-color: #c0392b;">
                📉 Career Impact 📉
