(window.KSR_webpackjsonp=window.KSR_webpackjsonp||[]).push([[121],{"+DSo":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"e",(function(){return c}));const a={zero:[0],one:[1],two:[2],few:[3],many:[],other:[]},i=/\{\{\{\s*(\w+)\s*\}\}\}/g,r=/\{\{\s*(\w+)\s*\}\}/g,o=(e,t)=>e.split(".").reduce((function(e,t){var n=typeof e;return"function"===n||"object"===n&&!!e?e[t]:e}),t),s=e=>{const t=e.split(".");return t[t.length-1].replace(/_/g," ").replace(/(\w+)/g,e=>e.charAt(0).toUpperCase()+e.slice(1))},l=(e,t,n={})=>{const{locale:i,defaultLocale:r}=e,s=e.translations||{};let l=o(t,s[i])||n.default;return void 0===l&&(l=o(t,s[r])),"object"==typeof l&&(l=((e,t)=>{let n,i;return n="number"==typeof t?t:parseInt(t.count,10),"number"!=typeof n||isNaN(n)||(i=Object.keys(a).filter((function(e){if(-1!==a[e].indexOf(n))return e})),0===i.length&&(i="other")),e[i]})(l,n)),l},c=e=>!!l(window.I18n,e)},"/AD1":function(e,t,n){"use strict";var a=n("60hy");const i=Object(a.b)(window.current_project);window.current_project=i,t.a=i},"/IHD":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return l}));var a=n("xk4V"),i=n.n(a);const r=(...e)=>[].concat(...e).filter(Boolean).join(" "),o=()=>i()().split("-").join(""),s=(e,...t)=>(e||[]).concat(...t);function l(e){return null!=e&&"boolean"!=typeof e&&""!==e}},"/Jws":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("7LsF");const i=Object(a.b)("editorImageUploader",{Component:a.a,reducer:Object(a.d)("Story Image")})},"/MMT":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={canceled:"CANCELED",live:"LIVE",failed:"FAILED",successful:"SUCCESSFUL",started:"STARTED",submitted:"SUBMITTED",suspended:"SUSPENDED",purged:"PURGED"}},"/nlg":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>(null==e?void 0:e.message)&&"string"==typeof e.message?e.message:"string"==typeof e?e:JSON.stringify(e)},"0AyS":function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var a=n("UlFT"),i=n("94td"),r=n("X+my"),o=n("q1tI"),s=n.n(o),l=n("MTFr"),c=n("mm3F"),d=n("qYa2"),u=n("lHf8"),m=n("jmGY"),p=n("ObC8"),b=n("2nV0"),h=n("lM4U"),f=n("dPds");const g=e=>`/video_tracks/${e.tid}/edit`,_=({track:e,importTrack:t,confirmDeleteCaption:n})=>{const{cues:a,language:r}=e,s="IMPORTING"===e.importStatus,l="FAILURE"===e.importStatus,c=!!a.totalCount,d="caption-management-"+e.id,m=o.useRef(null);let b;return b=s?o.createElement("span",null,"Importing file..."):c?o.createElement("span",null,"Track added."):l?o.createElement("span",null,"Import failed."):o.createElement(i.a,{i18nKey:"uploaders.captions.Create_or_import_a_track",create:o.createElement(u.a,{atoms:["pointer"],href:g(e),target:"blank"},Object(i.b)("uploaders.captions.Create"))}),o.createElement("li",{className:"caption-track kds-border-b kds-py-04 flex"},o.createElement("div",{className:"grow1"},o.createElement(f.a.BodyMD,{as:"span",className:"block"},r.name),o.createElement(f.a.BodySM,{as:"span"},b)),o.createElement("div",{className:"flex kds-gap-02 items-center"},o.createElement(E,{hasCues:c,isImporting:s,track:e}),o.createElement(p.a,{variant:"outlined",icon:"icon--download",isLoading:s,compact:!0,"aria-label":"Import .vtt caption file",onPress:()=>m.current.click()}),o.createElement("input",{type:"file",accept:".vtt",id:d,disabled:s,onChange:t(d,e.tid),className:"hide",ref:m}),o.createElement(p.a,{variant:"outlined/destructive",icon:"icon--trash",disabled:s,onPress:n(e.id),"aria-label":"Delete",compact:!0})))},k=({languages:e,tracks:t,updateCaptionSelect:n,selectedCaptionLanguageCode:a,captionCreated:r,videoId:s})=>{const l=((e,t)=>{const n=t.map(e=>e.language.code);return e.filter(e=>!n.includes(e.code))})(e,t),c=l.length>0;return o.createElement("div",null,o.createElement(f.a.HeadingSM,{as:"h4",className:"kds-mb-02"},Object(i.b)("uploaders.Add_captions")),c&&o.createElement("div",{className:"flex kds-gap-02"},o.createElement("div",{className:"grow1"},o.createElement(m.a,{onChange:e=>n(e.target.value),value:a||""},o.createElement("option",{disabled:!0,value:""},Object(i.b)("uploaders.captions.Select_a_language")),l.map(e=>o.createElement("option",{key:e.code,value:e.code},e.name)))),o.createElement(p.a,{onPress:r(l,s),isDisabled:!a},Object(i.b)("uploaders.Add_track"))))},E=({hasCues:e,isImporting:t,track:n})=>{const a=e?"icon--edit":"icon--plus",i=e?"Edit":"Create";return o.createElement(p.a.AsLink,{variant:"outlined",icon:a,href:g(n),"data-tooltip":i,isDisabled:t,target:"_blank","aria-label":i+" caption track",compact:!0})};var v=({state:e,videoOptions:t})=>{const n=e.confirmDeleteCaptionId,{updateCaptionSelect:a,captionCreated:r,cancelDeleteCaption:s,captionDeleted:l,importTrack:c,confirmDeleteCaption:d,videoId:u}=t,m=e.tracks.map(e=>o.createElement(_,{key:e.tid,track:e,importTrack:c,confirmDeleteCaption:d}));return o.createElement("div",null,o.createElement(k,{languages:e.allCaptionLanguages,selectedCaptionLanguageCode:e.selectedCaptionLanguageCode,updateCaptionSelect:a,captionCreated:r,tracks:e.tracks,videoId:u}),o.createElement("ul",null,m),n&&o.createElement(b.a.Modal,{isOpen:!0,onOpenChange:s},o.createElement(h.a,{title:Object(i.b)("uploaders.Are_you_sure"),content:o.createElement(f.a.BodyMD,{as:"p",className:"center"},"This can’t be undone."),actions:({close:e})=>o.createElement(b.a.PrimaryButton,{variant:"filled/destructive",onPress:()=>{l(),e()}},"Delete track")})))},y=n("3Hbt");const S={changeFile:Object(i.b)("uploaders.Change_video"),deleteFile:Object(i.b)("uploaders.Delete_video"),deletingFile:Object(i.b)("uploaders.Deleting_video"),uploadCta:Object(i.b)("uploaders.Drop_a_video_here_or_select_a_file"),uploadCtaMobile:Object(i.b)("uploaders.Upload_a_video"),feelFreeToMoveOn:Object(i.b)("uploaders.Feel_free_to_move_on_video"),validFileTypes:Object(i.b)("uploaders.It_must_be_a_valid_video_file_type")},O=({state:e,dispatch:t,supportsCaptions:n,theme:a=r.a,uploadLimit:i})=>{const o={...e.videoUpload,...e.baseUpload},l={supportsCaptions:n,onCloseShowingCaptions:()=>t(Object(y.closeShowingCaptions)()),onOpenShowingCaptions:()=>t(Object(y.openShowingCaptions)()),importTrack:(e,n)=>()=>t(Object(y.importTrack)(e,n)),confirmDeleteCaption:e=>()=>t(Object(y.confirmDeleteCaption)(e)),updateCaptionSelect:e=>t(Object(y.updateCaptionSelect)(e)),captionCreated:(e,n)=>()=>t(Object(y.captionCreated)(e,n)),cancelDeleteCaption:()=>t(Object(y.cancelDeleteCaption)()),captionDeleted:()=>t(Object(y.captionDeleted)()),videoId:e.baseUpload.asset?e.baseUpload.asset.id:null};return s.a.createElement(N,{state:o,onDeleteAsset:()=>t(Object(c.deleteAsset)()),onDragLeave:()=>t(Object(c.fileDragEnded)()),onDragEnter:()=>t(Object(c.fileDragStarted)()),onDrop:e=>{t(Object(c.fileDragEnded)()),Object(d.a)(e)&&(e.preventDefault(),t(Object(c.uploadFileStart)(e.dataTransfer.files[0],t,i)))},onFileSelect:e=>t(Object(c.uploadFileStart)(e,t,i)),onUploadReset:()=>t(Object(c.uploadReset)()),onCloseDeleteAssetModal:()=>t(Object(c.closeDeleteAssetModal)()),onOpenDeleteAssetModal:()=>t(Object(c.openDeleteAssetModal)()),theme:a,uploadLimit:i,videoOptions:l})},N=Object(l.e)({EmptyState:({activeDragCounter:e,onDragLeave:t,onDragEnter:n,onDrop:a,onFileSelect:r,theme:o,uploadLimit:c})=>s.a.createElement(l.a,{activeDragCounter:e,iconName:"icon--video",maxFileSizeText:Object(i.b)("uploaders.no_larger_than_file_size",{megabytes:c.megabytes}),onDragLeave:t,onDragEnter:n,onDrop:a,onFileSelect:r,theme:o,copyOverrides:S}),ProcessingState:({isDeleting:e,onFileSelect:t,theme:n,timeElapsed:a})=>s.a.createElement(l.b,{isDeleting:e,onFileSelect:t,theme:n,timeElapsed:a,copyOverrides:S}),UploadSuccess:({state:e,onFileSelect:t,onDeleteAsset:n,onCloseDeleteAssetModal:r,onOpenDeleteAssetModal:o,videoOptions:c,theme:d})=>{const{asset:u,isDisabled:m,isShowingCaptions:p}=e,{supportsCaptions:b,onCloseShowingCaptions:h,onOpenShowingCaptions:f}=c,g=b&&s.a.createElement(a.a,{isDisabled:m,isSelected:p,onChange:p?h:f},Object(i.b)("uploaders.Add_captions")),_=b&&p&&s.a.createElement("div",{className:"kds-mt-04"},s.a.createElement(v,{state:e,videoOptions:c,theme:d}));return s.a.createElement(l.c,{onCloseDeleteAssetModal:r,onOpenDeleteAssetModal:o,displayImageUrl:u.previewImageUrl,onFileSelect:t,onDeleteAsset:n,state:e,SupplementalComponent:_,SupplementalComponentControl:g,copyOverrides:S})}})},"0RKZ":function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));const a=t=>{if(t)return window.btoa?window.btoa(t):e.from(t).toString("base64")},i=t=>t?window.atob?window.atob(t):e.from(t,"base64").toString():t}).call(this,n("tjlA").Buffer)},"0VSk":function(e,t,n){"use strict";n.r(t);var a=n("XM0S");const i="undefined"!=typeof window?window.I18n=window.I18n||{}:{};let r=!1;try{r=1===parseInt(localStorage.getItem("i18n_debug"),10)}catch(e){}i.t=(...e)=>Object(a.a)({translations:i.translations,locale:i.locale,defaultLocale:i.default_locale,debug:r},...e),t.default=i},"0kxh":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n("9jZ4");const i=a.d,r=a.e;var o=n("q1tI"),s=n.n(o),l=n("evi+"),c=n("c5x8"),d=n("ObC8"),u=n("sezs");function m({children:e,title:t,titleTag:n,small:d=!1,variant:m="info",persistent:b=!1,onDismiss:h,atoms:f=[],className:g,buttons:_,...k}){var E;const v=Object(o.useRef)(null),y=(({children:e,title:t,"aria-label":n})=>{const a=e;let o;return r(t)&&i(a)?o={message:t}:r(a)&&i(t)?o={message:a}:r(t)&&r(a)&&i(n)?o={title:t,message:a}:r(t)&&r(a)&&r(n)&&(o={message:t,description:a}),o})({atoms:f,title:t,children:e,titleTag:n,small:d,variant:m,persistent:b,onDismiss:h,buttons:_,...k}),[S,O]=Object.values(null!=y?y:{}),N=Object(a.d)(null==y?void 0:y.title)?"p":n,C=Object(o.useRef)(k.autoFocus);Object(o.useEffect)(()=>{C.current&&v.current&&v.current.focus(),C.current=!1},[v]);const[j,w]=s.a.useState(!1),I=Object(o.useCallback)(e=>{null==h||h(e),w(!0)},[h]),T=d?"sm":"md",A=p[null!=m?m:"info"],D="string"==typeof S?"p":"div",P=null!==(E=Object(a.d)(null==y?void 0:y.title)?null:N)&&void 0!==E?E:D,R="string"==typeof O?"p":"div";return j?null:s.a.createElement("article",Object.assign({},k,{className:Object(c.a)(f,"kds-banner",d&&"kds-banner--small",m&&"kds-banner--"+m,g),role:"alert",ref:v}),s.a.createElement(P,{className:"kds-banner__title"},S),s.a.createElement(u.a,{atoms:["kds-banner__icon"],name:A,size:T}),!b&&s.a.createElement(l.a,{className:"kds-banner__dismiss",onPress:I},s.a.createElement(u.a,{name:"icon--close",size:T,atoms:["block"]})),O&&s.a.createElement(R,{className:"kds-banner__description"},O),_&&s.a.createElement("footer",{className:"kds-banner__footer"},"function"==typeof _?_({dismiss:I}):_))}const p={info:"icon--info",warning:"icon--warning",error:"icon--error",success:"icon--success"};m.PrimaryButton=e=>s.a.createElement(d.a,Object.assign({},e,{variant:"outlined",compact:!0})),m.SecondaryButton=e=>s.a.createElement(d.a,Object.assign({},e,{variant:"borderless",compact:!0}))},"0pZ2":function(e){e.exports=JSON.parse('{"AddressAssociatedObject":["Backing","Order","Project","StockLocation"],"Answerable":["BackingAddon","Cart","LineItem","OrderOrderable"],"Attachable":["FreeformPost","InterviewAnswer","Project","Survey"],"AttachedMedia":["AttachedAudio","AttachedVideo","Photo"],"Commentable":["CreatorInterview","FreeformPost","Project"],"Editorial":["Article","BespokeComponent","EditorialRichText","ExploreSubcategories","FeaturedProjectCollection","Header","MastheadImage","NewsCollection","NewsletterSignUp","ProjectCollection","PromoCollection","ShortText","SingleProjectContainer","SurveyEmbed"],"FlaggableContent":["Message","Project"],"Node":["Address","AdjustmentSummary","AiDisclosure","AttachedAudio","AttachedVideo","Backing","Category","Checkout","Comment","Conversation","CreatorInterview","CreatorPrompt","CuratedPage","Flagging","FreeformPost","InterviewAnswer","InterviewQuestion","Location","Message","Order","Organization","Photo","Project","ProjectProfile","Refund","Reward","RewardItem","SavedSearchSegment","ShippingRule","Survey","Tag","User","UserUrl","Video","VideoTrack","VideoTrackCue"],"Orderable":["Reward"],"PaymentSource":["BankAccount","CreditCard"],"Postable":["CreatorInterview","FreeformPost"],"Questionable":["Project","Reward","RewardItem"],"RichTextItem":["RichText","RichTextAudio","RichTextHeader1","RichTextHeader2","RichTextHeader3","RichTextHeader4","RichTextListClose","RichTextListItem","RichTextListOpen","RichTextOembed","RichTextPhoto","RichTextVideo"],"SecretResource":["Reward"],"Shippable":["Reward","RewardItem"],"TimelineEventData":["CreatorInterview","FreeformPost","Project"]}')},"1OuE":function(e,t,n){"use strict";n.d(t,"d",(function(){return E})),n.d(t,"c",(function(){return S})),n.d(t,"a",(function(){return O})),n.d(t,"b",(function(){return N}));var a=n("cPJV"),i=n.n(a),r=n("bgw5"),o=n.n(r),s=n("Us+F"),l=n.n(s),c=n("/S0t"),d=n.n(c),u=n("LKA2"),m=n.n(u),p=n("hmb4"),b=n.n(p),h=n("uAXs"),f=n.n(h),g=n("QPlQ"),_=n.n(g),k=n("2hq0");const E={de:o(),en:l(),es:d(),fr:m(),ja:f(),it:b(),zh:_()},v={"MMM YYYY":{de:"MMM YYYY",en:"MMM YYYY",es:"MMM YYYY",fr:"MMM YYYY",it:"MMM YYYY",ja:"YYYY年 MMM",zh:"MMM YYYY"},"MMMM D":{de:"D. MMMM",en:"MMMM D",es:"D [de] MMMM [de]",fr:"D MMMM",it:"D MMMM",ja:"YYYY年M月D日",zh:"MMMM D"},LTS:{de:"HH:mm:ss",en:"h:mm:ss A",es:"H:mm:ss",fr:"HH:mm:ss",it:"HH:mm:ss",ja:"HH:mm:ss",zh:"h:mm:ss aa"},LT:{de:"HH:mm",en:"h:mm A",es:"H:mm",fr:"HH:mm",it:"HH:mm",ja:"HH:mm",zh:"h:mm aa"},L:{de:"DD.MM.YYYY",en:"MM/DD/YYYY",es:"DD/MM/YYYY",fr:"DD/MM/YYYY",it:"DD/MM/YYYY",ja:"YYYY/MM/DD",zh:"MM/DD/YYYY"},l:{de:"D.M.YYYY",en:"M/D/YYYY",es:"D/M/YYYY",fr:"D/M/YYYY",it:"D/M/YYYY",ja:"YYYY/MM/DD",zh:"MM/DD/YYYY"},"l LT":{de:"D.M.YYYY HH:mm",en:"M/D/YYYY h:mm A",es:"D/M/YYYY HH:mm",fr:"D/M/YYYY HH:mm",it:"D/M/YYYY HH:mm",ja:"YYYY/MM/DD HH:mm",zh:"MM/DD/YYYY h:mm aa"},LL:{de:"D. MMMM YYYY",en:"MMMM D, YYYY",es:"D [de] MMMM [de] YYYY",fr:"D MMMM YYYY",it:"D MMMM YYYY",ja:"YYYY年M月D日",zh:"MMMM D YYYY"},ll:{de:"D. MMM YYYY",en:"MMM D YYYY",es:"D [de] MMM [de] YYYY",fr:"D MMM YYYY",it:"D MMM YYYY",ja:"YYYY年M月D日",zh:"MMM D YYYY"},LLL:{de:"D. MMMM YYYY HH:mm",en:"MMMM D, YYYY h:mm A",es:"D [de] MMMM [de] YYYY H:mm",fr:"D MMMM YYYY HH:mm",it:"D MMMM YYYY HH:mm",ja:"YYYY年M月D日 のHH:mm",zh:"MMMM D YYYY h:mm aa"},lll:{de:"D. MMM YYYY HH:mm",en:"MMM D, YYYY h:mm A",es:"D [de] MMM [de] YYYY H:mm",fr:"D MMM YYYY HH:mm",it:"D MMM YYYY HH:mm",ja:"YYYY年M月D日 のHH:mm",zh:"MMM D, YYYY h:mm A"},LLLL:{de:"dddd, D. MMMM YYYY HH:mm",en:"dddd, MMMM D YYYY h:mm A",es:"dddd, D [de] MMMM [de] YYYY H:mm",fr:"dddd D MMMM YYYY HH:mm",it:"dddd D MMMM YYYY HH:mm",ja:"YYYY年M月D日 (dddd) のHH:mm",zh:"dddd, MMMM D YYYY h:mm aa"},llll:{de:"ddd, D. MMMM YYYY HH:mm",en:"ddd, MMMM D YYYY h:mm A",es:"ddd, D [de] MMMM [de] YYYY H:mm",fr:"ddd D MMMM YYYY HH:mm",it:"ddd D MMMM YYYY HH:mm",ja:"YYYY年M月D日 (ddd) のHH:mm",zh:"ddd, MMMM D YYYY h:mm A"}},y=Object.keys(v).map(e=>e+" z"),S=(e,t,n)=>((e,t,n)=>{if(y.indexOf(t)>=0){const a=v[t.replace(/ z$/,"")][e];return`${i()(n,a,{locale:E[e]})} ${Object(k.a)(n)}`}return i()(n,t,{locale:E[e]})})(e,((e,t)=>Object.keys(v).indexOf(t)>=0?v[t][e]:t)(e,t),n),O=(e,t)=>S(window.I18n.locale||window.I18n.default_locale,e,t),N=(e,t)=>O(e,1e3*t)},"1eGs":function(e,t,n){"use strict";n.d(t,"c",(function(){return i}));n("VX74");var a=n("DE4Y");n.d(t,"a",(function(){return a.F})),n.d(t,"b",(function(){return a.G}));const i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Posts"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectSlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"state"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PostState"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"projectSlug"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"posts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"state"},value:{kind:"Variable",name:{kind:"Name",value:"state"}}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"20"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"startCursor"}},{kind:"Field",name:{kind:"Name",value:"endCursor"}},{kind:"Field",name:{kind:"Name",value:"hasNextPage"}},{kind:"Field",name:{kind:"Name",value:"hasPreviousPage"}}]}},{kind:"Field",name:{kind:"Name",value:"edges"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"}},{kind:"Field",name:{kind:"Name",value:"node"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"actions"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edit"}}]}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"publishedAt"}},{kind:"Field",name:{kind:"Name",value:"createdAt"}},{kind:"Field",name:{kind:"Name",value:"likesCount"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CreatorInterview"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commentsCount"},arguments:[{kind:"Argument",name:{kind:"Name",value:"withReplies"},value:{kind:"BooleanValue",value:!0}}]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FreeformPost"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commentsCount"},arguments:[{kind:"Argument",name:{kind:"Name",value:"withReplies"},value:{kind:"BooleanValue",value:!0}}]}]}}]}}]}}]}}]}}]}}]}},"1uWx":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return m})),n.d(t,"i",(function(){return h})),n.d(t,"j",(function(){return b})),n.d(t,"k",(function(){return g})),n.d(t,"l",(function(){return f})),n.d(t,"o",(function(){return k})),n.d(t,"p",(function(){return _})),n.d(t,"m",(function(){return v})),n.d(t,"n",(function(){return E}));var a=n("94td"),i=n("q1tI"),r=n("b8Ld");let o=function(e){return e.icon="icon--text-bold",e.id="bold",e.style="BOLD",e}({});const s=e=>i.createElement(r.a,{isActive:e.isActive,onMouseDown:e.onClick,toolTip:Object(a.b)("rich_editor.Bold"),icon:o.icon,toolId:o.id});let l=function(e){return e.icon="",e.id="header",e.style="header-one",e.label="Header 1",e}({});const c=e=>i.createElement(r.a,{isActive:e.isActive,onMouseDown:e.onClick,toolTip:Object(a.b)(e.headerDropdownEnabled?"rich_editor.Header_1":"rich_editor.Headline"),label:l.label,icon:l.icon,toolId:l.id,headerDropdownEnabled:e.headerDropdownEnabled});let d=function(e){return e.icon="",e.id="header2",e.style="header-two",e.label="Header 2",e}({});const u=e=>i.createElement(r.a,{isActive:e.isActive,onMouseDown:e.onClick,toolTip:Object(a.b)("rich_editor.Header_2"),label:d.label,icon:d.icon,toolId:d.id});let m=function(e){return e.icon="",e.id="header3",e.style="header-three",e.label="Header 3",e}({});const p=e=>i.createElement(r.a,{isActive:e.isActive,onMouseDown:e.onClick,toolTip:Object(a.b)("rich_editor.Header_3"),label:m.label,icon:m.icon,toolId:m.id});let b=function(e){return e.icon="icon--text-italic",e.id="italic",e.style="ITALIC",e}({});const h=e=>i.createElement(r.a,{isActive:e.isActive,onMouseDown:e.onClick,toolTip:Object(a.b)("rich_editor.Italic"),icon:b.icon,toolId:b.id});let f=function(e){return e.icon="icon--text-bullet",e.id="list",e.style="unordered-list-item",e}({});const g=e=>i.createElement(r.a,{isActive:e.isActive,onMouseDown:e.onClick,toolTip:Object(a.b)("rich_editor.List"),icon:f.icon,toolId:f.id});let _=function(e){return e.icon="",e.id="quote",e.style="blockquote",e.label="Quote",e}({});const k=e=>i.createElement(r.a,{isActive:e.isActive,onMouseDown:e.onClick,toolTip:Object(a.b)("rich_editor.Block_quote"),label:_.label,icon:_.icon,toolId:_.id});let E=function(e){return e.icon="",e.id="normal",e.style="unstyled",e.label="Normal text",e}({});const v=e=>i.createElement(r.a,{isActive:e.isActive,onMouseDown:e.onClick,toolTip:Object(a.b)("rich_editor.Normal_text"),label:E.label,icon:E.icon,toolId:E.id})},"1vCr":function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u}));var a=n("mv45"),i=n("94td"),r=n("TIPN"),o=n("/nlg"),s=n("9jZ4"),l=n("q1tI"),c=n("Ty5D");const d=(e,t)=>t&&e in t?t[e]:null;class u extends l.Component{constructor(e){super(e),this.mounted=void 0,this.onBeforeUnload=e=>{if(this.warnBeforeDirtyUnmount()&&this.state.dirty)return e.returnValue="",""},this.resetValues=()=>{this.setState({values:{},isSubmitting:!1,errors:null,dirty:!1})},this.setValues=e=>{this.setState(t=>{const n={...t.values,...e};return{values:n,errors:t.errors&&"function"==typeof this.props.validate?this.props.validate({...this.props.initialValues,...n}):null,dirty:!Object(s.j)(this.props.initialValues,n)}})},this.setErrors=e=>{this.setState({isSubmitting:!1,dirty:!0,errors:e})},this.onSubmit=e=>async t=>{(null==t?void 0:t.preventDefault)&&"function"==typeof t.preventDefault&&t.preventDefault();let n=this.state.dirty,l=null;if(this.state.isSubmitting)return{errors:l,dirty:n};if(this.setState({isSubmitting:!0}),"function"==typeof this.props.validate){const e=this.props.validate({...this.props.initialValues,...this.state.values}),t=this.props.scrollTopWhenError;if(!Object(s.d)(e))return("boolean"!=typeof t||t)&&Object(r.d)(),this.setErrors(e),{errors:e,dirty:n}}try{await this.props.onSubmit(this.values(),e),n=!1}catch(e){const t=Object(a.f)(e),n=t?null:Object(o.a)(e),r=t?{}:{general:Object(i.b)("project_updates.An_unexpected_error_occurred")};l={...t,...r},"function"==typeof this.props.onError&&this.props.onError(t,n)}return this.mounted&&this.setState({isSubmitting:!1,errors:l,dirty:n}),{errors:l,dirty:n}},this.mounted=!1,this.state={values:{},isSubmitting:!1,errors:null,dirty:!1}}warnBeforeDirtyUnmount(){return"boolean"==typeof this.props.warnBeforeDirtyUnmount?this.props.warnBeforeDirtyUnmount:"function"==typeof this.props.warnBeforeDirtyUnmount&&this.props.warnBeforeDirtyUnmount(this.values())}componentDidMount(){this.mounted=!0,window.addEventListener("beforeunload",this.onBeforeUnload)}componentWillUnmount(){this.mounted=!1,window.removeEventListener("beforeunload",this.onBeforeUnload)}shouldComponentUpdate(e,t){return!Object(s.j)(e,this.props)||!Object(s.j)(e.initialValues,this.props.initialValues)||!Object(s.j)(t,this.state)}values(){return{...this.props.initialValues,...this.state.values}}render(){const e={errors:this.state.errors,isDirty:this.state.dirty,isSubmitting:this.state.isSubmitting,onSubmit:this.onSubmit(null),onSubmitWithExtras:this.onSubmit,resetValues:this.resetValues,setValues:this.setValues,values:this.values(),ownProps:{}};let t;if(this.props.render)t=this.props.render;else{if("function"!=typeof this.props.children)throw new Error("WithFormState must have a render or children prop that is a function.");t=this.props.children}let n=null;return this.warnBeforeDirtyUnmount()&&(n=l.createElement(c.a,{when:this.state.dirty&&!this.state.isSubmitting,message:Object(i.b)("project_updates.Are_you_sure_you_want_to_leave")})),l.createElement(l.Fragment,{},t(e),n)}}},"2A98":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));let a=function(e){return e.ADD_ONS="add_ons",e.BACKER_SURVEY_BUILD="backer_survey_build",e.BUILD="build",e.CREATOR_DASHBOARD="creator_dashboard",e.DISCOVER="discover",e.EXPERTS="experts",e.ITEM_QUESTIONS_DRAFT="item_questions_draft",e.PROFILE="profile",e.PROJECT="project",e.SETTINGS="settings",e.MOBILE="mobile",e}({})},"2DJ9":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var a=n("q1tI"),i=n.n(a);const r=["9","10","12","14","15","16","20","24","30","36","48","small","medium","large"],o=e=>{if(r.includes(e))return["icon-"+e];throw new Error("invalid size class")},s=i.a.forwardRef((e,t)=>{var n,a,r;const{name:s,label:l,size:c="small",atoms:d=[],defsElement:u,inlineFill:m,id:p,...b}=e,h=["svg-icon__"+s].concat(o(c)).concat(d).join(" ");return i.a.createElement("svg",Object.assign({id:p},b,{"aria-label":null!==(n=e["aria-label"])&&void 0!==n?n:l,"aria-hidden":null!==(a=e["aria-hidden"])&&void 0!==a?a:!l,fill:null!==(r=e.fill)&&void 0!==r?r:m,ref:t,className:h}),!!u&&u,i.a.createElement("use",{xlinkHref:"#"+s}))})},"2Lb1":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("haZ8"),i=n("q1tI");const r=({header:e,footer:t,body:n,atoms:r,surface:o=!1})=>{const s=o?a.a:i.Fragment;return i.createElement(s,r?{atoms:r}:{},i.createElement("article",{className:"relative"},e&&i.createElement("header",null,e),n,t&&i.createElement("footer",null,t)))}},"2NEC":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("L/h+"),i=n("FiUa"),r=n("dPds"),o=n("94td"),s=n("1OuE"),l=n("q1tI");class c extends l.Component{renderSequenceInfo(){return l.createElement("div",{className:"kds-mb-02 flex justify-between kds-gap-04"},l.createElement("div",null,l.createElement(r.a.HeadingMD,{as:"span",className:"kds-text-secondary"},this.props.publishedAt?Object(o.b)("new_project_update.Update")+" #"+this.props.sequence:Object(o.b)("new_project_update.Update")+" #"),!this.props.isPublic&&l.createElement(i.a,{variant:"gray",atoms:"kds-ml-02"},Object(o.b)("project_updates.Backers_only"))),this.props.PinningUI)}renderTitle(){return l.createElement(r.a.HeadingXL,{as:"h2",className:"kds-mb-04"},this.props.title)}renderAuthorInfo(){return l.createElement("div",{className:"kds-mb-03 kds-pb-03 flex type-14 items-start kds-border-b"},l.createElement("div",{className:"shrink0"},l.createElement(a.a,{size:8,imageUrl:this.props.authorAvatarUrl})),l.createElement("div",{className:"kds-ml-02"},l.createElement("div",null,l.createElement(r.a.HeadingMD,{as:"span",className:"kds-text-secondary"},this.props.authorName),l.createElement(i.a,{variant:"green",atoms:"kds-ml-02"},Object(o.b)("project_update."+this.props.authorRole))),l.createElement(r.a.BodySM,{as:"span",className:"kds-text-secondary"},this.props.publishedAt?Object(s.b)("LL",this.props.publishedAt):Object(o.b)("project_update.Not_published"))))}render(){return l.createElement(l.Fragment,null,this.renderSequenceInfo(),this.renderTitle(),this.renderAuthorInfo())}}},"2UXI":function(e,t,n){"use strict";n.d(t,"a",(function(){return D})),n.d(t,"c",(function(){return I})),n.d(t,"d",(function(){return P})),n.d(t,"e",(function(){return R})),n.d(t,"b",(function(){return F}));var a=n("MgNI"),i=n("o3IG"),r=n("ZCIj"),o=n("c6/r"),s=n("S1QU"),l=n("CjI4"),c=n("/AD1"),d=n("WjF9"),u=n("0VSk"),m=n("+2Rf"),p=n.n(m),b=n("yQm5"),h=n.n(b);const f=window.device_attributes||{};var g=n("aNAf");"true"===r.b.getItem("koala_debug")&&(window.koala_debug=!0);const _=e=>{const t=e.split("/");return t.length>=3?t[2]:""},k=()=>{const e=navigator.userAgent,t={is_ua_bot:f.isBot};var n;return{...(n={$os:f.osName,os_version:f.osVersion,$browser:f.browserName,browser_version:f.browserVersion,$referrer:document.referrer,$referring_domain:_(document.referrer),$device:f.deviceName,user_agent:e},Object.keys(n).reduce((e,t)=>{const a=n[t];return"string"==typeof a&&0!=a.length?{...e,[t]:a}:e},{})),...{$screen_height:screen.height,$screen_width:screen.width},...t}},E=(e,t)=>{const n={event:e,properties:{...k(),distinct_id:Object(g.a)(),...t}},a=JSON.stringify(n);return window.koala_debug&&(window.console.log("KOALA REQUEST:"),window.console.log(n)),p.a.ajax({type:"POST",url:window.koala_endpoint,data:a,contentType:"text/plain; charset=UTF-8"})};var v=E,y=(e,t,n)=>{p()(e).click((function(e){const a=this.href,i=2===e.which||e.metaKey||e.ctrlKey||"_blank"===this.target;let r;r="function"==typeof n?n(this):n;const o=new Promise((function(e){window.setTimeout(e,300),E(t,r).then(e)}));i||(o.then((function(){window.location=a})),e.preventDefault())}))};const S=e=>1e3*e.valueOf(),O=e=>e/36e5,N=e=>{if(e&&"function"==typeof e.get){const t=Object(i.b)("ref_"+e.get("id"));if(t)return Object(o.a)(t).split("?")[0]}return!1},C=a.maybe.fromNullable(Object(i.b)("user_analytics_properties")).map(JSON.parse).getOrElse({}),j=({user:e,referrerCredit:t,ip:n,ipDatacenter:a,iosAppUUID:i,enabledFeatures:r,windowAndScreenData:o})=>({...o,referrer_credit:t,client_type:p()("body.native-app-request").length?"native":"web",client_platform:p()("body.ios").length?"ios":p()("body.android").length?"android":void 0,device_format:p()("body.phone").length?"phone":p()("body.tablet").length?"tablet":"desktop",apple_pay_capable:p()("body.apple-pay-capable").length>0,android_pay_capable:p()("body.android-pay-capable").length>0,ip_address:n||null,ip_datacenter:a||null,user_logged_in:void 0!==e,user_chosen_currency:e?e.data.chosen_currency:null,user_uid:e&&"function"==typeof e.get?e.get("id"):null,iphone_uuid:i||void 0,enabled_features:Object.keys(r||{}),browser_language:u.default.browser_language,chosen_language:u.default.chosen_language,calculated_language:u.default.calculated_language,display_language:u.default.display_language,...C,mp_lib:"js"}),w=()=>({window_inner_width:window.innerWidth,window_inner_height:window.innerHeight,screen_width:screen.width,screen_height:screen.height,screen_avail_width:screen.availWidth,screen_avail_height:screen.availHeight}),I=(e,t)=>t?Object.keys(t).reduce((n,a)=>({...n,[`${e}_${a}`]:t[a]}),{}):{},T=({user:e,project:t,currentTime:n=new Date})=>{if(!t||"string"==typeof t)return{};const i="function"==typeof t.get?t.get():t,r=a.maybe.fromNullable(i.deadline).map(S).getOrElse(void 0),o=O(r-n)>0?O(r-n):0,s=i.pledged&&i.goal?i.pledged/i.goal:void 0,l={backers_count:i.backers_count,country:i.country,currency:i.currency,deadline:i.deadline,goal:i.goal,last_update_published_at:i.last_update_published_at,launched_at:i.launched_at,name:i.name,pid:i.id,pledged:i.pledged,profile_state:i.profile&&i.profile.state,state:i.state,updates_count:i.updates_count,hours_remaining:r&&o,percent_raised:s,has_video:void 0!==i.video?null!==i.video:void 0,duration:i.launched_at&&(c=a.maybe.fromNullable(i.launched_at).map(S).getOrElse(0)-a.maybe.fromNullable(i.launched_at).map(S).getOrElse(0),O(c)/24),rewards_count:i.rewards?i.rewards.count:void 0,location:i.location?i.location.name:void 0,category_name:i.category?i.category.name:void 0,parent_category:a.maybe.fromNullable(i.category).map(e=>e.parent?e.parent.name:e.name).getOrElse(void 0)};var c;return{...I("project",l),...{user_is_backer:i.is_backing,user_has_starred:i.is_starred,user_is_project_creator:e&&"function"==typeof e.get&&e.get("id")===i.creator.id},...{display_currency:i.current_currency,display_exchange_rate:i.fx_rate}}},A=e=>{if(!e||"string"==typeof e||"function"==typeof e.get&&(!e.get("amount")||!e.get("reward")))return{};const t="function"==typeof e.get?e.get():e,{amount:n,shipping_amount:a,location_id:i}=t,r={amount:n,shipping_amount:a,location_id:i},{estimated_delivery_on:o,id:s,minimum:l,reward:c,shipping_preference:d,shipping_enabled:u}=t.reward,m={...r,...I("reward",{estimated_delivery_on:o,id:s,minimum:l,reward:c,shipping_preference:d,shipping_enabled:u})};return I("checkout",m)},D=(e={})=>{const t=p()("body").attr("id"),n=h()().query(!0).ref,a=document.URL,i=d.a||window.current_user,r=s.a,o=l.a,u=window.current_ip,m=window.current_ip_datacenter,b=window.ios_app_uuid,f=window.enabled_features,g=e.withoutCurrentProject?null:c.a,_=window.current_variants&&"string"!=typeof window.current_variants?{current_variants:window.current_variants}:{},k=N(g);return{page_id:t,ref_tag:n,landing_page_url:a,...T({user:i,project:g,currentTime:e.currentTime}),...A(r),..._,...j({user:i,location:o,referrerCredit:k,ip:u,ipDatacenter:m,iosAppUUID:b,enabledFeatures:f,windowAndScreenData:w()})}},P=(e,t,n={})=>{const a={...D(n),...t};v(e,a)},R=(e,t,n,a={})=>{const i=d.a,r=a.withoutCurrentProject?null:c.a,o=l.a,s=window.current_ip,u=window.current_ip_datacenter,m=window.ios_app_uuid,b=window.enabled_features,h=N(r);window.setTimeout((function(){y(e,t,(function(e){let t=p()(e);return{selected_link:t.attr("data-original_text")?t.data("original_text"):p.a.trim(t.text()),page_id:p()("body").attr("id"),...T({user:i,project:r}),...j({user:i,location:o,referrerCredit:h,ip:s,ipDatacenter:u,iosAppUUID:m,enabledFeatures:b,windowAndScreenData:w()}),...n}}))}),1)},F=(...e)=>new Promise(t=>{setTimeout(()=>{P(...e),t()},300)});window&&(window.track=P)},"2gvo":function(e,t,n){"use strict";n.d(t,"a",(function(){return I})),n.d(t,"b",(function(){return P})),n.d(t,"c",(function(){return R}));var a={};n.r(a),n.d(a,"initializeData",(function(){return b})),n.d(a,"closeComponent",(function(){return h})),n.d(a,"selectOption",(function(){return f})),n.d(a,"fieldChange",(function(){return g})),n.d(a,"focusInput",(function(){return _})),n.d(a,"highlightOption",(function(){return k})),n.d(a,"keyDown",(function(){return E})),n.d(a,"selectedValueUpdated",(function(){return v})),n.d(a,"debounceFieldChange",(function(){return y}));var i=n("RBqt"),r=n("94td"),o=n("SmhT"),s=n("4+Ta"),l=n("/IHD"),c=n("X+my"),d=n("sEfC"),u=n.n(d),m=n("q1tI"),p=n("Z4QI");const b=(e,t)=>({type:"SEARCH_INPUT_INIT_DATA",optionValue:e,optionLabel:t}),h=()=>({type:"SEARCH_INPUT_CLOSE"}),f=(e,t)=>({type:"SEARCH_INPUT_OPTION_SELECT",optionValue:e,optionLabel:t}),g=e=>({type:"SEARCH_INPUT_FIELD_CHANGE",fieldValue:e}),_=()=>({type:"SEARCH_INPUT_FOCUS"}),k=(e,t)=>({type:"SEARCH_INPUT_OPTION_HIGHLIGHT",index:e,options:t}),E=(e,t)=>({type:"SEARCH_INPUT_KEY_DOWN",which:e,options:t}),v=e=>({type:"SEARCH_INPUT_SELECT_ON_VALUE_UPDATE",value:e}),y=e=>({type:"SEARCH_INPUT_DEBOUNCE_FIELD_CHANGE",fieldValue:e}),S=e=>"closed"===e.openState,O=e=>"open"===e.openState;var N=n("0fse");const C=(e,t,n)=>{const a={...t,highlightedIndex:null,openState:"closed",inputFieldValue:e.label,previousSelectedValue:{label:e.label,value:e.value},selectedValue:e.value};return Object(N.f)(a,N.a.action(n.selectedValueUpdated(e.value)))},j=(e,t,n,a)=>{const i=O(e)&&n.length>3,r=i?4:n.length,s=(t,a)=>{let s,l;switch(a){case o.b:s=null!==t?(t+1)%r:0,l=i&&s===r-1?e.selectedValue:n[s].value;break;case o.n:s=null!==t?(r+t-1)%r:r-1,l=i&&s===r-1?e.selectedValue:n[s].value;break;default:s=t,l=e.selectedValue}return{index:s,value:l,label:null!==s?n[s].label:""}},l={...e,isKeyboardEngaged:!0};switch(t){case o.b:if(0===n.length)return e;const{index:i,value:r,label:c}=s(e.highlightedIndex,t);return{...l,highlightedIndex:i,selectedValue:r,inputFieldValue:c};case o.c:if(null===e.highlightedIndex){const t=""===e.selectedValue?e.selectedValue:e.previousSelectedValue.value,n=""===e.selectedValue?"":e.previousSelectedValue.label;return{...l,openState:"closed",selectedValue:t,inputFieldValue:n}}const d=n[e.highlightedIndex];return O(e)&&3===e.highlightedIndex?{...l,openState:"expanded",selectedValue:d.value,inputFieldValue:d.label}:C(d,l,a);case o.d:return{...l,highlightedIndex:null,openState:"closed",selectedValue:e.previousSelectedValue.value,inputFieldValue:e.previousSelectedValue.label};case o.n:if(0===n.length)return e;const{index:u,value:m,label:p}=s(e.highlightedIndex,t);return{...l,highlightedIndex:u,selectedValue:m,inputFieldValue:p};default:return l}},w=u()((e,t)=>{t(e)},500),I=({state:e,dispatch:t,id:n,options:a,hasErrors:i,label:r,ariaLabel:o,...s})=>m.createElement(T,Object.assign({state:e,focusInput:()=>t(_()),closeComponent:()=>t(h()),onOptionSelect:(e,n)=>t(f(e,n)),onFieldChange:e=>{t(g(e)),w(e,e=>t(y(e)))},onOptionHighlight:(e,n)=>t(k(e,n)),onKeyDown:(e,n)=>t(E(e,n)),id:n,options:a,moreResultsString:s.moreResultsString,resultsString:s.resultsString,theme:s.theme,placeholder:s.placeholder,hasErrors:i},r&&{label:r},{ariaLabel:o})),T=({state:e,closeComponent:t,focusInput:n,id:a,moreResultsString:i=Object(r.b)("search_input.more_results"),onFieldChange:s,onKeyDown:l,onOptionHighlight:d,onOptionSelect:u,options:b,placeholder:h="",resultsString:f=(e=>Object(r.b)("search_input.results",{count:e})),theme:g=c.a,hasErrors:_=!1,label:k,ariaLabel:E})=>m.createElement("div",{onBlur:()=>{(e=>"expanded"===e.openState)(e)||t()}},m.createElement("div",{className:"relative"},m.createElement(p.a,Object.assign({},k&&{label:k},{"aria-label":E,id:a,autoComplete:"off",autoFocus:!S(e),placeholder:h,value:e.inputFieldValue,onChange:s,onFocus:n,onKeyDown:e=>((e,t)=>{if([o.n,o.b].includes(e)){if(t.altKey||t.shiftKey)return;t.preventDefault()}l(e,b)})(e.which,e),icon:"icon--search"},!S(e)&&{actionIcon:"icon--close"},{onAction:()=>{S(e)||t()},isInvalid:_})),!S(e)&&m.createElement(A,{key:"options-list",onOptionHighlight:d,onOptionSelect:u,highlightedIndex:e.highlightedIndex,moreResultsString:i,isOpen:O(e),options:b,resultsString:f,theme:g,isKeyboardEngaged:e.isKeyboardEngaged}))),A=({highlightedIndex:e,moreResultsString:t,isOpen:n,options:a,resultsString:r,theme:o,isKeyboardEngaged:s,onOptionSelect:c,onOptionHighlight:d})=>{const u=Object(l.a)("absolute","bg-white","border-"+o["primary-light"],"radius2px","mb10","mt1","p1","shadow-3","shadow-card","subhead-300","r0","l0"),p=r(a.length);return m.createElement("div",{className:"relative w100p z-dropdown-3"},m.createElement("div",{className:u},a.length>0?m.createElement("div",null,m.createElement(i.a,{type:"caption-200",atoms:["dark-grey-400","px2","pt1"]},p),m.createElement("ul",{style:{maxHeight:"19.8rem",overflowY:"scroll"},className:"relative"},(n?a.slice(0,3):a).map((t,n)=>m.createElement(D,{label:t.label,isHighlighted:e===n,key:`${n.toString()}-${t}`,onMouseDown:()=>c(t.value,t.label),onMouseOut:()=>d(null,a),onMouseOver:()=>d(n,a),isKeyboardEngaged:s})),n&&a.length>3&&m.createElement(D,{color:o["primary-dark"],label:t,isHighlighted:3===e,onMouseDown:()=>c(null,null),onMouseOut:()=>d(null,a),onMouseOver:()=>d(3,a),isKeyboardEngaged:s}))):m.createElement("ul",null,m.createElement(D,{label:p}))))},D=({color:e="soft-black",label:t,isHighlighted:n=!1,onMouseDown:a,onMouseOut:r,onMouseOver:o,isKeyboardEngaged:s=!1})=>{const c=Object(l.a)("body-100","flex","items-center","h6","lh3","pointer","px2","transition-all",e,n&&"bg-grey-400");return m.createElement("li",{className:c,onMouseDown:a,onMouseOver:o,onMouseOut:r,ref:e=>{e&&e.parentElement&&n&&s&&(e.parentElement.scrollTop=e.offsetTop+e.offsetHeight-e.parentElement.offsetHeight)}},m.createElement(i.a,{type:"body-100"},t))},P=(e="",t="")=>({highlightedIndex:null,openState:"closed",previousSelectedValue:{value:e,label:t},inputFieldValue:t,selectedValue:e,isKeyboardEngaged:!1}),R=Object(s.c)(I,(e=P(),t,n)=>{switch(t.type){case"SEARCH_INPUT_INIT_DATA":const a=null!==t.optionLabel?t.optionLabel:"",i=null!==t.optionValue?t.optionValue:"";return{...e,selectedValue:i,inputFieldValue:a,previousSelectedValue:{label:a,value:i}};case"SEARCH_INPUT_CLOSE":return{...e,highlightedIndex:null,openState:"closed",selectedValue:e.previousSelectedValue.value,inputFieldValue:e.previousSelectedValue.label};case"SEARCH_INPUT_FIELD_CHANGE":return{...e,highlightedIndex:null,inputFieldValue:t.fieldValue};case"SEARCH_INPUT_OPTION_SELECT":if(null===t.optionValue||null===t.optionLabel)return{...e,openState:"expanded"};const r={value:t.optionValue,label:t.optionLabel};return C(r,e,n);case"SEARCH_INPUT_FOCUS":return{...e,openState:"open",inputFieldValue:""};case"SEARCH_INPUT_OPTION_HIGHLIGHT":return{...e,highlightedIndex:t.index,inputFieldValue:null!==t.index?t.options[t.index].label:e.previousSelectedValue.label,isKeyboardEngaged:!1};case"SEARCH_INPUT_KEY_DOWN":return j(e,t.which,t.options,n);default:return e}},a)},"2hq0":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n("cPJV"),i=n.n(a),r=n("OBTA"),o=n.n(r),s=n("fupu"),l=n.n(s);const c=e=>parseInt(i()(e,"ZZ"),10);const d={"+02:00T":"CEST","+01:00F":"CET","+01:00T":"BST","-00:00F":"GMT","-03:00T":"ADT","-04:00F":"AST","-04:00T":"EDT","-05:00F":"EST","-05:00T":"CDT","-06:00F":"CST","-06:00T":"MDT","-07:00F":"MST","-07:00T":"PDT","-08:00F":"PST","-08:00T":"AKDT","-09:00F":"AKST","-09:00T":"HADT","-10:00F":"HAST","+11:00T":"AEDT","+10:00F":"AEST","+10:30T":"ACDT","+09:30F":"ACST","+09:00T":"AWDT","+08:00F":"AWST"},u=e=>{const t=i()(e,"Z")+(function(e){if(!l()(new Date(e)))throw"input is invalid";const t=c(e),n=c(o()(new Date(e),0)),a=c(o()(new Date(e),5));return t>n||t>a}(e)?"T":"F");if(void 0!==d[t])return d[t]},m=e=>(e=>{const t=e.toString().match(/\(([a-z]{3,4})\)/i);if(t)return t[1].toUpperCase()})(e)||u(e)||i()(e,"UTC Z")},"2nV0":function(e,t,n){"use strict";var a=n("lPcU");n.d(t,"a",(function(){return a.a}))},"2pL9":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("SmhT"),i=n("/IHD"),r=n("q1tI");class o extends r.Component{constructor(e){super(e),this.ref=void 0,this.timeoutID=void 0,this.state={isMenuOpen:!1},this.onClickOutside=e=>{var t,n;(null===(t=this.ref)||void 0===t||null===(n=t.current)||void 0===n?void 0:n.contains(e.target))||this.setState({isMenuOpen:!1})},this.onCloseMenu=()=>{this.setState({isMenuOpen:!1})},this.onOpenMenu=()=>{this.setState({isMenuOpen:!0})},this.onToggleMenu=()=>{this.state.isMenuOpen?this.onCloseMenu():this.onOpenMenu()},this.onBlur=()=>{this.props.stayOpen||(this.timeoutID=setTimeout(()=>{this.state.isMenuOpen&&this.onCloseMenu()},0))},this.onFocus=()=>{clearTimeout(this.timeoutID),this.state.isMenuOpen||this.onOpenMenu()},this.onKeyDown=e=>{e.keyCode===a.d&&this.onCloseMenu()},this.ref=r.createRef(),this.onClickOutside=this.onClickOutside.bind(this),document.addEventListener("mousedown",this.onClickOutside,!0)}render(){return r.createElement(r.Fragment,null,this.props.readOnlyValue?r.createElement("div",{className:"border p2"},this.props.readOnlyValue):r.createElement("div",{"data-test-id":this.props.dataTestId,ref:this.ref,role:"dialog",className:Object(i.a)("relative",...this.props.atoms?this.props.atoms:[]),onBlur:this.onBlur,onFocus:this.onFocus,onKeyDown:this.onKeyDown},this.props.label({isMenuOpen:this.state.isMenuOpen,onOpenMenu:this.onFocus,onCloseMenu:this.onBlur}),this.state.isMenuOpen&&this.props.dropdown({isMenuOpen:this.state.isMenuOpen,onCloseMenu:this.onBlur})))}}},"39MV":function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"a",(function(){return m}));var a=n("94td"),i=n("zm9w");const r=(e,t)=>e?Object(a.b)("project_page.reward.Pledge",{amount:t}):Object(a.b)("project_page.reward.Pledge_or_more",{amount:t}),o=(e,t,n)=>i.b.money(Number(e),{currency:t,type:"truncate_zeros",usd_type:n}),s=(e,t)=>e.find(e=>e.location.id===t),l=(e,t)=>e?0===t?Object(a.b)("project_page.reward.None_left"):Object(a.b)("project_page.reward.Quantity_left",{remainingQuantity:t,limit:e}):"",c=e=>e>1?e+"× ":"",d=e=>{const t=e.filter(e=>!!e.image).slice(0,3);return{items:t,remainder:e.length-t.length}},u=e=>{const t=[];e.forEach(e=>{t.join(", ").length>90||t.push(`${c(e.quantity)}${e.name}`)});const n=e.length-t.length;return{items:t,remainder:n}},m=e=>null===e?void 0:e},"3D3T":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("2DJ9"),i=n("q1tI"),r=n.n(i);const o=e=>{const{headers:t,rows:n,columns:o,mobileComponent:s,limit:l,limitItemsName:c,onExpandOrCollapse:d}=e,u=!!l&&n.length>l,[m,p]=Object(i.useState)(u?n.slice(0,l):n);if(Object(i.useEffect)(()=>{p(u?n.slice(0,l):n)},[n]),0===m.length)return null;const b=e=>{const n=0===e,a=e===t.length-1;return{borderTopLeftRadius:n?"4px":"0",borderBottomLeftRadius:n?"4px":"0",borderTopRightRadius:a?"4px":"0",borderBottomRightRadius:a?"4px":"0",...o&&o[e].width?{width:o[e].width+"%"}:{},...o&&o[e].align?{textAlign:o[e].align}:{}}},h=e=>({maxWidth:"1px",...o&&o[e].width?{width:o[e].width+"%"}:{},...o&&o[e].align?{textAlign:o[e].align}:{}});return r.a.createElement("div",{tabIndex:0,role:"group","aria-labelledby":"caption",className:"auto-scroll-x"},r.a.createElement("div",{className:""+(s&&"hide block-md")},r.a.createElement("div",{className:"border radius6px soft-black type-14"},r.a.createElement("table",{className:"w100p word-wrap"},r.a.createElement("caption",{className:"for-screenreader"},e.caption),r.a.createElement("thead",{className:e.headerClass},r.a.createElement("tr",null,t.map((e,t)=>r.a.createElement("th",{key:t,scope:"col",className:"py2 px5 bold border-bottom",style:b(t)},e)))),r.a.createElement("tbody",null,m.map((e,t)=>r.a.createElement("tr",{className:"hover-bg-grey-200 "+(m.length-1!==t||u?"border-bottom":""),key:t},e.map((e,t)=>r.a.createElement("td",{key:t,className:"py2 px5",style:h(t)},e)))))),u&&r.a.createElement("button",{className:"w100p type-14 py2 mt2 blue-500 hover-blue-500",onClick:()=>{d&&d(),p(m.length===n.length?n.slice(0,l):n)}},`${n.length===m.length?"Show less":"Show all"}${c?" "+c:""}`,r.a.createElement(a.a,{atoms:["ml1 fill-blue-500"],name:"icon--chevron-"+(n.length===m.length?"up":"down"),size:"14"})))),s&&r.a.createElement("div",{className:"hide-md"},s))}},"3Hbt":function(e,t,n){"use strict";n.r(t),n.d(t,"cancelDeleteCaption",(function(){return a})),n.d(t,"captionCreated",(function(){return i})),n.d(t,"captionDeleted",(function(){return r})),n.d(t,"closeShowingCaptions",(function(){return o})),n.d(t,"confirmDeleteCaption",(function(){return s})),n.d(t,"createCaptionResponse",(function(){return l})),n.d(t,"deleteCaptionResponse",(function(){return c})),n.d(t,"hydrateVideo",(function(){return d})),n.d(t,"importTrack",(function(){return u})),n.d(t,"importTrackResponse",(function(){return m})),n.d(t,"noopAction",(function(){return p})),n.d(t,"openShowingCaptions",(function(){return b})),n.d(t,"reloadCaptions",(function(){return h})),n.d(t,"reloadCaptionsResponse",(function(){return f})),n.d(t,"updateCaptionSelect",(function(){return g})),n.d(t,"videoUploaderInitialize",(function(){return _}));const a=()=>({type:"CANCEL_DELETE_CAPTION"}),i=(e,t)=>({type:"CAPTION_CREATED",availableLanguages:e,videoId:t}),r=()=>({type:"CAPTION_DELETED"}),o=()=>({type:"CLOSE_SHOWING_CAPTIONS"}),s=e=>({type:"CONFIRM_DELETE_CAPTION",captionId:e}),l=e=>({type:"CREATE_CAPTION_RESPONSE",response:e}),c=e=>({type:"DELETE_CAPTION_RESPONSE",response:e}),d=(e,t)=>({type:"HYDRATE_VIDEO",tracks:e,videoId:t}),u=(e,t)=>({type:"IMPORT_TRACK",fileInputId:e,trackTid:t}),m=e=>({type:"IMPORT_TRACK_RESPONSE",response:e}),p=()=>({type:"NOOP"}),b=()=>({type:"OPEN_SHOWING_CAPTIONS"}),h=()=>({type:"RELOAD_CAPTIONS"}),f=e=>({type:"RELOAD_CAPTIONS_RESPONSE",response:e}),g=e=>({type:"UPDATE_CAPTION_SELECT",option:e}),_=(e,t)=>({type:"VIDEO_UPLOADER_INITIALIZE",allCaptionLanguages:e,assetPath:t})},"4+Ta":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s}));var a=n("9jZ4"),i=n("/IHD");const r=e=>t=>(...n)=>({...t(...n),namespace:e}),o=e=>t=>Object(a.f)(r(e),t),s=(e,t,n)=>(a=Object(i.c)(),{Component:r=e,reducer:s=t,actions:l=n}={})=>{const c=(e=>(t,n)=>(a,i)=>{const r=void 0===a;return(i&&i.namespace)===e||r?t(a,i,n):a})(a),d=(e=>t=>n=>t({...n,namespace:e}))(a),u=o(a)(l);return{namespace:a,actions:u,reducer:c(s,u),Component:({dispatch:e,...t},n)=>r({dispatch:d(e),...t},n)}}},"4LGs":function(e,t,n){"use strict";function a(e,t){const n=`(?:${Object.keys(e).join("|")})`,a=RegExp(n),i=RegExp(n,"g");return a.test(t)?t.replace(i,t=>e[t]):t}n.d(t,"a",(function(){return a}))},"4sJn":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("q1tI");const i=({children:e,width:t,height:n,viewBox:i,atoms:r=[]})=>{const o=["inline-block","valign-middle"].concat(r).join(" ");return a.createElement("svg",{style:{fill:"currentColor"},className:o,xmlns:"http://www.w3.org/2000/svg",width:t,height:n,viewBox:i},e)}},"5FPU":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("tr1H"),i=n("mv45"),r=n("pj8f"),o=n("q1tI"),s=n("dkkr");const l=e=>t=>n=>{if(Object(i.g)(n)){const t=e(n);return n.error&&r.Honeybadger.notify(n.error,{context:{tags:a.a.POST_UPDATES},__RATE_LIMIT__:1}),o.createElement(s.b,{primaryText:t.primaryText,secondaryText:t.secondaryText})}return o.createElement(t,n)}},"5j0V":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("VX74");var a=n("DE4Y");n.d(t,"b",(function(){return a.K}));const i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateProjectUpdateRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"location"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ProjectUpdateRequestLocation"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createProjectUpdateRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"projectId"},value:{kind:"Variable",name:{kind:"Name",value:"projectId"}}},{kind:"ObjectField",name:{kind:"Name",value:"location"},value:{kind:"Variable",name:{kind:"Name",value:"location"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canUserRequestUpdate"}}]}}]}}]}}]}},"60hy":function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return m}));var a=n("qcI4"),i=n("MgNI"),r=n("K+Nk");const o=(e,t)=>{return(n=t,"string"==typeof n?i.result.Ok(n):i.result.Error(n)).chain(e=>i.result.try(()=>Object(r.a)(e))).map(e).getOrElse(t);var n},s=e=>new a.c(e),l=e=>new a.e(e),c=e=>new a.f(e),d=e=>o(c,e),u=e=>o(l,e),m=e=>o(s,e)},"6Oeb":function(e,t,n){"use strict";var a=n("q1tI"),i=n.n(a),r=n("2DJ9"),o=n("mEsB"),s=n("94td");t.a=({body:e,displayTooltip:t=!1})=>i.a.createElement("div",{className:"mb3 pb3 type-14 text-italic border-bottom border-grey-400 bold"},i.a.createElement("div",{className:""+(t&&"w90p inline-block")},'"',e,'"'),t&&i.a.createElement(o.a,{placement:"right",label:Object(s.b)("project_page.comments.This_is_a_quoted_comment")},i.a.createElement(r.a,{name:"icon--info",size:"16"})))},"6mVB":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("gN63");const i=(e,t)=>Object(a.c)(`\n  query ReloadImage($id: ID!) {\n    photoForEditor(id: $id) {\n      id\n      ... on Photo {\n        __typename\n        fingerprint\n        status\n        url(width: ${t})\n      }\n    }\n  }\n`,{id:e})},"6zsG":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var a=n("iuhU"),i=n("c5x8"),r=n("q1tI"),o=n.n(r),s=n("ZT9a");const l=({children:e,atoms:t,...n})=>{if(o.a.isValidElement(e)){const i=Object(a.b)(n.className,t,e.props.className);return o.a.cloneElement(e,{...n,...e.props,style:{...n.style,...e.props.style},className:i})}return o.a.Children.count(e)>1&&o.a.Children.only(null),null},c=(e,t,n=d)=>({asChild:a,atoms:r,...c})=>{var d;const u=a?l:e,m=n,p=Object(i.a)([...null!=r?r:[],...null!==(d=t.atoms)&&void 0!==d?d:[]]),b=Object(s.a)(t,c,{className:p});return a?o.a.createElement(l,b,c.children):o.a.createElement(m,Object.assign({},b,{as:u}))},d=({as:e,...t})=>o.a.createElement(e,t)},"7LsF":function(e,t,n){"use strict";n.d(t,"a",(function(){return O})),n.d(t,"d",(function(){return C})),n.d(t,"c",(function(){return j})),n.d(t,"b",(function(){return w}));var a={};n.r(a),n.d(a,"imageUploaderInitialize",(function(){return r})),n.d(a,"noopAction",(function(){return o}));var i=n("mm3F");const r=(e,t,n,a)=>({createGraphFunction:e,deleteGraphFunction:t,onDelete:a,onSuccess:n,type:"IMAGE_UPLOADER_INITIALIZE"}),o=()=>({type:"NOOP"});var s=n("d8sA"),l=n("0fse"),c=n("4+Ta"),d=n("94td"),u=n("GRmu"),m=n("6mVB");const p={error:Object(d.b)("library.ksr_json.Sorry_something_went_wrong_Weve_been_notified_and_are_looking")},b=(e,t)=>(n,a=Date.now())=>t(n).then(e=>{if(e.data.upload)return e.data.upload.image.id;throw new Error("Mutation not renamed to `upload`")}).then(t=>e.uploadProcessingStart(t,a)).catch(()=>e.uploadFileFailure()),h=e=>(t,n=680)=>Object(m.a)(t,n).then(n=>{if(!n.data)throw new Error("Received invalid data");const a=n.data.photoForEditor;if(a.fingerprint)return e.uploadSuccess(a);if("PROCESSING"===a.status||"SUCCESSFUL"===a.status&&null===a.fingerprint)return new Promise(e=>{setTimeout(e,1e3)}).then(()=>e.reloadAsset(t)).catch(()=>e.uploadFileFailure());if("FAILED"===a.status)return e.uploadFileFailure();throw new Error("Received invalid asset status: "+a.status)}).catch(()=>e.uploadFileFailure()),f=(e,t)=>n=>t(n).then(()=>e.uploadReset()).catch(()=>{return e=p,Object(u.a)(e),Object(i.noopAction)();var e});var g=(e={},t,n=j)=>{switch(t.namespace&&(n=Object(c.b)(t.namespace)(n)),t.type){case"IMAGE_UPLOADER_INITIALIZE":const{createGraphFunction:a,deleteGraphFunction:r,onSuccess:o,onDelete:s}=t;return Object(l.f)(e,l.a.action(n.uploadInitialize(((e,t,n=i.noopAction,a=i.noopAction,r=i.noopAction)=>({create:b(e,t),read:h(e),destroy:f(e,n),onSuccess:a,onDelete:r}))(n,a,r,o,s))));default:return e}},_=n("MTFr");const k={changeFile:Object(d.b)("uploaders.Change_image"),deleteFile:Object(d.b)("uploaders.Delete_image"),deletingFile:Object(d.b)("uploaders.Deleting_image"),uploadCta:Object(d.b)("uploaders.Drop_an_image_here_or_select_a_file"),uploadCtaMobile:Object(d.b)("uploaders.Upload_an_image"),feelFreeToMoveOn:Object(d.b)("uploaders.Feel_free_to_move_on_image"),validFileTypes:Object(d.b)("uploaders.It_must_be_a_valid_image_file_type")};var E=n("X+my"),v=n("q1tI"),y=n.n(v),S=n("qYa2");const O=({state:e,dispatch:t,theme:n=E.a,uploadLimit:a,BoundUploader:r=N})=>{const o={...e.imageUpload,...e.baseUpload};return y.a.createElement(r,{state:o,onDeleteAsset:()=>t(Object(i.deleteAsset)()),onDragLeave:()=>t(Object(i.fileDragEnded)()),onDragEnter:()=>t(Object(i.fileDragStarted)()),onDrop:e=>{t(Object(i.fileDragEnded)()),Object(S.a)(e)&&(e.preventDefault(),t(Object(i.uploadFileStart)(e.dataTransfer.files[0],t,a)))},onFileSelect:e=>t(Object(i.uploadFileStart)(e,t,a)),onUploadReset:()=>t(Object(i.uploadReset)()),onCloseDeleteAssetModal:()=>t(Object(i.closeDeleteAssetModal)()),onOpenDeleteAssetModal:()=>t(Object(i.openDeleteAssetModal)()),theme:n,uploadLimit:a})},N=Object(_.e)({EmptyState:({activeDragCounter:e,onDragLeave:t,onDragEnter:n,onDrop:a,onFileSelect:i,theme:r,uploadLimit:o})=>y.a.createElement(_.a,{activeDragCounter:e,iconName:"icon--image",maxFileSizeText:Object(d.b)("uploaders.no_larger_than_file_size",{megabytes:o.megabytes}),onDragLeave:t,onDragEnter:n,onDrop:a,onFileSelect:i,theme:r,copyOverrides:k}),ProcessingState:({isDeleting:e,onFileSelect:t,theme:n,timeElapsed:a})=>y.a.createElement(_.b,{isDeleting:e,onFileSelect:t,theme:n,timeElapsed:a,copyOverrides:k}),UploadSuccess:({onDeleteAsset:e,onFileSelect:t,onCloseDeleteAssetModal:n,onOpenDeleteAssetModal:a,state:i})=>{const{asset:r}=i;return y.a.createElement(_.c,{onCloseDeleteAssetModal:n,onOpenDeleteAssetModal:a,displayImageUrl:r.url,onFileSelect:t,onDeleteAsset:e,state:i,copyOverrides:k})}}),C=e=>Object(l.b)({baseUpload:Object(s.d)(e),imageUpload:g}),j={...i,...a},w=Object(c.c)(O,C,j)},"7Rpo":function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return b}));var a=n("KQqk"),i=n("mv45"),r=n("94td"),o=n("q1tI"),s=n("5FPU"),l=n("a8OY"),c=n("DI+Y");n("VX74"),n("DE4Y");const d={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CreatorInterview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CreatorInterview"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"answers"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"body"}},{kind:"Field",name:{kind:"Name",value:"question"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"body"}}]}}]}}]}}]}}]}}]}}]};const u=Object(i.c)(e=>{if(!e.data||!e.data.post)return Object(i.d)(e.data.error);const{answers:{nodes:t}}=e.data.post,n=t?t.filter(e=>e):[];return Object(i.l)({answers:n})}),m=Object(c.graphql)(d,u),p=e=>o.createElement(o.Fragment,null,e.answers.map((e,t)=>o.createElement("div",{key:t,className:"mb8"},o.createElement("h3",{className:"type-24 border-bottom border-ksr10-green display-inline mb0",style:{borderWidth:"3px",lineHeight:"3.8rem"}},e.question.body),o.createElement("div",{className:"pb3"}),o.createElement(a.a,{content:e.body})))),b=Object(i.a)(m,Object(s.a)(()=>({primaryText:Object(r.b)("new_creator_interview.Were_having_trouble_loading"),secondaryText:Object(r.b)("new_creator_interview.If_refreshing_this_page")})),l.b)(p)},"7kXS":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t)=>{const n=new FormData;return Object.keys(t).forEach(e=>{n.append(e,t[e])}),n.append("file",e),n}},"7v8y":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return p}));var a=n("iuhU"),i=n("q1tI"),r=n.n(i),o=n("ZT9a"),s=n("9jZ4");const l=["Heading2XL","HeadingXL"],c={Heading2XL:m("Heading2XL"),HeadingXL:m("HeadingXL"),HeadingLG:m("HeadingLG"),HeadingMD:m("HeadingMD"),HeadingSM:m("HeadingSM"),HeadingXS:m("HeadingXS"),BodySM:m("BodySM"),BodyMD:m("BodyMD"),BodyLG:m("BodyLG"),Button:m("Button"),Link:m("Link"),StandaloneLink:m("StandaloneLink")};function d({variant:e,as:t,responsive:n,...a}){const i=Object(s.d)(t)?"div":t;return r.a.createElement(i,Object.assign({},a,Object(o.a)(a,{className:p(e,n)})))}const u={Heading2XL:"kds-type-heading-2xl",HeadingXL:"kds-type-heading-xl",HeadingLG:"kds-type-heading-lg",HeadingMD:"kds-type-heading-md",HeadingSM:"kds-type-heading-sm",HeadingXS:"kds-type-heading-xs",BodySM:"kds-type-body-sm",BodyMD:"kds-type-body-md",BodyLG:"kds-type-body-lg",Button:"kds-type-button",Link:"kds-type-link",StandaloneLink:"kds-type-link-standalone"};function m(e){return function(e){l.includes(e)}(e),t=>r.a.createElement(d,Object.assign({},t,{variant:e}))}function p(e,t){const n=Object(a.b)(!0===t&&"md",!1===t&&"disabled")||void 0,i="string"==typeof t?t:n;return Object(a.b)("kds-type",u[e],i&&"is-responsive-"+i)}},"7xcP":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a=n("pTxv"),i=n("dDCb"),r=n("v9JK"),o=n("CgNg"),s=n("egyr"),l=n("mEsB"),c=n("94td"),d=n("GRmu"),u=n("0VSk"),m=n("q1tI"),p=n.n(m),b=(n("VX74"),n("DE4Y"));const h={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateBackingFlagging"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreateFlaggingInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createFlagging"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"flagging"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"kind"}}]}}]}}]}}]};var f=n("DI+Y"),g=n("mv45");const _=Object(g.b)(e=>({onBackingFlagging:t=>e.mutate({variables:{input:t}})})),k=Object(f.graphql)(h,_),E=()=>Object(d.a)({success:u.default.t("backer_removal.Our_Trust_Safety_team_will_review_your_request_and_email_you")}),v=k(({backingId:e,hasFlagging:t,removalRequestIsNonissue:n,onBackingFlagging:u})=>{const[h,f]=Object(m.useState)(!1),[g,_]=Object(m.useState)(!1),[k,v]=Object(m.useState)(!1),[y,S]=Object(m.useState)(null),[O,N]=Object(m.useState)(""),[C,j]=Object(m.useState)(!1),w=[{label:Object(c.b)("backer_removal.Abuse"),subheader:Object(c.b)("backer_removal.Personal_attacks_bigotry_or_threats"),constant:b.x.BACKING_ABUSE},{label:Object(c.b)("backer_removal.Doxxing"),subheader:Object(c.b)("backer_removal.Sharing_of_personal_information"),constant:b.x.BACKING_DOXXING},{label:Object(c.b)("backer_removal.Fraud"),subheader:Object(c.b)("backer_removal.Insincere_or_suspicious_backing"),constant:b.x.BACKING_FRAUD},{label:Object(c.b)("backer_removal.Spam"),subheader:Object(c.b)("backer_removal.Trolling_ads_or_redundant_comments"),constant:b.x.BACKING_SPAM}],I=p.a.createElement(a.b,{disabled:g||t,theme:"destroy",atoms:["px3"],onClick:()=>f(!0)},Object(c.b)("backer_removal.Remove_backer")),T=n?Object(c.b)("backer_removal.Kickstarter_decided_this_backer_has_not_violated"):Object(c.b)("backer_removal.Our_Trust_Safety_team_is_reviewing_your_request"),A=!y||O.length<140||k;return p.a.createElement(p.a.Fragment,null,h&&p.a.createElement(r.a,{size:"large",viewportHeight:"80",onClose:()=>f(!1),headerCopy:Object(c.b)("backer_removal.Why_would_you_like_to_remove_this_backer")},p.a.createElement("div",{className:"mb4"},p.a.createElement("div",{className:"create-700 type-14 pb1 mt3"},p.a.createElement(c.a,{i18nKey:"backer_removal.Our_Trust_Safety_team_will_review_your_request",guidelinesLink:p.a.createElement("a",{href:"/help/community",className:"text-underline create-700"},p.a.createElement(c.a,{i18nKey:"backer_removal.Read_our_community_guidelines"}))})),p.a.createElement(o.b,{inputValue:O,type:"text",placeholder:Object(c.b)("backer_removal.Id_like_to_remove_this_backer_because"),onChange:N,id:"backer-removal-reason",minRows:3,atoms:["w100p"]}),p.a.createElement("div",{className:"type-12 support-400 text-left pt1"},Object(c.b)("backer_removal.Enter_at_least_140_characters")),p.a.createElement("div",{className:"create-700 type-14 pb2 mt3"},Object(c.b)("backer_removal.Which_best_describes_the_reason")),w.map(e=>p.a.createElement("div",{className:"pointer flex mr4",role:"radio",key:"backer-removal-reason-"+e.label,"aria-checked":y===e.label,onClick:()=>S(e.constant),tabIndex:0,"data-reason":e.constant,id:e.label},p.a.createElement("input",{className:"super-hide",type:"radio",checked:y===e.label,"aria-checked":y===e.label,value:e.constant,onChange:()=>S(e.constant)}),p.a.createElement(i.a,{isSelected:y===e.constant}),p.a.createElement("label",{className:"mb3"},p.a.createElement("div",{className:"create-700 mr1 type-14 text-left"},e.label),p.a.createElement("div",{className:"type-13 text-left"},e.subheader))))),p.a.createElement(a.b,{disabled:A,theme:"support",atoms:["px10","w100p","mt1"],onClick:t=>{t.preventDefault(),v(!0),null!==y&&u({contentId:e,details:O,kind:y}).then(()=>{v(!1),f(!1),_(!0),E()}).catch(()=>{v(!1),f(!1),Object(d.a)({error:Object(c.b)("backer_removal.We_had_trouble_submitting_your_request")})})}},k?p.a.createElement(s.a,null):Object(c.b)("backer_removal.Submit_request")),p.a.createElement("div",{className:"type-12 support-400 mt4 text-center"},Object(c.b)("backer_removal.This_backers_comments_are_hidden")),p.a.createElement("div",{className:"type-12 support-400 text-center"},Object(c.b)("backer_removal.Only_the_author_can_see_them"))),p.a.createElement("div",{className:"w25"},t||g?p.a.createElement(l.a,{label:T,placement:"top",open:C,focusWithin:!0},p.a.createElement("div",{onPointerEnter:()=>j(!0),onPointerLeave:()=>j(!1)},I)):I))})},"8Np1":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("q1tI");const i={helvetica:{sizes:{"headline-500":"type-38 type-48-sm type-60-md type-100-lg","headline-400":"type-38 type-48-sm type-60-md type-80-lg","headline-300":"type-21 type-38-md type-48-lg","headline-200":"type-24 type-28-md type-38-lg","headline-100":"type-21 type-24-md type-28-lg","subhead-600":"type-18 type-21-md","subhead-500":"type-16 type-21-md","subhead-400":"type-14 type-21-md","subhead-300":"type-16 type-18-md","subhead-200":"type-14 type-18-md","body-200":"type-14 type-16-md","body-100":"type-13 type-14-md","caption-200":"type-12 type-13-md","caption-100":"type-12"},variants:{italic:"text-italic"},weights:{light:"light",normal:"normal",medium:"medium",semibold:"semibold",bold:"bold"}}},r=({atoms:e=[],children:t,color:n,font:r=i.helvetica,italic:o=!1,level:s,style:l,tag:c="span",type:d,weight:u,role:m})=>{const p=s?"h"+s:c,b=(d?[r.sizes[d]]:[]).concat(n?[n]:[]).concat(o?[r.variants.italic]:[]).concat(u?[r.weights[u]]:[]).concat(e).join(" ");return a.createElement(p,{style:l,className:b,role:m,"aria-level":s},t)}},"8ZZx":function(e,t,n){"use strict";n.d(t,"a",(function(){return A}));var a=n("pTxv"),i=n("3D3T"),r=n("2DJ9"),o=n("daZV"),s=n("mv45"),l=n("94td"),c=n("gN63"),d=n("zm9w"),u=n("dkkr"),m=n("5FPU"),p=n("a8OY"),b=n("JhfJ"),h=n("vtU4"),f=n("q1tI"),g=n("DI+Y"),_=n("1eGs");const k=(e,{fetchMoreResult:t})=>{var n,a;const i=(null==e||null===(n=e.project)||void 0===n?void 0:n.posts)||[],r=(null==t||null===(a=t.project)||void 0===a?void 0:a.posts)||[];return 0===r.length?e:{...e,project:{...e.project,posts:{...e.project&&e.project.posts,edges:[...i.edges,...r.edges],pageInfo:r&&r.pageInfo}}}},E=Object(s.c)(e=>{if(!e.data||!e.data.project)return Object(s.d)(e.data.error);const{posts:t}=e.data.project,n=t?t.pageInfo.endCursor:null,a=!!t&&t.pageInfo.hasNextPage,{state:i,projectSlug:r}=e.ownProps,o=(l=t&&t.edges)?l.map(e=>e&&e.node).filter(e=>e):[];var l;const c=o.length,d=t&&t.totalCount||0;return Object(s.l)({posts:o,isFetchingMorePosts:e.data.loading,hasNextPage:a,postsShowing:c,totalPosts:d,fetchMorePosts:()=>e.data.fetchMore({query:_.c,variables:{cursor:n,state:i,projectSlug:r},updateQuery:k})})}),v=Object(g.graphql)(_.c,E),y=e=>{const{type:t,isEditable:n,projectCreator:a,projectSlug:i,postId:o,title:s}=e;return f.createElement("h2",{className:"type-16 mb1 mb0-md text-truncate"},f.createElement("a",{href:n?t===_.a.CreatorInterview?h.b.EDIT_CREATOR_INTERVIEW.url(a,i,o):h.b.EDIT_FREEFORM_POST.url(a,i,o):h.b.VIEW_POST.url(a,i,o),className:"soft-black bold hover-text-underline"},n&&f.createElement(r.a,{atoms:["fill-soft-black","pr2"],size:"36",name:"icon--pencil"}),s||Object(l.b)("project_updates.Untitled")))},S=e=>d.b.time_ago_in_words(e);class O extends f.Component{constructor(e){super(e),this.removePostFromList=e=>{this.setState({posts:this.state.posts.filter(t=>t.id!==e),totalPosts:this.state.totalPosts-1,postsShowing:this.state.postsShowing-1})},this.handleDelete=e=>{confirm(Object(l.b)("project_updates.Are_you_sure_you_want_to_delete_draft"))&&this.props.onDeletePost({id:e}).then(()=>{this.removePostFromList(e)})},this.renderDeleteButton=e=>f.createElement("div",{className:"text-right"},f.createElement("button",{className:"red-500 type-14",onClick:()=>this.handleDelete(e)},"Delete")),this.state={posts:this.props.posts,postsShowing:this.props.postsShowing,totalPosts:this.props.totalPosts}}componentDidUpdate(e){e.posts!==this.props.posts&&this.setState({posts:this.props.posts,postsShowing:this.props.postsShowing,totalPosts:this.props.totalPosts})}renderPagination(){return f.createElement(o.a,{buttonI18nKey:"project_updates.Load_more",remainingI18nKey:"project_updates.Showing_x_of_y_updates",totalCount:this.state.totalPosts,showingCount:this.state.postsShowing,pageSize:20,onClick:this.props.fetchMorePosts,loading:this.props.isFetchingMorePosts,hasMorePages:this.props.hasNextPage,atoms:["py6","w25p-md","m-auto","theme--support"]})}renderMobilePosts(){return f.createElement("ul",null,this.state.posts.map((e,t)=>f.createElement("li",{key:e.id,className:"pb3 mb3 border-bottom"},f.createElement(y,{key:"title-"+t,type:e.type,title:e.title,postId:Object(c.a)(e.id),isEditable:e.actions.edit,projectCreator:this.props.projectCreator,projectSlug:this.props.projectSlug}),f.createElement("div",{className:"flex items-center"},f.createElement("div",{className:"flex items-center mr3"},f.createElement(r.a,{size:"medium",name:"icon--calendar"}),f.createElement("span",{className:"ml1"},S(e.createdAt))),this.renderDeleteButton(e.id)))))}renderEmptyState(){return f.createElement(u.a,{primaryText:Object(l.b)("project_updates.You_havent_saved_any_drafts"),secondaryText:Object(l.b)("project_updates.Use_this_space_as_a_journal"),buttonText:Object(l.b)("project_updates.Post_a_new_update"),buttonUrl:h.b.NEW_FREEFORM_POST.url(this.props.projectCreator,this.props.projectSlug)})}renderDataTable(){return f.createElement(f.Fragment,null,f.createElement(i.a,{caption:Object(l.b)("project_updates.Draft_Posts"),headers:[Object(l.b)("project_updates.Title"),Object(l.b)("project_updates.Last_edit"),Object(l.b)("project_updates.Action")],columns:[{width:65,align:"left"},{width:15,align:"left"},{width:10,align:"right"}],rows:this.state.posts.map((e,t)=>[f.createElement(y,{key:"title-"+t,type:e.type,title:e.title,postId:Object(c.a)(e.id),isEditable:e.actions.edit,projectCreator:this.props.projectCreator,projectSlug:this.props.projectSlug}),S(e.createdAt),this.renderDeleteButton(e.id)]),mobileComponent:this.renderMobilePosts()}),this.renderPagination())}render(){return f.createElement(f.Fragment,null,f.createElement("div",{className:"flex mb2 justify-between items-baseline"},f.createElement("h1",{className:"type-18 text-normal"},Object(l.b)("project_updates.Drafts")),this.state.posts.length>0&&f.createElement(a.b,{theme:"support",href:h.b.NEW_FREEFORM_POST.url(this.props.projectCreator,this.props.projectSlug)},Object(l.b)("project_updates.Post_a_new_update"))),0===this.state.posts.length?this.renderEmptyState():this.renderDataTable())}}const N=Object(s.a)(b.a,v,Object(m.a)(()=>({primaryText:Object(l.b)("new_project_update.Updates_are_disabled"),secondaryText:Object(l.b)("new_project_update.This_project_is_hidden_suspended")})),p.b)(O);var C=n("1OuE"),j=n("XfPQ"),w=n("zjD3");class I extends f.Component{constructor(...e){super(...e),this.state={likersModalId:"",likersModalShowing:!1}}renderMobilePosts(){return f.createElement("ul",null,this.props.posts.map(e=>f.createElement("li",{key:e.id,className:"pb3 mb3 border-bottom"},f.createElement(y,{title:e.title,type:e.type,postId:Object(c.a)(e.id),isEditable:e.actions.edit,projectCreator:this.props.projectCreator,projectSlug:this.props.projectSlug}),f.createElement("div",{className:"flex items-center"},f.createElement("div",{className:"flex items-center mr3"},f.createElement(r.a,{size:"medium",name:"icon--calendar"}),f.createElement("span",{className:"ml1"},Object(C.b)("MM/DD/YYYY",e.publishedAt))),f.createElement("div",{className:"flex items-center mr3"},f.createElement(r.a,{size:"medium",name:"icon--heart"}),f.createElement("span",{className:"ml1"},Object(w.a)(e.likesCount))),f.createElement("div",{className:"flex items-center"},f.createElement(r.a,{size:"medium",name:"icon--message"}),f.createElement("span",{className:"ml1"},Object(w.a)(e.commentsCount)))))))}renderPagination(){return f.createElement(o.a,{buttonI18nKey:"project_updates.Load_more",remainingI18nKey:"project_updates.Showing_x_of_y_updates",totalCount:this.props.totalPosts,showingCount:this.props.postsShowing,pageSize:20,onClick:this.props.fetchMorePosts,loading:this.props.isFetchingMorePosts,hasMorePages:this.props.hasNextPage,atoms:["py6","w25p-md","m-auto","theme--support"]})}renderEmptyState(){return f.createElement(u.a,{primaryText:Object(l.b)("project_updates.You_havent_published_an_update"),secondaryText:Object(l.b)("project_updates.Say_hello_share_some_news"),buttonText:Object(l.b)("project_updates.Post_a_new_update"),buttonUrl:h.b.NEW_FREEFORM_POST.url(this.props.projectCreator,this.props.projectSlug)})}renderLikeCount(e,t,n){return"-"===n?n:f.createElement("button",{className:"type-14 soft-black hover-ksr-green-400 hover-text-underline",onClick:()=>{this.setState({likersModalId:e,likersModalShowing:!0})}},n)}renderDataTable(){return f.createElement(f.Fragment,null,f.createElement(i.a,{caption:Object(l.b)("project_updates.Published_Posts"),headers:[Object(l.b)("project_updates.Title"),Object(l.b)("project_updates.Published_date"),Object(l.b)("project_updates.Likes"),Object(l.b)("project_updates.Comments")],columns:[{width:61,align:"left"},{width:25,align:"left"},{width:7,align:"right"},{width:7,align:"right"}],rows:this.props.posts.map((e,t)=>[f.createElement(y,{key:"title-"+t,type:e.type,title:e.title,postId:Object(c.a)(e.id),isEditable:e.actions.edit,projectCreator:this.props.projectCreator,projectSlug:this.props.projectSlug}),Object(C.b)("MMMM D, YYYY",e.publishedAt),this.renderLikeCount(e.id,e.type,Object(w.a)(e.likesCount)),Object(w.a)(e.commentsCount)]),mobileComponent:this.renderMobilePosts()}),this.renderPagination())}render(){return f.createElement(f.Fragment,null,f.createElement("h1",{className:"type-18 text-normal mb4"},Object(l.b)("project_updates.Published")),0===this.props.posts.length?this.renderEmptyState():this.renderDataTable(),this.state.likersModalShowing&&f.createElement(j.a,{id:this.state.likersModalId,onClose:()=>this.setState({likersModalId:null,likersModalShowing:!1})}))}}const T={path:"/projects/:projectCreator/:projectSlug/posts_dashboard",url:(e,t)=>`/projects/${e}/${t}/posts_dashboard`},A={POSTS_DASHBOARD:T,PUBLISHED_POSTS:{Component:Object(s.a)(v,Object(m.a)(()=>({primaryText:Object(l.b)("new_project_update.Updates_are_disabled"),secondaryText:Object(l.b)("new_project_update.This_project_is_hidden_suspended")})),p.b)(I),path:T.path+"/published",url:(e,t)=>`/projects/${e}/${t}/posts_dashboard/published`},DRAFT_POSTS:{Component:N,path:T.path+"/drafts",url:(e,t)=>`/projects/${e}/${t}/posts_dashboard/drafts`}}},"8oY9":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("q1tI"),i=n.n(a),r=n("/IHD");const o=({label:e,id:t,errors:n,atoms:a,required:o})=>{const s=Object(r.a)("atomic-text-label",n&&n.length>0&&"atomic-text-label--errored",a);return i.a.createElement("label",{htmlFor:t,className:s},e,o&&i.a.createElement("span",{className:"celebrate-700"},"*"))}},"94td":function(e,t,n){"use strict";n.d(t,"d",(function(){return a.a})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return s.e})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return u}));var a=n("XM0S"),i=n("9jZ4"),r=n("q1tI"),o=n.n(r),s=n("+DSo");class l extends o.a.Component{shouldComponentUpdate(e){return!Object(i.j)(e,this.props)}render(){const{i18nKey:e,i18nTag:t="span",...n}=this.props;let a=this.props.atoms||[],i=Object(s.c)(window.I18n,e,n);void 0===i&&(i=Object(s.d)(e),a=a.concat(["translation_missing"]),n.debug&&window.console.log("I18n key is missing: ",e));const r=i.split(s.b).reduce((e,t,a)=>{const i=a%2==0?t:n[t];return e.concat([i])},[]),l=a.length>0?{className:a.join(" ")}:{};return o.a.createElement(t,{...l},...r)}}l.withCommonPrefix=e=>({i18nKey:t,...n})=>{if(!e)throw new Error("commonPrefix not provided for Translate component");return o.a.createElement(l,Object.assign({},n,{i18nKey:`${e}${t}`}))};var c=l;const d=window.I18n.locale,u=(...e)=>Object(a.a)(window.I18n,...e)},97:function(e,t,n){n("bZMm"),n("LSZE"),n("ls82"),n("3Siy"),n("Wr5T"),n("U3M1"),e.exports=n("fivf")},"9jZ4":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"f",(function(){return r})),n.d(t,"g",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"i",(function(){return c})),n.d(t,"h",(function(){return d})),n.d(t,"j",(function(){return u})),n.d(t,"a",(function(){return m}));const a=(e,t)=>Object.keys(t).reduce((n,a)=>e(a,t[a])?{...n,[a]:t[a]}:n,{}),i=e=>e.reduce((e,[t,n])=>({...e,[t]:n}),{}),r=(e,t)=>Object.keys(t).reduce((n,a)=>({...n,[a]:e(t[a])}),{}),o=(e,t)=>Object.assign({},...Object.keys(t).map(n=>e.includes(n)?null:{[n]:t[n]})),s=e=>{for(const t in e)return!1;return!0},l=e=>!s(e),c=e=>t=>t[e],d=e=>t=>e.reduce((e,t)=>e[t],t),u=(e,t)=>{if(Object.is(e,t))return!0;if("object"!=typeof e||null===t||"object"!=typeof e||null===t)return!1;if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(const a of n)if(!Object.prototype.hasOwnProperty.call(t,a)||!Object.is(e[a],t[a]))return!1;return!0};function m(e){return Object.entries(e)}},"9mow":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("/IHD"),i=n("hPy8"),r=n("q1tI"),o=n.n(r);const s=e=>{const{className:t,dataTestId:n,disabled:s,href:l,target:c,tooltip:d,type:u,...m}=e,p=Object(r.useContext)(i.d),b=e.href?"a":"button";let h,f;l?(h={href:l,target:c},f=p.link.atoms):(h={type:u,disabled:s},f=p.form.atoms);const g=Object(a.a)(t,f);return o.a.createElement(b,Object.assign({className:g,"data-tooltip":d,"data-test-id":n},h,m))}},CKbS:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var a=n("UYTu"),i=n("YToL");const r={commentInfo:a.a`
    fragment CommentInfo on Comment {
      id
      body
      createdAt
      parentId
      author {
        id
        imageUrl(width: 200)
        name
        url
        isBlocked
      }
      removedPerGuidelines
      authorBadges
      canReport
      canDelete
      canPin
      hasFlaggings
      deletedAuthor
      deleted
      sustained
      pinnedAt
      authorCanceledPledge
      authorBacking {
        backingUrl
        id
      }
    }
  `,commentReplies:a.a`
    fragment CommentReplies on Comment {
      replies(last: ${i.c.REPLIES}, before: $replyCursor) {
        totalCount
        nodes {
          ...CommentInfo
        }
        pageInfo {
          startCursor
          hasPreviousPage
        }
      }
    }
  `},o=a.a`
  query CommentsQuery(
    $commentableId: ID!
    $nextCursor: String
    $previousCursor: String
    $replyCursor: String
    $first: Int
    $last: Int
  ) {
    commentable: node(id: $commentableId) {
      id
      ... on Project {
        url
      }
      ... on Commentable {
        canComment
        canCommentSansRestrictions
        commentsCount
        projectRelayId
        canUserRequestUpdate
        comments(
          first: $first
          last: $last
          after: $nextCursor
          before: $previousCursor
        ) @connection(key: "comments") {
          edges {
            node {
              ...CommentInfo
              ...CommentReplies
            }
          }
          pageInfo {
            startCursor
            hasNextPage
            hasPreviousPage
            endCursor
          }
        }
      }
    }
    me {
      id
      name
      imageUrl(width: 200)
      isKsrAdmin
      url
      isBlocked
      userRestrictions {
        restriction
        releaseAt
      }
    }
  }
  ${r.commentInfo}
  ${r.commentReplies}
`,s=a.a`
  query CommentWithReplies($id: ID!, $replyCursor: String) {
    node(id: $id) {
      ...CommentInfo
      ...CommentReplies
    }
  }
  ${r.commentInfo}
  ${r.commentReplies}
`;a.a`
  query CommentsCount($commentableId: ID!) {
    commentable: node(id: $commentableId) {
      commentsCount
    }
  }
`},CPM0:function(e,t,n){"use strict";var a=n("q1tI"),i=n.n(a),r=n("pQ8y");t.a=({enter:e="fade-in",leave:t="fade-out",appear:n,open:a=!0,duration:o=300,durationLeave:s,durationAppear:l,component:c="div",mountOnEnter:d=!0,unmountOnExit:u=!0,children:m})=>{const p=c||i.a.Fragment;return i.a.createElement(r.a,{in:a,appear:!!n,timeout:{enter:o,exit:s||o,appear:l||o},classNames:{appear:"animation-"+(l||o),appearActive:"animation-"+(n||e),enter:"animation-"+o,enterActive:"animation-"+e,exit:"animation-"+(s||o),exitActive:"animation-"+t},mountOnEnter:d,unmountOnExit:u},i.a.createElement(p,null,m))}},CgNg:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return g}));var a=n("RBqt"),i=n("CPM0"),r=n("/IHD"),o=n("IVac"),s=n("q1tI"),l=n("O6Fj"),c=n.n(l);const d=({charLimit:e,inputValue:t})=>{const n=t?t.toString().length:0,i=n===e?"create-700":"dark-grey-500";return s.createElement("div",null,s.createElement(a.a,{type:"caption-200",atoms:[i]},n),s.createElement(a.a,{type:"caption-200",atoms:["dark-grey-500"]},"/"),s.createElement(a.a,{type:"caption-200",atoms:["dark-grey-500"]},e))},u=({text:e})=>s.createElement(a.a,{atoms:["dark-grey-500","ml-auto"],type:"caption-200"},e),m=({text:e})=>s.createElement(a.a,{type:"caption-200",atoms:["create-700"]},e),p=({text:e})=>s.createElement(a.a,{type:"caption-200",atoms:["support-400","pr3"]},e),b=({children:e,htmlFor:t,state:n})=>{const a=Object(r.a)("atomic-text-label",Object(o.d)(n,t)&&"atomic-text-label--errored");return s.createElement("label",{htmlFor:t,className:a},e)},h=({children:e,htmlFor:t,fixedLabelPosition:n="LEFT",atoms:a,width:i})=>{const r=a&&a.join(" ");return s.createElement("label",{htmlFor:t,className:`${"RIGHT"===n?"atomic-text-label-fixed-right":"atomic-text-label-fixed"} ${r}`,style:{width:i+"rem"}},e)},f=({ariaLabel:e,ariaLabelledBy:t,autoComplete:n,atoms:i=[],autoExpandable:o,autoFocus:l,charLimit:d,children:u,currentFocus:m,disabled:p,disclaimer:b,feedback:f,fixedLabel:k,fixedLabelPosition:E="LEFT",hasErrors:v,id:y,inputAtoms:S=[],inputValue:O,label:N,max:C,min:j,minRows:w,mobileCta:I,name:T,onBlur:A,onChange:D,onFocus:P,onKeyDown:R,placeholder:F,required:L,step:M,styles:x,type:U="text",updateClientOnFocus:V,fixedLabelAtoms:B=[],warning:H,fixedLabelWidth:Y,inputFixedLabelPadding:G=.8})=>{const q=m===y,K=Object(r.a)(i);let z={};if(k&&Y){let e=Y+G;z="RIGHT"===E?{paddingRight:e+"rem"}:{paddingLeft:e+"rem"}}const W={"aria-label":e,"aria-labelledby":t,autoComplete:n,autoFocus:l,"aria-required":L,className:Object(r.a)("atomic-text-input",...S,v&&"has-errors",k&&"LEFT"===E?"atomic-text-input-prefixed":k&&"atomic-text-input-prefixed-right",H&&"warning"),disabled:p,id:y,maxLength:d,name:T,onBlur:e=>{V&&V(null),A&&A(e)},onChange:e=>((e,t)=>{if(!D)return;const n=e.target.value;(t&&n.length<=t||!t)&&D(n,e)})(e,d),onFocus:e=>{V&&V(y),P&&P(e)},onKeyDown:e=>R&&R(e.which,e),onWheel:e=>{"number"===U&&e.target.blur()},placeholder:F,value:O,style:x,required:L},$="number"===U?{min:j,max:C,step:M}:{},Z={...W,type:U,...$},J={...W,rows:w||1};return m===y&&k&&B.push("focus"),H&&k&&B.push("warning"),s.createElement("div",{className:K},(N||b)&&s.createElement(g,{mobileCta:I,disclaimer:b,id:y,label:N,usesFixedLabel:!!k}),s.createElement("div",{className:"relative smart-input-group"},k&&s.createElement(h,{htmlFor:y,fixedLabelPosition:E,atoms:B,width:Y},s.createElement(a.a,{type:"caption-200"},k)),o&&s.createElement(c.a,J),w&&!o&&s.createElement("textarea",J),!w&&!o&&s.createElement("input",Object.assign({},Z,{style:{...x,...z}}))),s.createElement(_,{children:u,charLimit:d,feedback:f,hasErrors:v,inputValue:O,showInputFooter:q,warning:H}))},g=({mobileCta:e,disclaimer:t,id:n,label:i,usesFixedLabel:r=!1})=>{const o=t?s.createElement(u,{text:t}):null,l=s.createElement(a.a,{atoms:["soft-black"],type:"body-100",weight:"medium"},i);let c=null;return i&&r?c=l:i&&!r&&(c=s.createElement(b,{htmlFor:n},l)),e?s.createElement("div",{className:"mb1"},s.createElement("div",{className:"flex justify-between hide-md"},s.createElement("div",null,c,o),s.createElement("div",null,e)),s.createElement("div",{className:"hide items-baseline flex-md"},c,o)):s.createElement("div",{className:"flex items-baseline mb1"},c,o)},_=({children:e,charLimit:t,feedback:n,hasErrors:a,inputValue:o,showInputFooter:l,warning:c})=>{const u=Object(r.a)("h5",!c&&"clip","absolute","l0","t0","w100p");return s.createElement("div",{className:"relative w100p"},s.createElement("div",{className:u},s.createElement("div",{className:"absolute l0 t1 w100p"},s.createElement(i.a,{enter:"fade-in-and-down",leave:"fade-out-and-up",open:l},s.createElement("div",{className:"flex justify-between items-baseline"},s.createElement("div",null,!a&&c&&s.createElement(p,{text:c}),!a&&!c&&n&&s.createElement(m,{text:n})),t&&s.createElement(d,{charLimit:t,inputValue:o})))),a&&e&&s.createElement("div",{className:"absolute l0 t1 w100p"},e)))}},CjI4:function(e,t,n){"use strict";var a=n("60hy");const i=Object(a.b)(window.current_location);window.current_location=i,t.a=i},DE4Y:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"j",(function(){return m})),n.d(t,"k",(function(){return p})),n.d(t,"l",(function(){return b})),n.d(t,"m",(function(){return h})),n.d(t,"n",(function(){return f})),n.d(t,"o",(function(){return g})),n.d(t,"p",(function(){return _})),n.d(t,"q",(function(){return k})),n.d(t,"r",(function(){return E})),n.d(t,"s",(function(){return v})),n.d(t,"t",(function(){return y})),n.d(t,"u",(function(){return S})),n.d(t,"v",(function(){return O})),n.d(t,"w",(function(){return N})),n.d(t,"x",(function(){return C})),n.d(t,"y",(function(){return j})),n.d(t,"z",(function(){return w})),n.d(t,"A",(function(){return I})),n.d(t,"B",(function(){return T})),n.d(t,"C",(function(){return A})),n.d(t,"D",(function(){return D})),n.d(t,"E",(function(){return P})),n.d(t,"F",(function(){return R})),n.d(t,"G",(function(){return F})),n.d(t,"H",(function(){return L})),n.d(t,"I",(function(){return M})),n.d(t,"J",(function(){return x})),n.d(t,"K",(function(){return U})),n.d(t,"L",(function(){return V})),n.d(t,"M",(function(){return B})),n.d(t,"N",(function(){return H})),n.d(t,"O",(function(){return Y})),n.d(t,"P",(function(){return G})),n.d(t,"Q",(function(){return q})),n.d(t,"R",(function(){return K})),n.d(t,"S",(function(){return z})),n.d(t,"T",(function(){return W})),n.d(t,"U",(function(){return $})),n.d(t,"V",(function(){return Z})),n.d(t,"W",(function(){return J})),n.d(t,"X",(function(){return X})),n.d(t,"Y",(function(){return Q})),n.d(t,"Z",(function(){return ee})),n.d(t,"ab",(function(){return te})),n.d(t,"bb",(function(){return ne})),n.d(t,"cb",(function(){return ae})),n.d(t,"db",(function(){return ie})),n.d(t,"eb",(function(){return re}));let a=function(e){return e.link="link",e.restricted="restricted",e}({}),i=function(e){return e.pledge_redemption="pledge_redemption",e.pledge_redemption_edit="pledge_redemption_edit",e.stock_location_create="stock_location_create",e.stock_location_edit="stock_location_edit",e.survey="survey",e.user_settings="user_settings",e}({}),r=function(e){return e.ENCODED="ENCODED",e.ENCODING="ENCODING",e.FAILED="FAILED",e}({}),o=function(e){return e.everyone="everyone",e.link="link",e.restricted="restricted",e}({}),s=function(e){return e.COMPLETED="COMPLETED",e.FAILED="FAILED",e.PROCESSING="PROCESSING",e}({}),l=function(e){return e.authentication_required="authentication_required",e.canceled="canceled",e.collected="collected",e.dropped="dropped",e.dummy="dummy",e.errored="errored",e.pledged="pledged",e.preauth="preauth",e}({}),c=function(e){return e.ADJUSTMENT="ADJUSTMENT",e.AUTHENTICATE="AUTHENTICATE",e.LATE_PLEDGE="LATE_PLEDGE",e.PLEDGE="PLEDGE",e.REAUTH="REAUTH",e.SOURCE="SOURCE",e}({}),d=function(e){return e.AUTHORIZING="AUTHORIZING",e.FAILED="FAILED",e.SUCCESSFUL="SUCCESSFUL",e.VERIFYING="VERIFYING",e}({}),u=function(e){return e.complete="complete",e.in_progress="in_progress",e.not_started="not_started",e}({}),m=function(e){return e.active="active",e.declined="declined",e.inactive="inactive",e.invited="invited",e}({}),p=function(e){return e.comment="comment",e.configure_pledge_manager="configure_pledge_manager",e.edit_faq="edit_faq",e.edit_project="edit_project",e.fulfillment="fulfillment",e.launch_pledge_manager="launch_pledge_manager",e.launch_prelaunch="launch_prelaunch",e.post="post",e.view_pledges="view_pledges",e}({}),b=function(e){return e.AD="AD",e.AE="AE",e.AF="AF",e.AG="AG",e.AI="AI",e.AL="AL",e.AM="AM",e.AN="AN",e.AO="AO",e.AQ="AQ",e.AR="AR",e.AS="AS",e.AT="AT",e.AU="AU",e.AW="AW",e.AX="AX",e.AZ="AZ",e.BA="BA",e.BB="BB",e.BD="BD",e.BE="BE",e.BF="BF",e.BG="BG",e.BH="BH",e.BI="BI",e.BJ="BJ",e.BL="BL",e.BM="BM",e.BN="BN",e.BO="BO",e.BQ="BQ",e.BR="BR",e.BS="BS",e.BT="BT",e.BV="BV",e.BW="BW",e.BY="BY",e.BZ="BZ",e.CA="CA",e.CC="CC",e.CD="CD",e.CF="CF",e.CG="CG",e.CH="CH",e.CI="CI",e.CK="CK",e.CL="CL",e.CM="CM",e.CN="CN",e.CO="CO",e.CR="CR",e.CU="CU",e.CV="CV",e.CW="CW",e.CX="CX",e.CY="CY",e.CZ="CZ",e.DE="DE",e.DJ="DJ",e.DK="DK",e.DM="DM",e.DO="DO",e.DZ="DZ",e.EC="EC",e.EE="EE",e.EG="EG",e.EH="EH",e.ER="ER",e.ES="ES",e.ET="ET",e.FI="FI",e.FJ="FJ",e.FK="FK",e.FM="FM",e.FO="FO",e.FR="FR",e.GA="GA",e.GB="GB",e.GD="GD",e.GE="GE",e.GF="GF",e.GG="GG",e.GH="GH",e.GI="GI",e.GL="GL",e.GM="GM",e.GN="GN",e.GP="GP",e.GQ="GQ",e.GR="GR",e.GS="GS",e.GT="GT",e.GU="GU",e.GW="GW",e.GY="GY",e.HK="HK",e.HM="HM",e.HN="HN",e.HR="HR",e.HT="HT",e.HU="HU",e.ID="ID",e.IE="IE",e.IL="IL",e.IM="IM",e.IN="IN",e.IO="IO",e.IQ="IQ",e.IR="IR",e.IS="IS",e.IT="IT",e.JE="JE",e.JM="JM",e.JO="JO",e.JP="JP",e.KE="KE",e.KG="KG",e.KH="KH",e.KI="KI",e.KM="KM",e.KN="KN",e.KP="KP",e.KR="KR",e.KW="KW",e.KY="KY",e.KZ="KZ",e.LA="LA",e.LB="LB",e.LC="LC",e.LI="LI",e.LK="LK",e.LR="LR",e.LS="LS",e.LT="LT",e.LU="LU",e.LV="LV",e.LY="LY",e.MA="MA",e.MC="MC",e.MD="MD",e.ME="ME",e.MF="MF",e.MG="MG",e.MH="MH",e.MK="MK",e.ML="ML",e.MM="MM",e.MN="MN",e.MO="MO",e.MP="MP",e.MQ="MQ",e.MR="MR",e.MS="MS",e.MT="MT",e.MU="MU",e.MV="MV",e.MW="MW",e.MX="MX",e.MY="MY",e.MZ="MZ",e.NA="NA",e.NC="NC",e.NE="NE",e.NF="NF",e.NG="NG",e.NI="NI",e.NL="NL",e.NO="NO",e.NP="NP",e.NR="NR",e.NU="NU",e.NZ="NZ",e.OM="OM",e.PA="PA",e.PE="PE",e.PF="PF",e.PG="PG",e.PH="PH",e.PK="PK",e.PL="PL",e.PM="PM",e.PN="PN",e.PR="PR",e.PS="PS",e.PT="PT",e.PW="PW",e.PY="PY",e.QA="QA",e.RE="RE",e.RO="RO",e.RS="RS",e.RU="RU",e.RW="RW",e.SA="SA",e.SB="SB",e.SC="SC",e.SD="SD",e.SE="SE",e.SG="SG",e.SH="SH",e.SI="SI",e.SJ="SJ",e.SK="SK",e.SL="SL",e.SM="SM",e.SN="SN",e.SO="SO",e.SR="SR",e.SS="SS",e.ST="ST",e.SV="SV",e.SX="SX",e.SY="SY",e.SZ="SZ",e.TC="TC",e.TD="TD",e.TF="TF",e.TG="TG",e.TH="TH",e.TJ="TJ",e.TK="TK",e.TL="TL",e.TM="TM",e.TN="TN",e.TO="TO",e.TR="TR",e.TT="TT",e.TV="TV",e.TW="TW",e.TZ="TZ",e.UA="UA",e.UG="UG",e.UM="UM",e.US="US",e.UY="UY",e.UZ="UZ",e.VA="VA",e.VC="VC",e.VE="VE",e.VG="VG",e.VI="VI",e.VN="VN",e.VU="VU",e.WF="WF",e.WS="WS",e.XK="XK",e.YE="YE",e.YT="YT",e.ZA="ZA",e.ZM="ZM",e.ZW="ZW",e}({}),h=function(e){return e.ANDROID_PAY="ANDROID_PAY",e.APPLE_PAY="APPLE_PAY",e.BANK_ACCOUNT="BANK_ACCOUNT",e.CREDIT_CARD="CREDIT_CARD",e}({}),f=function(e){return e.AUD="AUD",e.CAD="CAD",e.CHF="CHF",e.DKK="DKK",e.EUR="EUR",e.GBP="GBP",e.HKD="HKD",e.JPY="JPY",e.MXN="MXN",e.NOK="NOK",e.NZD="NZD",e.PLN="PLN",e.SEK="SEK",e.SGD="SGD",e.USD="USD",e}({}),g=function(e){return e.ASC="ASC",e.DESC="DESC",e}({}),_=function(e){return e.CREATED_AT="CREATED_AT",e.NAME="NAME",e.SLUG="SLUG",e.UPDATED_AT="UPDATED_AT",e}({}),k=function(e){return e.article="article",e.category="category",e.international="international",e.prompt="prompt",e.resource="resource",e}({}),E=function(e){return e.THREE_COLUMNS="THREE_COLUMNS",e.TWO_COLUMNS="TWO_COLUMNS",e}({}),v=function(e){return e.FLEX="FLEX",e.PROMO="PROMO",e}({}),y=function(e){return e.environmentally_friendly_factories="environmentally_friendly_factories",e.long_lasting_design="long_lasting_design",e.reusability_and_recyclability="reusability_and_recyclability",e.something_else="something_else",e.sustainable_distribution="sustainable_distribution",e.sustainable_materials="sustainable_materials",e}({}),S=function(e){return e.ALL_REWARDS_MADE="ALL_REWARDS_MADE",e.FULFILLING_ALL_REWARDS="FULFILLING_ALL_REWARDS",e.FULFILLING_SOME_REWARDS="FULFILLING_SOME_REWARDS",e.FULFILLMENT_COMPLETE="FULFILLMENT_COMPLETE",e.NO_REWARDS_MADE="NO_REWARDS_MADE",e.SOME_REWARDS_MADE="SOME_REWARDS_MADE",e}({}),O=function(e){return e.delayed="delayed",e.in_progress="in_progress",e.not_available="not_available",e.not_provided="not_provided",e.not_started="not_started",e.shipped="shipped",e}({}),N=function(e){return e.delayed="delayed",e.in_progress="in_progress",e.not_started="not_started",e.shipped="shipped",e}({}),C=function(e){return e.BACKING_ABUSE="BACKING_ABUSE",e.BACKING_DOXXING="BACKING_DOXXING",e.BACKING_FRAUD="BACKING_FRAUD",e.BACKING_SPAM="BACKING_SPAM",e.CHARITY="CHARITY",e.COMMENT_ABUSE="COMMENT_ABUSE",e.COMMENT_DOXXING="COMMENT_DOXXING",e.COMMENT_OFFTOPIC="COMMENT_OFFTOPIC",e.COMMENT_SPAM="COMMENT_SPAM",e.FALSE_CLAIMS="FALSE_CLAIMS",e.FINANCIAL_CONTESTS_COUPONS="FINANCIAL_CONTESTS_COUPONS",e.FINANCIAL_POLITICAL_DONATIONS="FINANCIAL_POLITICAL_DONATIONS",e.FINANCIAL_SERVICES="FINANCIAL_SERVICES",e.GUIDELINES_ABUSE="GUIDELINES_ABUSE",e.GUIDELINES_SPAM="GUIDELINES_SPAM",e.GUIDELINES_VIOLATION="GUIDELINES_VIOLATION",e.HEALTH_CLAIMS="HEALTH_CLAIMS",e.HEALTH_ENERGY_FOOD_AND_DRINK="HEALTH_ENERGY_FOOD_AND_DRINK",e.HEALTH_GMOS="HEALTH_GMOS",e.HEALTH_LIVE_ANIMALS="HEALTH_LIVE_ANIMALS",e.HEALTH_REGULATIONS="HEALTH_REGULATIONS",e.MISREP_SUPPORT="MISREP_SUPPORT",e.MISREP_SUPPORT_IMPERSONATION="MISREP_SUPPORT_IMPERSONATION",e.MISREP_SUPPORT_OTHER="MISREP_SUPPORT_OTHER",e.MISREP_SUPPORT_OUTSTANDING_FULFILLMENT="MISREP_SUPPORT_OUTSTANDING_FULFILLMENT",e.MISREP_SUPPORT_SUSPICIOUS_PLEDGING="MISREP_SUPPORT_SUSPICIOUS_PLEDGING",e.NOT_PROJECT="NOT_PROJECT",e.NOT_PROJECT_BAREBONES="NOT_PROJECT_BAREBONES",e.NOT_PROJECT_CHARITY="NOT_PROJECT_CHARITY",e.NOT_PROJECT_OTHER="NOT_PROJECT_OTHER",e.NOT_PROJECT_PERSONAL_EXPENSES="NOT_PROJECT_PERSONAL_EXPENSES",e.NOT_PROJECT_STUNT_OR_HOAX="NOT_PROJECT_STUNT_OR_HOAX",e.OFFENSIVE_CONTENT_HATE="OFFENSIVE_CONTENT_HATE",e.OFFENSIVE_CONTENT_PORN="OFFENSIVE_CONTENT_PORN",e.PLAGIARISM="PLAGIARISM",e.POST_FUNDING_CREATOR_INAPPROPRIATE="POST_FUNDING_CREATOR_INAPPROPRIATE",e.POST_FUNDING_CREATOR_SELLING_ELSEWHERE="POST_FUNDING_CREATOR_SELLING_ELSEWHERE",e.POST_FUNDING_CREATOR_UNCOMMUNICATIVE="POST_FUNDING_CREATOR_UNCOMMUNICATIVE",e.POST_FUNDING_ISSUES="POST_FUNDING_ISSUES",e.POST_FUNDING_REWARD_DELAYED="POST_FUNDING_REWARD_DELAYED",e.POST_FUNDING_REWARD_NOT_AS_DESCRIBED="POST_FUNDING_REWARD_NOT_AS_DESCRIBED",e.POST_FUNDING_SHIPPED_NEVER_RECEIVED="POST_FUNDING_SHIPPED_NEVER_RECEIVED",e.POST_FUNDING_SUSPICIOUS_THIRD_PARTY="POST_FUNDING_SUSPICIOUS_THIRD_PARTY",e.PROHIBITED_ITEMS="PROHIBITED_ITEMS",e.PROTOTYPE_MISREPRESENTATION="PROTOTYPE_MISREPRESENTATION",e.RESALE="RESALE",e.RESELLING="RESELLING",e.SPAM="SPAM",e.UNDISCLOSED_AI_USE="UNDISCLOSED_AI_USE",e.VICES_ALCOHOL="VICES_ALCOHOL",e.VICES_DRUGS="VICES_DRUGS",e.VICES_WEAPONS="VICES_WEAPONS",e}({}),j=function(e){return e.REQUIRES_ACTION="REQUIRES_ACTION",e.SUCCEEDED="SUCCEEDED",e}({}),w=function(e){return e.committed_to_another_pm="committed_to_another_pm",e.ineligible="ineligible",e.lack_of_confidence="lack_of_confidence",e.legacy="legacy",e.missing_features="missing_features",e.other="other",e}({}),I=function(e){return e.completed="completed",e.draft="draft",e.failed="failed",e.pending="pending",e.rejected="rejected",e}({}),T=function(e){return e.crowdfunding_addon="crowdfunding_addon",e.crowdfunding_base="crowdfunding_base",e.new_addon="new_addon",e.new_base="new_base",e.order_edit_addon="order_edit_addon",e.order_edit_upgrade="order_edit_upgrade",e.upgrade_from_crowdfunding_base="upgrade_from_crowdfunding_base",e}({}),A=function(e){return e.auto_exempt="auto_exempt",e.calculated_exempt="calculated_exempt",e.collected="collected",e.draft="draft",e.dropped="dropped",e.refunded="refunded",e}({}),D=function(e){return e.CANCELLED="CANCELLED",e.CANCELLED_ADJUSTED="CANCELLED_ADJUSTED",e.CHARGEBACK_LOST="CHARGEBACK_LOST",e.COLLECTED="COLLECTED",e.COLLECTED_ADJUSTED="COLLECTED_ADJUSTED",e.ERRORED="ERRORED",e.REFUNDED="REFUNDED",e.UNATTEMPTED="UNATTEMPTED",e.UNATTEMPTED_ADJUSTED="UNATTEMPTED_ADJUSTED",e}({}),P=function(e){return e.approved="approved",e.denied="denied",e.draft="draft",e.submitted="submitted",e}({}),R=function(e){return e.CreatorInterview="CreatorInterview",e.FreeformPost="FreeformPost",e}({}),F=function(e){return e.draft="draft",e.processing="processing",e.published="published",e}({}),L=function(e){return e.complete="complete",e.incomplete="incomplete",e.not_started="not_started",e}({}),M=function(e){return e.crowdfunding="crowdfunding",e.late_pledge="late_pledge",e.pledge_manager="pledge_manager",e}({}),x=function(e){return e.CANCELED="CANCELED",e.FAILED="FAILED",e.LIVE="LIVE",e.PURGED="PURGED",e.STARTED="STARTED",e.SUBMITTED="SUBMITTED",e.SUCCESSFUL="SUCCESSFUL",e.SUSPENDED="SUSPENDED",e}({}),U=function(e){return e.backer_bar="backer_bar",e.comment="comment",e.updates="updates",e}({}),V=function(e){return e.choices="choices",e.text="text",e}({}),B=function(e){return e.Project="Project",e.Reward="Reward",e.RewardItem="RewardItem",e}({}),H=function(e){return e.BONUS_AMOUNT="BONUS_AMOUNT",e.GENERAL_REFUND="GENERAL_REFUND",e.ORDER_ITEM="ORDER_ITEM",e.REWARD="REWARD",e.REWARD_ITEM="REWARD_ITEM",e.SHIPPING_CREDIT="SHIPPING_CREDIT",e}({}),Y=function(e){return e.AUTHORIZING="AUTHORIZING",e.ERRORED="ERRORED",e.FAILED="FAILED",e.SUCCESSFUL="SUCCESSFUL",e}({}),G=function(e){return e.ADMIN_REFUND="ADMIN_REFUND",e.BACKER_REQUEST="BACKER_REQUEST",e.CHANGE_REMOVAL="CHANGE_REMOVAL",e.CREDIT="CREDIT",e.FULFILLMENT_ISSUES_DELAYS="FULFILLMENT_ISSUES_DELAYS",e.OTHER="OTHER",e.OVERPAYMENT="OVERPAYMENT",e}({}),q=function(e){return e.SHARED="SHARED",e.UNIQUE="UNIQUE",e}({}),K=function(e){return e.addon="addon",e.base="base",e}({}),z=function(e){return e.local="local",e.none="none",e.restricted="restricted",e.unrestricted="unrestricted",e}({}),W=function(e){return e.flat_rate="flat_rate",e.weight_based="weight_based",e}({}),$=function(e){return e.kg="kg",e.oz="oz",e}({}),Z=function(e){return e.AND="AND",e.NOT="NOT",e.OR="OR",e}({}),J=function(e){return e.CROWDFUNDING_CHECKOUT="CROWDFUNDING_CHECKOUT",e.POST_CAMPAIGN_CHECKOUT="POST_CAMPAIGN_CHECKOUT",e.PROFILE_SETTINGS="PROFILE_SETTINGS",e.PROJECT_BUILD="PROJECT_BUILD",e}({}),X=function(e){return e.ASSET_VIDEO="ASSET_VIDEO",e.AUDIO="AUDIO",e.PHOTO="PHOTO",e.SMALLER_VIDEO="SMALLER_VIDEO",e.SOUND="SOUND",e.VIDEO="VIDEO",e}({}),Q=function(e){return e.domestic="domestic",e.international="international",e}({}),ee=function(e){return e.once_a_day="once_a_day",e.twice_a_day="twice_a_day",e}({}),te=function(e){return e.email="email",e.mobile="mobile",e}({}),ne=function(e){return e.backings="backings",e.comment_replies="comment_replies",e.comments="comments",e.creator_digest="creator_digest",e.creator_edu="creator_edu",e.follower="follower",e.friend_activity="friend_activity",e.friend_signup="friend_signup",e.marketing_update="marketing_update",e.messages="messages",e.project_launch="project_launch",e.updates="updates",e}({}),ae=function(e){return e.admin_message_badge="admin_message_badge",e.confirmed_apple_id_disconnect_token="confirmed_apple_id_disconnect_token",e.confirmed_signal_notice="confirmed_signal_notice",e.confirmed_watch_notice="confirmed_watch_notice",e.dismissed_pyl_toast="dismissed_pyl_toast",e.dismissed_reward_images_toast="dismissed_reward_images_toast",e.dismissed_taste_profile_toast="dismissed_taste_profile_toast",e.expired_apple_id_disconnect_token="expired_apple_id_disconnect_token",e.manual_play_videos="manual_play_videos",e.opt_in_ksr_research="opt_in_ksr_research",e.opted_out_of_recommendations="opted_out_of_recommendations",e.show_public_profile="show_public_profile",e.superbacker_not_visible="superbacker_not_visible",e.viz_notification="viz_notification",e}({}),ie=function(e){return e.error="error",e.exact="exact",e.not_found="not_found",e.suggestion="suggestion",e}({}),re=function(e){return e.AT="AT",e.BE="BE",e.BG="BG",e.CY="CY",e.CZ="CZ",e.DE="DE",e.DK="DK",e.EE="EE",e.ES="ES",e.EU="EU",e.FI="FI",e.FR="FR",e.GR="GR",e.HR="HR",e.HU="HU",e.IE="IE",e.IT="IT",e.LT="LT",e.LU="LU",e.LV="LV",e.MT="MT",e.NL="NL",e.PL="PL",e.PT="PT",e.RO="RO",e.SE="SE",e.SI="SI",e.SK="SK",e.UK="UK",e}({})},DRAL:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var a=n("gN63");const i="\n  mutation($contentId: ID!, $details: String, $kind: NonDeprecatedFlaggingKind!) {\n    createFlagging(\n      input: {\n        contentId: $contentId,\n        details: $details,\n        kind: $kind\n      }\n    ) {\n      flagging {\n        kind\n      }\n    }\n  }\n",r=({details:e,kind:t},n)=>{const r=Object(a.b)("Project",window.current_project.data.id);return Object(a.c)(i,{contentId:r,details:e,kind:t},{projectShareToken:n})}},E2Se:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return l}));let a=function(e){return e[e.Bold=0]="Bold",e[e.Italic=1]="Italic",e[e.Header=2]="Header",e[e.List=3]="List",e[e.Link=4]="Link",e[e.Image=5]="Image",e[e.Video=6]="Video",e[e.Audio=7]="Audio",e[e.Header2=8]="Header2",e[e.Header3=9]="Header3",e[e.Quote=10]="Quote",e[e.Normal=11]="Normal",e}({}),i=function(e){return e.icon="icon--unlink",e.id="unlink",e}({}),r=function(e){return e.icon="icon--image",e.id="image",e}({}),o=function(e){return e.icon="icon--video",e.id="video",e}({}),s=function(e){return e.icon="icon--sound-hi",e.id="audio",e}({}),l=function(e){return e.icon="icon--link",e.id="link",e}({})},E7Eu:function(e,t,n){"use strict";t.a='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M8 3C6.34315 3 5 4.34315 5 6V18C5 19.6569 6.34315 21 8 21H14C16.7614 21 19 18.7614 19 16V15C19 13.3644 18.2146 11.9122 17.0004 10.9999C17.6281 10.1643 18 9.12558 18 8C18 5.23858 15.7614 3 13 3H8ZM13 10C14.1046 10 15 9.10457 15 8C15 6.89543 14.1046 6 13 6H8V10H13ZM8 13V18H14C15.1046 18 16 17.1046 16 16V15C16 13.8954 15.1046 13 14 13H8Z" fill="#3C3C3C"/>\n</svg>\n'},ECYc:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("n+nq"),i=n("pj8f"),r=n("qn6j");const o=async e=>{try{await fetch("/telegraf_requests",{method:"POST",body:JSON.stringify({authenticity_token:Object(a.b)(document),data:e}),credentials:"same-origin",headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-Token":Object(a.b)(document)}})}catch(e){i.Honeybadger.notify(e)}};let s=[],l=-1;function c(e,t,n,a){["increment","gauge","time"].includes(e)&&o([{method:e,name:t,value:n,tags:a}])}c.batch=async e=>{const t=[],n={increment:async(e,n)=>{t.push({method:r.a.INCREMENT,name:e,tags:n})},gauge:async(e,n,a)=>{t.push({method:r.a.GAUGE,name:e,value:n,tags:a})},time:async(e,n)=>{const a=Date.now(),i=await n(),o=Date.now();return t.push({method:r.a.TIME,name:e,value:o-a}),i}},a=await e(n);var i;return i=t,clearTimeout(l),s=s.concat(i),l=window.setTimeout(()=>{o(s),s=[]},50),a},c.increment=(e,t)=>c.batch(n=>n.increment(e,t)),c.gauge=(e,t,n)=>c.batch(a=>a.gauge(e,t,n)),c.time=(e,t)=>c.batch(n=>n.time(e,t))},EDOg:function(e,t,n){"use strict";t.a='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M13.4787 3.99999H9.5C8.94772 3.99999 8.5 4.44771 8.5 4.99999C8.5 5.55228 8.94772 5.99999 9.5 5.99999H12.263L9.69158 18H7C6.44772 18 6 18.4477 6 19C6 19.5523 6.44772 20 7 20H14.5C15.0523 20 15.5 19.5523 15.5 19C15.5 18.4477 15.0523 18 14.5 18H11.737L14.3084 5.99999H17C17.5523 5.99999 18 5.55228 18 4.99999C18 4.44771 17.5523 3.99999 17 3.99999H13.5193C13.5057 3.99972 13.4922 3.99972 13.4787 3.99999Z" fill="#3C3C3C"/>\n</svg>\n'},EHMl:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("/IHD"),i=n("q1tI"),r=n.n(i);const o=r.a.forwardRef(({hex:e,direction:t,size:n,className:i,style:o={}},s)=>{const l={...o,borderWidth:n,borderRightColor:"left"===t?e:"transparent",borderTopColor:"bottom"===t?e:"transparent",borderLeftColor:"right"===t?e:"transparent",borderBottomColor:"top"===t?e:"transparent",borderStyle:"solid"},c=Object(a.a)("block absolute w0 h0",{top:"b100p",bottom:"t100p",left:"r100p",right:"l100p"}[t],i);return r.a.createElement("div",{role:"presentation",style:l,className:c,ref:s})})},EoiL:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("8Np1"),i=n("/IHD"),r=n("hPy8"),o=n("q1tI");const s=({level:e=3,...t})=>o.createElement(r.c,null,n=>{var r;return o.createElement(a.a,Object.assign({level:e},t,{atoms:Object(i.b)(["kds-heading"],null!==(r=t.atoms)&&void 0!==r?r:[],n.header.atoms)}),t.children)})},FBTF:function(e,t,n){"use strict";t.a='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M5 4H19C20.6569 4 22 5.34315 22 7V17C22 18.6569 20.6569 20 19 20H5C3.34315 20 2 18.6569 2 17V7C2 5.34314 3.34315 4 5 4ZM5 6C4.44772 6 4 6.44771 4 7V17C4 17.5523 4.44772 18 5 18H5.13366C5.191 17.9006 5.26654 17.8095 5.35982 17.7318L13.5049 10.9442C14.4182 10.1831 15.7899 10.382 16.4494 11.3713L20 16.6972V7C20 6.44772 19.5523 6 19 6H5ZM18.4648 18H8.16205L14.7853 12.4807L18.4648 18ZM8 12C9.10457 12 10 11.1046 10 10C10 8.89543 9.10457 8 8 8C6.89543 8 6 8.89543 6 10C6 11.1046 6.89543 12 8 12Z" fill="#3C3C3C"/>\n</svg>\n'},FEsz:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("94td"),i=n("arGM"),r=n("q1tI"),o=n("dkkr");const s=e=>e.canRead?e.children:r.createElement(o.c,{iconType:"icon--eye",primaryText:Object(a.b)("project_update.This_post_is_for_backers_only"),primaryColor:"cobalt-600",space:1,secondaryText:r.createElement(l,{isLoggedIn:e.isLoggedIn,isProjectLive:e.isProjectLive,pledgeLink:e.pledgeLink,loginLink:e.loginLink})}),l=e=>e.isLoggedIn&&!e.isProjectLive?null:e.isLoggedIn?r.createElement(a.a,{i18nKey:"project_update.To_back_this_project_and_view",atoms:["native-hide"],pledgeLink:r.createElement("a",{className:"soft-black text-underline",href:e.pledgeLink},Object(a.b)("project_update.Click_here"))}):r.createElement(a.a,{i18nKey:"project_update.Log_in_to_see_this_post",atoms:["native-hide"],loginLink:r.createElement("a",{className:"soft-black text-underline",href:Object(i.e)("/login",{then:e.loginLink||window.location.pathname})},Object(a.b)("project_update.Log_in"))})},FiUa:function(e,t,n){"use strict";var a=n("xyIz");n.d(t,"a",(function(){return a.a})),n.d(t,"b",(function(){return a.b}))},GAUq:function(e,t,n){"use strict";t.a='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M17.0703 16.2422C17.0703 15.6899 17.518 15.2422 18.0703 15.2422H20.0703C20.6226 15.2422 21.0703 15.6899 21.0703 16.2422C21.0703 16.7945 20.6226 17.2422 20.0703 17.2422H18.0703C17.518 17.2422 17.0703 16.7945 17.0703 16.2422Z" fill="#3C3C3C"/>\n<path d="M16.1562 17.1562C15.604 17.1562 15.1562 17.604 15.1562 18.1562V20.1562C15.1562 20.7085 15.604 21.1562 16.1562 21.1562C16.7085 21.1562 17.1562 20.7085 17.1562 20.1562V18.1562C17.1562 17.604 16.7085 17.1562 16.1562 17.1562Z" fill="#3C3C3C"/>\n<path d="M6.92969 7.75781C6.92969 8.3101 6.48197 8.75781 5.92969 8.75781L3.92969 8.75781C3.3774 8.75781 2.92969 8.3101 2.92969 7.75781C2.92969 7.20553 3.3774 6.75781 3.92969 6.75781L5.92969 6.75781C6.48197 6.75781 6.92969 7.20553 6.92969 7.75781Z" fill="#3C3C3C"/>\n<path d="M7.84375 6.84375C8.39603 6.84375 8.84375 6.39603 8.84375 5.84375V3.84375C8.84375 3.29147 8.39603 2.84375 7.84375 2.84375C7.29147 2.84375 6.84375 3.29147 6.84375 3.84375V5.84375C6.84375 6.39603 7.29147 6.84375 7.84375 6.84375Z" fill="#3C3C3C"/>\n<path d="M8.46513 9.87682C8.0746 9.4863 7.44144 9.4863 7.05091 9.87682L4.92862 11.9991C2.97599 13.9517 2.97599 17.1176 4.92862 19.0702C6.88124 21.0228 10.0471 21.0228 11.9997 19.0702L14.122 16.9479C14.5125 16.5574 14.5125 15.9242 14.122 15.5337C13.7315 15.1432 13.0983 15.1432 12.7078 15.5337L10.5855 17.656C9.4139 18.8275 7.5144 18.8275 6.34283 17.656C5.17126 16.4844 5.17126 14.5849 6.34283 13.4133L8.46513 11.291C8.85565 10.9005 8.85565 10.2673 8.46513 9.87682Z" fill="#3C3C3C"/>\n<path d="M15.5348 14.1213C15.9253 14.5118 16.5585 14.5118 16.949 14.1213L19.0713 11.999C21.0239 10.0464 21.0239 6.88057 19.0713 4.92795C17.1187 2.97533 13.9529 2.97533 12.0002 4.92795L9.87793 7.05025C9.48741 7.44077 9.48741 8.07393 9.87793 8.46446C10.2685 8.85498 10.9016 8.85498 11.2921 8.46446L13.4144 6.34216C14.586 5.17059 16.4855 5.17059 17.6571 6.34216C18.8287 7.51373 18.8287 9.41323 17.6571 10.5848L15.5348 12.7071C15.1443 13.0976 15.1443 13.7308 15.5348 14.1213Z" fill="#3C3C3C"/>\n</svg>\n'},GM4r:function(e,t,n){"use strict";t.a='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M19.669 6.25671C20.0795 6.62617 20.1128 7.25846 19.7433 7.66897L10.7433 17.669C10.5598 17.8729 10.3005 17.9925 10.0263 17.9997C9.75204 18.0069 9.48688 17.9011 9.29289 17.7071L4.29289 12.7071C3.90237 12.3166 3.90237 11.6834 4.29289 11.2929C4.68342 10.9024 5.31658 10.9024 5.70711 11.2929L9.96181 15.5476L18.2567 6.33104C18.6262 5.92053 19.2585 5.88726 19.669 6.25671Z" fill="#3C3C3C"/>\n</svg>\n'},GRmu:function(e,t,n){"use strict";(function(e){let a;a=void 0!==e?n("gMis").default:()=>{},t.a=a}).call(this,n("+2Rf"))},GnmY:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l}));var a=n("2UXI"),i=(n("q1tI"),n("Owp+"));n.d(t,"a",(function(){return i.a}));const r=e=>{Object(a.d)("Uploaded Video",{context:"post_edit_body",type:e})},o=e=>{Object(a.d)("Our Terms Clicked From PII Warning",{context:e})},s=(e,t)=>{Object(a.d)("Pinned Post",{type:e,context:t})},l=(e,t)=>{Object(a.d)("Unpinned Post",{type:e,context:t})}},I3Sk:function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return m})),n.d(t,"j",(function(){return p})),n.d(t,"k",(function(){return h})),n.d(t,"i",(function(){return f})),n.d(t,"l",(function(){return g})),n.d(t,"g",(function(){return _})),n.d(t,"e",(function(){return k})),n.d(t,"h",(function(){return E}));var a=n("39MV"),i=n("o3IG"),r=n("94td"),o=(n("U5Hm"),n("zm9w")),s=n("PXbY");const l=e=>e.map(e=>{const t=e.amount.amount||"0";return parseFloat(t)}).reduce((e,t)=>e+t,0),c=e=>{const{addOns:t,locationId:n,reward:i,bonusSupport:r}=e,o=Object(a.b)((null==i?void 0:i.shippingRules)||[],n),s=parseFloat((null==o?void 0:o.cost.amount)||"0"),c=parseFloat((null==i?void 0:i.amount.amount)||"0"),d=((e,t)=>e.map(e=>{var n;const i=(null===(n=Object(a.b)(e.shippingRules||[],t))||void 0===n?void 0:n.cost.amount)||"0";return parseFloat(i)}).reduce((e,t)=>e+t,0))(t,n||"");return{amount:c+s+d+l(t)+r,totalShippingCost:s+d}},d=(e,t)=>void 0===t?e:e.filter(e=>{switch(e.shippingPreference){case s.c.unrestricted:case s.c.none:return!0;default:return!!Object(a.b)(e.shippingRules,t)}}),u=(e,t)=>e<0?"-"+Object(a.c)(Math.abs(e),t):"+"+Object(a.c)(e,t),m=(e,t)=>e.available?null===e.limit||void 0===e.limit?(null==e?void 0:e.limitPerBacker)||0:Math.min((null==e?void 0:e.limitPerBacker)||0,t+((null==e?void 0:e.remainingQuantity)||0)):t,p=e=>{const t=atob(e).split("-")[1],n=Object(i.b)("ref_"+t);return n?unescape(n).split("?")[0]:""},b=(e,t,n)=>!!t&&n===e.id,h=(e,t,n)=>e.filter(e=>!e.available&&!b(e,t,n)),f=(e,t,n)=>{const a=[];return e.forEach(e=>{b(e,t,n)?a.unshift(e):e.available&&a.push(e)}),a};function g(e){return"allowedAddons"in e}function _(e,t){return g(e)?Object(a.b)(e.shippingRules,t):((e,t)=>{const n=e.shippingPreference===s.c.none;return void 0===t||n?null:Object(a.b)(e.shippingRules,t)})(e,t)}function k(e,t,n){return e.reduce((e,a)=>{var i;const r=_(a,t),o=null==r||null===(i=r[n])||void 0===i?void 0:i.amount;return o?void 0===e?parseFloat(o):e+parseFloat(o):e},void 0)}function E(e,t,n,i){if(e&&t){const n=o.b.currency_symbol(i),a=o.b.money(e,{currency:i,type:"truncate_zeros",format:"%n"}),s=o.b.money(t,{currency:i,type:"truncate_zeros",format:"%n"});return Object(r.b)("checkouts.new.Estimated_shipping_range",{currencySymbol:n,min:a,max:s})}return e&&!t?Object(a.c)(e,i):Object(a.c)(n||0,i)}},I8LL:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));let a=function(e){return e.BACKER_SURVEY_BUILD_TOP_NAV="backer_survey_build_top_nav",e.CREATOR_IMAGE="creator_image",e.CREATOR_NAME="creator_name",e.CREATOR_NAV_SIDEBAR="side_nav",e.CURATED="curated",e.DISCOVER_ADVANCED="discover_advanced",e.FULFILLMENT="fulfillment",e.MODAL="modal",e.PROJECT_HERO="project_hero",e.PROJECT_IMAGE="project_image",e.PROJECT_NAME="project_name",e.PROJECT_TYPE="project_type",e.REWARDS_LIST="rewards_list",e.STICKY_NAV="sticky_nav",e}({})},IVac:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"e",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"i",(function(){return m})),n.d(t,"j",(function(){return p})),n.d(t,"f",(function(){return b})),n.d(t,"m",(function(){return h})),n.d(t,"k",(function(){return f})),n.d(t,"h",(function(){return g})),n.d(t,"l",(function(){return _}));var a=n("0fse"),i=n("w/TO"),r=n("cDWt");const o=(e={touched:{},errors:{}},t)=>e.touched[t]&&!!e.errors[t],s=e=>Object.assign({},...e.map(e=>({[e]:!0}))),l=(e,t,n,r)=>{const o=Object(i.a)(n);let s;return s=r?t=>t.forEach(t=>r(e,t)):e=>e,Object(a.f)({...e,touched:{...e.touched,[t]:!0},errors:o},o[t]?a.a.run(s,{args:[o[t]]}):a.a.none)},c=(e,t,n)=>{const r=Object(i.a)(t);return Object(a.f)({...e,touched:{...s(e.fields)},errors:r},n?a.a.run(n,{args:[e,r]}):a.a.none)},d=(e,t)=>e.length===t,u=e=>e&&e.match(/^.+@.+\..{2,}$/),m=e=>!isNaN(e),p=(e="")=>"string"==typeof e?e.trim().length>0:null!=e&&e.length>0,b=e=>"string"==typeof e&&/^[a-zA-Z0-9]+$/.test(e),h=(e,t,n)=>"string"==typeof e&&(e.length>=t&&e.length<=n),f=(e,t,n={caseSensitive:!1})=>{const{caseSensitive:a}=n;if(a)return-1===t.indexOf(e);return-1===t.map(e=>e.toLowerCase()).indexOf(e.toLowerCase())},g=e=>!!e&&/^[\u0020-\u007E]*$/.test(e),_=(e,t,n)=>n()?Object(r.b)():Object(r.a)(new k({[e]:new E([t])}));class k{constructor(e){this.errors=e}concat(e){const t=Object.keys(this.errors).concat(Object.keys(e.errors)),n=t.filter((e,n)=>n===t.indexOf(e)).reduce((t,n)=>{const a=this.errors[n],i=e.errors[n];return{...t,[n]:a&&i?a.concat(i):a||i}},{});return new k(n)}}class E{constructor(e){this.value=e}concat(e){return new E(this.value||e.value)}}},Jgmo:function(e,t,n){"use strict";t.a='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M6.34314 13.4142C6.19113 13.5662 6.06463 13.7417 5.96849 13.934L4.55428 16.7624C4.16929 17.5324 4.3202 18.4624 4.92892 19.0711C5.53764 19.6798 6.46759 19.8307 7.23756 19.4457L10.066 18.0315C10.2583 17.9354 10.4338 17.8089 10.5858 17.6569L19.0711 9.17158C20.2426 8.00001 20.2426 6.10051 19.0711 4.92894C17.8995 3.75736 16 3.75736 14.8284 4.92894L6.34314 13.4142ZM8.19354 14.3922L9.60775 15.8065L17.6568 7.75736C18.0474 7.36684 18.0474 6.73368 17.6568 6.34315C17.2663 5.95263 16.6332 5.95263 16.2426 6.34315L8.19354 14.3922Z" fill="#3C3C3C"/>\n</svg>\n'},JhfJ:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"d",(function(){return b})),n.d(t,"a",(function(){return E})),n.d(t,"c",(function(){return S}));var a=n("DI+Y"),i=n("mv45");n("VX74"),n("DE4Y");const r={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LikePost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"LikePostInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"likePost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"likesCount"}},{kind:"Field",name:{kind:"Name",value:"isLiked"}}]}}]}}]}}]};const o={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnlikePost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnlikePostInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unlikePost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"likesCount"}},{kind:"Field",name:{kind:"Name",value:"isLiked"}}]}}]}}]}}]};const s={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeletePost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DeletePostInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deletePost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]}}]};const l={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PublishPost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PublishPostInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"publishPost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]}}]};const c={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PinPost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PinPostInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pinPost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"pinnedAt"}}]}}]}}]}}]};const d={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnpinPost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnpinPostInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unpinPost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"pinnedAt"}}]}}]}}]}}]};const u=Object(i.b)(e=>({onPinPost:t=>e.mutate({variables:{input:t}})})),m=Object(a.graphql)(c,u),p=Object(i.b)(e=>({onUnpinPost:t=>e.mutate({variables:{input:t}})})),b=Object(a.graphql)(d,p),h=Object(i.b)(e=>({onLikePost:t=>e.mutate({variables:{input:t}})})),f=Object(a.graphql)(r,h),g=Object(i.b)(e=>({onUnlikePost:t=>e.mutate({variables:{input:t}})})),_=Object(a.graphql)(o,g),k=Object(i.b)(e=>({onDeletePost:t=>e.mutate({variables:{input:t}})})),E=Object(a.graphql)(s,k),v=Object(i.b)(e=>({onPublishPost:t=>e.mutate({variables:{input:t}})})),y=Object(a.graphql)(l,v),S=Object(i.a)(f,_,E,y,m,b)},"K+Nk":function(e,t,n){"use strict";var a=n("eEls"),i=n("c6/r");const r=Object(a.a)(JSON.parse,i.a);t.a=r,window.parseEscapedJSON=r},KQqk:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var a=n("iuhU"),i=n("inqH"),r=n("pj8f"),o=n("rMRV"),s=n("hL71"),l=n("q1tI");const c=l.memo(({onResize:t,content:n,editorVersion:c,className:d,...u})=>{l.useEffect(()=>{const t=e;if(t&&t.livequery&&t.livequery.run)try{t.livequery.run()}catch(e){r.Honeybadger.notify(e)}});const m=c===s.a.CkEditor;return l.createElement("div",Object.assign({className:Object(a.b)("rte__content",d,{ck:m,"ck-content":m})},u),l.createElement(i.a,{onResize:t},Object(o.a)(n)))})}).call(this,n("+2Rf"))},KZo6:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"a",(function(){return s}));var a=n("/AD1"),i=n("WjF9");function r(){return{user_id:i.a&&i.a.get?i.a.get("id"):null,project_id:a.a&&a.a.get?a.a.get("id"):null}}const o=e=>btoa(`${e.name}: ${e.message}`.substring(0,50)),s=/^file:\/\/|^http:\/\/localhost\/|^https:\/\/www\.optimizelyedit\.com\/|^https:\/\/translate\.googleusercontent\.com\/|^https:\/\/www\.translatoruser-int\.com\//,l=/Baidu|Chrome\/([1-6][0-9]|[7][0-4])|Firefox\/([1-5][0-9]|[6][0-7])\.|Edg|MSIE|SamsungBrowser|SogouMobileBrowser|Windows Phone OS|rv:11.0/,c=()=>!l.test(navigator.userAgent)},KsYZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return b}));var a=n("KQqk"),i=n("mv45"),r=n("94td"),o=n("q1tI"),s=n("5FPU"),l=n("a8OY"),c=n("DI+Y");n("VX74"),n("DE4Y");const d={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FreeformPost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FreeformPost"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"body"}},{kind:"Field",name:{kind:"Name",value:"nativeImages"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}}]}}]}}]};const u=Object(i.c)(e=>{if(!e.data||!e.data.post)return Object(i.d)(e.data.error);const{body:t,nativeImages:n}=e.data.post,a=n?n.filter(e=>e):[];return Object(i.l)({body:t,nativeImages:a})}),m=Object(c.graphql)(d,u),p=e=>{const{body:t,nativeImages:n}=e,i=t||"";return o.createElement("div",{className:"kds-mt-02"},o.createElement(a.a,{content:i}),n.map(e=>o.createElement("img",{key:e.id,src:e.url,alt:"post image"})))},b=Object(i.a)(m,Object(s.a)(()=>({primaryText:Object(r.b)("new_project_update.Were_having_trouble_loading"),secondaryText:Object(r.b)("new_project_update.If_refreshing_this_page")})),l.b)(p)},"L+5T":function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return m}));var a=n("v83y"),i=n("poNw"),r=n("E+oP"),o=n.n(r),s=n("q1tI");const l=new a.CompositeDecorator([{strategy:(e,t,n)=>e.findEntityRanges(e=>{const t=e.getEntity();return null!==t&&"LINK"===n.getEntity(t).getType()},t),component:({children:e,contentState:t,entityKey:n})=>{const{url:a}=t.getEntity(n).getData();return s.createElement("a",{href:a},e)}}]),{convertFromHTML:c}=n("Pgkd"),d=c({htmlToBlock:(e,t)=>{const n=t.parentNode,a=n.getAttribute("data-id");if(n&&n.classList.contains("oembed")){return{type:"atomic",data:{href:n.getAttribute("data-href"),rawHtml:n.innerHTML,type:"OEMBED"}}}if("figure"===e){const e=t.firstElementChild,i=n.getAttribute("data-alt-text"),r=n.getAttribute("data-caption");if(e&&"IMG"===e.nodeName){const t=n.parentNode;return{type:"atomic",data:{alt:i,caption:r,href:t&&"A"===t.nodeName&&t.href?t.href:void 0,id:a,src:e.getAttribute("src"),type:"IMAGE"}}}if(e&&"AUDIO"===e.nodeName){const t=e;return{type:"atomic",data:{id:a,sources:Array.from(t.getElementsByTagName("source")).reduce((e,t)=>{const n=t.getAttribute("type"),a=t.getAttribute("src");return n&&a&&(e[n]=a),e},{}),type:"AUDIO"}}}if(e&&"DIV"===e.nodeName&&(e.className.includes("video-player")||e.className.includes("processing"))&&e.parentNode){return{type:"atomic",data:{id:a,rawHtml:e.parentNode.innerHTML,type:"VIDEO"}}}}},htmlToEntity:(e,t,n)=>{if("a"===e){const e=t;if(e.firstChild&&"DIV"===e.firstChild.nodeName){return"template asset"===e.firstChild.className?null:n("LINK","MUTABLE",{url:e.href})}return n("LINK","MUTABLE",{url:e.href})}}}),u=({content:e="",attachableId:t="",attachableAssoc:n="",storyRteVersion:a="",editorState:i}={})=>({attachableId:t,attachableAssoc:n,currentModal:null,editorState:p(e,i),content:e,storyRteVersion:a,errors:"",key:0,imageAltText:"",imageCaption:"",imageId:null,imageSrc:null,imageUrl:"",showRemoveLink:!1,subjectBlock:null,linkText:null,linkUrl:null,showLoader:!1}),m=(e="",t="",n="",a="",r)=>({story:u({content:e,attachableId:t,attachableAssoc:n,storyRteVersion:a,editorState:r}),imageUploader:{baseUpload:Object(i.a)(),imageUpload:{}}}),p=(e,t)=>t&&!o()(t)?t:""===e.trim()?a.EditorState.createEmpty(l):a.EditorState.createWithContent(d(e),l)},"L/h+":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("q1tI"),i=n("VF4V");const r=({size:e,atoms:t=[],imageUrl:n,alt:r="user avatar",borderColor:o="grey-500",style:s={}})=>{const l=e?["w"+e,"h"+e]:[],c=o?["border","border-"+o]:[],d=Object(i.b)(["avatar","inline-block","align-middle","radius100p"].concat(l).concat(c).concat(t).join(" ")),u={...s,textIndent:"100%",whiteSpace:"nowrap",overflow:"hidden"};return a.createElement("img",{className:d,style:u,src:n,alt:r})}},LTrb:function(e,t,n){"use strict";t.a='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M19 4H5C3.34315 4 2 5.34314 2 7V17C2 18.6569 3.34315 20 5 20H19C20.6569 20 22 18.6569 22 17V7C22 5.34315 20.6569 4 19 4ZM4 7C4 6.44772 4.44772 6 5 6H19C19.5523 6 20 6.44772 20 7V17C20 17.5523 19.5523 18 19 18H5C4.44772 18 4 17.5523 4 17V7ZM8.70711 10.7071C9.09763 10.3166 9.09763 9.68342 8.70711 9.29289C8.31658 8.90237 7.68342 8.90237 7.29289 9.29289L5.29289 11.2929C4.90237 11.6834 4.90237 12.3166 5.29289 12.7071L7.29289 14.7071C7.68342 15.0976 8.31658 15.0976 8.70711 14.7071C9.09763 14.3166 9.09763 13.6834 8.70711 13.2929L7.41421 12L8.70711 10.7071ZM15.2929 14.7071C14.9024 14.3166 14.9024 13.6834 15.2929 13.2929L16.5858 12L15.2929 10.7071C14.9024 10.3166 14.9024 9.68342 15.2929 9.29289C15.6834 8.90237 16.3166 8.90237 16.7071 9.29289L18.7071 11.2929C19.0976 11.6834 19.0976 12.3166 18.7071 12.7071L16.7071 14.7071C16.3166 15.0976 15.6834 15.0976 15.2929 14.7071ZM14.8944 8.44722C15.1414 7.95324 14.9412 7.35257 14.4472 7.10558C13.9532 6.85859 13.3526 7.05881 13.1056 7.55279L9.10557 15.5528C8.85858 16.0468 9.05881 16.6474 9.55278 16.8944C10.0468 17.1414 10.6474 16.9412 10.8944 16.4472L14.8944 8.44722Z" fill="#3C3C3C"/>\n</svg>\n'},LdJi:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("q1tI"),i=n("n6RG");n.d(t,"b",(function(){return i.c}));const r=({children:e,atoms:t=[],full:n=!1,layout:r,id:o})=>{const s=null!=r?r:"float",l=Object(i.c)(i.a[s]),c="float"===s?[l([n?"full":""]),...t].join(" "):[l(),...n?[l(["full"])]:[],...t].join(" ");return a.createElement("div",{className:c,id:o},e)}},MTFr:function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"h",(function(){return k})),n.d(t,"g",(function(){return E})),n.d(t,"d",(function(){return v})),n.d(t,"c",(function(){return y})),n.d(t,"b",(function(){return O})),n.d(t,"f",(function(){return w})),n.d(t,"e",(function(){return A}));var a=n("qAuv"),i=n("ObC8"),r=n("2nV0"),o=n("lM4U"),s=n("sezs"),l=n("dPds"),c=n("94td"),d=n("/IHD"),u=n("zm9w"),m=n("X+my"),p=n("q1tI"),b=n.n(p),h=n("RBqt"),f=n("qYa2");const g=(e,t,n,a,i)=>b.a.createElement("div",null,b.a.createElement(l.a.HeadingSM,{as:"span",className:"block kds-mb-02"},((e,t)=>b.a.createElement("span",null,b.a.createElement(h.a,{type:"body-100",atoms:["soft-black","book"]},b.a.createElement("span",{className:"hide block-md"},e),b.a.createElement("span",{className:"block hide-md"},t))))(e,t)),b.a.createElement(l.a.BodySM,{as:"p"},n||"",n&&a?", ":"",a||"",i||"")),_=({activeDragCounter:e,iconName:t,maxFileSizeText:n,onDragLeave:a,onDragEnter:r,onDrop:o,onFileSelect:s,theme:l,copyOverrides:c={},fileAccept:u,fileSpecifications:m=""})=>{const{uploadCta:p,uploadCtaMobile:h,validFileTypes:_}=Object(f.d)(c),k=g(p,h,_,n,m),E=b.a.useRef(null);return b.a.createElement("label",{className:"relative pointer w100p h100p",onDragLeave:a,onDragEnter:r,onDrop:o,onDragOver:e=>e.preventDefault()},b.a.createElement("div",{className:Object(d.a)("border-box","flex","flex-column","items-center","justify-center","kds-p-04","kds-gap-06","kds-bg-surface-primary","kds-border","kds-border-dashed","kds-rounded-md","w100p","h100p","relative","text-center")},b.a.createElement(v,{onFileSelect:s,fileAccept:u,ref:E}),b.a.createElement(i.a,{variant:"outlined",atoms:"pointer-events-none"},h),k))},k={bytes:0,contentTypes:[],megabytes:0},E={changeFile:Object(c.b)("uploaders.Change_file"),deleteFile:Object(c.b)("uploaders.Delete_file"),deletingFile:Object(c.b)("uploaders.Deleting_file"),uploadCta:Object(c.b)("uploaders.Select_a_file"),uploadCtaMobile:Object(c.b)("uploaders.Upload_a_file"),feelFreeToMoveOn:Object(c.b)("uploaders.Feel_free_to_move_on_file"),validFileTypes:null},v=Object(p.forwardRef)(({atoms:e=[],onFileSelect:t,tabIndex:n=0,fileAccept:a},i)=>b.a.createElement("input",{accept:a,className:Object(d.a)(["hide",...e]),type:"file",tabIndex:n,onChange:e=>e.target.files&&e.target.files.length>0&&t(e.target.files[0]),ref:i})),y=({onCloseDeleteAssetModal:e=T,onOpenDeleteAssetModal:t=T,displayImageUrl:n,state:a,onDeleteAsset:s,onFileSelect:d,SupplementalComponent:u=null,SupplementalComponentControl:m=null,copyOverrides:h={},previewImageParentAtoms:g=["aspect-ratio","aspect-ratio--16x9"],previewImageAtoms:_=["aspect-ratio--override","kds-rounded-md"]})=>{const{asset:k,isDeleting:E,isDisabled:y,isShowingDeleteAssetModal:S=!1}=a,{changeFile:O,deleteFile:N,deletingFile:C}=Object(f.d)(h),j=Object(p.useRef)(null);return b.a.createElement("div",null,b.a.createElement("div",null,b.a.createElement("div",{className:g.join(" ")},(k||n)&&b.a.createElement("img",{className:_.join(" "),src:n,alt:Object(c.b)("uploaders.Preview_of_your_uploaded_file")})),b.a.createElement("div",{className:"kds-mt-04 flex flex-row kds-gap-x-02 justify-end items-center"},m,b.a.createElement("div",null,b.a.createElement(i.a,{icon:"icon--upload",variant:"outlined",compact:!0,isDisabled:y,onPress:()=>j.current.click(),"aria-label":O}),b.a.createElement(v,{tabIndex:-1,onFileSelect:d,id:"file-upload",ref:j})),b.a.createElement(i.a,{isLoading:E,icon:"icon--trash",variant:"outlined",compact:!0,isDisabled:y,onPress:t,"aria-label":E?C:N})),S&&b.a.createElement(r.a.Modal,{isOpen:!0,onOpenChange:e},b.a.createElement(o.a,{title:Object(c.b)("uploaders.Are_you_sure"),content:b.a.createElement(l.a.BodyMD,{as:"p",className:"center"},"This can’t be undone."),actions:({close:e})=>b.a.createElement(b.a.Fragment,null,b.a.createElement(r.a.PrimaryButton,{variant:"filled/destructive",onPress:()=>{s(),e()}},N))}))),u)},S=({progress:e,theme:t})=>b.a.createElement(w,{progress:e,barAtoms:["bg-"+t["primary-light"]],message:u.b.percent(e,{precision:0})}),O=({isDeleting:e,onFileSelect:t,timeElapsed:n,copyOverrides:a={}})=>{const{feelFreeToMoveOn:i}=Object(f.d)(a),r=Object(p.useRef)(null);let o,d;return n>3e5?(o=Object(c.b)("uploaders.Finalizing"),d=b.a.createElement(c.a,{i18nKey:"uploaders.This_is_taking_longer_than_it_should",tryAgainButton:e?b.a.createElement("div",{className:"flex justify-center kds-pt-04"},b.a.createElement(s.a,{name:"icon--spinner"})):b.a.createElement("label",{className:"pointer kds-text-accent-red inline-block"},b.a.createElement(v,{onFileSelect:t,ref:r}),b.a.createElement(l.a.BodyMD,{as:"span"},Object(c.b)("uploaders.Try_again")))})):n>12e4?(o=Object(c.b)("uploaders.Still_processing"),d=i):(o=Object(c.b)("uploaders.Processing"),d=i),b.a.createElement(w,{barAtoms:["kds-bg-surface-primary","animation-pulse","animation-500"],message:o,secondaryMessage:d})},N=({isDeleting:e,onTryAgain:t})=>b.a.createElement(w,{barAtoms:["kds-bg-danger-bold"],message:b.a.createElement(c.a,{i18nKey:"uploaders.Oh_no_upload_failed",retryButton:e?b.a.createElement("div",{className:"flex justify-center kds-pt-04"},b.a.createElement(s.a,{name:"icon--spinner"})):b.a.createElement("button",{className:"p0 kds-text-accent-red",onClick:t},b.a.createElement(l.a.BodyMD,{as:"span"},Object(c.b)("uploaders.Try_again_question")))})}),C=({errors:e,onUploadReset:t})=>{const n=e.map((e,t)=>b.a.createElement(l.a.BodyMD,{as:"span",key:"uploader-error-"+t},e));return b.a.createElement("div",{className:"w100p h100p kds-p-06 kds-border kds-border-dashed kds-rounded-md border-box flex flex-column items-center"},b.a.createElement("div",{className:"grow1 flex flex-column items-center justify-center"},b.a.createElement(s.a,{name:"icon--error",atoms:"kds-fill-icon-danger kds-mb-02"}),n),b.a.createElement(i.a,{onPress:t},Object(c.b)("uploaders.Okay")))},j=()=>{throw new Error("Implement me!")},w=({progress:e=100,barAtoms:t=[],message:n,secondaryMessage:a,secondaryCTA:r=null})=>{const o=Object(d.a)(e<100&&"bg-grey-400","my2 my4-md w100p"),s=u.b.percent(e/100*100,{precision:0});return b.a.createElement("div",{className:"w100p h100p"},b.a.createElement("div",{className:"flex flex-column items-center justify-center h100p kds-px-04 md:kds-px-08 kds-bg-surface-primary kds-border kds-border-dashed kds-rounded-md"},b.a.createElement(l.a.BodyMD,{as:"p"},n),b.a.createElement("div",{className:o,style:{height:"2px"}},b.a.createElement("div",{className:t.concat(["h100p","transition-all"]).join(" "),style:{width:s}})),a&&b.a.createElement(l.a.BodySM,{as:"span",className:"text-center kds-text-secondary"},a),r&&b.a.createElement(i.a,{onPress:r.action},r.message)))},I=({children:e})=>b.a.createElement(a.a,{height:28,mdHeight:35},e),T=()=>{},A=({UploadSuccess:e=j,FailureState:t=N,UploadingState:n=S,ProcessingState:a=O,EmptyState:i=_,InvalidState:r=C,Layout:o=I})=>({state:s,onDeleteAsset:l,onDragLeave:c,onDragEnter:d,onDrop:u,onFileSelect:p,onUploadReset:h,onCloseDeleteAssetModal:f=T,onOpenDeleteAssetModal:g=T,theme:_=m.a,currentTime:E=Date.now(),uploadLimit:v=k,videoOptions:y={supportsCaptions:!1,onCloseShowingCaptions:T,onOpenShowingCaptions:T,importTrack:T,confirmDeleteCaption:T,updateCaptionSelect:T,captionCreated:T,cancelDeleteCaption:T,captionDeleted:T,videoId:null}})=>{const{activeDragCounter:S,isDeleting:O,progress:N,uploaderStatus:C}=s,j="FAILED"===C,w="PROCESSING"===C,I="SUCCESSFUL"===C,A="UPLOADING"===C,D="INVALID"===C,P="EMPTY"===C||"MISSING"===C,R=null!==s.uploadedAt?E-s.uploadedAt:0;return I?b.a.createElement(e,{state:s,onFileSelect:p,onDeleteAsset:l,onCloseDeleteAssetModal:f,onOpenDeleteAssetModal:g,theme:_,videoOptions:y}):b.a.createElement(o,null,j&&b.a.createElement(t,{isDeleting:O,onTryAgain:l}),A&&b.a.createElement(n,{progress:N,theme:_}),w&&b.a.createElement(a,{isDeleting:O,onFileSelect:p,theme:_,timeElapsed:R}),D&&b.a.createElement(r,{errors:s.errors,onUploadReset:h}),P&&b.a.createElement(i,{activeDragCounter:S,onDragLeave:c,onDragEnter:d,onDrop:u,onFileSelect:p,iconName:"icon--upload",theme:_,uploadLimit:v}))}},N83F:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("q1tI"),i=n("ocnG"),r=n("Qbqs");const o=({children:e,direction:t="top",start:n="100%",end:o=0,...s})=>a.createElement(i.a,Object.assign({},s,{transitions:[Object(r.a)(),Object(r.c)({start:n,end:o,direction:t})]}),e)},NxQb:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t=window.enabled_features)=>("string"==typeof t&&(t=JSON.parse(t)),!(!t||!t[e]))},Nz1K:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));const a=e=>{const t=null==e?void 0:e.includes("soundcloud"),n=document.createElement("div"),a='<div class="text-center clip mb5">'+(t?'<style class="embedly-css">\n        .soundcloud .card {\n          max-height: 250px;\n        }\n        .soundcloud .embedly-card iframe.embedly-card {\n          max-height: 600px;\n        }\n        .card iframe[title~=SoundCloud] {\n          height: unset;\n        }\n      </style>':"")+(t?'<div class="soundcloud">':"")+`<a href="${e}" class="embedly-card" data-card-key="${window.embedlyApiKey}" data-card-controls="0" data-card-width="100%"></a>`+(t?"</div>":"")+"</div>";return n.innerHTML=a,n},i=e=>{const t=document.createElement("div");return t.innerHTML=e,Array.prototype.slice.call(t.querySelectorAll(".oembed")).forEach(e=>{const t=e;e.parentNode&&e.parentNode.replaceChild(a(t.dataset.href).firstChild,e)}),t.innerHTML}},OJn5:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("rzNZ"),i=n("g1y3"),r=n("z+X6"),o=n("sett"),s=n("q1tI");const l=(e,t)=>"__RESET_EDITOR_STATE__"===t.type?t.resetState:Object(i.d)(e,t);class c extends s.Component{constructor(e){super(e),this.store=void 0,this.unsubscribe=void 0,this.previousValue=void 0,this.handleBlur=()=>{const e=this.store.getState(),t=this.props.newEditor?e.story.content:(e=>{const t=e.story.editorState;return Object(a.a)(t.getCurrentContent(),Object(i.b)(t))})(e);this.previousValue=t,this.props.onBlur(t,e.story.editorState),this.forceUpdate(()=>{t!==this.props.value&&this.reset()})},this.dispatch=e=>{this.props.disabled||(this.store.dispatch(e),this.handleBlur())};const t=Object(i.c)(e.value,e.attachableId,e.attachableAssoc,e.storyRteVersion,e.editorState);this.store=Object(r.a)(l,t,"Rich Editor")}reset(){const e=Object(i.c)(this.props.value,this.props.attachableId);this.store.dispatch({type:"__RESET_EDITOR_STATE__",resetState:e}),this.forceUpdate()}componentDidMount(){this.unsubscribe=this.store.subscribe(()=>this.forceUpdate())}componentWillUnmount(){"function"==typeof this.unsubscribe&&this.unsubscribe()}componentDidUpdate(e){(e.attachableId!==this.props.attachableId||e.value!==this.props.value&&this.previousValue!==this.props.value)&&this.reset()}render(){return s.createElement("div",{className:"mb1 type-16"},s.createElement(o.b,{dispatch:this.dispatch,state:this.store.getState(),placeholder:this.props.placeholder,hasErrors:this.props.hasErrors,hasWarnings:this.props.hasWarnings,ToolBar:this.props.ToolBar,tracking:this.props.tracking,checkForPossiblePII:this.props.checkForPossiblePII}))}}},ObC8:function(e,t,n){"use strict";var a=n("gyzc");n.d(t,"a",(function(){return a.a}))},"Owp+":function(e,t,n){"use strict";n.d(t,"c",(function(){return i}));n("VX74");var a=n("DE4Y");n.d(t,"a",(function(){return a.F})),n.d(t,"b",(function(){return a.J}));const i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ViewPost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"me"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isKsrAdmin"}}]}},{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"publishedAt"}},{kind:"Field",name:{kind:"Name",value:"pinnedAt"}},{kind:"Field",name:{kind:"Name",value:"number"}},{kind:"Field",name:{kind:"Name",value:"actions"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"publish"}},{kind:"Field",name:{kind:"Name",value:"destroy"}},{kind:"Field",name:{kind:"Name",value:"update"}},{kind:"Field",name:{kind:"Name",value:"read"}},{kind:"Field",name:{kind:"Name",value:"edit"}},{kind:"Field",name:{kind:"Name",value:"pin"}}]}},{kind:"Field",name:{kind:"Name",value:"author"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"imageUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"120"}}]}]}},{kind:"Field",name:{kind:"Name",value:"authorRole"}},{kind:"Field",name:{kind:"Name",value:"project"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"}},{kind:"Field",name:{kind:"Name",value:"prelaunchActivated"}}]}},{kind:"Field",name:{kind:"Name",value:"isPublic"}},{kind:"Field",name:{kind:"Name",value:"isLiked"}},{kind:"Field",name:{kind:"Name",value:"likesCount"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CreatorInterview"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commentsCount"},arguments:[{kind:"Argument",name:{kind:"Name",value:"withReplies"},value:{kind:"BooleanValue",value:!0}}]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FreeformPost"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commentsCount"},arguments:[{kind:"Argument",name:{kind:"Name",value:"withReplies"},value:{kind:"BooleanValue",value:!0}}]}]}},{kind:"Field",name:{kind:"Name",value:"timeLeftToEdit"}},{kind:"Field",name:{kind:"Name",value:"nextPost"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"previousPost"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]}}]}},PXbY:function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));n("VX74");var a=n("DE4Y");n.d(t,"a",(function(){return a.n})),n.d(t,"c",(function(){return a.S}));const i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"RewardSelectInfo"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentCurrency"}},{kind:"Field",name:{kind:"Name",value:"usdType"}},{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"currency"}},{kind:"Field",name:{kind:"Name",value:"defaultPledge"}},{kind:"Field",name:{kind:"Name",value:"fxRate"}},{kind:"Field",name:{kind:"Name",value:"deadlineAt"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"actions"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayConvertAmount"}}]}},{kind:"Field",name:{kind:"Name",value:"isInPostCampaignPledgingPhase"}},{kind:"Field",name:{kind:"Name",value:"isPledgeOverTimeAllowed"}},{kind:"Field",name:{kind:"Name",value:"pledgeOverTimeCollectionPlanChargeExplanation"}},{kind:"Field",name:{kind:"Name",value:"pledgeOverTimeMinimumExplanation"}},{kind:"Field",name:{kind:"Name",value:"pledgeOverTimeCollectionPlanShortPitch"}},{kind:"Field",name:{kind:"Name",value:"pledgeOverTimeWarning"}},{kind:"Field",name:{kind:"Name",value:"pledgeOverTimeWarningExplanation"}},{kind:"Field",name:{kind:"Name",value:"pledgeOverTimeCollectionPlanChargeExplanation"}},{kind:"Field",name:{kind:"Name",value:"pledgeOverTimeMinimumExplanation"}},{kind:"Field",name:{kind:"Name",value:"pledgeOverTimeCollectionPlanShortPitch"}},{kind:"Field",name:{kind:"Name",value:"pledgeOverTimeCollectionPlanChargedAsNPayments"}},{kind:"Field",name:{kind:"Name",value:"addOns"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RewardSelectInfoReward"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rewards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"sort"},value:{kind:"BooleanValue",value:!0}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RewardSelectInfoReward"}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"RewardSelectInfoReward"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Reward"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"amount"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currency"}},{kind:"Field",name:{kind:"Name",value:"amount"}},{kind:"Field",name:{kind:"Name",value:"symbol"}}]}},{kind:"Field",name:{kind:"Name",value:"available"}},{kind:"Field",name:{kind:"Name",value:"backersCount"}},{kind:"Field",name:{kind:"Name",value:"remainingQuantity"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"limitPerBacker"}},{kind:"Field",name:{kind:"Name",value:"limit"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"image"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"600"}}]},{kind:"Field",name:{kind:"Name",value:"altText"}}]}},{kind:"Field",name:{kind:"Name",value:"estimatedDeliveryOn"}},{kind:"Field",name:{kind:"Name",value:"shippingPreference"}},{kind:"Field",name:{kind:"Name",value:"shippingSummary"}},{kind:"Field",name:{kind:"Name",value:"startsAt"}},{kind:"Field",name:{kind:"Name",value:"endsAt"}},{kind:"Field",name:{kind:"Name",value:"isMaxPledge"}},{kind:"Field",name:{kind:"Name",value:"simpleShippingRulesExpanded"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cost"}},{kind:"Field",name:{kind:"Name",value:"estimatedMin"}},{kind:"Field",name:{kind:"Name",value:"estimatedMax"}},{kind:"Field",name:{kind:"Name",value:"locationId"}},{kind:"Field",name:{kind:"Name",value:"locationName"}}]}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Items"}}]}},{kind:"Field",name:{kind:"Name",value:"allowedAddons"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AddOns"}}]}},{kind:"Field",name:{kind:"Name",value:"postCampaignPledgingEnabled"}},{kind:"Field",name:{kind:"Name",value:"audienceData"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"secret"}}]}},{kind:"Field",name:{kind:"Name",value:"featured"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"AddOn"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Reward"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"AddOns"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RewardConnection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AddOn"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Items"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RewardItemsConnection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"quantity"}},{kind:"Field",name:{kind:"Name",value:"position"}},{kind:"Field",name:{kind:"Name",value:"node"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}},PhMr:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,...t)=>n=>n[e](...t)},Qbqs:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r}));const a=({start:e=0,end:t=1}={})=>({entering:{opacity:e},entered:{opacity:t},exiting:{opacity:e},exited:{opacity:e}}),i=({start:e=0,end:t=1}={})=>({entering:{transform:`scale(${e})`},entered:{transform:`scale(${t})`},exiting:{transform:`scale(${e})`},exited:{transform:`scale(${e})`}}),r=({start:e="100%",end:t=0,direction:n="top"}={})=>{let a;"top"===n||"bottom"===n?a="Y":"left"!==n&&"right"!==n||(a="X");const i=`translate${a}(${"top"===n||"left"===n?"-":""}${e})`;return{entering:{transform:i},entered:{transform:`translate${a}(${t})`},exiting:{transform:i},exited:{transform:i}}}},RBqt:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("8Np1"),i=n("q1tI");const r=e=>i.createElement(a.a,Object.assign({},e,{tag:"span"}),e.children)},RK67:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return o}));const a="COMPONENT_ERROR",i="CUSTOM_ERROR",r=(e,t,n)=>({type:a,error:e,info:t,tags:n}),o=(e,t)=>({type:i,error:e,tags:t})},S1QU:function(e,t,n){"use strict";var a=n("60hy"),i=n("2UXI");const r=Object(a.a)(window.current_checkout);r&&r.on_change(e=>{e.reward&&Object(i.d)("Checkout Reward Changed")}),window.current_checkout=r,t.a=r},SdBH:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("lX80"),i=n("LdJi"),r=n("f/gE"),o=n("q1tI"),s=n.n(o);const l=({children:e,colProps:t,divProps:n,gridProps:o,renderGrid:l=!1})=>l?s.a.createElement("div",n,s.a.createElement(i.a,o,s.a.createElement(r.a,null,s.a.createElement(a.a,t,e)))):s.a.createElement(s.a.Fragment,null,e)},Sdzn:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));const a=(e,t,n="id")=>e.map(e=>e[n]!==t[n]?e:{...e,...t}),i=(e,t)=>t+1===e.length,r=e=>e.sort(()=>Math.random()-.5)},SmhT:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"g",(function(){return s})),n.d(t,"k",(function(){return l})),n.d(t,"l",(function(){return c})),n.d(t,"m",(function(){return d})),n.d(t,"n",(function(){return u})),n.d(t,"i",(function(){return m})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return b})),n.d(t,"h",(function(){return h})),n.d(t,"o",(function(){return f})),n.d(t,"j",(function(){return g}));const a=8,i=40,r=13,o=27,s=37,l=39,c=32,d=9,u=38,m=2,p=74,b=75,h=[65,66,67,68,69,70,71,72,73,p,b,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],f=e=>e>=66&&e<=90,g=[18,91,93,17,i,r,o,s,l,16,d,u,91,92,93,17,224]},T3Mw:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));var a=n("q1tI"),i=n("UujG");const r=["h7","lh3","border-box"],o={placeholder:[...r],active:[...r],disabled:["border-grey-400","bg-grey-100"],enabled:["border-focused-within-ksr-green-500","hover-border-ksr-green-500"]},s=({atoms:e,...t})=>a.createElement(i.a,Object.assign({atoms:{...o,...e}},t))},T8n5:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("8Np1"),i=n("/IHD"),r=n("hPy8"),o=n("q1tI");const s=e=>o.createElement(r.c,null,t=>o.createElement(a.a,Object.assign({},e,{atoms:Object(i.b)(e.atoms,t.body.atoms),tag:"p"}),e.children))},TIPN:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l}));const a=(e={})=>{const t=document.getElementsByClassName("js-site-nav-container")[0],n=document.getElementsByClassName("js-admin-nav-wrap")[0],a=(t&&t.clientHeight||0)+(n&&n.clientHeight||0);return i({offset:a,...e})},i=({element:e=document.scrollingElement||document.body,to:t=0,duration:n=1e3,easing:a="easeInOutQuad",offset:i=0})=>{const o=e.scrollTop,s=t-o-i;let l;return new Promise(t=>{const i=c=>{l||(l=c);const d=(c-l)/n,u=Math.max(0,Math.min(1,d));e.scrollTop=o+r[a](u)*s,u<1?window.requestAnimationFrame(i):t()};window.requestAnimationFrame(i)})},r={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e*e:(4-2*e)*e-1,easeInCubic:e=>e*e*e,easeOutCubic:e=>--e*e*e+1,easeInOutCubic:e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1- --e*e*e*e,easeInOutQuart:e=>e<.5?8*e*e*e*e:1-8*--e*e*e*e,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1+--e*e*e*e*e,easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e},o=(e=200)=>{i({to:0,duration:e})},s=(e,t=0,n=300)=>{const a=document.getElementById(e);if(a){const e=a.getBoundingClientRect().top,r=window.pageYOffset||document.documentElement.scrollTop;i({to:e+r,offset:t,duration:n})}},l=({ref:e,offset:t=0,duration:n})=>{if(e&&e.current){const a=e.current.getBoundingClientRect().top,r=window.pageYOffset||document.documentElement.scrollTop;i({to:a+r+1,offset:t,duration:n})}}},U5Hm:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));const a=Object.freeze({LG:1024,MD:794,SM:599}),i=()=>{if("object"==typeof window)return window.innerWidth>a.LG?"lg":window.innerWidth>a.MD?"md":window.innerWidth>a.SM?"sm":"xs"}},UUNB:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("q1tI");const i=e=>{const[t,n]=Object(a.useState)(!1),i=t=>{t.which===e&&n(!0)},r=t=>{t.which===e&&n(!1)};return Object(a.useEffect)(()=>(window.addEventListener("keydown",i),window.addEventListener("keyup",r),()=>{window.removeEventListener("keydown",i),window.removeEventListener("keyup",r)}),[]),t}},UlFT:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("q1tI"),i=n.n(a),r=n("czyi"),o=n("sezs"),s=n("c5x8");const l=e=>i.a.createElement(r.a,Object(s.a)(e,"kds-switch"),i.a.createElement("span",{className:"kds-switch__track"},i.a.createElement(o.a,{atoms:"kds-switch__thumb",name:"icon--check",size:"sm"})),i.a.createElement("span",{className:"kds-switch__label"},e.children));l.View=function({state:e,...t}){return i.a.createElement("span",{inert:""},i.a.createElement(l,Object.assign({},Object(s.a)(t,"kds-switch"),{"data-state":e})))}},UujG:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return d}));var a=n("2DJ9"),i=n("94td"),r=n("/IHD"),o=n("q1tI");function s(e,t,n,a){return e.map(e=>({label:t(e).toString(),value:n(e).toString(),disabled:a?a(e):void 0}))}const l=Object(r.a)("o0p","absolute","t0","l0","b0","r0","w100p","h100p","z1"),c=Object(r.a)("relative","border","border-grey-400","p2");class d extends o.Component{render(){const{id:e,options:t,selectedValue:n,onBlur:s,onChange:d=(()=>{}),placeholder:u,hasErrors:m,required:p,disabled:b,clearable:h,withDropdownIcon:f=!0,name:g=""}=this.props,_={placeholder:[],active:[],disabled:[],enabled:[],...this.props.atoms};if(0===t.length)return null;const k=u?o.createElement("option",{"aria-selected":!1,disabled:!0,value:""},u):null,E=t.filter(e=>e.value===n),v=E.length?E[0].label:u,y=E.length?E[0].selectedItemPreview&&E[0].selectedItemPreview():void 0,S=u===v?_.placeholder:_.active,O=Object(r.a)(c,S,m&&"border-red-400",b?_.disabled:_.enabled),N=Object(r.a)(l,b?"cursor-default":"pointer",m&&"has-errors");return o.createElement("div",{className:O},o.createElement("label",null,y,v,h&&n&&o.createElement("button",{"aria-label":Object(i.b)("components.simple_select.clear_value"),className:"z5 absolute r5 t1 b0 my-auto",type:"button",onClick:e=>{e.preventDefault(),d("")}},o.createElement(a.a,{name:"icon--cross",size:"14"})),f&&!b&&o.createElement(a.a,{atoms:["absolute r2 t0 b0 my-auto"],name:"icon--delta-down",size:"14"}),o.createElement("select",{id:e,onBlur:s,required:p,value:n,disabled:b,className:N,onChange:e=>d(e.target.value),name:g},k,t.map((e,t)=>o.createElement("option",{"aria-selected":e.value===n,disabled:e.disabled,value:e.value,key:t},e.label)))))}}},UvgG:function(e,t,n){"use strict";n.d(t,"g",(function(){return _})),n.d(t,"e",(function(){return k})),n.d(t,"f",(function(){return E})),n.d(t,"k",(function(){return v})),n.d(t,"l",(function(){return y})),n.d(t,"c",(function(){return S})),n.d(t,"a",(function(){return O})),n.d(t,"i",(function(){return N})),n.d(t,"j",(function(){return C})),n.d(t,"b",(function(){return j})),n.d(t,"h",(function(){return w})),n.d(t,"d",(function(){return I}));var a=n("Puqe"),i=n.n(a),r=n("DT56"),o=n.n(r),s=n("yHON"),l=n.n(s),c=n("pj8f"),d=n("ECYc"),u=n("qn6j"),m=n("1OuE"),p=n("g84z"),b=n("arGM"),h=n("xk4V"),f=n.n(h),g=n("YToL");const _=e=>e&&0!==Object.keys(e).length,k=(e=window.location.href,t=window.location.pathname)=>{const n=Object(p.a)(e),a=i()(n,"comment");return Object(b.e)(t,a)},E=(e=window.location.href)=>Object(b.e)("/login",{ref:"comments",then:e}),v=e=>[...e].sort((e,t)=>o()(e.createdAt,t.createdAt)),y=e=>[...e].sort((e,t)=>l()(e.node.pinnedAt,t.node.pinnedAt)||l()(e.node.createdAt,t.node.createdAt)),S=(e,t)=>({__typename:"Mutation",createComment:{__typename:"PostCommentPayload",comment:{id:`${g.e}-${f()()}`,body:e.body,createdAt:Math.round(Date.now()/1e3)-1,author:{...t.me,__typename:"User"},authorBadges:[],hasFlaggings:!1,canReport:!1,canPin:!1,deletedAuthor:!1,deleted:!1,canDelete:!1,sustained:!1,authorCanceledPledge:!1,removedPerGuidelines:!1,authorBacking:null,parentId:t.parentId||null,pinnedAt:null,replies:t.parentId?null:{__typename:"CommentReplyConnection",totalCount:0,nodes:[],pageInfo:{__typename:"PageInfo",startCursor:null,hasPreviousPage:!1,endCursor:null,hasNextPage:!1}},__typename:"Comment"}}}),O=e=>(t,{fetchMoreResult:n})=>{if(!n)return t;const a=e?[...t.commentable.comments.edges,...n.commentable.comments.edges]:[...n.commentable.comments.edges,...t.commentable.comments.edges],i=e?{...t.commentable.comments.pageInfo,hasNextPage:n.commentable.comments.pageInfo.hasNextPage,endCursor:n.commentable.comments.pageInfo.endCursor}:{...t.commentable.comments.pageInfo,hasPreviousPage:n.commentable.comments.pageInfo.hasPreviousPage,startCursor:n.commentable.comments.pageInfo.startCursor};return{...n,commentable:{...t.commentable,comments:{...n.commentable.comments,edges:a,pageInfo:i}}}},N=e=>(t,{id:n,replyCursor:a,existingReplies:i})=>{const r=Date.now();return e.query({query:t,variables:{replyCursor:a,id:n}}).then(async e=>(Object(d.a)(u.a.TIME,g.d.LOAD_PREVIOUS_REPLIES_TIME,Date.now()-r),{...e.data.node.replies,nodes:[...i.nodes,...e.data.node.replies.nodes]})).catch(e=>{c.Honeybadger.notify(JSON.stringify(e))})},C=e=>async()=>{Object(d.a)(u.a.INCREMENT,g.d.LOAD_PREVIOUS_REPLIES),e.toggleRepliesLoading();try{const t=await e.onLoadMoreReplies(e.client)(e.query,{id:e.commentId,replyCursor:e.replyCursor,existingReplies:e.replies});return e.toggleRepliesLoading(),t}catch(t){e.toggleRepliesLoading()}},j=(e,t,n)=>(a,i,r,o)=>s=>({onClick:o({commentId:n,client:e,query:t,replyCursor:s.pageInfo.startCursor,replySize:s.totalCount,toggleRepliesLoading:i,onLoadMoreReplies:r,replies:s}),loadingStatus:a,totalCount:s.totalCount,showingCount:s.nodes.length,hasMorePages:s.pageInfo.hasPreviousPage}),w=()=>new Promise(e=>e()),I=e=>"number"!=typeof e||e<0?null:Object(m.b)("LLL z",e)},VF4V:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var a=n("iuhU"),i=n("q1tI"),r=n.n(i);const o=e=>Object(a.b)(e,"do-not-visually-track");function s({as:e,className:t,...n}){const a=e||"span";return r.a.createElement(a,Object.assign({className:o(t)},n))}},VG4z:function(e,t,n){"use strict";t.a='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M17 2H5C3.34315 2 2 3.34314 2 5V14C2 15.6569 3.34315 17 5 17H12C12.5523 17 13 16.5523 13 16C13 15.4477 12.5523 15 12 15H7.49201L12.1957 11.7662C12.593 11.4931 13.1285 11.5423 13.4694 11.8831L14.2933 12.7071C14.4809 12.8946 14.7352 13 15.0004 13C15.8913 13 16.3375 11.9229 15.7075 11.2929L14.2954 9.88074C13.6137 9.19901 12.5426 9.10067 11.7481 9.64687L4.43356 14.6756C4.37668 14.7147 4.2987 14.7162 4.2528 14.6646C4.09554 14.4879 4 14.2551 4 14V5C4 4.44771 4.44772 4 5 4H17C17.5523 4 18 4.44772 18 5V12C18 12.5523 18.4477 13 19 13C19.5523 13 20 12.5523 20 12V5C20 3.34314 18.6569 2 17 2ZM10 8C10 9.10457 9.10457 10 8 10C6.89543 10 6 9.10457 6 8C6 6.89543 6.89543 6 8 6C9.10457 6 10 6.89543 10 8ZM15 16C15 15.4477 15.4477 15 16 15H21C21.5523 15 22 15.4477 22 16C22 16.5523 21.5523 17 21 17H16C15.4477 17 15 16.5523 15 16ZM16 19C15.4477 19 15 19.4477 15 20C15 20.5523 15.4477 21 16 21H19C19.5523 21 20 20.5523 20 20C20 19.4477 19.5523 19 19 19H16Z" fill="#3C3C3C"/>\n</svg>\n'},VJVG:function(e,t,n){"use strict";var a=n("94td"),i=n("/IHD"),r=n("q1tI"),o=n.n(r),s=n("wSuE"),l=n("YToL"),c=n("DI+Y"),d=n("UYTu");var u=d.a`
  mutation deleteComment($id: ID!) {
    deleteComment(input: { id: $id }) {
      commentable {
        commentsCount
      }
    }
  }
`,m=n("GRmu"),p=n("pj8f"),b=n("tr1H"),h=n("2DJ9"),f=n("egyr"),g=n("mEsB");var _=({onClick:e,loading:t})=>t?o.a.createElement(f.a,{size:"medium"}):o.a.createElement(g.a,{label:Object(a.b)("project_page.comments.Delete"),placement:"top",focusWithin:!0},o.a.createElement("button",{"data-test-id":"delete-comment",className:"keyboard-focusable",onClick:e},o.a.createElement(h.a,{name:"trash"}))),k=n("CKbS");class E extends r.Component{constructor(e){super(e),this.toggleLoading=()=>{this.setState(e=>({loading:!e.loading}))},this.onDeleteClick=()=>(this.toggleLoading(),this.props.mutate({variables:{id:this.props.id},refetchQueries:[{query:k.b,variables:{id:this.props.id}}]}).then(()=>{this.toggleLoading()}).catch(e=>{this.toggleLoading(),Object(m.a)({error:Object(a.b)("project_page.comments.Unable_to_delete")}),p.Honeybadger.notify(JSON.stringify(e),{context:{tags:b.a.PROCOMM}})})),this.state={loading:!1}}render(){return o.a.createElement(_,{onClick:this.onDeleteClick,loading:this.state.loading})}}var v=E,y=Object(c.graphql)(u)(v),S=n("aQhD"),O=n("lHf8");const N=({interactionsVisible:e,children:t,iconName:n="ellipsis"})=>{const[a,i]=Object(r.useState)(!1),s=o.a.useRef(null),l=e=>{var t;(null==s||null===(t=s.current)||void 0===t?void 0:t.contains(e.target))||i(!1)};return Object(r.useEffect)(()=>(document.addEventListener("mousedown",l,!0),()=>{document.removeEventListener("mousedown",l,!0)}),[]),o.a.createElement("div",{className:"relative",ref:s},o.a.createElement(S.a,{open:a||e,duration:300},o.a.createElement("button",{onClick:()=>i(!a),className:"bg-white white radius100p block flex flex-column items-center justify-center no-outline",style:{width:"25px",height:"25px"}},o.a.createElement(h.a,{name:"icon--"+n,size:"medium",atoms:["fill-support-500"]}))),a&&o.a.createElement("div",{className:"shadow-low absolute t5 r0 bg-white z10"},t))},C=({items:e})=>{const t=e.map((t,n)=>{const a="function"==typeof t.linkOrFunction?{onClick:t.linkOrFunction}:{href:t.linkOrFunction,target:"_blank"};return o.a.createElement(o.a.Fragment,{key:n},o.a.createElement("div",{className:"flex p1 items-center"},t.iconName&&o.a.createElement(h.a,{name:"icon--"+t.iconName,size:"medium",atoms:["mr1"]}),t.disabled?t.label:o.a.createElement(O.a,Object.assign({color:"soft-black",atoms:["inline-block"]},a),t.label)),n<e.length-1&&o.a.createElement("div",{className:"border-bottom border-support-300"}))});return o.a.createElement(o.a.Fragment,null,t)};var j=n("c7Xp"),w=n("pTxv");class I extends o.a.Component{constructor(e){super(e),this.onSubmit=()=>this.props.mutate({variables:{contentId:this.props.contentId,kind:this.props.kind},refetchQueries:[{query:k.b,variables:{id:this.props.contentId}}]}).then(()=>{this.props.closeModal(),Object(m.a)({success:Object(a.b)("project_page.comments.Our_Trust_and_Safety_team_will_review_this_comment")})}).catch(e=>{this.props.closeModal(),Object(m.a)({error:Object(a.b)("project_page.comments.Report_comment_error")}),p.Honeybadger.notify(JSON.stringify(e),{context:{tags:b.a.PROCOMM}})})}render(){return o.a.createElement(w.b,{disabled:this.props.disabled,theme:"support",onClick:this.onSubmit},Object(a.b)("project_page.comments.Report_comment"))}}var T=I,A=n("DRAL"),D=Object(d.a)(A.a),P=Object(c.graphql)(D)(T,Object(j.a)()),R=n("dDCb"),F=n("WSTq"),L=n("SmhT");const M=[L.l,L.c];var x=({onClose:e,contentId:t})=>{const[n,i]=Object(r.useState)(""),s=!n.length;return o.a.createElement(F.a,{size:"small",onClose:e,headerCopy:Object(a.b)("project_page.comments.Why_are_you_reporting_this_comment")},o.a.createElement("div",{className:"text-center"},o.a.createElement("div",{className:"mb4"},Object.keys(l.b).map(e=>{const t=l.b[e];return o.a.createElement("div",{className:"pointer flex mr4",role:"radio",key:"comment-flagging-reason-"+t,"aria-checked":n===e,onClick:()=>i(e),onKeyDown:e=>((e,t)=>{if(e.preventDefault(),e.target===e.currentTarget&&M.includes(e.keyCode))switch(e.keyCode){case L.l:case L.c:t(e.target.dataset.reason);default:return null}})(e,i),tabIndex:0,"data-reason":e},o.a.createElement("input",{className:"super-hide",type:"radio",checked:n===e,"aria-checked":n===e,value:e,onChange:e=>i(e.target.value)}),o.a.createElement(R.a,{isSelected:n===e}),o.a.createElement("label",{className:"mb3"},o.a.createElement("div",{className:"ksr-green-700 bold mr1 type-16 text-left"},Object(a.b)("project_page.comments.Report_reason_"+t)),o.a.createElement("div",{className:"type-13 text-left"},Object(a.b)("project_page.comments.Report_info_"+t))))})),o.a.createElement(P,{contentId:t,closeModal:e,kind:n,disabled:s}),o.a.createElement("div",{className:"type-12 support-400 text-center mt4"},Object(a.b)("project_page.comments.Reported_comments_remain_hidden_while_under_review")),o.a.createElement("div",{className:"type-12 support-400 text-center"},Object(a.b)("project_page.comments.Only_the_author_can_see_them"))))},U=n("v9JK"),V=n("gN63");n("VX74"),n("DE4Y");const B={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ToggleCommentPin"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ToggleCommentPinInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"toggleCommentPin"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"comment"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pinnedAt"}}]}}]}}]}}]};var H=e=>{const{commentId:t,pinnedAt:n,closeModal:i,refetch:r}=e,s=n?Object(a.b)("project_page.comments.Unpin_this_comment"):Object(a.b)("project_page.comments.Pin_this_comment"),l=o.a.createElement("div",{className:"ml9 mb3"},n?Object(a.b)("project_page.comments.Youll_no_longer_see_it_at_the_top_of_your_comment_section"):o.a.createElement("div",null,Object(a.b)("project_page.comments.Youll_see_it_at_the_top_of_your_comment_section"))),c=n?Object(a.b)("project_page.comments.Yes_unpin_it"):Object(a.b)("project_page.comments.Yes_pin_it");return o.a.createElement(U.a,{size:"small",onClose:i,headerCopy:s,secondaryCloseCopy:Object(a.b)("overlay_modal.cancel")},l,o.a.createElement("button",{className:"bttn-primary theme--support bttn-medium w100p",onClick:()=>{var e;(e={commentId:t,pinned:!n},Object(V.c)(B,{input:e})).then(e=>{var t;i(),(null===(t=e.errors)||void 0===t?void 0:t.length)&&Object(m.a)({error:e.errors[0].message})}).then(()=>{r()})}},c))};const Y=({reportStatus:e})=>{let t;switch(e){case G.sustained:t=o.a.createElement("div",{className:"min-w35 text-left pr1"},o.a.createElement("div",{className:"flex"},o.a.createElement("span",null,o.a.createElement(h.a,{name:"icon--alert",size:"15",atoms:["relative mr1 icon-disabled"]})),o.a.createElement("span",{className:"dark-grey-400"},o.a.createElement("div",null,Object(a.b)("project_page.comments.Reported")),o.a.createElement("div",null,Object(a.b)("project_page.comments.Sustained")))));break;case G.reported:t=o.a.createElement("div",{className:"min-w35 text-left"},o.a.createElement(h.a,{name:"icon--alert",size:"15",atoms:["relative mr1 icon-disabled"]}),o.a.createElement("span",{className:"dark-grey-400"},Object(a.b)("project_page.comments.Reported")));break;default:t=o.a.createElement("div",{className:"min-w35 text-left"},o.a.createElement(h.a,{name:"icon--alert",size:"15",atoms:["relative mr1"]}),Object(a.b)("project_page.comments.Report_comment"))}return o.a.createElement(o.a.Fragment,null,t)};let G=function(e){return e.sustained="sustained",e.reported="reported",e.reportable="reportable",e}({});var q=e=>{const{pinnedAt:t,canPin:n,canReport:i,commentId:s,hasFlaggings:l,sustained:c,refetch:d}=e,[u,m]=Object(r.useState)(!1),[p,b]=Object(r.useState)(!1),f=t?Object(a.b)("project_page.comments.Unpin_comment"):Object(a.b)("project_page.comments.Pin_comment"),g=c?G.sustained:l?G.reported:G.reportable,_={label:o.a.createElement("div",{className:"min-w35 text-left"},o.a.createElement(h.a,{name:"icon--pin",size:"15",atoms:["relative mr1"]}),o.a.createElement("span",{className:"keep-all type-14"},f)),linkOrFunction:()=>m(!0)},k={label:o.a.createElement(Y,{reportStatus:g}),disabled:g!==G.reportable,linkOrFunction:()=>b(!0)},E=[i?k:null,n?_:null].filter(e=>!!e);return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"mr1"},o.a.createElement(N,{interactionsVisible:E.length>0,children:o.a.createElement(C,{items:E})})),u&&o.a.createElement(H,{commentId:s,pinnedAt:t,closeModal:()=>m(!1),refetch:d}),p&&o.a.createElement(x,{onClose:()=>{b(!1)},contentId:s}))},K=n("Sdzn");var z=({body:e,deleted:t,hideContent:n})=>{const s=e.split(/(?:\r\n|\n)/g);return t?o.a.createElement("p",{className:"dark-grey-500"},e,o.a.createElement("span",null," "),o.a.createElement(a.a,{i18nKey:"project_page.comments.Learn_more_about_comment_guidelines",guidelinesLink:o.a.createElement("a",{className:"bold soft-black",href:"/help/community"},Object(a.b)("project_page.comments.guidelines"))})):n?o.a.createElement(a.a,{i18nKey:"project_page.comments.this_user_has_been_blocked"}):o.a.createElement(r.Fragment,null,s.map((e,t)=>{const n=Object(i.a)("data-comment-text","type-14",Object(K.a)(s,t)?"mb0":"mb2");return o.a.createElement("p",{key:t,className:n},e)}))},W=n("6Oeb");var $=({suppressed:e,deleted:t,body:n,selectedText:a,hideContent:i})=>o.a.createElement("div",{className:"flex"},e&&o.a.createElement(h.a,{name:"info",size:"16",atoms:["fill-dark-grey-500","mr1","relative","t3px"]}),o.a.createElement("div",{className:"w100p"},a&&o.a.createElement(W.a,{body:a}),o.a.createElement(z,{body:n,deleted:t,hideContent:i}))),Z=n("mv45"),J=n("7xcP"),X=n("L/h+"),Q=n("EoiL"),ee=n("1OuE"),te=n("zm9w"),ne=n("uBwy");const ae=e=>e&&null!==e.amount&&null!==e.currency?te.b.money(e.amount,{precision:0,currency:e.currency}):o.a.createElement(ne.a,null),ie=({id:e,hasFlaggings:t,removalRequestIsNonissue:n,backerName:i,backerImage:r,backingsCount:s,backingUrl:l,rewardsAmount:c,shippingAmount:d,shippingSummary:u,amount:m,bonusAmount:p,pledgedAt:b,reward:f,addOns:g})=>{const _=Boolean(p&&"0.0"!==p.amount),k=f?ae(c):Object(a.b)("backing_info.No_reward");return o.a.createElement("div",{className:"px1"},o.a.createElement("div",{className:"border-bottom flex items-center pb5"},o.a.createElement(X.a,{imageUrl:r,size:6,atoms:["mr2"]}),o.a.createElement("div",null,o.a.createElement(Q.a,{level:2,type:"subhead-500",weight:"normal",atoms:["mb0"]},i),o.a.createElement("div",{className:"flex items-center"},o.a.createElement(h.a,{name:"icon--small-k",size:"medium",atoms:["fill-soft-black","mr1"]}),o.a.createElement("span",null,s>0?Object(a.b)("backing_info.Projects_backed",{count:s}):"")))),o.a.createElement("div",null,o.a.createElement("div",{id:"amount-section",className:"pb3 mt3 border-bottom flex justify-between"},o.a.createElement("div",{className:"w25p"},Object(a.b)("backing_info.Amounts")),o.a.createElement("div",{className:"w50p"},o.a.createElement("div",null,Object(a.b)("backing_info.Pledge")),u&&o.a.createElement("div",null,u),_&&o.a.createElement("div",null,Object(a.b)("backing_info.Bonus")),o.a.createElement("div",{className:"mt2"},"Total")),o.a.createElement("div",{className:"text-right w25p"},o.a.createElement("div",null,k),u&&o.a.createElement("div",null,ae(d)),_&&o.a.createElement("div",null,ae(p)),o.a.createElement("div",{className:"mt2"},ae(m)))),f&&o.a.createElement("div",{id:"reward-section",className:"pb3 mt3 border-bottom flex justify-between"},o.a.createElement("div",{className:"w25p"},Object(a.b)("backing_info.Reward")),o.a.createElement("div",{className:"w50p"},o.a.createElement("div",null,f.name),g&&g.length>0&&o.a.createElement("div",{className:"mt1"},g.map((e,t)=>o.a.createElement("div",{key:t,className:"ml2"},o.a.createElement("span",{className:"mr2"},"+"),e.name)))),o.a.createElement("div",{className:"text-right w25p"},f&&o.a.createElement("div",null,"x1"),g&&g.length>0&&o.a.createElement("div",{className:"mt1"},g.map((e,t)=>o.a.createElement("div",{key:t,className:"ml2"},"x"+e.quantity))))),o.a.createElement("div",{id:"pledged-at-section",className:"pb3 mt3 flex justify-between"},o.a.createElement("div",{className:"w25p"},Object(a.b)("backing_info.Pledge_date")),o.a.createElement("div",{className:"w50p left"},o.a.createElement("div",null,b&&Object(ee.b)("LL",b))),o.a.createElement("div",{className:"w25p"})),o.a.createElement("div",null,o.a.createElement("div",{className:"right ml2"},o.a.createElement(J.a,{backingId:e,hasFlagging:t,removalRequestIsNonissue:n})),o.a.createElement("div",null,l&&o.a.createElement("div",{className:"right"},o.a.createElement(w.c,{href:l,target:"_blank"},Object(a.b)("backing_info.View_pledge")))))))},re=({backerName:e,backerImage:t,backingUrl:n,errored:i})=>o.a.createElement("div",{className:"px1"},o.a.createElement("div",{className:"border-bottom flex items-center pb5"},o.a.createElement(X.a,{imageUrl:t,size:6,atoms:["mr2"]}),o.a.createElement("div",null,o.a.createElement(Q.a,{level:2,type:"subhead-500",weight:"normal"},e))),o.a.createElement("div",{className:"py11 flex flex-column items-center"},i?o.a.createElement(o.a.Fragment,null,o.a.createElement(h.a,{size:"36",name:"icon--alert"}),o.a.createElement("p",{className:"pt6"},Object(a.b)("backing_info.We_couldnt_load_this"))):o.a.createElement(f.a,{size:"48"})),n&&o.a.createElement("div",{className:"right"},o.a.createElement(w.c,{href:n,target:"_blank"},Object(a.b)("backing_info.View_pledge")))),oe=({errored:e,loading:t,preloadedData:n,backing:a,onClose:i})=>o.a.createElement(F.a,{size:"large",onClose:i},(t||e)&&n?o.a.createElement(re,Object.assign({},n,{errored:e})):o.a.createElement(ie,a)),se={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BackingInfo"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"backing"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"backingUrl"}},{kind:"Field",name:{kind:"Name",value:"removalRequestIsNonissue"}},{kind:"Field",name:{kind:"Name",value:"hasFlaggings"}},{kind:"Field",name:{kind:"Name",value:"pledgedOn"}},{kind:"Field",name:{kind:"Name",value:"shippingSummary"}},{kind:"Field",name:{kind:"Name",value:"shippingAmount"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"}},{kind:"Field",name:{kind:"Name",value:"currency"}}]}},{kind:"Field",name:{kind:"Name",value:"rewardsAmount"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"}},{kind:"Field",name:{kind:"Name",value:"currency"}}]}},{kind:"Field",name:{kind:"Name",value:"bonusAmount"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"}},{kind:"Field",name:{kind:"Name",value:"currency"}}]}},{kind:"Field",name:{kind:"Name",value:"amount"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"}},{kind:"Field",name:{kind:"Name",value:"currency"}}]}},{kind:"Field",name:{kind:"Name",value:"reward"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"addOnsWithQuantity"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"quantity"}}]}},{kind:"Field",name:{kind:"Name",value:"backer"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"imageUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"200"}}]},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"backingsCount"}}]}}]}}]}}]};const le=Object(Z.c)(e=>{var t,n,a,i,r;if(!(null==e||null===(t=e.data)||void 0===t?void 0:t.backing))return Object(Z.d)();const o=e.data.backing,s=null==o||null===(n=o.addOnsWithQuantity)||void 0===n?void 0:n.map(e=>e&&e.name?{name:e.name,quantity:e.quantity}:null);return Object(Z.l)({backing:{id:null==o?void 0:o.id,hasFlaggings:null==o?void 0:o.hasFlaggings,removalRequestIsNonissue:null==o?void 0:o.removalRequestIsNonissue,backerName:(null==o||null===(a=o.backer)||void 0===a?void 0:a.name)||"",backerImage:(null==o||null===(i=o.backer)||void 0===i?void 0:i.imageUrl)||"",backingUrl:null==o?void 0:o.backingUrl,backingsCount:(null==o||null===(r=o.backer)||void 0===r?void 0:r.backingsCount)||0,amount:null==o?void 0:o.amount,rewardsAmount:null==o?void 0:o.rewardsAmount,shippingAmount:null==o?void 0:o.shippingAmount,bonusAmount:null==o?void 0:o.bonusAmount,shippingSummary:null==o?void 0:o.shippingSummary,pledgedAt:null==o?void 0:o.pledgedOn,reward:(l=null==o?void 0:o.reward,l&&l.name?{name:l.name}:null),addOns:s||[]}});var l}),ce=Object(c.graphql)(se,le)(e=>{const t={...e,loading:!Object(Z.i)(e),errored:Object(Z.g)(e)};return o.a.createElement(oe,t)});var de=n("wpot"),ue=n("VF4V");const me={[l.g.CREATOR]:{text:Object(a.b)("project_page.comments.Creator"),classes:"bg-ksr-green-700 white px1 type-14 mr1"},[l.g.COLLABORATOR]:{text:Object(a.b)("project_page.comments.Collaborator"),classes:"bg-ksr-green-700 o50p white o0p px1 type-14 mr1"},[l.g.SUPERBACKER]:{text:Object(a.b)("project_page.comments.Superbacker"),classes:"apricot-600 type-14 mr1"}};var pe=n("fQhN"),be=n("UvgG");var he=({text:e,classes:t})=>o.a.createElement("span",{className:t},e);const fe=e=>{const{commentId:t,pinnedAt:n,refetch:i}=e,[s,l]=Object(r.useState)(!1);return o.a.createElement("div",{className:"w100p text-right mb-3-md"},o.a.createElement(O.a,{color:"conferences-blue",atoms:["create-700"],onClick:()=>{l(!0)}},o.a.createElement(h.a,{name:"icon--pin",size:"15",atoms:["relative mr1 fill-create-700"]}),Object(a.b)("project_page.comments.Pinned")),s&&o.a.createElement(H,{commentId:t,pinnedAt:n,closeModal:()=>l(!1),refetch:i}))},ge=({author:e,authorBacking:t})=>{const[n,a]=Object(r.useState)(!1),i={backerName:e.name,backingUrl:null==t?void 0:t.backingUrl,backerImage:e.imageUrl},s=(null==t?void 0:t.id)&&Object(V.a)(null==t?void 0:t.id);return s?o.a.createElement(o.a.Fragment,null,o.a.createElement(O.a,{color:"soft-black",onClick:()=>a(!0),target:"_blank"},o.a.createElement(ue.a,null,e.name)),n&&o.a.createElement(ce,{id:s,preloadedData:i,onClose:()=>a(!1)})):(null==t?void 0:t.backingUrl)?o.a.createElement(O.a,{color:"soft-black",href:null==t?void 0:t.backingUrl,target:"_blank"},o.a.createElement(ue.a,null,e.name)):o.a.createElement(ue.a,null,e.name)};var _e=({author:e,authorBacking:t,authorBadges:n,today:i=new Date,createdAt:r,commentPath:s,tooltip:l,pinnedAt:c,commentId:d,refetch:u})=>{const m=Object(de.a)(i,1e3*r);return o.a.createElement(o.a.Fragment,null,c&&o.a.createElement(fe,{commentId:d,pinnedAt:c,refetch:u}),o.a.createElement("div",{className:"flex mb3 justify-between"},o.a.createElement("div",{className:"flex"},e.isBlocked?o.a.createElement("div",{className:"avatar inline-block align-middle radius100p w6 h6 border border-grey-500 mr2 do-not-visually-track"}):o.a.createElement(X.a,{imageUrl:e.imageUrl,size:6,atoms:["mr2"]}),o.a.createElement("div",null,o.a.createElement("span",{className:"mr2"},e.isBlocked?o.a.createElement(a.a,{i18nKey:"project_page.comments.blocked_user_name"}):o.a.createElement(ge,{author:e,authorBacking:t})),o.a.createElement(pe.a,null,o.a.createElement("span",null,n.map((e,t)=>o.a.createElement(he,Object.assign({key:t},me[e]))))),o.a.createElement("a",{href:s,className:"comment-link",onClick:e=>{e.preventDefault(),window.history.replaceState(null,"",s)}},o.a.createElement("time",{className:"block dark-grey-400 type-12",dateTime:r,title:Object(be.d)(r)},m)))),l&&o.a.createElement(g.a,{placement:"top",label:l,style:{textAlign:"center"}},o.a.createElement("span",null,o.a.createElement(h.a,{name:"icon--info",size:"16"})))))};var ke=({body:e,deleted:t})=>o.a.createElement("div",{className:"flex"},o.a.createElement(h.a,{name:"info",size:"16",atoms:["fill-dark-grey-500","mr1","relative","t3px"]}),o.a.createElement("div",{className:"w100p"},o.a.createElement("p",{className:"type-14 dark-grey-500"},t?o.a.createElement(o.a.Fragment,null,e,o.a.createElement("span",null," "),o.a.createElement(O.a,{href:"/help/community",color:"black-blue"},Object(a.b)("project_page.comments.Read_our_community_guidelines"))):o.a.createElement(a.a,{i18nKey:"project_page.comments.This_comment_is_under_review",guidelinesLink:o.a.createElement(O.a,{href:"/help/community",color:"black-blue"},Object(a.b)("project_page.comments.Kickstarters_Community_Guidelines"))}))));t.a=Object(s.hot)(({id:e,body:t,author:n,authorBacking:r,me:s,createdAt:c,authorBadges:d,canReport:u,canDelete:m,canPin:p,hasFlaggings:b,sustained:h,deletedAuthor:f,deleted:g,pinnedAt:_,commentPath:k,isActive:E,setRef:v,children:S,refetch:O})=>{const N=g||f;N&&(u=!1);const C=s.id==n.id,j=b&&!h&&!C,w=new RegExp(l.e).test(e)?"o50p":"o100p",I=E?"bg-apricot-400":"bg-white",T=l.a;let A=null;if(t&&t.includes(T)){const e=t.split(T);A=e[0],t=e[1]}const D=A?Object(a.b)("project_page.comments.This_is_a_quoted_comment"):null;return o.a.createElement("div",{ref:v,className:`border-box relative break-word border border-grey-400 px3 pt3 pb2 ${w} transition-all transition-delay-1000 ${I}`},l.f.some(e=>d.includes(e))&&o.a.createElement("span",{className:(d.includes(l.g.CREATOR)?"bg-ksr-green-700":d.includes(l.g.COLLABORATOR)?"bg-ksr-green-700 o50p":void 0)+" w1 t0 b0 l0 absolute test-authority_bar"}),o.a.createElement(_e,{author:n,authorBacking:r,authorBadges:d,commentPath:k,createdAt:c,tooltip:D,pinnedAt:_,commentId:e,refetch:O}),j?o.a.createElement(ke,{body:t,deleted:g}):o.a.createElement(o.a.Fragment,null,o.a.createElement($,{body:t,selectedText:A,suppressed:N,deleted:g,hideContent:n.isBlocked}),o.a.createElement("div",{className:"flex justify-end"},(p||u)&&o.a.createElement(q,{pinnedAt:_,canPin:p,canReport:u,commentId:e,hasFlaggings:b,sustained:h,refetch:O}),S,m&&o.a.createElement("div",{className:Object(i.a)("flex","justify-center",u&&"mr2")},o.a.createElement(y,{id:e})))))})},WSTq:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n("iuhU"),i=n("/kEZ"),r=n.n(i),o=n("2DJ9"),s=n("lX80"),l=n("LdJi"),c=n("f/gE"),d=n("94td"),u=n("SmhT"),m=n("/IHD"),p=n("z0kN"),b=n("q1tI"),h=n.n(b);class f extends b.Component{constructor(...e){super(...e),this.onEscape=({keyCode:e})=>{const{onClose:t}=this.props;e===u.d&&t()},this.toggleClipClass=()=>{this.props.clipOnMobileOnly||(document.body.classList.toggle("clip"),document.documentElement.classList.toggle("clip"))}}componentDidMount(){this.props.hideClosing||document.addEventListener("keydown",this.onEscape),this.toggleClipClass()}componentWillUnmount(){this.props.hideClosing||document.removeEventListener("keydown",this.onEscape),this.toggleClipClass()}render(){const{atoms:e,children:t,closeIconClasses:n,headerCopy:i,subHeaderCopy:s,onClose:l,secondaryCloseCopy:c,secondaryCloseFn:u,size:f,viewportHeight:g="70",grabFocus:k,bgColor:E="bg-white",overlayColor:v="bg-grey-100_95",clipOnMobileOnly:y=!1,animationClasses:S=[],animationId:O="",closeIconColor:N="fill-navy-500",hideClosing:C=!1,bgElement:j,autoscroll:w=!0}=this.props,I="fullScreen"===f?"absolute t5 r8 pointer block py0 bg-transparent":"absolute t0 r-5 pointer hide block-sm py0 bg-transparent",T=y?"clip visible-sm":"clip",A="fullScreen"===f?`shadow-low  p4 h100vh ${w?"auto-scroll-y":""} ${w?T:""}`:`shadow-low p4 max-h${g}vh ${w?"auto-scroll-y":""} ${w?T:""}`,D=Object(m.a)("w100p m-auto pointer-events-auto relative",S,e);return h.a.createElement("div",{className:"fixed t0 b0 l0 r0 z-modal-3"},"fullScreen"!==f&&h.a.createElement("div",{onClick:C?void 0:l,role:"presentation",className:`absolute w100p h100p ${v} z1`}),h.a.createElement(_,{size:f},h.a.createElement(r.a,{className:"relative",role:"dialog","aria-label":i||"Modal",focusTrapOptions:{clickOutsideDeactivates:!0,initialFocus:k?"#focus-grabber":""}},h.a.createElement("div",{className:"z2 flex relative flex-column pointer-events-none h100vh"},h.a.createElement("div",{id:O,className:D},k&&h.a.createElement("div",{id:"focus-grabber"}),h.a.createElement("div",{className:"relative"},h.a.createElement("div",{className:`${E} ${w?"clip":""} absolute l0 r0 t0 b0 z-1`},j),h.a.createElement("div",{className:A},i&&h.a.createElement("h1",{id:Object(p.b)(i),className:`type-18 medium black ${s?"mb2":"mb4"} center`},i),s,b.Children.map(t,e=>e))),"fullScreen"!==f&&!C&&h.a.createElement("div",{className:"pt1 pt4-md text-center"},h.a.createElement("button",{id:"modal-secondary-close",className:"pointer text-underline type-14 navy-600 bg-transparent",onClick:u||l},c)),!C&&h.a.createElement("button",{onClick:l,className:I,id:"modal-primary-close"},h.a.createElement(o.a,{name:"x",label:Object(d.b)("overlay_modal.close"),atoms:[Object(a.b)(N,n)]})))))))}}f.defaultProps={secondaryCloseCopy:Object(d.b)("overlay_modal.close"),grabFocus:!0};const g={large:{smWidth:8,lgWidth:6},small:{smWidth:5,lgWidth:4},fullScreen:{smWidth:12,lgWidth:12}},_=e=>{const{size:t,children:n}=e;return"number"==typeof t?h.a.createElement("div",{className:"m-auto",style:{width:t+"px",maxWidth:"88%"}},n):h.a.createElement(l.a,{full:!0,atoms:["absolute","w100p"]},h.a.createElement(c.a,null,h.a.createElement(s.a,Object.assign({center:!0},g[t]),n)))}},WjF9:function(e,t,n){"use strict";var a=n("60hy");const i=Object(a.c)(window.current_user);window.current_user=i,t.a=i},Wwun:function(e,t,n){"use strict";var a=n("/kEZ"),i=n.n(a);n.d(t,"a",(function(){return i.a}))},"Wx/y":function(e,t,n){"use strict";t.a='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M12 4C11.4477 4 11 4.44772 11 5V11H5C4.44772 11 4 11.4477 4 12C4 12.5523 4.44772 13 5 13H11V19C11 19.5523 11.4477 20 12 20C12.5523 20 13 19.5523 13 19V13H19C19.5523 13 20 12.5523 20 12C20 11.4477 19.5523 11 19 11H13V5C13 4.44772 12.5523 4 12 4Z" fill="#3C3C3C"/>\n</svg>\n'},"X+my":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={name:"support","primary-light":"soft-black","primary-dark":"black","primary-accent":"ksr-green-400"}},X5dd:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return b})),n.d(t,"f",(function(){return h}));var a=n("mq2H"),i=n("+2Rf"),r=n.n(i);function o(t){var n;const a=r()("body").find(".js-search_term input"),i=r()("body").find(".js-featured"),o=i.find(".js-staff_picks"),s=i.find(".js-recommended"),m=i.find(".js-starred"),p=i.find(".js-social"),b=i.find(".js-backed"),h=r()("body").find(".js-states"),f=r()("body").find(".js-goals"),g=r()("body").find(".js-pledged"),_=r()("body").find(".js-raised"),k=r()("body").find(".js-filter.js-filter-sorts"),E=null===(n=e('select[name="backed"] option:selected'))||void 0===n?void 0:n.val(),v={discover_search_term:a.val(),discover_project_state:h.find("select").val(),discover_amount_goal:c(f.find("select").val()),discover_amount_pledged:d(g.find("select").val()),discover_percent_raised:l(_.find("select").val()),discover_recommended:s.find("a").is(".ksr-green-500"),discover_pwl:o.find("a").is(".ksr-green-500"),discover_watched:m.find("a").is(".ksr-green-500"),discover_social:p.find("a").is(".ksr-green-500"),discover_backed:b.find("a").is(".ksr-green-500")&&"1"===E,discover_sort:u(k.find("select").val())};var y,S,O;(function(e){Object.keys(e).forEach(t=>{const n=e[t];null!=n&&""!==n&&!1!==n||delete e[t]})}(v),v.discover_backed)||(null===(y=window)||void 0===y||(null===(S=y.ksr_track_properties)||void 0===S||(null===(O=S.discover)||void 0===O||delete O.discover_backed)));return v}function s(t){if(t)return"category"===t.type?(n={isParentCategory:t.isParentCategory,parent_name:t.parent_name})&&!0===n.isParentCategory?"category_name":n&&!1===n.isParentCategory||n&&n.parent_name?"subcategory_name":"category_name":"collection"===t.type?function(e){switch(e){case"recommended-for-you":return"recommended";case"projects-we-love":return"pwl";case"trending":return"popular";case"nearly-funded":return"ending_soon";case"just-launched":return"newest";case"upcoming-projects":return"project_state";case"following":return"social";case"saved":return"watched";case"projects-near-you":return"distance";case"everything":return"all";default:return""}}(t.selected_link):"section"===t.type?p(t.selected_link):t.id&&"string"===e.type(t.id)?p(t.id):"tag"===t.type?"tag":"";var n}function l(e){switch(parseInt(e,10)){case 0:return"under_75";case 1:return"75_to_99";case 2:return"100";default:return null}}function c(e){switch(parseInt(e,10)){case 0:return"under_1k";case 1:return"1k_to_10k";case 2:return"10k_to_100k";case 3:return"100k_1m";case 4:return"over_1m";default:return null}}function d(e){switch(parseInt(e,10)){case 0:return"under_1k";case 1:return"1k_to_10k";case 2:return"10k_to_100k";case 3:return"100k_1m";case 4:return"over_1m";default:return null}}function u(e){switch(e){case"magic":return"magic";case"distance":return"distance";case"ending_date":case"end_date":return"ending_soon";case"popularity":return"popular";case"most_backed":return"most_backed";case"most_funded":return"most_funded";case"newest":return"newest";default:return null}}function m(e){switch(e){case"js-staff_picks":case"staff_picks":case"projects-we-love":return"pwl";case"js-starred":case"starred":return"watched";case"js-social":case"social":return"social";case"js-backed":case"backed":return"backed";case"recommended":case"js-recommended":return"recommended";case"term":return"search_term";case"state":return"project_state";case"pledged":return"amount_pledged";case"goal":return"amount_goal";case"raised":return"percent_raised";case"woe_id":return"location";default:return null}}function p(e){switch(e){case"arts":return"arts";case"comics-illustration":return"comics_illustration";case"design-tech":return"design_tech";case"film":return"film";case"food-craft":return"food_craft";case"games":return"games";case"music":return"music";case"publishing":return"publishing";default:return""}}function b(e){switch(e){case"recommended-for-you":case"projects-we-love":case"upcoming-projects":case"saved":case"everything":case"following":return a.c.DISCOVER_FILTER;case"trending":case"projects-near-you":case"nearly-funded":case"just-launched":return a.c.DISCOVER_SORT;case"arts":case"comics-illustration":case"design-tech":case"film":case"food-craft":case"games":case"music":case"publishing":return a.c.SECTION;default:return a.c.DISCOVER_FILTER}}function h(e){let t,n;e.parent_name?(t=e.parent_name,n=e.analytics_name):(t=e.analytics_name,n=e.analytics_name),Object(a.p)("discover",{discover_category_name:t,discover_subcategory_name:n})}}).call(this,n("+2Rf"))},XLBa:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a,i=n("+2Rf"),r=n.n(i),o=n("xG9w"),s=n("zm9w");function l(e,t){if(o.default.isArray(e)){var n=Object(o.default)(e).map((function(e){return function(e,t){var n,a;return n=Object(o.default)(e).map((function(e,n){var i=!1;return n.match(/^\!/)&&(i=!0,n=n.replace(/^\!/,"")),o.default.isArray(e)||(e=[e]),e=Object(o.default)(e).map((function(e){return e+""})),a=Object(o.default)(e).include(t[n]+""),i?!a:a})),Object(o.default)(n).inject((function(e,t){return e||t}),n[0])}(e,t)}));return Object(o.default)(n).inject((function(e,t){return e&&t}),n[0])}}a={number:function(e){return e={precision:0,...e},s.b.format_number(e.value,o.default.omit(e,"format","value"))},distance_date:function(e){return s.b.time_ago_in_words(e.value)}};const c=function(e){var t,n=e.data("format");t=(n=e.data("format"))&&"function"==typeof a[n]?a[n](e.data()):e.data("value"),e.html(t)};function d(e,t,n){r()(e).find("."+t+n.id).each((function(e,t){!function(e,t){var n,a,i="",o=r()(e),s=o.data("conditions"),u=o.attr("itemprop");void 0!==u?i=u.match(/\[(\w*)\]/)[1]:o.data("attr")&&(i=o.data("attr")),void 0!==s?("string"==typeof s&&(s=JSON.parse(s)),n=(a=l(s,t))?JSON.parse(o.data("render")):"",o.data("evaluation")!==a&&(o.html(n),o.data("evaluation",a),n.length&&d(o,"Project",t))):void 0!==i&&void 0!==t[i]&&(o.data("value",t[i]),o.attr("data-value",t[i]),c(o))}(t,n)}))}const u=function(e,t){d(document,e,t)};function m(e){this.template=e,this.conditions=[]}function p(e){var t;return"string"==typeof e&&((t={})[e]=!0,e=t),e}m.prototype.if=function(e){return this.condition("and",!0,e),this},m.prototype.and=m.prototype.if,m.prototype.if_not=function(e){return this.condition("and",!1,e),this},m.prototype.unless=m.prototype.if_not,m.prototype.and_not=m.prototype.if_not,m.prototype.or=function(e){return this.condition("or",!0,e),this},m.prototype.or_not=function(e){return this.condition("or",!1,e),this},m.prototype.then=function(){var e=this;return function(){return function(t,n){return e.value=n(t),e.html()}}},m.prototype.condition=function(e,t,n){var a,i;return o.default.isObject(n)||((a={})[n]=!0,n=a),!1===t&&o.default.each(Object(o.default)(n).keys(),(function(e){n["!"+e]=n[e],delete n[e]})),"or"===e?(i=p(this.conditions[this.conditions.length-1]),n=p(n),this.conditions[this.conditions.length-1]=r.a.extend(!0,i,n)):"and"===e&&this.conditions.push(n),this},m.prototype.evaluation=function(){return void 0===this.cached_evaluation&&(this.cached_evaluation=l(this.conditions,this.template.proxy)),this.cached_evaluation},m.prototype.content=function(){return this.evaluation()?this.value:""},m.prototype.html=function(){var e=r()("<data>");return e.attr(this.html_options()),e.html(this.content()),e[0].outerHTML},m.prototype.html_options=function(){return{class:this.template.class_name,"data-conditions":JSON.stringify(this.conditions),"data-render":JSON.stringify(this.value),"data-evaluation":l}}},XM0S:function(e,t,n){"use strict";var a=n("+DSo");Error;t.a=(e,t,n={})=>{let i=Object(a.c)(e,t,n);var r;return void 0===i&&(i=Object(a.d)(t),console.warn("I18n key is missing: ",t)),"string"==typeof i&&(r=n,i=i.replace(a.a,(function(e,t){return null==r[t]?e:r[t]})).replace(a.b,(function(e,t){return null==r[t]?e:r[t]}))),i}},XfPQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var a=n("L/h+"),i=n("daZV"),r=n("2nV0"),o=n("lM4U"),s=n("mv45"),l=n("94td"),c=n("a8OY"),d=n("vtU4"),u=n("q1tI"),m=n("mwIZ"),p=n.n(m),b=n("DI+Y");n("VX74"),n("DE4Y");const h={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostLikers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"me"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isLiked"}},{kind:"Field",name:{kind:"Name",value:"fans"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"}},{kind:"Field",name:{kind:"Name",value:"node"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"imageUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"72"}}]}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"endCursor"}},{kind:"Field",name:{kind:"Name",value:"hasNextPage"}}]}}]}}]}}]}}]};const f=(e,t)=>{const n=t.fetchMoreResult;return null===n.post||null===n.post.fans||null===n.post.fans.edges?e:{...n,post:{...n.post,fans:{...n.post.fans,edges:[...p()(e,"post.fans.edges",[]),...p()(n,"post.fans.edges",[])],pageInfo:n.post.fans.pageInfo}}}},g=Object(s.c)(e=>{if(!e.data||!e.data.post)return Object(s.d)(e.data.error);const{fetchMore:t,post:n,me:a}=e.data,{fans:i}=n,r=i&&i.edges||[],o=i&&i.pageInfo.endCursor,l=r.map(e=>e&&e.node).map(e=>({id:e?e.id:"",name:e?e.name:"",slug:e?e.slug:"",imageUrl:e?e.imageUrl:""})).reduce((e,t)=>a&&n.isLiked&&t.id===a.id?[t,...e.filter(e=>e.id!==t.id)]:[...e,t],[]);return Object(s.l)({likers:l,hasNextPage:!!i&&i.pageInfo.hasNextPage,totalLikers:i?i.totalCount:0,isFetchingMore:e.data.loading,likersShowing:l.length,onFetchMore:()=>t({variables:{id:e.ownProps.id,cursor:o},query:h,updateQuery:f})})}),_=Object(b.graphql)(h,g),k=e=>u.createElement(r.a.Modal,{isOpen:!0,onClose:e.onClose},u.createElement(o.a,{content:u.createElement(E,{id:e.id}),title:Object(l.b)("project_updates.Likes")})),E=Object(s.a)(_,c.b)(e=>u.createElement("div",{className:"flex flex-column kds-gap-02"},e.likers.map((e,t)=>u.createElement("a",{key:t,href:d.b.USER_PROFILE.url(e.slug),className:"post-liker keyboard-focusable soft-black flex items-center",style:{minWidth:"200px"}},u.createElement("div",{className:"shrink0"},u.createElement(a.a,{size:6,imageUrl:e.imageUrl})),u.createElement("span",{className:"post-liker__name type-16 pl2"},e.name))),u.createElement(i.a,{buttonI18nKey:"project_updates.Load_more",remainingI18nKey:"project_updates.Showing_x_of_y_likers",totalCount:e.totalLikers,showingCount:e.likersShowing,pageSize:100,onClick:e.onFetchMore,loading:e.isFetchingMore,hasMorePages:e.hasNextPage,atoms:["kds-pt-03"]})))},Xl3R:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));let a=function(e){return e.ACCEPT_RULES="accept_rules",e.ACCOUNT_MENU="account_menu",e.ADD_ONS_CONTINUE="add_ons_continue",e.ADDRESS_SELECT_INITIATE="address_select_initiate",e.ADDRESS_CREATE_INITIATE="address_create_initiate",e.ADVANCED_ANALYTICS="advanced_analytics",e.ADVANCED_DASHBOARD="advanced_dashboard",e.APPLY_TO_ALL_PROJECTS="apply_to_all_projects",e.BACKER_REPORT="backer_report",e.BANNER="banner",e.BUILD="build",e.BUILD_CAMPAIGN="build_campaign",e.CAMPAIGN_DETAILS="campaign_details",e.CANCEL_CREATE="cancel_create",e.CANCEL_REMOVE="cancel_remove",e.CKE_ONBOARING_OPENED="cke_onboaring_opened",e.CKE_ONBOARING_DISMISSED="cke_onboaring_dismissed",e.CLOSE="close",e.COLLABORATORS="collaborators",e.CONFIRM_SELECTION="confirm_selection",e.CONFIRM_APPLY_TO_ALL_PROJECTS="confirm_apply_to_all_projects",e.CONFIRM_REMOVE="confirm_remove",e.CREATE="create",e.CREATE_UPDATE="create_update",e.CREATOR_DASHBOARD="creator_dashboard",e.CREATOR_DETAILS="creator_details",e.CREATOR_FAQ="creator_faq",e.CREATOR_HANDBOOK="creator_handbook",e.CREATOR_MENU_CLOSE="creator_menu_closed",e.CREATOR_MENU_OPEN="creator_menu_open",e.DEMOGRAPHIC_SURVEY="demographic_survey",e.DEVELOPMENT_MILESTONE="development_milestone",e.DID_YOU_MEAN="did_you_mean",e.DISCOVER="discover",e.DISCOVER_FILTER="discover_filter",e.DISCOVER_SORT="discover_sort",e.EASYSHIP_SIGN_UP="easyship_sign_up",e.EDIT="edit",e.EXTERNAL="external",e.FOLLOW_USER="follow_user",e.FORGOT_PASSWORD="forgot_password",e.FULFILLMENT="fulfillment",e.FULFILLMENT_RESOURCES="fulfillment_resources",e.HELP="help",e.I_UNDERSTAND_ADDRESS_COULD_NOT_BE_APPLIED="I_understand_address_could_not_be_applied",e.LEARN_MORE="learn_more",e.LOG_IN_INITIATE="log_in_initiate",e.LOG_IN_OR_SIGN_UP="log_in_or_sign_up",e.LOG_IN_SUBMIT="log_in_submit",e.MESSAGES="messages",e.OPEN_PREVIEW_MODAL="open_preview_modal",e.OPTION_SELECTED="option_selected",e.PAYOUTS="payouts",e.PLEDGE_DETAILS="pledge_details",e.PLEDGE_EDIT="pledge_edit",e.PLEDGE_INITIATE="pledge_initiate",e.PLEDGE_REDEMPTION="pledge_redemption",e.PLEDGE_SUBMIT="pledge_submit",e.PROFILE_ABOUT="profile_about",e.PROFILE_BACKER="profile_backer",e.PROFILE_CREATED="profile_created",e.PROFILE_COMMENTS="profile_comments",e.PROJECT="project",e.PROJECT_NOTICE="project_notice",e.QR_CODE="qr_code",e.REMOVE="remove",e.REPORT_EXPORT_SUBMIT="report_export_submit",e.REWARD_CONTINUE="reward_continue",e.REWARD_DETAILS="reward_details",e.REWARD_CANCEL="reward_cancel",e.REWARD_SURVEYS="reward_surveys",e.RISKS="risks",e.SAVE="save",e.SEARCH="search",e.SECTION="section",e.SEND_SURVEY_CANCEL="send_survey_cancel",e.SEND_SURVEY_INITIATE="send_survey_initiate",e.SEND_SURVEY_SUBMIT="send_survey_submit",e.SET_AS_DEFAULT="set_as_default",e.SIGN_UP_SUBMIT="sign_up_submit",e.SOF_CANCEL="sof_cancel",e.SOF_DISMISS="sof_dismiss",e.SOF_SAVE="sof_save",e.SOF_MANAGE_REWARDS="sof_manage_rewards",e.SOF_END_ALL_REWARDS="sof_end_all_rewards",e.SOF_UPDATE="sof_update",e.SUBMIT_SURVEY="submit_survey",e.SUPPORT="support",e.SURVEY_INITIATE="survey_initiate",e.SURVEY_EDIT="survey_edit",e.SURVEY_CREATE="survey_create",e.SURVEY_BACKER_QUESTIONS_DELETE="survey_backer_question_delete",e.SURVEY_BACKER_QUESTIONS_SAVE="survey_backer_questions_save",e.SURVEY_ITEM_CUSTOMIZATION_CREATE="survey_item_customization_create",e.SURVEY_ITEM_QUESTIONS_CREATE="survey_item_questions_create",e.SURVEY_ITEM_QUESTIONS_CANCEL="survey_item_questions_cancel",e.SURVEY_ITEM_QUESTIONS_EDIT="survey_item_questions_edit",e.SURVEY_ITEM_QUESTIONS_SAVE="survey_item_questions_save",e.SURVEY_ITEM_VARIANT_CREATE="survey_item_variant_create",e.SURVEY_LOCK_ADDRESSES_INITIATE="survey_lock_addresses_initiate",e.SURVEY_LOCK_ADDRESSES_SUBMIT="survey_lock_addresses_submit",e.SURVEY_LOCK_ADDRESSES_CANCEL="survey_lock_addresses_cancel",e.SURVEY_VIEW_RESULTS="survey_view_results",e.SURVEY_VIEW_SKU_QUANTITIES="survey_view_sku_quantities",e.TIPS_BLOG="tips_blog",e.UPDATES="updates",e.USE_OF_AI="use_of_ai",e.USER_MENU="user_menu",e.WATCH_PROJECT="watch_project",e}({})},YEan:function(e,t,n){"use strict";n.d(t,"a",(function(){return ee})),n.d(t,"b",(function(){return re}));var a=n("iuhU"),i=n("lX80"),r=n("LdJi"),o=n("f/gE"),s=n("daZV"),l=n("94td"),c=n("NxQb"),d=n("uBBe"),u=n("5j0V"),m=n("q1tI"),p=n.n(m),b=n("mwIZ"),h=n.n(b),f=n("tr1H"),g=n("mv45"),_=n("pj8f"),k=n("1OuE"),E=n("zm9w"),v=n("2DJ9"),y=n("ObC8"),S=n("TIPN"),O=n("gN63"),N=n("Owp+"),C=n("55Ip"),j=n("af5E"),w=n("vtU4"),I=n("7Rpo"),T=n("KsYZ"),A=n("y4o6"),D=n("2Lb1"),P=n("FEsz"),R=n("2NEC"),F=n("SdBH"),L=n("sezs"),M=n("dPds"),x=n("zjD3");const U=e=>m.createElement("div",{className:"flex kds-gap-04"},m.createElement("span",{className:"flex kds-gap-02"},m.createElement(L.a,{name:"icon--chat",atoms:"kds-fill-icon-subtle"}),m.createElement(M.a.BodyMD,{as:"span",className:"kds-text-secondary"},Object(x.a)(e.commentsCount,""))),m.createElement("span",{className:"flex kds-gap-02"},m.createElement(L.a,{name:"icon--heart-filled",atoms:"kds-fill-icon-subtle"}),m.createElement(M.a.BodyMD,{as:"span",className:"kds-text-secondary"},Object(x.a)(e.likesCount,""))));var V=n("SSiF"),B=n.n(V);const H=e=>{const[t,n]=B()();return m.createElement("div",{className:"truncated-post-body clip relative"},t,e.children,n.height>=240&&m.createElement("div",{className:"gradient-transparent-to-white-vertical h20 z1 absolute b0 l0 r0"}))};class Y extends m.Component{renderPost(){return m.createElement(D.a,{atoms:Object(a.b)(this.props.isPinned&&"kds-drop-shadow-lg"),surface:!0,header:m.createElement(R.a,{title:this.props.title,sequence:this.props.sequence,publishedAt:this.props.publishedAt,authorAvatarUrl:this.props.authorAvatarUrl,authorName:this.props.authorName,authorRole:this.props.authorRole,isPublic:this.props.isPublic,PinningUI:m.createElement(A.a,{canPin:this.props.canPin,relayId:this.props.id,type:this.props.type,trackingContext:"feed post",isPinned:this.props.isPinned,onRefetch:this.props.onRefetch,onPinCompletion:()=>{this.props.isPinned&&Object(S.b)("project-post-interface",100)}})}),body:m.createElement(P.a,{canRead:this.props.canRead,isLoggedIn:this.props.isLoggedIn,isProjectLive:this.props.isProjectLive,pledgeLink:w.b.PROJECT_PLEDGE.url(this.props.projectCreator,this.props.projectSlug),loginLink:w.b.VIEW_POST.url(this.props.projectCreator,this.props.projectSlug,Object(O.a)(this.props.id))},m.createElement(H,null,m.createElement(m.Fragment,null,this.props.type===j.a.CreatorInterview&&m.createElement(I.a,{answers:this.props.answers}),this.props.type===j.a.FreeformPost&&m.createElement(T.a,{body:this.props.body,nativeImages:this.props.nativeImages}),m.createElement("div",{className:"absolute z1 t0 l0 r0 b0"})))),footer:m.createElement("div",{className:(this.props.canRead?"mt1":"mt4")+" flex justify-between items-baseline"},m.createElement(U,{commentsCount:this.props.commentsCount,likesCount:this.props.likesCount}),this.props.canRead&&m.createElement(y.a,{variant:"outlined",icon:"icon--chevron-right",iconAfter:!0},Object(l.b)("project_updates.Read_more")))})}renderInnerWrapper(){return m.createElement("div",{className:Object(a.b)(!this.props.isPinned&&"expanding-post")},this.renderPost())}renderLinkedPost(){const e=w.b.VIEW_POST.url(this.props.projectCreator,this.props.projectSlug,Object(O.a)(this.props.id)),t=Object(a.b)("truncated-post soft-black",!this.props.noLayout&&["block"]);return this.props.canRead?window.isNativeAppRequest||this.props.noLayout?m.createElement("a",{href:e,className:t},this.renderInnerWrapper()):m.createElement(C.b,{to:e,className:t},this.renderInnerWrapper()):m.createElement("div",{className:t},this.renderInnerWrapper())}render(){const{icon:e,color:t}=(e=>{switch(e){case N.a.FreeformPost:return{icon:"icon--update-freeform-round",color:"dark-grey-500"};case N.a.CreatorInterview:return{icon:"icon--update-qa-round",color:"dark-grey-500"};default:return{icon:"",color:"dark-grey-500"}}})(this.props.type);return m.createElement(F.a,{colProps:{width:12,mdWidth:8,mdOffset:2,atoms:"mb6"},renderGrid:!this.props.noLayout},m.createElement("div",{className:"relative"},m.createElement("div",{"data-test-id":"project-post-container",className:"absolute t10 t8-md l0 flex items-center justify-center z1",style:{transform:"translateX(-50%)"}},m.createElement("div",{className:"w3 w6-md h3 h6-md radius100p bg-white absolute t1 l1 z0"}),m.createElement(v.a,{name:e,atoms:[`fill-${t} relative z1 w5 w8-md h5 h8-md`]})),this.renderLinkedPost()))}}var G=n("dkkr"),q=n("t1f3");const K=e=>{const t={position:"absolute",width:"185px"};return m.createElement(r.a,null,m.createElement(o.a,null,m.createElement(i.a,{width:12,mdWidth:8,mdOffset:2,atoms:["mb6"]},m.createElement("div",{className:"relative clip"},m.createElement("div",{style:{...t,...e.discPosition}},m.createElement(q.a,{name:"yellow-disc",width:185})),m.createElement("div",{style:{...t,...e.cubePosition}},m.createElement(q.a,{name:"coral-cube",width:185})),m.createElement("div",{style:{...t,...e.cylinderPosition}},m.createElement(q.a,{name:"coral-hollow-cylinder",width:185})),m.createElement("div",{style:{height:"28rem"},className:"flex justify-center items-center text-center white "+e.bgColor},m.createElement("div",{className:"flex flex-column items-center justify-center h100p"},m.createElement("div",{className:"type-16 type-24-sm bold pb1"},e.header),e.subHeader&&m.createElement("div",{className:"type-11 type-14-sm pb1"},e.subHeader),m.createElement("div",{className:"type-11 type-14-sm text-uppercase"},e.date)))))))},z=e=>m.createElement(K,{date:e.date,bgColor:"bg-ksr10-green",header:Object(l.b)("project_updates.Project_funds_successfully"),subHeader:e.subheader,discPosition:{top:"69%",left:"20%"},cubePosition:{top:"-28%",left:"76%"},cylinderPosition:{top:"-33%",left:"-3%"}}),W=e=>m.createElement(K,{date:e.date,bgColor:"bg-ksr10-blue",header:Object(l.b)("project_updates.Project_ends"),discPosition:{top:"-36%",left:"50%"},cubePosition:{top:"69%",left:"83%"},cylinderPosition:{top:"71%",left:"-3%"}}),$=e=>m.createElement(K,{date:e.date,bgColor:"bg-dark-grey-500",header:Object(l.b)("project_updates.Project_is_canceled"),discPosition:{top:"69%",left:"20%"},cubePosition:{top:"-28%",left:"82%"},cylinderPosition:{top:"-33%",left:"-3%"}}),Z=e=>m.createElement(K,{date:e.date,bgColor:"bg-ksr10-green",header:Object(l.b)("project_updates.Project_launches"),discPosition:{top:"72%",left:"50%"},cubePosition:{top:"-28%",left:"-9%"},cylinderPosition:{top:"-28%",left:"83%"}});var J=n("a8OY");const X=e=>{const t={id:e.id,type:e.type,title:e.title,publishedAt:e.publishedAt,isPinned:Boolean(e.pinnedAt),sequence:e.number,authorRole:e.authorRole,authorName:e.author.name,authorAvatarUrl:e.author.imageUrl,likesCount:e.likesCount,isPublic:e.isPublic,canRead:e.actions.read,canPin:e.actions.pin,commentsCount:e.commentsCount};return e.type===j.a.CreatorInterview?{...t,answers:e.answers.nodes}:e.type===j.a.FreeformPost?{...t,body:e.body,nativeImages:e.nativeImages}:t},Q=(e,t)=>{const n=t.fetchMoreResult;return null===n.project||null===n.project.timeline||null===n.project.timeline.edges?e:{...n,project:{...n.project,timeline:{...n.project.timeline,edges:[...h()(e,"project.timeline.edges",[]),...h()(n,"project.timeline.edges",[])],pageInfo:n.project.timeline.pageInfo}}}},ee=(te=e=>{const t=e.noLayout?m.Fragment:"div";return m.createElement(t,e.noLayout?{}:{className:Object(a.b)("bg-grey-100","py6")},Object(c.a)("project_update_requests")&&!e.noLayout&&e.canUserRequestUpdate&&m.createElement(r.a,null,m.createElement(o.a,null,m.createElement(i.a,{width:12,mdWidth:8,mdOffset:2},m.createElement(d.a,{projectId:e.projectId,className:"mb6",location:u.b.updates})))),e.events.map(({Component:e,data:t},n)=>m.createElement(e,Object.assign({key:n},t))),m.createElement(F.a,{renderGrid:!e.noLayout},m.createElement(s.a,{buttonI18nKey:"project_updates.Load_more",remainingI18nKey:"project_updates.Showing_x_of_y_updates",totalCount:e.totalEvents,showingCount:e.eventsShowing,pageSize:5,onClick:e.onFetchMore,loading:e.isFetchingMore,hasMorePages:e.hasNextPage,atoms:["py6","w25p-md","m-auto","theme--support"]})))},e=>{const{data:t,loading:n,error:a,fetchMore:i,refetch:r}=Object(j.d)({variables:{projectSlug:e.projectSlug,cursor:null}});if(a)return _.Honeybadger.notify(a.message,{context:{tags:f.a.POST_UPDATES},__RATE_LIMIT__:1}),p.a.createElement(G.b,{primaryText:Object(l.b)("project_updates.Were_having_trouble_loading_updates"),secondaryText:Object(l.b)("project_updates.If_refreshing_this_page")});if(!(null==t?void 0:t.project)||n)return p.a.createElement(J.a,null);const{project:o,me:s}=t,{timeline:c,canUserRequestUpdate:d}=o,u=c&&c.edges||[],m=c&&c.pageInfo.endCursor,b=u.map(e=>e&&e.node).map(t=>{if(!t)return;const n=Object(k.b)("LL",t.timestamp);switch(t.type){case"launch":return{Component:Z,data:{date:n}};case"cancellation":return{Component:$,data:{date:n}};case"failure":return{Component:W,data:{date:n}};case"success":{if(!t.data)return{Component:z,data:{date:n}};const{backersCount:e,latePledgeBackersCount:a,latePledgePledged:i,pledged:r}=t.data,o=e-a,s=Number(r.amount)-Number(i.amount);return{Component:z,data:{date:n,subheader:Object(l.b)("project_updates.x_backers_pledged_y",{count:o,pledgedAmount:E.b.money(s,{currency:r.currency||"",precision:0}),formattedBackerCount:E.b.format_number(o,{precision:0})})}}}case"update":return{Component:Y,data:{...X(t.data),isProjectLive:o.state===j.c.LIVE,projectCreator:e.projectCreator,projectSlug:e.projectSlug,isLoggedIn:Boolean(s&&s.id),onRefetch:r,noLayout:e.noLayout||!1}};default:return null}}),h=Object(g.l)({projectId:o.id,events:b,hasNextPage:!!c&&c.pageInfo.hasNextPage,totalEvents:c?c.totalCount:0,isFetchingMore:n,canUserRequestUpdate:d,eventsShowing:b.length,onFetchMore:()=>i({variables:{projectSlug:o.slug,cursor:m},query:j.b,updateQuery:Q})});return p.a.createElement(te,Object.assign({},e,h))});var te;const ne=({message:e})=>m.createElement("div",{className:"text-center my10 alert type-24"},e),ae=()=>m.createElement("div",{className:"bg-grey-100"},m.createElement(r.a,null,m.createElement(o.a,null,m.createElement(i.a,{width:12,mdWidth:8,mdOffset:2},m.createElement(ne,{message:ie()}))))),ie=()=>m.createElement(l.a,{i18nKey:"project_updates.Were_unable_to_load_project_updates_right_now"}),re=e=>Object(c.a)("show_posts_feed")?m.createElement(ee,e):m.createElement(ae,null)},YToL:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"g",(function(){return i})),n.d(t,"f",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return c}));const a={COMMENTS:25,REPLIES:3},i={CREATOR:"creator",COLLABORATOR:"collaborator",BACKER:"backer",KSR_ADMIN:"ksr admin",SUPERBACKER:"superbacker"},r=[i.CREATOR,i.COLLABORATOR],o="|--:)--;)--:D--XD--|",s={REPLY_FORM_OPENED:"comments_reply_form_opened",LOAD_MORE_COMMENTS:"comments_load_more_comments_clicked",LOAD_PREVIOUS_REPLIES:"comments_load_previous_replies_clicked",LOAD_MORE_COMMENTS_TIME:"comments_load_more_comments_time",LOAD_PREVIOUS_REPLIES_TIME:"comments_load_previous_replies_time",SHOW_NEWER_COMMENTS_LOAD:"comments_show_newer_load"},l="temp-comment",c={COMMENT_ABUSE:"comment-abuse",COMMENT_DOXXING:"comment-doxxing",COMMENT_SPAM:"comment-spam",COMMENT_OFFTOPIC:"comment-offtopic"}},Z0n9:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return f}));var a=n("EJsP"),i=n("AKNS");class r extends a.a{static get requires(){return[i.c]}init(){const e=this.editor,t=e.plugins.get("BalloonToolbar");t.on("show",n=>{var a,i;let r=null===(a=e.model.document.selection)||void 0===a||null===(i=a.getFirstPosition())||void 0===i?void 0:i.parent;for(;r&&"caption"!==r.name;)r=r.parent;r&&(n.stop(),t.hide())})}}var o=n("yRkb"),s=n("lutk"),l=n("6mVB"),c=n("d8sA"),d=n("94td"),u=n("gN63");const m=Object(d.b)("uploaders.Oh_no_upload_failed",{retryButton:Object(d.b)("uploaders.Try_again")}),p=(e,t)=>new Promise(async(n,a)=>{var i,r,o,s;const c=await Object(l.a)(e,t);"failed"===(null===(i=c.data)||void 0===i||null===(r=i.photoForEditor)||void 0===r?void 0:r.status)?a():(null===(o=c.data)||void 0===o||null===(s=o.photoForEditor)||void 0===s?void 0:s.fingerprint)?n(c):setTimeout(()=>n(p(e,t)),1e3)});class b{constructor(e,t){this.config=void 0,this.loader=void 0,this.loader=e,this.config=t}upload(){return(async({loader:e,attachableId:t,attachableAssoc:n,onUploadStart:a,onUploadComplete:i})=>(a&&a(),new Promise(async(a,r)=>{const o=await e.file,{params:l,s3_upload_url:d}=await Object(c.b)(),b=Object(c.a)(o,l),h=new XMLHttpRequest,f=()=>{r(m)};h.open("POST",d),h.onload=async()=>{if(204===h.status){try{var e,r,d,m,b,g;const[i,h]=await Promise.all([Object(s.a)(t,n)({s3Key:l.key,fileName:encodeURIComponent(o.name),contentType:o.type,updatedAt:(o.lastModifiedDate||new Date).getTime(),fileSize:o.size}),Object(c.c)(o)]);if(!(null==i||null===(e=i.data)||void 0===e||null===(r=e.upload)||void 0===r||null===(d=r.image)||void 0===d?void 0:d.id))return void f();const _=await p(null==i||null===(m=i.data)||void 0===m||null===(b=m.upload)||void 0===b||null===(g=b.image)||void 0===g?void 0:g.id,h);if(!_)return void f();a({urls:{default:_.data.photoForEditor.url},dataId:Object(u.a)(_.data.photoForEditor.id)})}catch(e){f()}i&&i()}},h.addEventListener("error",f),h.addEventListener("abort",f),h.addEventListener("error",f),h&&h.upload&&(h.upload.onprogress=t=>{if(t.lengthComputable){const n=t.loaded/t.total*100;e.total=t.total,e.uploaded=n}}),h.send(b)})))({loader:this.loader,...this.config})}}const h=(e,t)=>{e.conversion.for("downcast").add(e=>{e.on("attribute:"+t,(e,n,a)=>{if(!a.consumable.consume(n.item,e.name))return;const i=a.writer,r=a.mapper.toViewElement(n.item),o=null==r?void 0:r.getChild(0);o&&(null!==n.attributeNewValue?i.setAttribute(t,n.attributeNewValue,o):i.removeAttribute(t,o))})})};class f extends a.a{static get requires(){return[o.b]}static get pluginName(){return"S3Upload"}init(){const e=this.editor,t=e.config.get("s3Upload");if(!t)return void console.warn("\n        If you are using the S3Upload config with the rich text editor, an UploadAdpaterConfig must be supplied.\n        If not, uploaded images will fail to save.\n      ");e.plugins.get("FileRepository").createUploadAdapter=e=>new b(e,t),e.model.schema.extend("imageBlock",{allowAttributes:["data-id","class"]}),h(e,"data-id"),h(e,"class");e.plugins.get("ImageUploadEditing").on("uploadComplete",(t,{data:n,imageElement:a})=>{e.model.change(e=>{e.setAttribute("data-id",n.dataId,a),e.setAttribute("class","template asset",a)})})}}},Z4QI:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n("yTGw"),i=n("q1tI"),r=n.n(i);function o(e="",t=-1){const n=e.length;return-1===t?""+n:`${n}/${t}`}var s=n("relC"),l=n("sezs"),c=n("ZT9a"),d=n("1PrN"),u=n("Kbzc"),m=n("luUu"),p=n("ObC8"),b=n("tODT"),h=n("c5x8");function f({atoms:e,icon:t,prefix:n,suffix:l,actionIcon:p,onAction:b,showCharacterCount:g,type:_,size:k,rows:E,dir:v,cols:y=k,autoCapitalize:S,autoHeight:O=!1,...N}){const C=void 0===E||E<=0,j=r.a.useRef(null),w=r.a.useRef(null),{onChange:I,characterCount:T}=function(e=!1,t){var n,a;const r=null!=t?t:Object(i.useRef)(null),[s,l]=Object(i.useState)(null);Object(i.useEffect)(()=>{const{value:t,maxLength:n}=r.current||{};e||l(o(t,n))},[null===(n=r.current)||void 0===n?void 0:n.value,null===(a=r.current)||void 0===a?void 0:a.maxLength]);const c=Object(i.useCallback)(t=>{var n;e||l(o(t,null===(n=r.current)||void 0===n?void 0:n.maxLength))},[]);return{inputRef:r,characterCount:s,onChange:c}}(!g,C?j:w),A="number"===_?{type:_,max:N.maxValue,min:N.minValue,step:N.step}:{};return r.a.createElement(s.a,Object.assign({as:d.a},Object(c.a)(N,{className:Object(h.b)(e,{className:"kds-text-field"}),onChange:I}),{status:g&&r.a.createElement("span",{"data-testid":"character count"},T)}),r.a.createElement(f.InputGroup,{icon:t,prefix:n,suffix:l,actionIcon:p,onAction:b},r.a.createElement(a.b.Control,{asChild:!0},C?r.a.createElement(u.a,Object.assign({key:"input",ref:j,type:_},A,{className:"kds-input-group__control",dir:v,autoCapitalize:S,size:k,"aria-label":N["aria-label"],"aria-labelledby":N["aria-labelledby"],style:(null!=k?k:0)>0?{"--_size":k}:void 0})):r.a.createElement(m.a,{key:"input",ref:w,rows:E,cols:y,autoCapitalize:S,className:"kds-input-group__control",dir:v,"aria-label":N["aria-label"],"aria-labelledby":N["aria-labelledby"],style:O?{fieldSizing:"content",minHeight:(null!=E?E:4)+"lh"}:{}}))))}f.InputGroup=({icon:e,prefix:t,suffix:n,actionIcon:a,onAction:i,isDisabled:o,isReadOnly:s,children:c,...d})=>r.a.createElement(b.a,d,e&&r.a.createElement(l.a,{"data-testid":"icon",name:e,atoms:["kds-text-field__icon"]}),t&&r.a.createElement("span",{"data-testid":"prefix",className:"kds-text-field__prefix"},t),c,n&&r.a.createElement("span",null,n),a&&i&&r.a.createElement(p.a,{"data-testid":"action",atoms:"kds-text-field__action",variant:s||o?"outlined":"borderless",icon:a,onPress:i}))},ZCHx:function(e,t,n){"use strict";var a=n("UujG");n.d(t,"b",(function(){return a.b}));var i=n("T3Mw");n.d(t,"a",(function(){return i.a}))},ZCIj:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const a={};const i=(()=>{if(!window)return!1;if(void 0!==window.__KSR_LOCAL_STORAGE_SUPPORTED__)return window.__KSR_LOCAL_STORAGE_SUPPORTED__;if(void 0===window.localStorage)return!1;try{const e=window.localStorage,t="__KSR_storagetest__";return e.setItem(t,"1"),e.removeItem(t),window.__KSR_LOCAL_STORAGE_SUPPORTED__=!0,!0}catch(e){return window.__KSR_LOCAL_STORAGE_SUPPORTED__=!1,!1}})()?new class{constructor(){this.isPersisted=!0,this.getItem=window.localStorage.getItem.bind(window.localStorage),this.setItem=window.localStorage.setItem.bind(window.localStorage),this.removeItem=window.localStorage.removeItem.bind(window.localStorage),this.key=window.localStorage.key.bind(window.localStorage),this.clear=window.localStorage.clear.bind(window.localStorage)}get length(){return window.localStorage.length}}:new class{constructor(){this.isPersisted=!1,this.cache=void 0,this.cache="undefined"!=typeof window?(void 0===window.__KSR_IN_MEMORY_STORAGE_CACHE__&&(window.__KSR_IN_MEMORY_STORAGE_CACHE__=a),window.__KSR_IN_MEMORY_STORAGE_CACHE__):a}getItem(e){return e in this.cache?this.cache[e]:null}setItem(e,t){this.cache[e]=String(t)}removeItem(e){delete this.cache[e]}key(e){const t=Object.keys(this.cache);return e in t?t[e]:null}clear(){Object.keys(this.cache).forEach(e=>{delete this.cache[e]})}get length(){return Object.keys(this.cache).length}};t.b=i},ZCb5:function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"b",(function(){return g}));var a=n("b8Ld"),i=n("v83y"),r=n("2pL9"),o=n("2DJ9"),s=n("94td"),l=n("kZzg"),c=n("/IHD"),d=n("q1tI"),u=n.n(d),m=n("bvYH"),p=n("1uWx"),b=n("kKlT"),h=n("E2Se");const f=[h.b.Bold,h.b.Italic,h.b.Header,h.b.List,h.b.Link,h.b.Image,h.b.Video,h.b.Audio,h.b.Header2,h.b.Header3,h.b.Quote],g=e=>{const{atoms:t=[],editorState:n,dispatch:l,controls:d=f,showRemoveLink:g,isSticky:_=!0,tracking:k,topMargin:E,setCurrentModal:v,headerDropdownEnabled:y}=e,S=n.getCurrentInlineStyle(),O=n.getSelection(),N=n.getCurrentContent().getBlockForKey(O.getStartKey()).getType(),C=e=>l(Object(m.p)(i.RichUtils.toggleInlineStyle(n,e))),j=e=>l(Object(m.p)(i.RichUtils.toggleBlockType(n,e))),w=e=>{k&&"function"==typeof k.editorToolClicked&&k.editorToolClicked(e)},I=Object(c.a)("z1 bg-white border-bottom border-grey-400 flex items-center px3 scroll-x visible-x-sm",_&&"stick border-bottom",E,...t),T={[p.n.style.toString()]:{...p.n,component:p.m,atoms:Object(c.a)("")},[p.h.style.toString()]:{...p.h,component:p.g,atoms:Object(c.a)("h1")},[p.d.style.toString()]:{...p.d,component:p.c,atoms:Object(c.a)("h2")},[p.f.style.toString()]:{...p.f,component:p.e,atoms:Object(c.a)("h3")},[p.p.style.toString()]:{...p.p,component:p.o,atoms:Object(c.a)("blockquote")}},A=Object.keys(T).includes(N)?T[N]:T.unstyled,D=u.a.createElement(r.a,{atoms:["h100p","w100p"],label:({isMenuOpen:e,onCloseMenu:t,onOpenMenu:n})=>u.a.createElement("div",{className:"h100p flex justify-between items-center",onClick:e?t:n,role:"button"},A&&u.a.createElement("span",{className:"pr6 bold type-14"},A.label),u.a.createElement(o.a,{atoms:["pb1px"],name:"icon--delta-down",size:"15"})),dropdown:()=>u.a.createElement("ul",{className:"w100p absolute bg-white w163px flex flex-column items-start border-box",style:{boxShadow:"0px 12px 16px rgba(0, 0, 0, 0.12)"}},Object.values(T).map((e,t,n)=>{const a=e.component;return u.a.createElement("li",{key:"header-dropdown-"+e.id,className:Object(c.a)("flex1 w100p border-support-300 border-left border-right border-top hover-bg-support-100 px3",t===n.length-1&&"border-bottom")},u.a.createElement(a,{isActive:N===e.style,onClick:()=>{j(e.style)},headerDropdownEnabled:y}))}))});return u.a.createElement("div",{className:I},y?u.a.createElement("div",{className:"justify-start flex items-center h10 min-w28"},D):d.includes(h.b.Header)&&u.a.createElement(p.g,{isActive:N===p.h.style,onClick:()=>{j(p.h.style),w("Header")}}),d.includes(h.b.List)&&u.a.createElement(p.k,{isActive:N===p.l.style,onClick:()=>{j(p.l.style),w("Unordered_List")}}),d.includes(h.b.Bold)&&u.a.createElement(p.a,{isActive:S.has(p.b.style),onClick:()=>{C(p.b.style),w("Strong")}}),d.includes(h.b.Italic)&&u.a.createElement(p.i,{isActive:S.has(p.j.style),onClick:()=>{C(p.j.style),w("Emphasis")}}),d.includes(h.b.Link)&&u.a.createElement(a.a,{isActive:g,onMouseDown:e=>{e.preventDefault(),Object(b.c)(l,n,v,k)},toolTip:Object(s.b)("rich_editor.Add_link"),icon:h.d.icon,toolId:h.d.id}),g&&u.a.createElement(a.a,{onMouseDown:e=>{e.preventDefault(),l(Object(m.i)()),w("Unlink")},toolTip:Object(s.b)("rich_editor.Remove_link"),icon:h.e.icon,isActive:!0,toolId:h.e.id}),d.includes(h.b.Image)&&u.a.createElement(a.a,{icon:h.c.icon,toolId:h.c.id,toolTip:Object(s.b)("rich_editor.Add_image"),onMouseDown:e=>{e.preventDefault(),l(Object(m.e)()),v("IMAGE"),w("Image")}}),d.includes(h.b.Video)&&u.a.createElement(a.a,{icon:h.f.icon,toolId:h.f.id,toolTip:Object(s.b)("rich_editor.Add_video"),onMouseDown:e=>{e.preventDefault(),v("VIDEO"),w("Asset_Video")}}),d.includes(h.b.Audio)&&u.a.createElement(a.a,{icon:h.a.icon,toolId:h.a.id,toolTip:Object(s.b)("rich_editor.Add_audio"),onMouseDown:e=>{e.preventDefault(),v("AUDIO"),w("Asset_Audio")}}))},_=e=>{const t=Object(l.a)(),n=Object(c.a)(!e.topMargin&&(t?"t10 t4-lg":!t&&"t0"),"z-toolbar-3");return u.a.createElement(g,Object.assign({},e,{isSticky:!0,atoms:[n]}))}},Zkg7:function(e,t,n){"use strict";var a=n("yUSt");n.d(t,"b",(function(){return a}));var i=n("tODT");n.d(t,"a",(function(){return i.a}))},a8OY:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var a=n("egyr"),i=n("mv45"),r=n("q1tI");const o=()=>r.createElement("div",{className:"text-center py6"},r.createElement(a.a,{size:"large"})),s=e=>t=>Object(i.h)(t)?r.createElement(o,null):r.createElement(e,t)},aNAf:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("o3IG");function i(){return Object(a.b)("ios_mp_distinct_id")||Object(a.b)("vis")||Object(a.c)("vis",[Math.floor(1e20*Math.random()).toString(16).slice(0,16),Math.floor(1e20*Math.random()).toString(16).slice(0,16),Math.floor(1e20*Math.random()).toString(16).slice(0,16)].join("-")+"v1",new Date(2025,12,31),"/")}},aQhD:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("q1tI"),i=n("ocnG"),r=n("Qbqs");const o=({children:e,start:t=0,end:n=1,...o})=>a.createElement(i.a,Object.assign({},o,{transitions:[Object(r.a)({start:t,end:n})]}),e)},aT40:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));n("J2iB"),n("q1tI");const a=e=>"function"==typeof e,i=e=>"key"in e&&"parentKey"in e&&"value"in e&&"children"in e&&4===Object.keys(e).length},af5E:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return s}));var a=n("VX74"),i=n("DE4Y");n.d(t,"a",(function(){return i.F})),n.d(t,"c",(function(){return i.J}));const r={},o={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostsFeed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectSlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"me"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isKsrAdmin"}}]}},{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"projectSlug"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"state"}},{kind:"Field",name:{kind:"Name",value:"canUserRequestUpdate"}},{kind:"Field",name:{kind:"Name",value:"timeline"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"}},{kind:"Field",name:{kind:"Name",value:"endCursor"}}]}},{kind:"Field",name:{kind:"Name",value:"edges"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"timestamp"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Project"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"goal"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currency"}},{kind:"Field",name:{kind:"Name",value:"amount"}}]}},{kind:"Field",name:{kind:"Name",value:"pledged"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currency"}},{kind:"Field",name:{kind:"Name",value:"amount"}}]}},{kind:"Field",name:{kind:"Name",value:"latePledgePledged"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currency"}},{kind:"Field",name:{kind:"Name",value:"amount"}}]}},{kind:"Field",name:{kind:"Name",value:"backersCount"}},{kind:"Field",name:{kind:"Name",value:"latePledgeBackersCount"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Postable"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"publishedAt"}},{kind:"Field",name:{kind:"Name",value:"pinnedAt"}},{kind:"Field",name:{kind:"Name",value:"number"}},{kind:"Field",name:{kind:"Name",value:"actions"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"read"}},{kind:"Field",name:{kind:"Name",value:"pin"}}]}},{kind:"Field",name:{kind:"Name",value:"author"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"imageUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"120"}}]}]}},{kind:"Field",name:{kind:"Name",value:"authorRole"}},{kind:"Field",name:{kind:"Name",value:"isPublic"}},{kind:"Field",name:{kind:"Name",value:"likesCount"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CreatorInterview"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commentsCount"},arguments:[{kind:"Argument",name:{kind:"Name",value:"withReplies"},value:{kind:"BooleanValue",value:!0}}]},{kind:"Field",name:{kind:"Name",value:"answers"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"body"}},{kind:"Field",name:{kind:"Name",value:"question"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"body"}}]}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FreeformPost"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commentsCount"},arguments:[{kind:"Argument",name:{kind:"Name",value:"withReplies"},value:{kind:"BooleanValue",value:!0}}]},{kind:"Field",name:{kind:"Name",value:"body"}},{kind:"Field",name:{kind:"Name",value:"nativeImages"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]};function s(e){const t={...r,...e};return a.useQuery(o,t)}},aiSh:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return p}));var a=n("VX74"),i=n("KQNa"),r=n("n+nq"),o=n("HuS5"),s=n("UYTu"),l=n("0pZ2"),c=n("pj8f");const d=e=>Object(o.a)(({graphQLErrors:t,networkError:n})=>{Array.isArray(t)&&t.forEach(t=>{const n=new Error(t.message);e(n,"GraphQL Error")}),void 0!==n&&console.error("GraphQL Network Error:",n)}),u=(e,t=25)=>{const n=new a.ApolloLink((e,t)=>{const{headers:n={},projectShareToken:a}=e.getContext();return a&&e.setContext({headers:{...n,"Project-Share-Token":a}}),t?t(e):null});return new a.ApolloClient({uri:"/graph",cache:new a.InMemoryCache({possibleTypes:l}),link:Object(a.from)([d(e||c.Honeybadger.notify.bind(c.Honeybadger)),n,new i.a({uri:"/graph",batchMax:5,batchInterval:20,credentials:"same-origin",headers:{"X-CSRF-Token":Object(r.b)(document)}})]),queryDeduplication:!0,connectToDevTools:!1})},m=((e,t)=>{const n=new a.ApolloLink(()=>null),i=new a.InMemoryCache;return i.writeQuery({query:e,data:t}),new a.ApolloClient({link:n,cache:i})})(s.a`
  query {
    me {
      id
    }
  }
`,{me:{__typename:"User",id:"123"}}),p=()=>u(c.Honeybadger.notify.bind(c.Honeybadger))},arGM:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"f",(function(){return m})),n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return b})),n.d(t,"d",(function(){return h})),n.d(t,"h",(function(){return f}));var a=n("eEls"),i=n("g84z"),r=n("z0kN");const o=e=>Object.keys(e).filter(t=>s(e[t])).map(t=>Array.isArray(e[t])?e[t].filter(s).map(e=>[t+"[]",e].map(encodeURIComponent).join("=")).join("&"):[t,e[t]].map(encodeURIComponent).join("=")).sort().join("&"),s=e=>Array.isArray(e)?e.length>0:null!=e&&""!==e,l=Object(a.a)(Object(r.a)("?"),o),c=e=>e.toLowerCase().replace(/\//,"-").replace(/[^a-zA-Z0-9\s-_]/g,"").replace(/[\s|_]/g,"-").replace(/--+/g,"-").replace(/-$/,""),d=e=>(t,n)=>p(t,{ref:e},n),u=({ref:e,truncate:t=!1,clean:n=!1})=>(Array.isArray(e)?(t&&e.push(((e="",t=30)=>e.substring(0,t-1).replace(/\-$/,""))(e.pop())),e=e.join("-")):u({ref:[e],truncate:t,clean:n}),d(n?c(e):e)),m=e=>e.split("?")[0],p=(e,t={},n,a={})=>{e=e||"";const r={...Object(i.a)(e),...t};return[[a.noBaseEncode?m(e):encodeURI(m(e)),o(r)].filter(Boolean).join("?"),n?encodeURI(n):null].filter(Boolean).join("#")},b=(e,t,n="")=>[e,t+1,n].filter(Boolean).join("-"),h=e=>e.replace(/^#/,""),f=e=>e.startsWith("#")?e:"#"+e},atOr:function(e,t,n){"use strict";n.d(t,"a",(function(){return F}));var a=n("qPAc"),i=n("d5To"),r=n("pTxv"),o=n("lHf8"),s=n("cxMJ"),l=n("ObC8"),c=n("dPds"),d=n("mv45"),u=n("94td"),m=n("gN63"),p=n("jQIB"),b=n("arGM"),h=n("xKJO"),f=n("vtU4"),g=n("q1tI"),_=n("55Ip"),k=n("5FPU"),E=n("a8OY"),v=n("af5E"),y=n("JhfJ"),S=n("fOlt"),O=n("fivf"),N=n("7Rpo"),C=n("KsYZ"),j=n("XfPQ"),w=n("y4o6"),I=n("2Lb1"),T=n("FEsz"),A=n("2NEC"),D=n("SdBH"),P=n("eH4U");class R extends g.Component{constructor(...e){super(...e),this.state={key:0,isLikersModalShowing:!1}}componentDidMount(){h.a.incrementPostView(window.clientType)}renderEditBanner(){if(!this.props.canEdit)return null;const e=Object(P.b)(this.props.projectCreator,this.props.projectSlug,this.props.type,this.props.id);return g.createElement(s.a,{variant:"info","aria-label":this.props.isAdmin?Object(u.b)("project_updates.As_an_admin_you_are_able"):Object(u.b)("project_updates.You_have_time_left_to_edit",{timeLeft:this.props.timeLeftToEdit}),persistent:!0,className:"kds-mb-06",buttons:g.createElement(l.a.AsLink,{variant:"outlined",href:e},Object(u.b)("project_updates.Edit"))},g.createElement(c.a.BodyMD,{as:"p"},this.props.isAdmin?Object(u.b)("project_updates.As_an_admin_you_are_able"):Object(u.b)("project_updates.You_have_time_left_to_edit",{timeLeft:this.props.timeLeftToEdit})))}renderAllPostsButton(){const e=Object(P.d)(this.props.project)?f.b.PROJECT_PAGE.url(this.props.projectCreator,this.props.projectSlug)+"?tab=prelaunch-updates":f.b.POSTS_FEED.url(this.props.projectCreator,this.props.projectSlug);return g.createElement("div",{className:"pb8 native-hide"},g.createElement(_.b,{to:e},g.createElement(l.a,{variant:"outlined",icon:"icon--chevron-left"},Object(u.b)("project_updates.All_updates"))))}renderPost(){return g.createElement(I.a,{header:g.createElement(A.a,{title:this.props.title,sequence:this.props.sequence,publishedAt:this.props.publishedAt,authorAvatarUrl:this.props.authorAvatarUrl,authorName:this.props.authorName,authorRole:this.props.authorRole,isPublic:this.props.isPublic,PinningUI:g.createElement(w.a,{canPin:this.props.canPin,relayId:Object(m.b)(this.props.type,this.props.id),type:this.props.type,trackingContext:"view post",isPinned:this.props.isPinned,onPinCompletion:()=>O.history.push(f.b.POSTS_FEED.url(this.props.projectCreator,this.props.projectSlug))})}),body:g.createElement(T.a,{canRead:this.props.canRead,isLoggedIn:this.props.isLoggedIn,isProjectLive:this.props.isProjectLive,pledgeLink:f.b.PROJECT_PLEDGE.url(this.props.projectCreator,this.props.projectSlug)},g.createElement(g.Fragment,null,this.props.type===v.a.CreatorInterview&&g.createElement(N.b,{id:this.props.id}),this.props.type===v.a.FreeformPost&&g.createElement(C.b,{id:this.props.id}))),footer:this.renderLikePost()})}renderLikePost(){const{isLoggedIn:e,isPublished:t,canRead:n,isLiked:a,isPinned:i,onLikePost:r,onUnlikePost:o,likesCount:s,type:d,id:p}=this.props,h=Object(b.e)("/login",{then:window.location.pathname}),f=e&&t&&n,{onPress:_,text:k,icon:E}=a?{onPress:()=>o({id:Object(m.b)(d,p)}),text:"",icon:"icon--heart-filled"}:{onPress:()=>r({id:Object(m.b)(d,p)}),text:Object(u.b)("project_updates.Like"),icon:"icon--heart"};return g.createElement("footer",{className:"flex items-center mt8 py3 kds-border-b"},f?g.createElement(l.a,{icon:E,isDisabled:!t,variant:"outlined",onPress:_},k):g.createElement(l.a.AsLink,Object.assign({icon:E,isDisabled:!t,variant:"outlined"},t?{href:h}:{}),k),s>0&&g.createElement(g.Fragment,null,a?g.createElement(g.Fragment,null,s>1&&g.createElement(c.a.HeadingXS,{as:"span",className:"kds-text-secondary kds-ml-04"},g.createElement(u.a,{i18nKey:"project_updates.Like_this_update",youAndLikers:g.createElement(c.a.HeadingXS,{as:"button",onClick:()=>this.setState({isLikersModalShowing:!0}),className:"text-underline"},Object(u.b)("project_updates.You_and_others_like",{count:s-1}))}))):g.createElement(c.a.HeadingXS,{as:"span",className:"kds-text-secondary kds-ml-04"},g.createElement(u.a,{count:s,i18nKey:"project_updates.Likes_this_update",otherLikers:g.createElement(c.a.HeadingXS,{as:"button",onClick:()=>this.setState({isLikersModalShowing:!0}),className:"text-underline"},Object(u.b)("project_updates.Others_like",{count:s}))}))),this.state.isLikersModalShowing&&g.createElement(j.a,{id:Object(m.b)(d,p),onClose:()=>this.setState({isLikersModalShowing:!1})}))}renderNextPostButton(){return g.createElement(l.a,{variant:"outlined",icon:"icon--chevron-right",iconAfter:!0},Object(u.b)("project_updates.Next"))}renderPreviousPostButton(){return g.createElement(l.a,{variant:"outlined",icon:"icon--chevron-left"},Object(u.b)("project_updates.Previous"))}renderNeighbors(){const{projectCreator:e,projectSlug:t,nextPostId:n,previousPostId:a}=this.props;return window.isNativeAppRequest?g.createElement("div",{className:"mt6 flex items-center"},g.createElement("div",{className:"flex1"},a&&g.createElement(o.a,{href:f.b.VIEW_POST.url(e,t,a)},this.renderPreviousPostButton())),g.createElement("div",{className:"flex1 text-right"},n&&g.createElement(o.a,{href:f.b.VIEW_POST.url(e,t,n)},this.renderNextPostButton()))):g.createElement("div",{className:"mt3 flex items-center"},g.createElement("div",{className:"flex1"},a&&g.createElement(_.b,{onClick:()=>this.setState({key:this.state.key+1}),to:f.b.VIEW_POST.url(e,t,a)},this.renderPreviousPostButton())),g.createElement("div",{className:"flex1 text-right"},n&&g.createElement(_.b,{onClick:()=>this.setState({key:this.state.key+1}),to:f.b.VIEW_POST.url(e,t,n)},this.renderNextPostButton())))}renderComments(){if(!this.props.canRead)return null;const{projectCreator:e,projectSlug:t,id:n,type:o}=this.props;return g.createElement("div",{id:"comments"},g.createElement("div",{className:"py3 py7-sm hide block-sm"},g.createElement("h4",{className:"mb3"},Object(u.b)("project_updates.Comments")),g.createElement(i.a,{commentableId:Object(m.b)(o,n),initialCommentId:this.props.commentId,nextCursor:this.props.commentCursor,previousCursor:null,first:25,last:null,config:{...a.a}})),g.createElement("div",{className:"hide-sm mt6 mb3"},g.createElement(r.b,{atoms:["block"],theme:"support",href:f.b.POST_COMMENTS.url(e,t,n)},Object(u.b)("project_updates.Leave_a_comment"))))}render(){return g.createElement(p.a,{key:this.state.key,scrollDuration:1,offset:-100},g.createElement(D.a,{renderGrid:!this.props.noLayout,gridProps:{atoms:["py6"]},colProps:{mdWidth:8,center:!0}},this.renderEditBanner(),this.renderAllPostsButton(),this.renderPost(),this.renderNeighbors(),this.renderComments()))}}const F=Object(d.a)(S.a,y.c,Object(k.a)(()=>({primaryText:Object(u.b)("new_project_update.Were_having_trouble_loading"),secondaryText:Object(u.b)("new_project_update.If_refreshing_this_page")})),E.b)(R)},b8Ld:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n("lHf8"),i=n("2DJ9"),r=n("RBqt"),o=n("94td"),s=n("/IHD"),l=n("q1tI"),c=n("1uWx");const d=({isActive:e=!1,onMouseDown:t,label:n,toolTip:d,icon:u,toolId:m,headerDropdownEnabled:p})=>{const b="h9 w100p flex justify-start",h=Object(s.a)("hover-item-fill-ksr-green-500",e&&"fill-ksr-green-500"),f=Object(s.a)("flex bold px2 py3 hover-target hover-ksr-green-500",e&&"fill-ksr-green-500");if(m===c.h.id||m===c.d.id||m===c.f.id||m===c.p.id||m===c.n.id){const n={[c.h.id]:p?{label:"rich_editor.Header_1",atoms:b,typefont:void 0,spanAtoms:["type-24"]}:{label:"rich_editor.Headline",atoms:Object(s.a)("bold hover-target p2 py1-md keyboard-focusable keyboard-focusable-ksr-green-700",e?"bg-grey-300 ksr-green-700":"soft-black"),typefont:"body-100",spanAtoms:["hover-item-ksr-green-500"]},[c.d.id]:{label:"rich_editor.Header_2",atoms:b,typefont:void 0,spanAtoms:["type-21"]},[c.f.id]:{label:"rich_editor.Header_3",atoms:b,typefont:void 0,spanAtoms:["type-18"]},[c.p.id]:{label:"rich_editor.Block_quote",atoms:b,typefont:"subhead-200",spanAtoms:["type-18-md","border-left","border-left3px","border-create-500","pl2"]},[c.n.id]:{label:"rich_editor.Normal_text",atoms:b+" create-700",typefont:"body-100",spanAtoms:[""]}}[m];return l.createElement("button",{type:"button",className:n.atoms,onMouseDown:t},l.createElement(r.a,{atoms:n.spanAtoms,type:n.typefont},Object(o.b)(n.label)))}return l.createElement("span",{className:"ksr-tooltip","data-tooltip":d},l.createElement(a.a,{color:"black",atoms:[f],onMouseDown:t,type:"button"},n||l.createElement(i.a,{atoms:[h],label:d,name:u,size:"medium"})))}},bvYH:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return f})),n.d(t,"j",(function(){return g})),n.d(t,"d",(function(){return _})),n.d(t,"e",(function(){return y})),n.d(t,"f",(function(){return S})),n.d(t,"g",(function(){return O})),n.d(t,"h",(function(){return N})),n.d(t,"i",(function(){return C})),n.d(t,"k",(function(){return j})),n.d(t,"l",(function(){return w})),n.d(t,"m",(function(){return I})),n.d(t,"p",(function(){return T})),n.d(t,"o",(function(){return A})),n.d(t,"q",(function(){return D})),n.d(t,"r",(function(){return P})),n.d(t,"s",(function(){return R})),n.d(t,"n",(function(){return F})),n.d(t,"t",(function(){return L})),n.d(t,"c",(function(){return B}));var a=n("v83y"),i=n("JPcv"),r=n("94td"),o=n("gN63"),s=n("0fse"),l=n("ijK7"),c=n("lutk"),d=n("/Jws");const u=(e,t)=>{const n=e.getCurrentContent(),r=e.getSelection(),o=a.Modifier.removeRange(n,r,"backward"),s=o.getSelectionAfter(),l=a.Modifier.splitBlock(o,s),c=l.getSelectionAfter(),d=a.Modifier.setBlockType(l,c,"atomic"),u=[new a.ContentBlock({key:Object(a.genKey)(),type:"atomic",text:" ",characterList:Object(i.List)(),data:Object(i.Map)(t)}),new a.ContentBlock({key:Object(a.genKey)(),type:"unstyled",text:"",characterList:Object(i.List)()})],m=a.BlockMapBuilder.createFromArray(u),p=a.Modifier.replaceWithFragment(d,c,m),b=p.merge({selectionBefore:r,selectionAfter:p.getSelectionAfter()});return a.EditorState.push(e,b,"insert-fragment")};var m=n("L+5T"),p=n("kKlT");const b=e=>({type:"CLOSE_IMAGE_MODAL",isDirty:e}),h=()=>({type:"CLOSE_IMAGE_SAFELY"}),f=()=>({type:"CLOSE_REMOVE_ASSET_MODAL"}),g=()=>({type:"SHOW_LOADER"}),_=()=>({type:"HIDE_LOADER"}),k=(e,t)=>({type:"IMAGE_UPLOAD_SUCCESS",id:e,src:t}),E=()=>({type:"IMAGE_UPLOAD_DELETE"}),v=()=>({type:"NOOP"}),y=()=>({type:"OPEN_CREATE_IMAGE_MODAL"}),S=e=>({type:"OPEN_EDIT_IMAGE_MODAL",block:e}),O=e=>({type:"OPEN_REMOVE_ASSET_MODAL",block:e}),N=()=>({type:"REMOVE_ASSET"}),C=()=>({type:"REMOVE_LINK"}),j=(e,t)=>({type:"SUBMIT_EMBED",response:e,embedUrl:t}),w=()=>({type:"SUBMIT_IMAGE"}),I=(e,t)=>({type:"SUBMIT_LINK",linkUrl:e,linkText:t}),T=e=>({type:"UPDATE_EDITOR_STATE",newEditorState:e}),A=e=>({type:"UPDATE_CKEDITOR_STATE",newEditorState:e}),D=e=>({type:"UPDATE_IMAGE_ALT_TEXT",altText:e}),P=e=>({type:"UPDATE_IMAGE_CAPTION",caption:e}),R=e=>({type:"UPDATE_IMAGE_CLICKTHROUGH",url:e}),F=(e,t)=>({type:"SUBMIT_VIDEO_UPLOAD",assetId:e,assetHtml:t}),L=(e,t)=>({type:"UPDATE_LINK_VALUES",linkText:e,linkUrl:t}),M=()=>new Promise((e,t)=>{x()?e():t()}),x=(e="Are you sure you want to discard your changes?")=>window.confirm(e),U=(e,t,n)=>Object(c.b)(e)(Object(o.b)(n,t)).then(v),V=e=>"IMAGE"===e?"Photo":"AUDIO"===e?"AttachedAudio":"VIDEO"===e?"AttachedVideo":null,B=Object(s.b)({story:(e=Object(m.b)({}),t)=>{const n=e.editorState.getSelection();switch(t.type){case"SET_CURRENT_MODAL":return{...e,currentModal:t.currentModal};case"UPDATE_LINK_VALUES":return{...e,linkText:t.linkText,linkUrl:t.linkUrl||null};case"CLOSE_IMAGE_MODAL":return t.isDirty?Object(s.f)(e,s.a.run(M,{successActionCreator:h,failActionCreator:v})):Object(s.f)(e,s.a.action({type:"CLOSE_IMAGE_SAFELY"}));case"CLOSE_IMAGE_SAFELY":return Object(s.f)({...e,errors:"",key:e.key+1,imageAltText:"",imageCaption:"",imageId:null,imageSrc:null,imageUrl:"",currentModal:null,subjectBlock:null},s.a.action(d.a.actions.uploadReset()));case"CLOSE_REMOVE_ASSET_MODAL":return{...e,currentModal:null,subjectBlock:null};case"SHOW_LOADER":return{...e,showLoader:!0};case"HIDE_LOADER":return{...e,showLoader:!1};case"IMAGE_UPLOAD_DELETE":return{...e,imageId:null,imageSrc:null};case"IMAGE_UPLOAD_SUCCESS":return{...e,imageId:Object(o.a)(t.id),imageSrc:t.src};case"OPEN_CREATE_IMAGE_MODAL":return Object(s.f)(e,s.a.action(d.a.actions.imageUploaderInitialize(Object(c.a)(e.attachableId,e.attachableAssoc),Object(c.b)(e.attachableId),k,E)));case"OPEN_EDIT_IMAGE_MODAL":const m=t.block.getData().get("alt")||"",b=t.block.getData().get("caption")||"",f=t.block.getData().get("href");return{...e,currentModal:"IMAGE",imageAltText:m,imageCaption:b,imageUrl:f||"",subjectBlock:t.block};case"OPEN_REMOVE_ASSET_MODAL":return{...e,currentModal:"REMOVE_ASSET",subjectBlock:t.block};case"REMOVE_ASSET":if(!e.subjectBlock)return e;const g=e.editorState.getCurrentContent(),_=e.subjectBlock.getKey(),y=e.subjectBlock.getData().get("id"),S=a.SelectionState.createEmpty(_).merge({anchorKey:g.getKeyBefore(_),anchorOffset:g.getBlockForKey(g.getKeyBefore(_)).getLength(),focusOffset:e.subjectBlock.getLength()}),O=a.EditorState.push(e.editorState,a.Modifier.removeRange(g,S,"backward"),"remove-range"),N=V(e.subjectBlock.getData().get("type"));return Object(s.f)({...e,editorState:O,key:e.key+1,currentModal:null,subjectBlock:null},N?s.a.run(U,{args:[e.attachableId,y,N]}):s.a.none);case"REMOVE_LINK":const C=Object(l.d)(e.editorState,"LINK");if(0===C.length)return e;const j=C[0],w=new a.SelectionState({anchorKey:j.blockKey,anchorOffset:j.start,focusKey:j.blockKey,focusOffset:j.end}),I=a.RichUtils.toggleLink(e.editorState,w,null);return{...e,editorState:I,showRemoveLink:!1};case"SUBMIT_EMBED":{const n=u(e.editorState,{href:t.embedUrl,rawHtml:t.response,type:"OEMBED"});return{...e,editorState:n,key:e.key+1}}case"SUBMIT_IMAGE":{if(e.imageUrl&&!Object(p.d)(Object(p.a)(e.imageUrl)))return{...e,errors:Object(r.b)("rich_editor.Please_enter_a_valid_URL")};let t;return t=e.subjectBlock?a.EditorState.set(e.editorState,{currentContent:a.Modifier.mergeBlockData(e.editorState.getCurrentContent(),a.SelectionState.createEmpty(e.subjectBlock.getKey()),Object(i.Map)({alt:e.imageAltText,caption:e.imageCaption,href:e.imageUrl}))}):u(e.editorState,{alt:e.imageAltText,caption:e.imageCaption,href:e.imageUrl,id:e.imageId,src:e.imageSrc,type:"IMAGE"}),Object(s.f)({...e,editorState:t,key:e.key+1,imageAltText:"",imageCaption:"",imageId:null,imageSrc:null,imageUrl:"",currentModal:null,subjectBlock:null},s.a.action(d.a.actions.uploadReset()))}case"SUBMIT_LINK":const T=Object(p.a)(t.linkUrl),A=Object(l.d)(e.editorState,"LINK")[0],D=e.editorState.getCurrentContent();if(A){const i=D.mergeEntityData(A.entityKey,{url:T}),r=new a.SelectionState({anchorKey:A.blockKey,anchorOffset:A.start,focusKey:A.blockKey,focusOffset:A.end}),o=a.Modifier.replaceText(i,r,t.linkText,void 0,A.entityKey),s=a.EditorState.forceSelection(a.EditorState.push(e.editorState,o,"apply-entity"),n);return{...e,editorState:s,errors:"",key:e.key+1,linkText:"",linkUrl:"",currentModal:null}}{const i=D.createEntity("LINK","MUTABLE",{url:T,target:"_blank"}),r=i.getLastCreatedEntityKey(),o=t.linkText||t.linkUrl,s=n.isCollapsed()?Object(l.h)(i,n,r,o):a.Modifier.replaceText(i,n,o,void 0,r),c=a.EditorState.push(e.editorState,s,"apply-entity"),d=a.RichUtils.toggleLink(c,n,r);return{...e,editorState:a.EditorState.forceSelection(d,n),errors:"",key:e.key+1,linkText:"",linkUrl:"",currentModal:null,showRemoveLink:!0}}case"UPDATE_EDITOR_STATE":return 1===Object(l.d)(t.newEditorState,"LINK").length?{...e,editorState:t.newEditorState,showRemoveLink:!0}:{...e,editorState:t.newEditorState,showRemoveLink:!1};case"UPDATE_CKEDITOR_STATE":return{...e,content:t.newEditorState};case"UPDATE_IMAGE_ALT_TEXT":return{...e,imageAltText:t.altText};case"UPDATE_IMAGE_CAPTION":return{...e,imageCaption:t.caption};case"UPDATE_IMAGE_CLICKTHROUGH":return{...e,errors:"",imageUrl:t.url};case"SUBMIT_VIDEO_UPLOAD":{const n=u(e.editorState,{id:Object(o.a)(t.assetId),rawHtml:t.assetHtml,type:"VIDEO"});return{...e,editorState:n,key:e.key+1}}default:return e}},imageUploader:d.a.reducer})},c5x8:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var a=n("brpA"),i=n.n(a),r=n("iuhU"),o=n("9jZ4"),s=n("/IHD");function l(e,...t){if(void 0===e||e instanceof Array||"string"==typeof e){const n=Object(s.a)(...Object(s.b)([],[Object(r.b)(e)]));return Object(r.b)(...t,n)}const{atoms:n,...a}=e;return{...a,className:l(n,...t,a.className)}}function c(e,t){const n=t&&"className"in t?t.className:void 0;return"function"==typeof e?n?t=>Object(r.b)(e(t),n):e:i()(e)?e.some(e=>"function"==typeof e)?t=>Object(r.b)(...e.map(e=>"function"==typeof e?e(t):e,n)):Object(r.b)(...e,n):[e,n].every(o.d)?void 0:Object(r.b)(e,n)}},"c6/r":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("4LGs");const i={"&#39;":"'","&#96;":"`","&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#x60;":"`","&#x2F;":"/","\u2028":" ","\u2029":" "},r=e=>Object(a.a)(i,e)},c7Xp:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));var a=n("g84z");const i=()=>Object(a.a)(window.location.search).token,r=e=>{const t=e||{options:{}};return{...t,options:{...t.options,context:{projectShareToken:i()}}}}},cDWt:function(e,t,n){"use strict";function a(){}function i(e){if(!(this instanceof i))return new i(e);this.value=e}function r(e){if(!(this instanceof r))return new r(e);this.value=e}n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),i.prototype=new a,r.prototype=new a,i.prototype.isSuccess=!0,i.prototype.isFailure=!1,r.prototype.isSuccess=!1,r.prototype.isFailure=!0,i.prototype.toString=function(){return"Validation.Success("+this.value+")"},r.prototype.toString=function(){return"Validation.Failure("+this.value+")"},i.prototype.concat=function(e){return e},r.prototype.concat=function(e){return e.isSuccess?this:r(this.value.concat(e.value))}},cxMJ:function(e,t,n){"use strict";var a=n("0kxh");n.d(t,"a",(function(){return a.a}))},d5To:function(e,t,n){"use strict";var a=n("DI+Y"),i=n("c7Xp"),r=n("lHf8"),o=n("94td"),s=n("ECYc"),l=n("qn6j"),c=n("q1tI"),d=n.n(c),u=n("qPAc"),m=n("YToL");const p=d.a.createContext();class b extends d.a.Component{constructor(...e){super(...e),this.configureContext=e=>{const{commentable:t,config:n}=e;return{createTrackingEventName:n.createTrackingEventName,pollUrl:n.pollUrlFactory(t),placeholderText:n.placeholderText,submitButtonText:n.submitButtonText,showCommentsWithoutPledges:n.showCommentsWithoutPledges,showNonBackerMessage:n.showNonBackerMessage,hideBackground:n.hideBackground,canUserRequestUpdate:t.canUserRequestUpdate,projectRelayId:t.projectRelayId}}}render(){const{children:e}=this.props;return d.a.createElement(p.Provider,{value:this.configureContext(this.props)},e)}}const h=p.Consumer;var f=n("UYTu"),g=n("CKbS");var _=f.a`
  mutation CreateComment($commentableId: ID!, $body: String!, $parentId: ID) {
    createComment(
      input: { commentableId: $commentableId, body: $body, parentId: $parentId }
    ) {
      comment {
        ...CommentInfo
        replies {
          totalCount
          nodes {
            ...CommentInfo
          }
          pageInfo {
            startCursor
            hasPreviousPage
          }
        }
      }
    }
  }
  ${g.c.commentInfo}
`,k=n("tr1H"),E=n("pj8f"),v=n("gN63"),y=n("GRmu"),S=n("2UXI"),O=n("pTxv"),N=n("L/h+"),C=n("NxQb"),j=n("uBBe"),w=n("5j0V"),I=n("6Oeb"),T=n("1OuE");var A=({restrictionReleaseDate:e})=>{const t=Object(T.b)("LL",e),n=Object(T.b)("LT",e);return d.a.createElement("div",null,e?d.a.createElement("p",{className:"text-left soft-black_50 type-14"},d.a.createElement(o.a,{i18nKey:"project_page.comments.Your_ability_to_post_comments_has_been_deactivated",date:t,time:n,guidelinesLink:d.a.createElement("a",{className:"bold text-underline soft-black",href:"/help/community"},Object(o.b)("project_page.comments.Read_our_community_guidelines"))})):d.a.createElement("p",{className:"text-left soft-black_50 type-14"},d.a.createElement(o.a,{i18nKey:"project_page.comments.Your_ability_to_post_comments_has_been_revoked",guidelinesLink:d.a.createElement("a",{className:"bold text-underline soft-black",href:"/help/community"},Object(o.b)("project_page.comments.Read_our_community_guidelines"))})))};const D=({message:e})=>d.a.createElement("p",{className:"type-12 red-500 mb0"},e);var P=({body:e,onSubmit:t,submitDisabled:n,userHasCommentingRestriction:a,restrictionReleaseDate:i,imageUrl:r,errors:s=[],onChange:l,maxLength:c=9001,autofocus:u=!1,submitButtonText:m,placeholderText:p,displayProjectUpdateRequestPrompt:b=!1,projectRelayId:h})=>{const f=s.length?"red-500":"soft-black",{selectedText:g}=window;return d.a.createElement("div",{className:`border border-${f} p3 mx2 mb2 flex items-start self-stretch bg-white`},d.a.createElement(N.a,{imageUrl:r,size:6,atoms:["shrink0"]}),d.a.createElement("div",{className:"ml3 grow1"},g&&d.a.createElement(I.a,{body:g,displayTooltip:!0}),d.a.createElement("form",{onSubmit:t},d.a.createElement("fieldset",{className:"m0 p0"},a?d.a.createElement(A,{restrictionReleaseDate:i}):d.a.createElement("textarea",{autoFocus:u,name:"comment_field",maxLength:c,rows:"3",className:"relative type-14 border-none no-outline mt1",value:e,onChange:l,placeholder:g?Object(o.b)("project_page.comments.Ask_a_question"):p})),Object(C.a)("project_update_requests")&&b&&d.a.createElement("div",{"data-test-id":"comment-pur-prompt"},d.a.createElement(j.a,{projectId:h,className:"mb3",location:w.b.comment})),d.a.createElement("div",{className:"flex items-center mb1"},d.a.createElement(O.b,{type:"submit",theme:"support",disabled:n},m),s.length>0&&d.a.createElement("div",null,[...new Set(s)].map((e,t)=>d.a.createElement(D,{message:e,key:t})))))))},R=n("UvgG");class F extends d.a.Component{constructor(e){super(e),this.state={body:"",errors:[],disabledForm:!1,displayProjectUpdateRequestPrompt:!1},this.onChange=this.onChange.bind(this),this.onSubmit=this.onSubmit.bind(this),this.onMutate=this.onMutate.bind(this),this.getMutationOptions=this.getMutationOptions.bind(this),this.lengthCheck=this.maxLengthCheck.bind(this),this.getFormattedBody=this.getFormattedBody.bind(this),this.maxLength=9001}maxLengthCheck(e){return e.length>=this.maxLength}onChange(e){const t=e.target.value;this.props.canUserRequestUpdate&&t.match(/update/i)&&this.setState({displayProjectUpdateRequestPrompt:!0}),this.lengthCheck(t)?this.setState(e=>{const t=Object(o.b)("project_page.comments.Youve_reached_maximum");return{errors:[...e.errors,t]}}):this.setState(()=>({body:t,errors:[]}))}getFormattedBody(){const e=m.a;return window.selectedText&&""!==window.selectedText?window.selectedText+e+this.state.body:this.state.body}getMutationOptions(){return{variables:{body:this.getFormattedBody(),commentableId:this.props.commentableId,parentId:this.props.parentId||null},context:{projectShareToken:Object(i.b)()},optimisticResponse:Object(R.c)(this.state,this.props),update:(e,{data:{createComment:t}})=>{const n=t.comment,a=this.props.parentId,i=e.readQuery({query:g.a,variables:{commentableId:this.props.commentableId,first:25}});if(i&&a){const t=i.commentable.comments.edges.map(e=>e.node.id===a?{...e,node:{...e.node,replies:{...e.node.replies,totalCount:e.node.replies.totalCount+1,nodes:[n,...e.node.replies.nodes]}}}:e),r={...i,commentable:{...i.commentable,comments:{...i.commentable.comments,edges:t}}};e.writeQuery({query:g.a,variables:{commentableId:this.props.commentableId,first:25},data:r})}this.props.refetch()}}}onMutate(){return this.props.mutate(this.getMutationOptions())}onSubmit(e){if(e.preventDefault(),this.setState({disabledForm:!0}),0!==this.state.body.replace(/\s/g,"").length)return this.onMutate().then(e=>{if(window.selectedText&&""!==window.selectedText){const t=Object(v.a)(e.data.createComment.comment.id);Object(S.d)("Created Comment From Project Page Claim Popover",{comment_id:t,full_text:window.selectedText})}return window.selectedText=null,this.setState(()=>({body:"",errors:[],disabledForm:!1}),this.props.onSuccess||(()=>{})),e}).catch(e=>{E.Honeybadger.notify(JSON.stringify(e),{context:{tags:k.a.PROCOMM}}),Object(y.a)({error:Object(o.b)("project_page.comments.Please_log_in_to_comment")})}).then(()=>this.props.refetch());this.setState(e=>{const t=Object(o.b)("project_page.comments.Comment_body_cant_be");return{errors:[...e.errors,t],disabledForm:!1}})}render(){return d.a.createElement(P,{onSubmit:this.onSubmit,imageUrl:this.props.me.imageUrl,commentableId:this.props.commentableId,submitDisabled:this.state.disabledForm,onChange:this.onChange,body:this.state.body,errors:this.state.errors,maxLength:this.maxLength,autofocus:!!this.props.parentId,placeholderText:this.props.placeholderText,submitButtonText:this.props.submitButtonText,displayProjectUpdateRequestPrompt:this.state.displayProjectUpdateRequestPrompt,projectRelayId:this.props.projectRelayId})}}F.defaultProps={refetch:R.h};var L=F;var M=e=>d.a.createElement(h,null,({createTrackingEventName:t,placeholderText:n,submitButtonText:a,projectRelayId:i,canUserRequestUpdate:r})=>d.a.createElement(L,Object.assign({},e,{placeholderText:n,submitButtonText:a,createTrackingEventName:t,projectRelayId:i,canUserRequestUpdate:r}))),x=Object(a.graphql)(_)(M,Object(i.a)()),U=n("fQhN");const V=({ctaText:e})=>d.a.createElement("a",{className:"bold soft-black",href:Object(R.f)()},e);var B=({loggedIn:e})=>e?d.a.createElement("p",{className:"text-center bg-grey-200 p2 type-14"},Object(o.b)("project_page.comments.Only_backers")):d.a.createElement(o.a,{i18nKey:"project_page.comments.Only_backers_login",loginLink:d.a.createElement(V,{ctaText:Object(o.b)("project_page.comments.Log_in")}),i18nTag:"p",atoms:["text-center","bg-grey-200","p2","type-14"]});var H=({me:e,commentableId:t,userCanComment:n,userCanCommentSansRestrictions:a,showNonBackerMessage:i,refetch:r})=>{const s=Object(R.g)(e);let l,c=!1,u=[];return s&&(u=e.userRestrictions.filter(e=>"commenting"==e.restriction),c=!!u.length,c&&(l=u[0].releaseAt)),a&&c?d.a.createElement(U.a,null,d.a.createElement(P,{submitDisabled:!0,submitButtonText:Object(o.b)("project_page.comments.Post_Comment"),userHasCommentingRestriction:c,restrictionReleaseDate:l,refetch:r})):!n&&i?d.a.createElement(U.a,null,d.a.createElement(B,{loggedIn:s})):d.a.createElement("div",{className:"mb2"},d.a.createElement(U.a,null,d.a.createElement(x,{commentableId:t,me:e,refetch:r})))};var Y=e=>d.a.createElement(h,null,({showNonBackerMessage:t})=>d.a.createElement(H,Object.assign({},e,{showNonBackerMessage:t}))),G=n("daZV"),q=n("Sdzn"),K=n("arGM"),z=n("MgNI"),W=n("TIPN"),$=n("g84z"),Z=n("VJVG"),J=n("2DJ9");var X=({body:e,removedPerGuidelines:t})=>{const n=`<a href='/help/community'>${Object(o.b)("project_page.comments.Kickstarters_Community_Guidelines")}</a>`;return d.a.createElement("div",{className:"border-box flex bg-white break-word border border-grey-400 px3 pt3"},d.a.createElement(J.a,{name:"info",size:"16",atoms:["fill-dark-grey-500","mr1","relative","t3px"]}),t?d.a.createElement("p",{className:"link-guidelines-dark-grey-500",dangerouslySetInnerHTML:{__html:e.replace("%{guidelines_link}",n)}}):d.a.createElement("p",{className:"dark-grey-500"},e))};class Q extends c.Component{constructor(e){super(e),this.setInitialVisibleState=(e=!1,t=!1,n=!1,a=!1,i=!1)=>!i&&(t||a||!e&&!n),this.setRef=e=>{this.commentRef=e},this.scrollToComment=()=>{const e=z.maybe.fromNullable(Object($.a)(window.location.search)).map(e=>e.comment).getOrElse(null);null!=this.commentRef&&e===this.props.id&&Object(W.e)({element:this.commentRef})},this.state={visible:this.setInitialVisibleState(this.props.deletedAuthor,this.props.deleted,this.props.authorCanceledPledge,this.props.showCommentsWithoutPledges,this.props.removedPerGuidelines)}}showNothing(){return(this.props.authorCanceledPledge||this.props.deletedAuthor)&&!this.props.parentId&&!this.props.hasReplies&&!this.props.showCommentsWithoutPledges}componentDidMount(){this.scrollToComment()}render(){return this.showNothing()?null:this.state.visible?d.a.createElement(Z.a,{id:this.props.id,body:this.props.body,author:this.props.author,authorBacking:this.props.authorBacking,me:this.props.me,createdAt:this.props.createdAt,authorBadges:this.props.authorBadges,canReport:this.props.canReport,canDelete:this.props.canDelete,canPin:this.props.canPin,hasFlaggings:this.props.hasFlaggings,sustained:this.props.sustained,deleted:this.props.deleted,deletedAuthor:this.props.deletedAuthor,pinnedAt:this.props.pinnedAt,parentId:this.props.parentId,isActive:this.props.isActive,commentPath:this.props.commentPath,setRef:this.setRef,refetch:this.props.refetch},this.props.children):d.a.createElement(X,{body:this.props.body,removedPerGuidelines:this.props.removedPerGuidelines})}}var ee=Q;var te=e=>d.a.createElement(h,null,({showCommentsWithoutPledges:t,hideBackground:n})=>d.a.createElement(ee,Object.assign({},e,{hideBackground:n,showCommentsWithoutPledges:t})));var ne=({comments:e,me:t})=>d.a.createElement("ul",null,Object(R.k)(e).map(e=>(e={...e,commentPath:Object(K.c)({comment:e.parentId,reply:e.id})},d.a.createElement("li",{key:e.id,className:"mb2"},d.a.createElement(te,Object.assign({},e,{me:t}))))));var ae=({commentId:e,isActive:t=!1,activateForm:n,deactivateForm:a})=>{const i=t?"ksr-green-700":"soft-black";return d.a.createElement("button",{className:"mr1",onClick:()=>{t?a():(Object(s.a)(l.a.INCREMENT,m.d.REPLY_FORM_OPENED),n(e))}},d.a.createElement(J.a,{size:"16",atoms:["fill-"+i],name:"icon--reply"}))};var ie=({commentId:e,commentAuthor:t={},activateForm:n})=>d.a.createElement(O.c,{theme:"support",size:"medium",atoms:["w100p"],onClick:()=>{Object(s.a)(l.a.INCREMENT,m.d.REPLY_FORM_OPENED),n(e)}},Object(o.b)("project_page.comments.Reply_to_user",{name:t.name}));var re=({me:e,commentableId:t,activateForm:n,deactivateForm:a,userCanComment:i,activeThreadId:r,comment:o,client:s,repliesLoading:l,toggleRepliesLoading:u,commentPath:p,refetch:b})=>{const{id:h,body:f,author:_,createdAt:k,canReport:E,canDelete:v,canPin:y,hasFlaggings:S,sustained:O,deletedAuthor:N,deleted:C,pinnedAt:j,authorCanceledPledge:w,authorBacking:I,authorBadges:T,removedPerGuidelines:A}=o,[D,P]=Object(c.useState)(o.replies);Object(c.useEffect)(()=>{P(o.replies)},[o]);const F=Object(R.b)(s,g.b,h)(l,u,R.i,R.j)(D),L=h===r,M=!!D.nodes&&D.nodes.length>0,V=C||N;return d.a.createElement(c.Fragment,null,d.a.createElement(te,{body:f,author:_,me:e,createdAt:k,authorCanceledPledge:w,authorBacking:I,authorBadges:T,canReport:E,canDelete:v,canPin:y,hasFlaggings:S,sustained:O,deletedAuthor:N,deleted:C,pinnedAt:j,id:h,isActive:L,commentPath:p,hasReplies:M,refetch:b,commentableId:t,removedPerGuidelines:A},i&&!V&&!_.isBlocked&&d.a.createElement(U.a,null,d.a.createElement(ae,{isActive:L,activateForm:n,deactivateForm:a,commentId:h}))),(M||L)&&d.a.createElement("div",{className:"pl6 pt2 theme--support"},M&&d.a.createElement(U.a,null,d.a.createElement(G.a,{buttonI18nKey:"project_page.comments.Load_previous",remainingI18nKey:"project_page.comments.Replies_remaining",totalCount:F.totalCount,showingCount:F.showingCount,pageSize:m.c.REPLIES,onClick:async()=>{const e=await F.onClick();P(e)},loading:F.loadingStatus,hasMorePages:F.hasMorePages,atoms:["mb2"]})),M&&d.a.createElement(U.a,null,d.a.createElement(ne,{comments:D.nodes,me:e})),L?i&&d.a.createElement(U.a,null,d.a.createElement(x,{me:e,commentableId:t,parentId:h,onSuccess:a,replyCursor:D.pageInfo.startCursor})):i&&M&&!V&&!_.isBlocked&&d.a.createElement(U.a,null,d.a.createElement(ie,{activateForm:n,commentAuthor:_,commentId:h}))))};class oe extends c.Component{constructor(e){super(e),this.toggleRepliesLoading=()=>{this.setState(e=>({repliesLoading:!e.repliesLoading}))},this.state={repliesLoading:!1}}render(){return d.a.createElement(re,{me:this.props.me,commentableId:this.props.commentableId,activateForm:this.props.activateForm,deactivateForm:this.props.deactivateForm,activeThreadId:this.props.activeThreadId,userCanComment:this.props.userCanComment,comment:this.props.comment,client:this.props.client,repliesLoading:this.state.repliesLoading,toggleRepliesLoading:this.toggleRepliesLoading,commentPath:this.props.commentPath,refetch:this.props.refetch})}}var se=oe;var le=e=>d.a.createElement(h,null,()=>d.a.createElement(se,e)),ce=Object(a.withApollo)(le),de=n("/IHD");const ue=({comments:e,commentableId:t,activateForm:n,deactivateForm:a,activeThreadId:i,userCanComment:r,me:o,hideBackground:s,refetch:l})=>{const c=Object(de.a)(!s&&"bg-grey-100 border border-grey-400","p2 mb3");return d.a.createElement("ul",{className:c},e.map((s,c)=>{const u=Object(K.c)({comment:s.node.id});return d.a.createElement("li",{key:s.node.id,className:""+(Object(q.a)(e,c)?"":"mb2")},d.a.createElement(U.a,null,d.a.createElement(ce,{me:o,commentableId:t,activateForm:n,deactivateForm:a,activeThreadId:i,userCanComment:r,comment:s.node,commentPath:u,refetch:l})))}))},me=e=>d.a.createElement(h,null,({hideBackground:t})=>d.a.createElement(ue,Object.assign({hideBackground:t},e)));var pe=n("egyr");class be extends d.a.Component{constructor(e){super(e),this._normalizeCommentableData=({commentsCount:e})=>({commentable:{commentsCount:e}}),this.poll=()=>{if(window.device_attributes.isBot)return null;const e=setInterval(()=>{fetch(this.props.pollUrl).then(e=>e.json()).then(({project:e})=>{this.setState(()=>({data:this._normalizeCommentableData({commentsCount:e.comments_for_display_count})}))})},5e3);this.setState(()=>({intervalId:e}))},this.getNewComments=(e,t)=>{const n=()=>this.setState(()=>({loading:!1}));this.setState(()=>({loading:!0}),()=>{e({commentableId:t}).then(n,n).catch(e=>{E.Honeybadger.notify(`Refetch Error: ${JSON.stringify(e)}; keys: ${Object.keys(e).join(", ")}`,{context:{tags:k.a.PROCOMM}})})})},this.messageOrSpinner=(e,t)=>e?d.a.createElement(pe.a,null):d.a.createElement(o.a,{i18nKey:"project_page.comments.Show_new_comments",count:t}),this.state={pollId:null,intervalId:null,loading:!1,data:{commentable:{commentsCount:null}}}}componentDidMount(){if(!this.state.pollId){const e=setTimeout(this.poll.bind(this),1);this.setState(()=>({pollId:e}))}}componentWillUnmount(){clearTimeout(this.state.pollId),clearTimeout(this.state.intervalId)}render(){const{currentCount:e,refetch:t,commentableId:n}=this.props,a=this.state.data.commentable;if(!a||!a.commentsCount)return null;const i=a.commentsCount;return i>e?d.a.createElement("div",{className:"px2 mb2"},d.a.createElement(O.b,{onClick:()=>this.getNewComments(t,n),fullWidth:!0,theme:"trust"},this.messageOrSpinner(this.state.loading,i-e))):null}}var he=be;var fe=({currentCount:e,refetch:t,commentableId:n})=>d.a.createElement(h,null,({pollUrl:a})=>d.a.createElement(d.a.Fragment,null,a&&d.a.createElement(he,{currentCount:e,refetch:t,pollUrl:a,commentableId:n})));var ge=({comments:e,commentableId:t,activateForm:n,deactivateForm:a,activeThreadId:i,userCanComment:r,me:o,pagination:s,refetch:l})=>{if(!e)return null;const{nextPage:u,previousPage:p}=s,b=Object(R.l)(e);return d.a.createElement(c.Fragment,null,p.hasMorePages?d.a.createElement(U.a,null,d.a.createElement("div",{className:"mb2 theme--trust"},d.a.createElement(G.a,{kind:"primary",buttonI18nKey:"project_page.comments.Load_previous_root",remainingI18nKey:"project_page.comments.Comments_remaining",totalCount:p.totalCount,showingCount:p.showingCount,showPageCount:!1,pageSize:m.c.COMMENTS,onClick:p.onClick,loading:p.loadingStatus,hasMorePages:p.hasMorePages}))):d.a.createElement(U.a,null,d.a.createElement(fe,{currentCount:s.nextPage.totalCount,refetch:l,commentableId:t})),d.a.createElement(me,{activateForm:n,deactivateForm:a,activeThreadId:i,userCanComment:r,me:o,comments:b,commentableId:t,refetch:()=>l(t)}),d.a.createElement(U.a,null,d.a.createElement(G.a,{buttonI18nKey:"project_page.comments.Load_more",remainingI18nKey:"project_page.comments.Comments_remaining",totalCount:u.totalCount,showingCount:u.showingCount,pageSize:m.c.COMMENTS,onClick:u.onClick,loading:u.loadingStatus,hasMorePages:u.hasMorePages,atoms:["theme--support"]})))};class _e extends d.a.Component{constructor(e){super(e),this.state={activeThreadId:e.initialCommentId||"",flaggingModalOpen:!1,flaggingCommentId:null},this.activateForm=this.activateForm.bind(this),this.deactivateForm=this.deactivateForm.bind(this)}activateForm(e){this.setState(()=>({activeThreadId:e}))}deactivateForm(){this.setState(()=>({activeThreadId:""}))}render(){return d.a.createElement(ge,{comments:this.props.comments,me:this.props.me,commentableId:this.props.commentableId,activeThreadId:this.state.activeThreadId,activateForm:this.activateForm,deactivateForm:this.deactivateForm,userCanComment:this.props.userCanComment,loadOlderStartCursor:this.props.loadOlderStartCursor,pagination:this.props.pagination,refetch:this.props.refetch})}}var ke=_e;var Ee=()=>d.a.createElement("p",{className:"text-center bg-grey-200 p2 type-12 border border-red-500 radius2px red-500 bold"},Object(o.b)("onloads.views.comments.list.Sorry_we_couldnt_load_comments_just_now"));var ve=()=>d.a.createElement("div",{className:"text-center"},d.a.createElement(J.a,{name:"icon--circle-loader",size:"large"}));var ye=({currentCount:e,refetch:t,commentableId:n})=>d.a.createElement(c.Fragment,null,d.a.createElement(U.a,null,d.a.createElement(fe,{currentCount:e,refetch:t,commentableId:n})),d.a.createElement("div",{className:"px5 py8 mt2 bg-grey-100 flex justify-center items-center"},d.a.createElement(J.a,{name:"icon--message",size:"medium",atoms:["fill-dark-grey-400"]}),d.a.createElement("span",{className:"ml2 dark-grey-400"},Object(o.b)("project_page.comments.No_comments_yet"))));class Se extends c.Component{constructor(...e){super(...e),this.loadNextPageProps=e=>({onClick:()=>{this.getPage(e.fetchMore,e.commentable.comments.pageInfo.endCursor)},loadingStatus:e.loading,totalCount:e.commentable.commentsCount,showingCount:e.commentable.comments.edges.length,hasMorePages:e.commentable.comments.pageInfo.hasNextPage}),this.loadPreviousPageProps=e=>({onClick:()=>{this.getPage(e.fetchMore,e.commentable.comments.pageInfo.startCursor,!1)},loadingStatus:e.loading,totalCount:e.commentable.commentsCount,showingCount:e.commentable.comments.edges.length,hasMorePages:e.commentable.comments.pageInfo.hasPreviousPage}),this.paginationProps=e=>({nextPage:this.loadNextPageProps(e),previousPage:this.loadPreviousPageProps(e)}),this.getPage=(e,t,n=!0)=>{const a=Date.now();return Object(s.a)(l.a.INCREMENT,m.d.LOAD_MORE_COMMENTS),e({variables:n?{nextCursor:t,previousCursor:null,first:25,last:null}:{nextCursor:null,previousCursor:t,first:null,last:25},updateQuery:Object(R.a)(n)}).then(()=>{Object(s.a)(l.a.TIME,m.d.LOAD_MORE_COMMENTS_TIME,Date.now()-a)})}}render(){const{data:e,commentableId:t,initialCommentId:n,config:a}=this.props;if(e.loading&&!e.commentable)return d.a.createElement(ve,null);if(e.error)return d.a.createElement(Ee,null);const i=e.me||{},s=!!e.commentable.comments.edges.length,l=e.commentable.canComment,u=e.commentable.canCommentSansRestrictions,m=e.commentable.comments.pageInfo.hasPreviousPage;return d.a.createElement(c.Fragment,null,d.a.createElement(b,{commentable:e.commentable,config:a},m?d.a.createElement(r.a,{type:"link",href:Object(R.e)(),color:"soft-black",atoms:["text-center","block","text-underline","py3","bg-white"]},l?Object(o.b)("project_page.comments.Post_a_new_comment"):Object(o.b)("project_page.comments.Back_to_the_top")):d.a.createElement(Y,{me:i,commentableId:t,commentableUrl:e.commentable.url,userCanComment:l,userCanCommentSansRestrictions:u,refetch:e.refetch}),s?d.a.createElement(U.a,{fallbackRender:()=>d.a.createElement(Ee,null)},d.a.createElement(ke,{commentableId:t,initialCommentId:n,comments:e.commentable.comments.edges,userCanComment:l,me:i,pagination:this.paginationProps(e),refetch:e.refetch})):d.a.createElement(U.a,null,d.a.createElement(ye,{refetch:e.refetch,currentCount:e.commentable.commentsCount,commentableId:t}))))}}Se.defaultProps={config:u.a};var Oe=Se;const Ne=Object(a.graphql)(g.a,Object(i.a)({options:({nextCursor:e,previousCursor:t,commentableId:n,first:a,last:i})=>({notifyOnNetworkStatusChange:!0,variables:{commentableId:n,replyCursor:null,nextCursor:e,first:a,last:i,previousCursor:t}})}))(Oe);t.a=Ne},d72c:function(e,t,n){"use strict";t.a='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M8.46513 9.87681C8.07461 9.48629 7.44144 9.48629 7.05092 9.87681L4.92862 11.9991C2.976 13.9517 2.976 17.1176 4.92862 19.0702C6.88124 21.0228 10.0471 21.0228 11.9997 19.0702L14.122 16.9479C14.5125 16.5574 14.5125 15.9242 14.122 15.5337C13.7315 15.1431 13.0983 15.1431 12.7078 15.5337L10.5855 17.656C9.41391 18.8275 7.51441 18.8275 6.34284 17.656C5.17126 16.4844 5.17126 14.5849 6.34284 13.4133L8.46513 11.291C8.85566 10.9005 8.85566 10.2673 8.46513 9.87681Z" fill="#3C3C3C"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M15.5348 14.1213C15.9253 14.5118 16.5585 14.5118 16.949 14.1213L19.0713 11.999C21.0239 10.0464 21.0239 6.88056 19.0713 4.92794C17.1187 2.97532 13.9529 2.97532 12.0002 4.92794L9.87794 7.05023C9.48742 7.44076 9.48741 8.07392 9.87794 8.46445C10.2685 8.85497 10.9016 8.85497 11.2922 8.46445L13.4145 6.34215C14.586 5.17058 16.4855 5.17058 17.6571 6.34215C18.8287 7.51372 18.8287 9.41322 17.6571 10.5848L15.5348 12.7071C15.1443 13.0976 15.1443 13.7308 15.5348 14.1213Z" fill="#3C3C3C"/>\n<path d="M14.8281 7.75592C15.2186 7.3654 15.8517 7.3654 16.2423 7.75592C16.6328 8.14645 16.6328 8.77961 16.2423 9.17014L9.1712 16.2412C8.78068 16.6317 8.14751 16.6317 7.75699 16.2412C7.36646 15.8507 7.36646 15.2175 7.75699 14.827L14.8281 7.75592Z" fill="#3C3C3C"/>\n</svg>\n'},d8sA:function(e,t,n){"use strict";n.d(t,"d",(function(){return h})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return k})),n.d(t,"c",(function(){return v}));var a=n("n+nq"),i=n("94td"),r=n("fAGL"),o=n("eEls"),s=n("PhMr"),l=n("4+Ta"),c=(n("GRmu"),n("2UXI")),d=n("mm3F"),u=n("0fse"),m=n("poNw"),p=n("qYa2");Object(i.b)("library.ksr_json.Sorry_something_went_wrong_Weve_been_notified_and_are_looking");const{noopAction:b}=d,h=e=>(t=Object(m.a)(),n,a=d)=>{var s;let c;switch(n.namespace&&(a=Object(l.b)(n.namespace)(a)),n.type){case"CLOSE_DELETE_ASSET_MODAL":return{...t,isShowingDeleteAssetModal:!1};case"DELETE_ASSET":return Object(u.f)({...t,isDeleting:!0,isDisabled:!0,isShowingDeleteAssetModal:!1},u.a.list([u.a.run(t.effects.destroy,{args:[null==t||null===(s=t.asset)||void 0===s?void 0:s.id],successActionCreator:o.b,failActionCreator:o.b}),u.a.run(E,{args:["Deleted",e]}),u.a.run(t.effects.onDelete,{successActionCreator:o.b,failActionCreator:o.b})],{batch:!0}));case"FILE_DRAG_ENDED":return c=t.activeDragCounter-1,{...t,activeDragCounter:c};case"FILE_DRAG_STARTED":return c=t.activeDragCounter+1,{...t,activeDragCounter:c};case"HYDRATE_ASSET":const l=n.asset,d=l.status,h="PROCESSING"===d?u.a.action(a.uploadProcessingStart(l.id,n.currentDate)):u.a.none;return Object(u.f)({...t,uploaderStatus:d,asset:l},h);case"OPEN_DELETE_ASSET_MODAL":return{...t,isShowingDeleteAssetModal:!0};case"RELOAD_ASSET":return"PROCESSING"===t.uploaderStatus?Object(u.f)(t,u.a.run(t.effects.read,{args:[n.assetId,t.imageAssetWidth],successActionCreator:o.b,failActionCreator:o.b})):t;case"UPDATE_UPLOAD_PROGRESS":return{...t,progress:n.progress};case"UPLOAD_FILE_FAILURE":return Object(u.f)({...t,uploaderStatus:"FAILED"},u.a.list([u.a.run(r.b),u.a.run(E,{args:["Failed Upload",e]})],{batch:!0}));case"UPLOAD_FILE_START":const{file:f,uploadLimit:_}=n,k=Object(p.b)(f,_);return k&&k.length>0?{...t,errors:k,uploaderStatus:"INVALID"}:Object(u.f)({...Object(m.a)(),effects:t.effects,uploaderStatus:"UPLOADING"},u.a.list([u.a.run(v,{args:[n.file],successActionCreator:a.setImageAssetWidth,failActionCreator:b}),u.a.run(g,{args:[n.file,n.dispatch,a],successActionCreator:o.b,failActionCreator:o.b}),u.a.run(r.a,{args:[Object(i.b)("uploaders.Leaving_the_page")]})],{batch:!0}));case"SET_IMAGE_ASSET_WIDTH":return{...t,imageAssetWidth:n.width};case"UPLOAD_FILE_SUCCESS":return Object(u.f)(t,u.a.list([u.a.run(t.effects.create,{args:[n.s3Params],successActionCreator:o.b,failActionCreator:o.b}),u.a.run(r.b)],{batch:!0}));case"UPLOAD_INITIALIZE":const{effects:y}=t;return{...t,effects:{...y,...n.effects}};case"UPLOAD_PROCESSING_START":return Object(u.f)({...t,uploaderStatus:"PROCESSING",uploadedAt:n.uploadedAt},u.a.action(a.reloadAsset(n.assetId)));case"UPLOAD_SUCCESS":return Object(u.f)({...t,uploaderStatus:"SUCCESSFUL",asset:n.asset},u.a.list([u.a.run(E,{args:["Uploaded",e]}),u.a.run(t.effects.onSuccess,{args:[n.asset.id,n.asset.url],successActionCreator:o.b,failActionCreator:o.b})],{batch:!0}));case"UPLOAD_RESET":return{...Object(m.a)(),effects:t.effects};default:return t}},f=e=>{var t,n,i;const r=window.current_project?new URLSearchParams({pid:null===(t=window.current_project.data)||void 0===t?void 0:t.id,uid:null===(n=window.current_project.data)||void 0===n||null===(i=n.creator)||void 0===i?void 0:i.id}):"";return fetch("/assets/s3_upload_params?"+r,{method:"GET",credentials:"same-origin",headers:{"Content-Type":"application/json","X-CSRF-Token":Object(a.b)(document)}}).then(e=>200==e.status?Promise.resolve(e):Promise.reject(new Error(e.statusText))).then(Object(s.a)("json")).catch(()=>null==e?void 0:e.uploadFileFailure())},g=(e,t,n)=>_(n).then(({params:a,s3_upload_url:i})=>{const r=k(e,a);return Object(p.c)(i,a.key,e,r,((e,t)=>()=>{e(t.uploadFileFailure())})(t,n),((e,t)=>({s3Key:n,fileName:a,contentType:i,updatedAt:r,fileSize:o})=>{e(t.uploadFileSuccess({s3Key:n,fileName:encodeURIComponent(a),contentType:i,updatedAt:r,fileSize:o}))})(t,n),((e,t)=>n=>{e(t.updateUploadProgress(n))})(t,n))}).then(b).catch(()=>n.uploadFileFailure()),_=e=>window.s3_upload?Promise.resolve({params:JSON.parse(s3_upload.params),s3_upload_url:s3_upload.url}):f(e),k=(e,t)=>{const n=new FormData;return Object.keys(t).forEach(e=>{n.append(e,t[e])}),n.append("file",e),n},E=(e,t,n={})=>{const a=[e,t].join(" ");Object(c.d)(a,n)},v=e=>new Promise((t,n)=>{/image\//.test(e.type)||n();const a=URL.createObjectURL(e),i=new Image;i.onload=()=>{URL.revokeObjectURL(a),t(i.width)},i.src=a})},dDCb:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("X+my"),i=n("q1tI"),r=n.n(i);const o=({theme:e=a.a,isSelected:t,onClick:n})=>{const i=["block","radius100p","h3","mr1","mr3-md","w3",t?"bg-"+e["primary-light"]:"bg-white"].join(" "),o=["inset 0 1px 3px rgba(0, 0, 0, 0.2)","inset 0 0 0 1px rgba(0, 0, 0, 0.2)"].join(", ");return r.a.createElement("div",{className:i,onClick:n,role:n&&"button",style:{boxShadow:o}},t&&r.a.createElement("div",{className:"bg-white h1 w1 radius100p inline-block m1"}))}},dPds:function(e,t,n){"use strict";var a=n("7v8y");n.d(t,"a",(function(){return a.a})),n.d(t,"b",(function(){return a.b}))},daZV:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("iuhU"),i=n("ObC8"),r=n("dPds"),o=n("94td"),s=n("eEls"),l=n("q1tI");const c=({showingCount:e,totalCount:t,pageSize:n,onClick:c,loading:d,remainingI18nKey:u="defaults.Load_more",showPageCount:m=!0,buttonI18nKey:p,hasMorePages:b,atoms:h=[]})=>t>n?l.createElement("div",{className:Object(a.b)(h,"text-center")},m&&l.createElement(r.a.BodyMD,{as:"div",className:"kds-mb-02 kds-text-secondary"},l.createElement(o.a,{i18nKey:u,showing:e,total:t})),b&&l.createElement(i.a,{isLoading:d,onPress:d?s.c:c,style:{minWidth:"200px"}},l.createElement(o.a,{i18nKey:p}))):null},dkkr:function(e,t,n){"use strict";n.d(t,"c",(function(){return b})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return f}));var a=n("pTxv"),i=n("t1f3"),r=n("2DJ9"),o=n("EoiL"),s=n("T8n5"),l=n("q1tI"),c=n("rcUh");const d=({children:e})=>l.createElement("div",{className:"center px5 py10 border border-grey-500 bg-grey-100 text-center"},e),u=({iconType:e,iconColor:t="soft-black"})=>l.createElement(r.a,{atoms:["fill-"+t],name:e,size:"36"}),m=({text:e,color:t="soft-black"})=>l.createElement(o.a,{level:3,atoms:["mb2",t]},e),p=({children:e})=>l.createElement(s.a,{atoms:["mb0"],type:"subhead-200"},e),b=e=>{const t=e.iconType||"icon--lightbulb",n=e.primaryColor||"soft-black",a=e.space||5;return l.createElement(d,null,l.createElement(u,{iconType:t,iconColor:n}),l.createElement(c.a,{vertical:a}),l.createElement(m,{text:e.primaryText,color:n}),l.createElement(p,null,e.secondaryText))},h=e=>l.createElement(d,null,l.createElement(u,{iconType:"icon--alert"}),l.createElement(m,{text:e.primaryText}),l.createElement(p,null,e.secondaryText)),f=e=>l.createElement(d,null,l.createElement(i.a,{name:"teeth-chattering",atoms:["mb5","w30"]}),l.createElement(m,{text:e.primaryText}),l.createElement(p,null,e.secondaryText),e.buttonText&&e.buttonUrl&&l.createElement(a.b,{atoms:["mt3"],theme:"support",size:"large",href:e.buttonUrl},e.buttonText))},dvPR:function(e,t,n){"use strict";n.r(t);var a=n("UB5X"),i=n.n(a),r=n("QHKZ"),o=n.n(r);n.d(t,"Honeybadger",(function(){return o.a}));var s=n("KZo6"),l=n("oMXI");if(window.honeybadgerConfiguration){const e=window.honeybadgerConfiguration;Object(l.b)()||Object(l.c)()||(e.disabled=!0),o.a.configure(e)}if("function"==typeof o.a.setContext&&o.a.setContext(Object(s.b)()),"function"==typeof o.a.beforeNotify){const e=.01;o.a.beforeNotify(t=>{if(t.fingerprint=Object(s.c)(t),Object(l.a)())return console.error("Honeybadger in development",t),!1;if(!Object(s.d)())return!1;if(s.a.test(window.location.href))return!1;if("production"===t.environment){const n=i()(t.__RATE_LIMIT__)?t.__RATE_LIMIT__:e;if(Math.random()>n)return!1}})}},eEls:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r}));const a=(...e)=>e.reduce((e,t)=>(...n)=>e(t(...n))),i=e=>e,r=()=>{}},eH4U:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return p})),n.d(t,"f",(function(){return b})),n.d(t,"e",(function(){return h})),n.d(t,"d",(function(){return f}));var a=n("pj8f"),i=n("94td"),r=n("/MMT"),o=n("g84z"),s=n("zm9w"),l=n("Owp+"),c=n("vtU4"),d=n("Ty5D");const u=(e,t)=>""+s.b.money(Number(e),{currency:t,type:"truncate_zeros"}),m=(e,t,n,i)=>{switch(n){case l.a.FreeformPost:return c.b.EDIT_FREEFORM_POST.url(e,t,i);case l.a.CreatorInterview:return c.b.EDIT_CREATOR_INTERVIEW.url(e,t,i);default:return a.Honeybadger.notify("Unknown post type for edit link:"+n),c.b.NEW_FREEFORM_POST.url(e,t)}},p=e=>{const t=Object(d.g)(window.location.pathname,e);return!(!t||!t.isExact)},b=e=>e&&e.includes("docs.google.com/spreadsheets"),h=()=>{const e=Object(o.a)(window.location.search).question,t={question1:Object(i.b)("project_updates.What_have_you_been_working_on_since_your_last_update?"),question2:Object(i.b)("project_updates.How_are_you_working_through_the_challenges"),question3:Object(i.b)("project_updates.What_is_your_next_big_milestone")}[e];if(t)return`<h1>${t}</h1><br/>`},f=e=>!(![r.a.started,r.a.submitted].includes(e.state)||!e.prelaunchActivated)},egyr:function(e,t,n){"use strict";var a=n("2DJ9"),i=n("/IHD"),r=n("q1tI"),o=n.n(r);t.a=({size:e="large",fillColor:t,atoms:n})=>o.a.createElement(a.a,{name:"icon--circle-loader",atoms:Object(i.b)(n,t?[t]:[]),size:e})},"f/gE":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("q1tI"),i=n("LdJi");const r={float:{className:"grid-row",separator:"-"},flex:{className:"flex-row",separator:"--"}},o=({children:e,layout:t,atoms:n=[],id:o})=>{const s=Object(i.b)(r[null!=t?t:"float"]);return a.createElement("div",{className:[s(),...n].join(" "),id:o},e)}},fAGL:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var a=n("94td");const i=Object(a.b)("settings.lose_changes");let r;const o=(e=i)=>{window.onbeforeunload&&(r=window.onbeforeunload),window.onbeforeunload=t=>(t.returnValue=e,e)},s=(e=!1)=>{if(!e&&r)return window.onbeforeunload=r,void(r=void 0);window.onbeforeunload=void 0}},fOlt:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("DI+Y"),i=n("mv45"),r=n("gN63"),o=n("Owp+");const s=Object(i.c)(e=>{if(!e.data||!e.data.post)return Object(i.d)(e.data.error);const{me:t,post:{title:n,isPublic:a,commentsCount:s,likesCount:l,isLiked:c,number:d,author:{name:u,imageUrl:m},authorRole:p,publishedAt:b,pinnedAt:h,project:f,actions:{read:g,destroy:_,edit:k,pin:E},timeLeftToEdit:v,type:y,nextPost:S,previousPost:O}}=e.data,N=Boolean(t&&t.id),C=Boolean(t&&t.isKsrAdmin),j=Boolean(b),w=Boolean(h),I=f.state===o.b.LIVE,T=S&&Object(r.a)(S.id),A=O&&Object(r.a)(O.id);return Object(i.l)({title:n,isPublic:a,sequence:d,authorName:u,authorAvatarUrl:m,authorRole:p,publishedAt:b,canRead:g,canDelete:_,canPin:E,commentsCount:s,likesCount:l,canEdit:k,timeLeftToEdit:v,type:y,isAdmin:C,isLoggedIn:N,isPublished:j,isPinned:w,isProjectLive:I,isLiked:c,nextPostId:T,previousPostId:A,project:f})}),l=Object(a.graphql)(o.c,s)},fQhN:function(e,t,n){"use strict";var a=n("pj8f"),i=n("vXqN");const r=Object(i.a)({onComponentError:(e,t,n)=>a.Honeybadger.notify(JSON.stringify(e)+" "+JSON.stringify(t.componentStack),{context:{tags:["project_communities"].concat(n).join(",")}})});t.a=r},fivf:function(e,t,n){"use strict";n.r(t),n.d(t,"history",(function(){return b})),n.d(t,"initProjectPostInterface",(function(){return h}));var a=n("VX74"),i=n("bpk+"),r=n.n(i),o=n("aiSh"),s=n("pj8f"),l=n("q1tI"),c=n.n(l),d=n("i8i4"),u=n.n(d),m=n("Ty5D"),p=n("jowW");const b=r()(),h=()=>{const e=Object(o.a)(s.Honeybadger.notify.bind(s.Honeybadger)),t=document.getElementById("project-post-interface");if(t){const n=t.dataset.project_relay_id||"",i=t.dataset.commentable_id||null,r=t.dataset.comment_cursor||null,o=t.dataset.comment_id||null;u.a.render(c.a.createElement(a.ApolloProvider,{client:e},c.a.createElement(m.d,{history:b},c.a.createElement(p.a,{projectId:n,commentableId:i,commentCursor:r,commentId:o}))),t)}};h()},fuxI:function(e,t,n){"use strict";t.a='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M5 8C6.10457 8 7 7.10457 7 6C7 4.89543 6.10457 4 5 4C3.89543 4 3 4.89543 3 6C3 7.10457 3.89543 8 5 8ZM5 14C6.10457 14 7 13.1046 7 12C7 10.8954 6.10457 10 5 10C3.89543 10 3 10.8954 3 12C3 13.1046 3.89543 14 5 14ZM7 18C7 19.1046 6.10457 20 5 20C3.89543 20 3 19.1046 3 18C3 16.8954 3.89543 16 5 16C6.10457 16 7 16.8954 7 18ZM10 5C9.44772 5 9 5.44772 9 6C9 6.55228 9.44772 7 10 7H18C18.5523 7 19 6.55228 19 6C19 5.44772 18.5523 5 18 5H10ZM9 12C9 11.4477 9.44772 11 10 11H18C18.5523 11 19 11.4477 19 12C19 12.5523 18.5523 13 18 13H10C9.44772 13 9 12.5523 9 12ZM10 17C9.44772 17 9 17.4477 9 18C9 18.5523 9.44772 19 10 19H18C18.5523 19 19 18.5523 19 18C19 17.4477 18.5523 17 18 17H10Z" fill="#3C3C3C"/>\n</svg>\n'},g1y3:function(e,t,n){"use strict";n.d(t,"b",(function(){return a.c})),n.d(t,"d",(function(){return i.c})),n.d(t,"a",(function(){return Ne})),n.d(t,"c",(function(){return Ce.a}));var a=n("ijK7"),i=n("bvYH"),r=n("QRQ9"),o=n("qOyz"),s=n("iuhU"),l=n("v83y"),c=n("egyr"),d=n("NxQb"),u=n("/IHD"),m=n("x6TX"),p=n("X+my"),b=n("q1tI"),h=n.n(b),f=n("KAy6"),g=n.n(f),_=n("2DJ9"),k=n("lO+I"),E=n("v9JK"),v=n("CgNg"),y=n("94td"),S=n("kKlT");class O extends b.Component{constructor(...e){super(...e),this.state={embedUrl:"",isEmbedSubmitting:!1,embedError:""},this.handleAudioUrlChange=e=>{this.setState({embedUrl:e})},this.handleEmbedError=e=>{this.setState({embedError:e})},this.onSubmitAudio=()=>{const{embedUrl:e}=this.state;Object(S.d)(Object(S.a)(e))?(this.setState({isEmbedSubmitting:!0}),Object(S.b)(e).then(this.handleEmbedSuccess).catch(this.handleEmbedFailure)):this.handleEmbedError(Object(y.b)("rich_editor.Please_enter_a_valid_URL"))},this.handleEmbedSuccess=e=>{const{embedUrl:t}=this.state;this.setState({isEmbedSubmitting:!1}),this.props.dispatch(Object(i.k)(e,t)),this.props.onClose()},this.handleEmbedFailure=()=>{this.setState({isEmbedSubmitting:!1}),this.handleEmbedError(Object(y.b)("rich_editor.There_was_a_problem_embedding"))}}render(){return b.createElement(E.a,{headerCopy:Object(y.b)("rich_editor.Add_audio"),onClose:this.props.onClose,secondaryCloseCopy:Object(y.b)("rich_editor.Cancel"),size:"large",grabFocus:!1},b.createElement(v.b,{id:"oembedUrlPrompt",inputValue:this.state.embedUrl,hasErrors:Boolean(this.state.embedError),label:Object(y.b)("rich_editor.Paste_a_URL_soundcloud"),onChange:this.handleAudioUrlChange},b.createElement("span",{className:"red"},this.state.embedError)),b.createElement("div",{className:"mt2"},b.createElement(E.c,{onClick:this.onSubmitAudio,theme:this.props.theme.name},Object(y.b)("rich_editor.Upload"))))}}var N=n("T8n5"),C=n("gN63"),j=(n("VX74"),n("DE4Y"));const w={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"AttachedAsset"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"imageWidth"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"800"}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"assetWidth"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"600"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Photo"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"fingerprint"}},{kind:"Field",alias:{kind:"Name",value:"photoStatus"},name:{kind:"Name",value:"status"}},{kind:"Field",alias:{kind:"Name",value:"photoUrl"},name:{kind:"Name",value:"url"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"Variable",name:{kind:"Name",value:"imageWidth"}}}]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AttachedVideo"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"renderedHtml"},arguments:[{kind:"Argument",name:{kind:"Name",value:"assetWidth"},value:{kind:"Variable",name:{kind:"Name",value:"assetWidth"}}}]},{kind:"Field",alias:{kind:"Name",value:"videoStatus"},name:{kind:"Name",value:"status"}},{kind:"Field",alias:{kind:"Name",value:"videoUrl"},name:{kind:"Name",value:"url"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AttachedAudio"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",alias:{kind:"Name",value:"audioStatus"},name:{kind:"Name",value:"status"}},{kind:"Field",alias:{kind:"Name",value:"audioUrl"},name:{kind:"Name",value:"url"}}]}}]}}]}}]};const I={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateAsset"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreateAssetInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"upload"},name:{kind:"Name",value:"createAsset"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"asset"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AttachedAudio"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AttachedVideo"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Photo"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]}}]}}]};const T={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UploadLimit"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fileType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UploadLimitFiletype"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"uploadLimit"},name:{kind:"Name",value:"uploadLimit"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filetype"},value:{kind:"Variable",name:{kind:"Name",value:"fileType"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contentTypes"}},{kind:"Field",alias:{kind:"Name",value:"megabytes"},name:{kind:"Name",value:"fileSize"},arguments:[{kind:"Argument",name:{kind:"Name",value:"unit"},value:{kind:"EnumValue",value:"MEGABYTES"}}]},{kind:"Field",alias:{kind:"Name",value:"bytes"},name:{kind:"Name",value:"fileSize"},arguments:[{kind:"Argument",name:{kind:"Name",value:"unit"},value:{kind:"EnumValue",value:"BYTES"}}]}]}}]}}]};const A=({fileType:e})=>Object(C.d)(T,{fileType:e}).then(({uploadLimit:e})=>{const t=e.contentTypes.filter(e=>null!==e);return{megabytes:e.megabytes,bytes:e.bytes,contentTypes:t}});var D=n("qYa2");const P=e=>(e=>{const{id:t,imageWidth:n,assetWidth:a}=e;return Object(C.d)(w,{id:t,...n?{imageWidth:n}:{},...a?{assetWidth:a}:{}})})({id:e}).then(t=>{if(!t.node)throw new Error(Object(y.b)("rich_editor.Received_invalid_data"));const n=t.node;if(n.videoStatus===j.c.ENCODING)return new Promise(e=>{setTimeout(e,5e3)}).then(()=>P(e)).catch(e=>{throw new Error(e)});if(n.videoStatus===j.c.ENCODED)return n;throw n.videoStatus===j.c.FAILED?new Error(Object(y.b)("rich_editor.Upload_asset_failed")):new Error(Object(y.b)("rich_editor.Received_invalid_asset_status",{status:n.videoStatus}))}).catch(()=>{throw new Error(Object(y.b)("rich_editor.Unable_to_fetch_asset"))}),R=e=>{switch(e){case L.VIDEO:return window.upload_limits?window.upload_limits.video:x;default:return{bytes:0,megabytes:0,contentTypes:[],name:"unknown"}}},F=e=>M.includes(e.type)?L.VIDEO:L.UNKNOWN;let L=function(e){return e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.UNKNOWN="UNKNOWN",e}({});const M=["application/mp4","video/3gpp","video/mp4","video/mpeg","video/quicktime","video/vnd.objectvideo","video/x-flv","video/x-ms-wmv"],x={name:"video",megabytes:5120,bytes:5368709120,contentTypes:M};var U=n("/Jws");const{Component:V}=U.a;class B extends b.Component{constructor(...e){super(...e),this.state={isFetching:!1,uploadLimit:{bytes:0,megabytes:0,contentTypes:[]}}}componentDidMount(){this.setState(()=>({isFetching:!0}),()=>A({fileType:j.X.PHOTO}).then(e=>{const t=e;this.setState({isFetching:!1,uploadLimit:t})}))}render(){if(this.state.isFetching)return null;const{dispatch:e,errors:t,imageAltText:n,imageCaption:a,imageSrc:r,imageUrl:o,subjectBlock:s,uploaderState:l,theme:c,piiWarning:u,onClose:m}=this.props,p=["UPLOADING","PROCESSING","SUCCESSFUL"].includes(l.baseUpload.uploaderStatus),h=null!==s||p,f=!s&&!r,g=p||!!n||!!a||!!o,_=!!s,k=u?b.createElement(N.a,{atoms:["type-14","medium","black","mb2","center"]},Object(y.b)("rich_editor.Don’t_upload_anything_that_contains_backer_information")):void 0;return b.createElement(E.a,{headerCopy:_?Object(y.b)("rich_editor.Edit_image"):Object(y.b)("rich_editor.Add_image"),subHeaderCopy:k,onClose:()=>{e(Object(i.a)(g)),m()},secondaryCloseCopy:Object(y.b)("rich_editor.Cancel"),size:"large",grabFocus:!1},!s&&b.createElement(V,{dispatch:e,state:l,uploadLimit:this.state.uploadLimit,theme:c}),h&&b.createElement(b.Fragment,null,b.createElement(v.b,{id:"imageCaptionPrompt",inputValue:a,label:Object(y.b)("rich_editor.Image_caption"),onChange:t=>e(Object(i.r)(t)),atoms:["mb3","mt4"],max:125}),Object(d.a)("image_uploader_alt_text")&&b.createElement(v.b,{id:"imageAltTextPrompt",inputValue:n,label:Object(y.b)("rich_editor.Alternative_text"),onChange:t=>e(Object(i.q)(t)),atoms:["mb3","mt4"],max:125}),b.createElement(v.b,{currentFocus:"imageUrlPrompt",hasErrors:!!t,id:"imageUrlPrompt",inputValue:o,label:Object(y.b)("rich_editor.Clickthrough_URL_label"),onChange:t=>e(Object(i.s)(t))},b.createElement("span",{className:"red"},t))),!f&&b.createElement(E.c,{onClick:()=>{e(Object(i.l)()),m()},theme:c.name},_?Object(y.b)("rich_editor.Save"):Object(y.b)("rich_editor.Upload")))}}var H=n("lHf8"),Y=n("eH4U");class G extends b.Component{constructor(...e){super(...e),this.state={linkText:this.props.linkText||"",linkUrl:this.props.linkUrl||"",error:""},this.handleLinkTextChange=e=>{this.setState({linkText:e})},this.handleLinkUrlChange=e=>{this.setState({linkUrl:e})},this.onSubmitLink=()=>{const{linkUrl:e,linkText:t}=this.state;Object(S.d)(Object(S.a)(e))?(this.props.dispatch(Object(i.m)(e,t)),this.props.onClose()):this.setState({error:Object(y.b)("rich_editor.Please_enter_a_valid_URL")})}}trackPIIWarningLinkToTerms(){const{tracking:e}=this.props;e&&"function"==typeof e.piiWarningLinkToTerms&&e.piiWarningLinkToTerms()}render(){const{onClose:e,theme:t,checkForPossiblePII:n}=this.props,a=n&&Object(Y.f)(this.state.linkUrl);return b.createElement(E.a,{headerCopy:Object(y.b)("rich_editor.New_link"),secondaryCloseCopy:Object(y.b)("rich_editor.Cancel"),onClose:e,size:"large",grabFocus:!1},b.createElement(v.b,{id:"linkUrlPrompt",currentFocus:"linkUrlPrompt",onChange:this.handleLinkUrlChange,hasErrors:Boolean(this.state.error),inputValue:this.state.linkUrl,label:Object(y.b)("rich_editor.URL"),atoms:["mt4"],warning:a?b.createElement(y.a,{atoms:["type-14","orange-500"],i18nKey:"project_updates.Make_sure_your_linked_documents_don’t_contain_any_backer_information",link:b.createElement(H.a,{color:"orange-500",target:"_blank",onClick:this.trackPIIWarningLinkToTerms,href:"https://www.kickstarter.com/terms-of-use#section3"},Object(y.b)("project_updates.Our_terms"))}):null},b.createElement("span",{className:"red-500 mb2"},this.state.error)),b.createElement(v.b,{id:"linkTextPrompt",inputValue:this.state.linkText,label:Object(y.b)("rich_editor.Link_text_optional"),onChange:this.handleLinkTextChange,atoms:[a?"mt14 mt10-sm":"mt6"]}),b.createElement(E.c,{disabled:!Boolean(this.state.linkUrl),onClick:this.onSubmitLink,theme:t,type:"submit"},Object(y.b)("rich_editor.Add")))}}const q=({onConfirm:e,onClose:t})=>b.createElement(E.a,{headerCopy:Object(y.b)("rich_editor.Are_you_sure_you_want_to_delete_this"),onClose:t,secondaryCloseCopy:Object(y.b)("rich_editor.Cancel"),size:"small"},b.createElement(E.c,{type:"button",theme:"destroy",onClick:e},Object(y.b)("rich_editor.Delete")));var K=n("qAuv"),z=n("MTFr"),W=n("/nlg"),$=n("7kXS");let Z=function(e){return e.FAILED="FAILED",e.PROCESSING="PROCESSING",e.SUCCESSFUL="SUCCESSFUL",e.UPLOADING="UPLOADING",e.INVALID="INVALID",e.EMPTY="EMPTY",e}({});const J={activeDragCounter:0,asset:null,errors:[],isDeleting:!1,isDisabled:!1,displayImageUrl:"",isShowingDeleteAssetModal:!1,progress:0,uploaderStatus:Z.EMPTY};let X;class Q extends b.Component{constructor(e){super(e),this.reduce=e=>new Promise(t=>{this.setState(((e,t)=>{switch(t.type){case"STARTED_UPLOAD":return{...e,uploaderStatus:Z.UPLOADING,isDisabled:!0,progress:0};case"PROCESSING_UPLOAD":return{...e,uploaderStatus:Z.PROCESSING};case"COMPLETED_UPLOAD":return{...e,uploaderStatus:Z.SUCCESSFUL,isDisabled:!1,progress:100};case"INVALID_UPLOAD":return{...e,uploaderStatus:Z.INVALID,errors:[t.error]};case"FAILED_UPLOAD":return{...e,uploaderStatus:Z.FAILED,isDisabled:!1,errors:[t.error]};case"RESET":return{...J};case"OPENED_MODAL":return{...e,isShowingDeleteAssetModal:!0};case"CLOSED_MODAL":return{...e,isShowingDeleteAssetModal:!1};case"DRAG_OVER":return{...e,activeDragCounter:1};case"DRAG_LEAVE":return{...e,activeDragCounter:0};case"UPDATE_PROGRESS":return{...e,progress:t.progress};default:return e}})(this.state,e),()=>t(null))}),this.handleReset=()=>this.reduce({type:"RESET"}),this.handleDrop=e=>{e.preventDefault(),this.reduce({type:"DRAG_LEAVE"}),Object(D.a)(e)&&this.handleFileSelect(e.dataTransfer.files[0])},this.handleFileSelect=e=>{this.handleUpload(e)},this.handleUpload=async e=>{const t=((e,t)=>{const n=F(e);return t.includes(n)?Object(D.b)(e,R(n)):[Object(y.b)("uploaders.File_type_not_supported")]})(e,this.props.allowedFileTypes);if(t&&t.length>0)return this.reduce({type:"INVALID_UPLOAD",error:t});await this.reduce({type:"STARTED_UPLOAD"});const n={params:JSON.parse(window.s3_upload.params),s3_upload_url:window.s3_upload.url},a=Object($.a)(e,n.params);try{Object(D.c)(n.s3_upload_url,n.params.key,e,a,this.handleUploadFailure,this.handleUploadSuccess,this.handleUploadProgress)}catch(t){this.reduce({type:"FAILED_UPLOAD",error:Object(W.a)(t)})}},this.handleUploadSuccess=e=>{const{s3Key:t,fileName:n,contentType:a,updatedAt:i,fileSize:r}=e,{attachableAssoc:o,attachableId:s}=this.props;var l;this.reduce({type:"PROCESSING_UPLOAD"}),(l={s3Key:t,fileName:n,fileSize:r,contentType:a,updatedAt:i,attachableAssoc:o,id:s},Object(C.d)(I,{input:l})).then(e=>this.handleUploadComplete(e.upload.asset.id)).catch(this.handleUploadFailure)},this.handleUploadComplete=e=>{this.props.onUploadComplete(e)},this.handleUploadFailure=e=>this.reduce({type:"FAILED_UPLOAD",error:e}),this.handleUploadProgress=e=>this.reduce({type:"UPDATE_PROGRESS",progress:e}),this.handleDragEnter=()=>this.reduce({type:"DRAG_OVER"}),this.handleDragLeave=()=>this.reduce({type:"DRAG_LEAVE"}),this.handleCloseDeleteAssetModal=()=>this.reduce({type:"CLOSED_MODAL"}),this.handleOpenDeleteAssetModal=()=>this.reduce({type:"OPENED_MODAL"}),this.state=J;const{iconName:t,maxFileSizeText:n,copyOverrides:a,fileAccept:i}=e;X=Object(z.e)({UploadSuccess:({onDeleteAsset:e,onFileSelect:t,onCloseDeleteAssetModal:n,onOpenDeleteAssetModal:i,state:r})=>b.createElement(z.c,{onDeleteAsset:e,onFileSelect:t,onCloseDeleteAssetModal:n,onOpenDeleteAssetModal:i,state:r,copyOverrides:a}),EmptyState:({activeDragCounter:e,onDragLeave:r,onDragEnter:o,onDrop:s,onFileSelect:l,theme:c,uploadLimit:d})=>b.createElement(z.a,{activeDragCounter:e,onDragLeave:r,onDragEnter:o,onDrop:s,onFileSelect:l,theme:c,uploadLimit:d,iconName:t,maxFileSizeText:n,copyOverrides:a,fileAccept:i}),ProcessingState:({isDeleting:e,onFileSelect:t,theme:n,timeElapsed:i})=>b.createElement(z.b,{isDeleting:e,onFileSelect:t,theme:n,timeElapsed:i,copyOverrides:a})})}render(){return b.createElement(X,{state:this.state,uploadLimit:this.props.uploadLimit,onDeleteAsset:this.handleReset,onUploadReset:this.handleReset,onDragLeave:this.handleDragLeave,onDragEnter:this.handleDragEnter,onDrop:this.handleDrop,onFileSelect:this.handleFileSelect,onCloseDeleteAssetModal:this.handleCloseDeleteAssetModal,onOpenDeleteAssetModal:this.handleOpenDeleteAssetModal,theme:p.a})}}const ee={changeFile:Object(y.b)("uploaders.Change_video"),deleteFile:Object(y.b)("uploaders.Delete_video"),deletingFile:Object(y.b)("uploaders.Deleting_video"),uploadCta:Object(y.b)("uploaders.Drag_or_drop_video_here"),uploadCtaMobile:Object(y.b)("uploaders.Upload_a_video"),feelFreeToMoveOn:Object(y.b)("uploaders.Please_wait_while_we_process_your_file")};class te extends b.Component{constructor(...e){super(...e),this.state={isFetching:!1,uploadLimit:{bytes:0,megabytes:0,contentTypes:[]}}}componentDidMount(){this.setState(()=>({isFetching:!0}),()=>A({fileType:j.X.ASSET_VIDEO}).then(e=>{this.setState({isFetching:!1,uploadLimit:e})}))}render(){if(this.state.isFetching)return null;const e=Object(y.b)("uploaders.It_must_be_a_valid_video_file_type")+" "+Object(y.b)("uploaders.no_larger_than_file_size",{megabytes:this.state.uploadLimit.megabytes});return b.createElement(Q,{iconName:"icon--video",copyOverrides:ee,attachableId:this.props.attachableId,attachableAssoc:this.props.attachableAssoc,onUploadComplete:this.props.onUploadComplete,uploadLimit:this.state.uploadLimit,maxFileSizeText:e,fileAccept:this.state.uploadLimit.contentTypes.join(","),allowedFileTypes:[L.VIDEO]})}}const ne=e=>{const{encodingState:t,encodingError:n}=e,a=t===j.c.ENCODING,i=t===j.c.FAILED;return a||i?b.createElement(b.Fragment,null,b.createElement(K.a,{height:28,mdHeight:35},a&&b.createElement(z.f,{message:Object(y.b)("uploaders.Encoding"),secondaryMessage:Object(y.b)("uploaders.Please_wait_while_we_encode"),barAtoms:["bg-soft-black","animation-pulse","animation-500"]}),i&&b.createElement(z.f,{barAtoms:["kds-bg-danger-bold"],message:Object(y.b)("uploaders.Encoding_failed"),secondaryMessage:n||Object(y.b)("uploaders.There_was_a_problem_encoding"),secondaryCTA:{message:Object(y.b)("uploaders.Try_again"),action:e.onReset}})),b.createElement(ae,null)):b.createElement(b.Fragment,null,b.createElement(te,{onUploadComplete:e.onUploadComplete,attachableAssoc:e.attachableAssoc,attachableId:e.attachableId}),b.createElement(ae,null))},ae=()=>b.createElement("div",{className:"my5 text-center relative"},b.createElement("span",{className:"border-bottom border-grey-500 absolute l0 r0 w100p t50p"}),b.createElement("span",{className:"dark-grey-400 inline-block bg-white px3 z1 relative"},Object(y.b)("uploaders.Or"))),ie={embedError:"",embedUrl:"",isEmbedSubmitting:!1,encodingState:null,encodingError:""};class re extends b.Component{constructor(...e){super(...e),this.mounted=!1,this.state=ie,this.handleEmbedUrlChange=e=>{this.setState({embedUrl:e})},this.handleEmbedError=e=>{this.setState({embedError:e})},this.submitVideoEmbed=()=>{const{embedUrl:e}=this.state;Object(S.d)(Object(S.a)(e))?(this.setState({isEmbedSubmitting:!0}),Object(S.b)(e).then(this.handleEmbedSuccess).catch(this.handleEmbedFailure)):this.handleEmbedError(Object(y.b)("rich_editor.Please_enter_a_valid_URL"))},this.handleEmbedSuccess=e=>{const{embedUrl:t}=this.state;this.setState({isEmbedSubmitting:!1}),this.props.dispatch(Object(i.k)(e,t)),this.props.onClose()},this.handleEmbedFailure=()=>{this.setState({isEmbedSubmitting:!1}),this.handleEmbedError(Object(y.b)("rich_editor.There_was_a_problem_embedding"))},this.handleEncodingSuccess=e=>{this.mounted&&this.setState(()=>({encodingState:j.c.ENCODED}),()=>{const{onClose:t,dispatch:n,onUploadSuccess:a}=this.props;n(Object(i.n)(e.id,e.renderedHtml)),a(),t()})},this.handleEncodingFailure=e=>{this.mounted&&this.setState({encodingError:e.message,encodingState:j.c.FAILED})},this.handleAssetPolling=e=>{P(e).then(this.handleEncodingSuccess).catch(this.handleEncodingFailure)},this.handleUploadComplete=e=>{this.setState(()=>({encodingState:j.c.ENCODING}),()=>this.handleAssetPolling(e))},this.isModalDirty=()=>this.state.encodingState===j.c.ENCODING||this.state.encodingState===j.c.ENCODED,this.onReset=()=>{this.setState(ie)},this.onBeforeUnload=e=>{if(this.isModalDirty())return e.returnValue="",""},this.onConfirmBeforeClose=()=>{this.isModalDirty()?window.confirm(Object(y.b)("uploaders.Are_you_sure_you_want_to_exit"))&&this.props.onClose():this.props.onClose()}}componentDidMount(){this.mounted=!0,window.addEventListener("beforeunload",this.onBeforeUnload)}componentWillUnmount(){this.mounted=!1,window.removeEventListener("beforeunload",this.onBeforeUnload)}render(){return b.createElement(E.a,{onClose:this.onConfirmBeforeClose,headerCopy:Object(y.b)("rich_editor.Add_video"),secondaryCloseCopy:Object(y.b)("rich_editor.Cancel"),size:"large",grabFocus:!1},b.createElement(ne,{onReset:this.onReset,encodingState:this.state.encodingState,encodingError:this.state.encodingError,onUploadComplete:this.handleUploadComplete,attachableAssoc:this.props.attachableAssoc,attachableId:this.props.attachableId}),b.createElement(v.b,{id:"oembedUrlPrompt",inputValue:this.state.embedUrl,hasErrors:Boolean(this.state.embedError),label:Object(y.b)("rich_editor.Paste_a_URL_youtube"),onChange:this.handleEmbedUrlChange,atoms:["mt4"]},b.createElement("span",{className:"red"},this.state.embedError)),b.createElement("div",{className:"mt2"},b.createElement(E.c,{onClick:this.submitVideoEmbed,theme:this.props.theme.name,disabled:!Boolean(this.state.embedUrl)},this.state.isEmbedSubmitting?Object(y.b)("rich_editor.Adding"):Object(y.b)("rich_editor.Add"))))}}var oe=n("SmhT"),se=n("1uWx");const le=e=>e.keyCode===oe.l?"space":!0===e.metaKey&&e.keyCode===oe.f?"link":Object(l.getDefaultKeyBinding)(e);var ce=n("RBqt"),de=n("inqH"),ue=n("Nz1K");const me=({href:e,onTrashClick:t,onConvertToLink:n})=>{const a=Object(ue.a)(e).innerHTML;return b.createElement(de.a,null,b.createElement("div",{className:"relative"},b.createElement("div",{className:"relative"},b.createElement("div",{dangerouslySetInnerHTML:{__html:a}})),b.createElement("div",{className:"absolute t2 r2 bg-white px2 shadow-2 radius2px flex items-center"},b.createElement("button",{type:"button",className:" px2",onClick:n},b.createElement(_.a,{atoms:["fill-dark-grey-500 hover-item-fill-blue-600"],name:"icon--link",size:"20"})),b.createElement(he,{onClick:t}))))},pe=e=>{const{rawHtml:t,onTrashClick:n}=e,i=Object(a.i)(t);return b.createElement("div",{className:"relative"},b.createElement("div",{dangerouslySetInnerHTML:{__html:i}}),b.createElement("div",{className:"absolute t2 r2 bg-white px2 shadow-2 radius2px flex items-center"},b.createElement(he,{onClick:n})))},be=({block:e,blockProps:{dispatch:t,setCurrentModal:n}})=>{const a=e.getData(),r=()=>{n("REMOVE_ASSET"),t(Object(i.g)(e))};switch(a.get("type")){case"AUDIO":{const e=a.get("sources");return b.createElement(fe,{onTrashClick:r,sources:e})}case"OEMBED":{const n=a.get("href");return b.createElement(me,{onTrashClick:r,onConvertToLink:()=>{t(Object(i.g)(e)),t(Object(i.h)()),t(Object(i.m)(n,n))},href:n})}case"IMAGE":const o=a.get("alt"),s=a.get("caption"),l=a.get("href"),c=a.get("src");return b.createElement(ge,{alt:o,caption:s,src:c,href:l,onTrashClick:r,onEditImageClick:()=>{n("IMAGE"),t(Object(i.f)(e))}});case"VIDEO":{const e=a.get("rawHtml");return b.createElement(pe,{onTrashClick:r,rawHtml:e})}default:return b.createElement("div",null)}},he=({onClick:e})=>b.createElement("button",{type:"button",className:"hover-target px2 py3",onMouseDown:e},b.createElement(_.a,{atoms:["fill-dark-grey-500","hover-item-fill-blue-600"],name:"trash",size:"medium"})),fe=({onTrashClick:e,sources:t})=>b.createElement("div",{className:"flex items-center relative w100p bg-grey-300 p2"},b.createElement("audio",{className:"w90p",controls:!0},Object.keys(t).map(e=>b.createElement("source",{key:e,src:t[e],type:e})),"Your browser does not support the audio element."),b.createElement("div",{className:"ml-auto block bg-white px2 shadow-2 radius2px flex items-center"},b.createElement(he,{onClick:e}))),ge=({alt:e,caption:t,href:n,src:a,onTrashClick:i,onEditImageClick:r})=>{const o=e||t;return b.createElement("div",{className:"relative"},b.createElement("div",{className:"absolute t2 r2 bg-white px2 shadow-2 radius2px flex items-center"},n&&b.createElement("a",{className:"px2 py3 px2 hover-target",href:n,onMouseDown:()=>window.location.href=n},b.createElement(ce.a,{atoms:["hover-item-blue-600"],color:"dark-grey-500",type:"body-100"},n.substring(0,8)+"...")),b.createElement("button",{type:"button",className:"hover-target px2 py3",onMouseDown:r},b.createElement(_.a,{atoms:["fill-dark-grey-500","hover-item-fill-blue-600"],name:"pencil",size:"medium"})),b.createElement("button",{type:"button",className:"hover-target px2 py3",onMouseDown:i},b.createElement(_.a,{atoms:["fill-dark-grey-500","hover-item-fill-blue-600"],name:"trash",size:"medium"}))),b.createElement("img",{alt:o,role:o?void 0:"presentation",src:a}),t&&b.createElement("figcaption",{className:"type-12 type-13-md dark-grey-500"},t))},_e=(e,t,n)=>{const a=/Android|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent||navigator.vendor);return!Object(d.a)("rich_text_embedifier")||a?"not-handled":((e,t,n)=>{const a=[/(^https:\/\/vimeo.com\/\d+)((?!\s).)*$/,/(^https:\/\/www.instagram.com\/p\/)((?!\s).)*$/,/(^https:\/\/www.youtube.com\/watch)((?!\s).)*$/,/(^https:\/\/www.twitch.tv\/videos\/\d+)((?!\s).)*$/,/(^https:\/\/www.facebook.com\/\w+\/videos\/\d+)((?!\s).)*$/,/(^https:\/\/\w+.bandcamp.com\/(album|releases))((?!\s).)*$/,/(^https:\/\/www.scribd.com\/(article|audiobook|book|snapshot|document))((?!\s).)*$/,/(^https:\/\/sketchfab.com\/3d-models)((?!\s).)*$/,/(^https:\/\/twitter.com\/\w+\/status)((?!\s).)*$/,/(^https:\/\/www.twitch.tv\/\w+)((?!\s).)*$/,/(^https:\/\/soundcloud.com)((?!\s).)*$/,/(^https:\/\/youtu.be)((?!\s).)*$/,/(^https:\/\/audiomack.com)((?!\s).)*$/].some(t=>t.test(e)),r=t.getSelection(),o=t.getCurrentContent().getBlockForKey(r.getAnchorKey());return!a||0!==o.getLength()&&" "!==o.getText()?a&&0===r.getStartOffset()&&0!==r.getEndOffset()?(n(Object(i.j)()),l.Modifier.removeRange(t.getCurrentContent(),r,"forward"),Object(S.b)(e).then(t=>{n(Object(i.k)(t,e)),n(Object(i.d)())}),"handled"):"not-handled":(n(Object(i.j)()),Object(S.b)(e).then(t=>{n(Object(i.k)(t,e)),n(Object(i.d)())}),"handled")})(e,t,n)};var ke=n("ZCb5"),Ee=n("xXH7"),ve=n.n(Ee);const ye=e=>{const t=(new DOMParser).parseFromString(e,"text/html"),n=t.querySelectorAll("div.template.asset figure.image img");if(0===n.length)return e;n.forEach(e=>{var t;const n=e.parentNode,a=null==n?void 0:n.parentNode,i=null==a?void 0:a.parentNode,r=null==a||null===(t=a.dataset)||void 0===t?void 0:t.id;if(i&&n&&a&&r)if(e.dataset.id=r,e.classList.add("template","asset"),"A"===i.tagName){var o;const t=i.cloneNode();t.appendChild(e),n.prepend(t),null===(o=i.parentNode)||void 0===o||o.replaceChild(n,i)}else i.replaceChild(n,a)});return(new XMLSerializer).serializeToString(t)},Se=e=>e.replace(/<div[^>]+?data-href="(.*?)".*?<\/div>/gms,'<div url="$1"></div>'),Oe=e=>{const t=(new DOMParser).parseFromString(e,"text/html");t.querySelectorAll("figure.video_upload").forEach(e=>{var n;const a=(null===(n=e.querySelector("img"))||void 0===n?void 0:n.src)||"",i=e.querySelector("div");if(i){const n=i.dataset.dimensions||"",{width:r,height:o}=JSON.parse(n),s=t.createElement("div");s.style.backgroundImage=`url("${a}")`,s.style.backgroundSize="cover",s.style.width=r||"100%",s.style.height=o||"300px",s.style.textAlign="center",s.style.position="relative";const l=document.createElement("div");l.className="button play_button_dark radius2px disabled",l.style.position="absolute",l.style.margin="0",l.style.top="50%",l.style.transform="translateY(-50%)",l.style.border="2px solid #FFFFFF",l.style.backgroundColor="#282828",l.style.borderRadius="0",l.style.height="54px";const c=document.createElement("div");c.className="ksr-icon__play",l.appendChild(c),s.appendChild(l),e.replaceChild(s,i)}});return(new XMLSerializer).serializeToString(t)},Ne=({dispatch:e,placeholder:t,state:n,theme:f=p.a,ToolBar:E=ke.b,hasErrors:v,hasWarnings:y,tracking:N,maxWidth:C,checkForPossiblePII:j,rawDispatch:w,...I})=>{const{editorState:T,content:A,storyRteVersion:D,errors:P,imageAltText:R,imageCaption:F,imageSrc:L,imageUrl:M,key:x,subjectBlock:U,showRemoveLink:V,attachableId:H,attachableAssoc:Y,linkText:K,linkUrl:z,showLoader:W}=n.story,[$,Z]=Object(b.useState)(null),[J,X]=Object(b.useState)(null),Q=()=>Z(null),ee=Object(b.useMemo)(()=>(e=>ve()(Oe,Se,ye)(e))(A),[D]),te=window.location.pathname.includes("edit/story"),ne=window.location.pathname.includes("edit/promotion"),ae=window.location.pathname.includes("posts/freeform")||window.location.pathname.includes("posts/interview"),ie=te||ne||ae&&Object(d.a)("ckeditor_project_updates"),oe=te,ce=()=>{if(!oe)return;document.querySelectorAll(".header-anchor").forEach(e=>{e.remove()});const e=document.querySelector(".ck-content"),t=document.querySelector(".rte__wrapper > .relative"),n=Array.from(document.querySelectorAll(".ck-content > h3")),a=Array.from(document.querySelectorAll(".ck-content figure[data-anchor]")),i=n.concat(a);for(let n=0;n<i.length;n+=1){const a=i[n];if("H3"!==a.tagName&&!a.dataset.anchor)continue;const r=document.createElement("svg"),o=h.a.createElement(_.a,{name:"icon--heading",size:"24",atoms:["header-anchor"],id:n+"-header-anchor"});null==t||t.appendChild(r),r.outerHTML=g.a.renderToString(o);const s=document.getElementById(n+"-header-anchor");s&&(s.style.left=(null==e?void 0:e.offsetLeft)-60+"px",s.style.top=a.offsetTop+"px")}};Object(b.useEffect)(()=>(window.addEventListener("resize",ce),()=>{window.removeEventListener("resize",ce)}));const de={attachableId:H,attachableAssoc:Y,onUploadStart:()=>{if(ae&&Object(d.a)("ckeditor_project_updates")){document.querySelectorAll(".js-disable-while-uploading").forEach(e=>{e.setAttribute("disabled","true")})}w&&w(Object(m.e)())},onUploadComplete:()=>{if(ae&&Object(d.a)("ckeditor_project_updates")){document.querySelectorAll(".js-disable-while-uploading").forEach(e=>{e.removeAttribute("disabled")})}w&&w(Object(m.c)())}};return h.a.createElement("div",Object.assign({},I,{className:Object(u.a)("rte__wrapper","kds-bg-surface-primary",v&&"rte__wrapper--error",y&&"rte__wrapper--warning",I.className),onClick:()=>{J&&J.editing.view.focus()},role:"textbox"}),h.a.createElement("div",{className:Object(s.b)("relative left-align",{"px2 px7-md":ie})},!ie&&h.a.createElement(E,{dispatch:e,editorState:T,showRemoveLink:V,tracking:N,setCurrentModal:Z}),W&&h.a.createElement(h.a.Fragment,null,h.a.createElement("div",{className:"gradient-transparent-to-white absolute t1 r0 z-toolbar-3 w50p w20p-md h8"}),h.a.createElement("div",{className:"absolute t3 r3 z-toolbar-3"},h.a.createElement(c.a,null))),h.a.createElement("div",{className:Object(s.b)("rte__editor rte__content",{ckeditor:ie}),style:{maxWidth:C?C+"px":"auto"}},ie?h.a.createElement(o.CKEditor,{editor:r.a,config:Object(k.a)({uploadAdapterConfig:de,editorConfig:{placeholder:t},showAnchors:oe}),data:ee,onChange:(t,n)=>{const a=n.getData();e(Object(i.o)(a)),setTimeout(ce,10)},onReady:e=>{setTimeout(ce,1e3),X(e)}}):h.a.createElement(l.Editor,{blockRendererFn:t=>{if("atomic"===t.getType())return{component:be,editable:!1,props:{dispatch:e,setCurrentModal:Z}}},blockStyleFn:e=>{const t=e.getType(),n=e.getText();return"unstyled"===t?""===n?"mb1":"mb4":""},editorState:T,handleKeyCommand:t=>((e,t,n,r)=>{switch(e){case"space":return n(Object(i.p)(Object(a.b)(t))),"handled";case"split-block":return n(Object(i.p)(Object(a.a)(t))),"handled";case"bold":return n(Object(i.p)(l.RichUtils.toggleInlineStyle(t,se.b.style))),"handled";case"link":return r?(Object(S.c)(n,t,r),"handled"):"not-handled";case"italic":return n(Object(i.p)(l.RichUtils.toggleInlineStyle(t,se.j.style))),"handled";case"underline":default:return"not-handled"}})(t,T,e,Z),handleBeforeInput:t=>((e,t,n)=>". "===e?(n(Object(i.p)(Object(a.g)(t))),"handled"):"not-handled")(t,T,e),handlePastedText:t=>_e(t,T,e),keyBindingFn:le,key:x,onChange:t=>e(Object(i.p)(t)),placeholder:t,readOnly:!!$,spellCheck:!0,autoCorrect:"off"}))),"IMAGE"===$&&h.a.createElement(B,{onClose:Q,dispatch:e,errors:P,imageAltText:R,imageCaption:F,subjectBlock:U,imageUrl:M,uploaderState:n.imageUploader,imageSrc:L,theme:f}),"VIDEO"===$&&h.a.createElement(re,{onClose:Q,attachableAssoc:Y,attachableId:H,onUploadSuccess:()=>{N&&N.videoUploaded&&N.videoUploaded()},dispatch:e,theme:f}),"AUDIO"===$&&h.a.createElement(O,{theme:f,dispatch:e,onClose:Q}),"LINK"===$&&h.a.createElement(G,{onClose:Q,theme:f.name,dispatch:e,linkUrl:z,linkText:K,tracking:N,checkForPossiblePII:j}),"REMOVE_ASSET"===$&&h.a.createElement(q,{onClose:()=>{e(Object(i.b)()),Q()},onConfirm:()=>{e(Object(i.h)()),Q()}}))};var Ce=n("L+5T")},g84z:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e=window.location.href)=>e&&""!==e&&"?"!==e&&(e.includes("#")||e.includes("?"))?(e.includes("?")&&(e=e.split("?").pop()),(e=/^[?#]/.test(e)?e.slice(1):e).includes("#")&&(e=e.split("#")[0]),e.split("&").reduce((e,t)=>{let[n,a]=t.split("=");return e[decodeURIComponent(n)]=a?decodeURIComponent(a.replace(/\+/g," ")):"",e},{})):{}},gMis:function(e,t,n){"use strict";n.r(t);var a=n("+2Rf"),i=n.n(a),r=n("SmhT");n("JqCU");const o=new Promise(e=>{i()(()=>e(i()("#growl_section")))});var s;function l(e){e.fadeOut("fast"),s&&s.length&&s.focus()}o.then(e=>{e.on("click",(function(e){var t;i()(e.target).is(i()(this))&&((t=i()(this)).fadeOut("fast"),t.removeClass("sticky"),t.find("div.jGrowl-notification:parent").each((function(){i()(this).data("jGrowl")&&(i()(this).data("jGrowl").sticky=!1)})))})),i()(document).on("keydown",(function(t){t.which===r.d&&e.is(":visible")&&l(e)}))});const c=async(e,t)=>{const n=await o;i.a.each(e,(function(e,a){void 0===t&&(t={}),"error"===e&&(t.sticky=!0,n.addClass("sticky")),n.jGrowl(a,i.a.extend(t,{theme:e,closeTemplate:'<button class="jGrowl-close-x" aria-label="close notification"><span class="ksr-icon__close" aria-hidden="true"></span></button>',beforeOpen:function(){var e;(e=n).fadeIn("fast"),s=i()(":focus"),e.find(".jGrowl-notification").attr("tabindex",-1).focus()},close:function(){l(n)}}))}))};window.growl=c,t.default=c},gN63:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return p}));var a=n("gCJq"),i=n("n+nq"),r=n("0RKZ"),o=n("PhMr");const s=e=>l(e)[1],l=e=>{const t=Object(r.a)(e).split("-");if(2==t.filter(String).length)return t;throw new Error("Invalid GraphQL RelayId")},c=(e,t)=>Object(r.b)(`${e}-${t}`),d=(e,t,n)=>{(e=>e&&"string"!=typeof e&&"Document"===e.kind)(e)&&(e=Object(a.print)(e)),n||(n={});const{projectShareToken:r,...s}=n,l={method:"POST",body:JSON.stringify({query:e,variables:t,...s}),credentials:"same-origin",headers:{"X-CSRF-Token":Object(i.b)(document),"Content-Type":"application/json"}};return r&&(l.headers["Project-Share-Token"]=r),fetch("/graph",l).then(e=>200==e.status?Promise.resolve(e):(console.error("GraphQL Network Error:",e.statusText),Promise.reject(new Error("Failed to fetch")))).then(Object(o.a)("json"))},u=(e,t)=>new Promise((n,a)=>{d(e,t,{}).then(e=>{e.errors?a(e.errors):n(e.data)}).catch(e=>a(e))}),m=(e,{retryCount:t,onRetry:n})=>{const{query:a,variables:i,params:r}=e;return d(a,i,r).catch(a=>{if(0===t)throw a;return n&&n({error:a,fetchArgs:e,retryCount:t}),m(e,{retryCount:t-1,onRetry:n})})},p=(e,t)=>{if(Array.isArray(e)){const n=e.map(e=>"object"==typeof e&&"message"in e&&"string"==typeof e.message?e.message:t);return n.filter((e,t)=>n.indexOf(e)>=t).join(", ")}return t}},gyzc:function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var a=n("iuhU"),i=n("c5x8"),r=n("sezs"),o=n("6zsG"),s=n("aT40"),l=n("9jZ4"),c=n("q1tI"),d=n.n(c),u=n("evi+"),m=n("vhN2");const p=d.a.forwardRef(({atoms:e,children:t,isLoading:n=!1,isDisabled:a=!1,onPress:i,style:r,compact:l,icon:c,iconAfter:m,variant:p,asChild:b,...h},f)=>{const g={atoms:e,children:t,isDisabled:a,onPress:i,style:r,compact:l,icon:c,iconAfter:m,isLoading:n,variant:p,...h},{designProps:_,buttonProps:k}=y(g),E=[t,r,...Array().concat(null!=e?e:[])].some(s.a);if(b&&E&&console.warn("KDSButton cannot use render functions with asChild prop"),b&&!E){var v;const e={...k,className:k.className,style:k.style};return d.a.createElement(o.a,Object.assign({},e,{slot:null!==(v=e.slot)&&void 0!==v?v:void 0}),t)}return d.a.createElement(u.a,Object.assign({},k,{ref:f}),e=>d.a.createElement(S,_,Object(s.a)(t)?t(e):t))}),b=d.a.forwardRef((e,t)=>{const{buttonProps:n,designProps:a}=y(e),{children:i}=n;return d.a.createElement(N,{asChild:!0},d.a.createElement(m.a,Object.assign({},n,{ref:t}),e=>d.a.createElement(S,a,Object(s.a)(i)?i(e):i)))}),h=d.a.forwardRef(({destructive:e=!1,...t},n)=>d.a.createElement(N,Object.assign({variant:e?"filled/destructive":"filled"},t,{ref:n}))),f=d.a.forwardRef((e,t)=>d.a.createElement(N,Object.assign({variant:"filled/inverted"},e,{ref:t}))),g=d.a.forwardRef(({destructive:e=!1,...t},n)=>d.a.createElement(N,Object.assign({variant:e?"borderless/destructive":"borderless"},t,{ref:n}))),_=d.a.forwardRef(({destructive:e=!1,asPrimary:t=!1,...n},a)=>d.a.createElement(N,Object.assign({variant:e?"outlined/destructive":t?"filled":"outlined"},n,{ref:a}))),k=d.a.forwardRef((e,t)=>d.a.createElement(N,Object.assign({variant:"old-school"},e,{ref:t}))),E=d.a.forwardRef((e,t)=>d.a.createElement(N,Object.assign({variant:"transparent"},e,{ref:t}))),v=d.a.forwardRef((e,t)=>d.a.createElement(N,Object.assign({variant:"unstyled"},e,{ref:t})));function y({atoms:e,compact:t,icon:n,iconAfter:a,isLoading:r,slot:o,variant:s,...l}){const c=[t&&O.isCompact];return{designProps:{compact:t,icon:n,iconAfter:a,isLoading:r,variant:s},buttonProps:{className:Object(i.b)(["kds-button",c,e,l.className]),"data-variant":s,slot:o,...l,isDisabled:l.isDisabled||r}}}const S=({children:e,icon:t,iconAfter:n,isLoading:i})=>{const o=!Object(l.d)(e),s=[Object(a.b)({"is-only":t&&!o,"is-after":o&&t&&n})],c="string"==typeof t&&d.a.createElement(r.a,{name:t,atoms:s});return d.a.createElement(d.a.Fragment,null,c||t,e,i&&d.a.createElement("div",{className:"kds-button__spinner"},d.a.createElement(r.a,{name:"icon--spinner"})))},O={isCompact:"is-compact",isIconAfter:"is-after",states:{default:"",hover:':hover, [data-hovered="true"]',focused:':focus, [data-focused="true"]',"focus-visible":':focus-visible, [data-focus-visible="true"]',pressed:':active, [data-pressed="true"]',disabled:':disabled, [data-disabled="true"]'},variants:{filled:'[data-variant="filled"]',"filled/inverted":'[data-variant="filled/inverted"]',"filled/destructive":'[data-variant="filled/destructive"]',borderless:'[data-variant="borderless"]',"borderless/destructive":'[data-variant="borderless/destructive"]',outlined:'[data-variant="outlined"]',"outlined/destructive":'[data-variant="outlined/destructive"]',"old-school":'[data-variant="old-school"]',transparent:'[data-variant="transparent"]',unstyled:'[data-variant="unstyled"]'}},N=Object.assign(p,{AsLink:b,Filled:h,Inverted:f,Borderless:g,Outlined:_,OldSchool:k,Transparent:E,Unstyled:v})},h135:function(e,t,n){"use strict";t.a='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M7 5C7 3.34315 8.34315 2 10 2H14C15.6569 2 17 3.34315 17 5V6H20C20.5523 6 21 6.44772 21 7C21 7.55228 20.5523 8 20 8H19V19C19 20.6569 17.6569 22 16 22H8C6.34315 22 5 20.6569 5 19V8H4C3.44772 8 3 7.55228 3 7C3 6.44772 3.44772 6 4 6H7V5ZM9 6H15V5C15 4.44772 14.5523 4 14 4H10C9.44772 4 9 4.44772 9 5V6ZM7 8H9V20H8C7.44772 20 7 19.5523 7 19V8ZM11 20V8H13V20H11ZM15 20H16C16.5523 20 17 19.5523 17 19V8H15V20Z" fill="#3C3C3C"/>\n</svg>\n'},hL71:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));let a=function(e){return e.AT="AT",e.BE="BE",e.CH="CH",e.DE="DE",e.DK="DK",e.ES="ES",e.FR="FR",e.GB="GB",e.GR="GR",e.IE="IE",e.IT="IT",e.LU="LU",e.NL="NL",e.NO="NO",e.PL="PL",e.SE="SE",e.SI="SI",e}({}),i=function(e){return e.CkEditor="ckeditor5",e.DraftJS="draftjs",e}({})},hPy8:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"g",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"i",(function(){return s})),n.d(t,"j",(function(){return l})),n.d(t,"a",(function(){return c})),n.d(t,"h",(function(){return d})),n.d(t,"k",(function(){return u})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return p})),n.d(t,"e",(function(){return b}));var a=n("q1tI");const i={header:{atoms:[]},body:{atoms:[]},form:{atoms:[]},link:{atoms:[]}},r=i,o=i,s=i,l=i,c=i,d={header:{atoms:["effra-heavy"]},body:{atoms:[]},form:{atoms:[]},link:{atoms:[]}},u=i,m=n.n(a).a.createContext(i),{Consumer:p,Provider:b}=m},haZ8:function(e,t,n){"use strict";var a=n("oa44");n.d(t,"a",(function(){return a.a}))},ijK7:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return m})),n.d(t,"g",(function(){return p})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return h}));var a=n("Te9D"),i=n.n(a),r=n("v83y");const o=e=>t=>{if(""===t.getText().trim()){const n=t.getKey(),a=e.getCurrentContent().getBlockAfter(n),i=a&&a.getType(),r=e.getCurrentContent().getBlockBefore(n);return[r&&r.getType(),i].includes("atomic")?"":"<br />"}return null},s=e=>({blockRenderers:{atomic:e=>{const t=e.getData().get("type"),n=e.getData().get("href");switch(t){case"OEMBED":return`\n            <div class="template oembed" contenteditable="false" data-href='${n}'>\n              <a href=${n} target="_blank">${n}</a>\n            </div>\n          `;case"AUDIO":case"VIDEO":return`<div class="template asset" contenteditable="false" data-id="${e.getData().get("id")}" />`;case"IMAGE":const t=e.getData().get("id"),a=e.getData().get("alt"),r=e.getData().get("caption"),o=`<a href="${n}">`,s="</a>",l=`<div class="template asset" contenteditable="false" data-id="${t}" data-alt-text="${i()(a)}" data-caption="${i()(r)}"/>`;return n?`${o}${l}${s}`:l;default:return""}},unstyled:o(e)}}),l=(e,t=null)=>{const n=e.getSelection(),a=e.getCurrentContent(),i=a.getBlockForKey(n.getStartKey()),r=i.getKey(),o=[];let s;return i.findEntityRanges(e=>{if(null!==e.getEntity()){const n=a.getEntity(e.getEntity());if(!t||t&&n.getType()===t)return s={entityKey:e.getEntity(),blockKey:i.getKey(),entity:a.getEntity(e.getEntity())},!0}return!1},(e,t)=>{n.hasEdgeWithin(r,e,t)&&o.push({...s,start:e,end:t})}),o},c=(e,t)=>e.getCurrentContent().getBlockForKey(t.blockKey).getText().slice(t.start,t.end),d=e=>{const t=e.getSelection();return e.getCurrentContent().getBlockForKey(t.getAnchorKey()).getText().slice(t.getStartOffset(),t.getEndOffset())},u=(e,t,n,a=" ")=>{const i=r.Modifier.insertText(e,t," ",void 0,void 0),o=r.Modifier.insertText(i,t,a,void 0,n);return r.Modifier.insertText(o,t," ",void 0,void 0)},m=e=>e.replace(/^[^\S\r\n]+|[^\S\r\n]+$|\n/gm,""),p=e=>{const t=e.getSelection(),n=e.getCurrentContent(),a=r.Modifier.replaceText(n,t," ");return r.EditorState.push(e,a,"insert-characters")},b=e=>{const t=e.getSelection(),n=t.getFocusOffset(),a=e.getCurrentContent(),i=a.getBlockForKey(t.getAnchorKey()),o=new r.SelectionState({anchorKey:i.getKey(),anchorOffset:n,focusKey:i.getKey(),focusOffset:n}),s=r.Modifier.insertText(a,o," "),l=r.EditorState.push(e,s,"insert-characters"),c=o.merge({anchorOffset:n+1,focusOffset:n+1});return r.EditorState.forceSelection(l,c)},h=e=>{const t=e.getCurrentContent(),n=e.getSelection(),a=r.Modifier.splitBlock(t,n),i=r.EditorState.push(e,a,"split-block"),o=r.Modifier.setBlockType(i.getCurrentContent(),i.getSelection(),"unstyled");return r.EditorState.push(e,o,"split-block")}},inqH:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("lSCD"),i=n.n(a),r=n("q1tI");class o extends r.Component{componentDidMount(){this.loadEmbedly()}callEmbedly(){window.embedly("on","card.resize",()=>{"function"==typeof this.props.onResize&&this.props.onResize()})}getScript(){const e=document.createElement("script");e.src="//cdn.embedly.com/widgets/platform.js",e.async=!0,e.onload=()=>{this.callEmbedly()},document.body.appendChild(e)}loadEmbedly(){i()(window.embedly)?this.callEmbedly():this.getScript()}render(){return this.props.children}}},itcf:function(e,t,n){"use strict";var a=n("yQm5"),i=n.n(a);const r=function(e){return"undefined"!=typeof api_oauth_token?i()(e).addQuery("oauth_token",api_oauth_token).toString():e};window.oauth_url=r,t.a=r},jQIB:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("q1tI"),i=n("TIPN");class r extends a.Component{constructor(e){super(e),this.domNode=null,this.handleRef=this.handleRef.bind(this)}componentDidMount(){if(null===this.domNode||this.props.disabled)return;const e=this.domNode.getBoundingClientRect().top+(window.pageYOffset||document.documentElement.scrollTop)+this.props.offset;if(this.props.intoView){const e=window.pageYOffset||document.documentElement.scrollTop,t=window.innerHeight,n=e+t,a=e+this.domNode.getBoundingClientRect().top+this.props.offset,r=e+this.domNode.getBoundingClientRect().bottom+this.props.offset;a<e?Object(i.e)({to:a,duration:this.props.scrollDuration,easing:this.props.scrollEasing}):r>n&&Object(i.e)({to:Math.min(a,r-t),duration:this.props.scrollDuration,easing:this.props.scrollEasing})}else Object(i.e)({to:e,duration:this.props.scrollDuration,easing:this.props.scrollEasing})}handleRef(e){null!==e&&(this.domNode=e)}render(){return a.createElement("div",{ref:this.handleRef},this.props.children)}}r.defaultProps={scrollDuration:300,scrollEasing:"easeInCubic",disabled:!1,offset:0,intoView:!1}},jmGY:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return m}));var a=n("relC"),i=n("sezs"),r=n("q1tI"),o=n.n(r),s=n("ZT9a"),l=n("Ktal"),c=n("tODT"),d=n("c5x8");function u({atoms:e,children:t,isDisabled:n,isReadOnly:r,...l}){const{fieldProps:{isInvalid:m},fieldProps:p,isRequired:b,...h}=Object(a.b)(l);return o.a.createElement(a.a,Object.assign({},Object(s.a)(p,{className:Object(d.a)(e,"kds-legacy-select")}),{"data-readonly":r||void 0,"data-disabled":n||void 0}),o.a.createElement(c.a,null,o.a.createElement(u.Control,Object(s.a)(h,{"aria-invalid":m||void 0,className:"kds-input-group__control kds-legacy-select__control",disabled:n||r,"data-readonly":r||void 0,required:b}),t),!l.multiple&&o.a.createElement("span",{className:"kds-legacy-select__icon",role:"presentation"},o.a.createElement(i.a,{name:"icon--chevron-down"}))))}u.Control=e=>{const t=o.a.useContext(l.b),n=t&&"htmlFor"in t?null==t?void 0:t.htmlFor:void 0;return o.a.createElement("select",Object.assign({id:n},e))};const m=e=>o.a.createElement("option",e)},jowW:function(e,t,n){"use strict";n.d(t,"b",(function(){return Ht})),n.d(t,"a",(function(){return Yt}));var a=n("gN63"),i=n("Owp+"),r=n("vtU4"),o=n("q1tI"),s=n.n(o),l=n("Ty5D"),c=n("LdJi"),d=n("bpk+"),u=n.n(d),m=n("mq2H"),p=n("v+Hr"),b=n("1eGs"),h=n("8ZZx");const f=u()(),g=e=>{Object(m.n)(m.d.PAGE_VIEWED,{context_page:m.e.CREATOR_DASHBOARD,context_section:"updates",context_type:e})},_=()=>{const{PUBLISHED_POSTS:e,DRAFT_POSTS:t,POSTS_DASHBOARD:n}=h.a;return Object(o.useEffect)(()=>{const e=f.location.pathname,t=e.substring(e.lastIndexOf("/")+1);"posts_dashboard"===t||"drafts"===t?g(p.b.DRAFTS):"published"===t&&g(p.b.PUBLISHED)},[f.location]),s.a.createElement(l.e,null,s.a.createElement(l.c,{exact:!0,path:e.path,render:({match:t})=>s.a.createElement(e.Component,{projectSlug:t.params.projectSlug||"",projectCreator:t.params.projectCreator||"",state:b.b.published})}),s.a.createElement(l.c,{exact:!0,path:t.path,render:({match:e})=>s.a.createElement(t.Component,{projectSlug:e.params.projectSlug||"",projectCreator:e.params.projectCreator||"",state:b.b.draft})}),s.a.createElement(l.c,{exact:!0,path:n.path,render:({match:e})=>s.a.createElement(l.b,{to:h.a.DRAFT_POSTS.url(e.params.projectCreator||"",e.params.projectSlug||"")})}))},k=()=>o.createElement("div",{className:"py3"},o.createElement(c.a,null,o.createElement(_,null)));var E=n("94td"),v=n("msqZ"),y=n.n(v),S=n("2DJ9"),O=n("OJn5"),N=n("tr1H"),C=n("1vCr"),j=n("CPM0"),w=n("mv45"),I=n("pj8f"),T=n("TIPN"),A=n("NxQb");function D(e){return t=>{const n=Object(l.h)(),a=Object(l.i)(),i=Object(l.j)();return s.a.createElement(e,Object.assign({},t,{history:n,location:a,params:i}))}}var P=n("5FPU"),R=n("a8OY"),F=n("GnmY"),L=n("cuY2"),M=n.n(L),x=n("DI+Y");n("VX74"),n("DE4Y");const U={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CreatorInterviewPost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ComposeCreatorInterviewPostFragment"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ComposeCreatorInterviewPostFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Postable"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"actions"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"publish"}},{kind:"Field",name:{kind:"Name",value:"destroy"}},{kind:"Field",name:{kind:"Name",value:"update"}}]}},{kind:"Field",name:{kind:"Name",value:"isPublic"}},{kind:"Field",name:{kind:"Name",value:"publishedAt"}},{kind:"Field",name:{kind:"Name",value:"excludedRewards"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"hasExcludedNoRewardTier"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CreatorInterview"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creatorPrompt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"questions"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"body"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"answers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"withSkipped"},value:{kind:"BooleanValue",value:!0}},{kind:"Argument",name:{kind:"Name",value:"withBlank"},value:{kind:"BooleanValue",value:!0}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"body"}},{kind:"Field",name:{kind:"Name",value:"isSkipped"}},{kind:"Field",name:{kind:"Name",value:"question"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]}}]}}]}}]};const V={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateCreatorInterview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreateCreatorInterviewInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createCreatorInterview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creatorInterview"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]}}]};const B={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateCreatorInterview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateCreatorInterviewInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateCreatorInterview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creatorInterview"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ComposeCreatorInterviewPostFragment"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ComposeCreatorInterviewPostFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Postable"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"actions"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"publish"}},{kind:"Field",name:{kind:"Name",value:"destroy"}},{kind:"Field",name:{kind:"Name",value:"update"}}]}},{kind:"Field",name:{kind:"Name",value:"isPublic"}},{kind:"Field",name:{kind:"Name",value:"publishedAt"}},{kind:"Field",name:{kind:"Name",value:"excludedRewards"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"hasExcludedNoRewardTier"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CreatorInterview"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creatorPrompt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"questions"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"body"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"answers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"withSkipped"},value:{kind:"BooleanValue",value:!0}},{kind:"Argument",name:{kind:"Name",value:"withBlank"},value:{kind:"BooleanValue",value:!0}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"body"}},{kind:"Field",name:{kind:"Name",value:"isSkipped"}},{kind:"Field",name:{kind:"Name",value:"question"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]}}]}}]}}]};const H=(e,t)=>{const n=((null==e?void 0:e.nodes)?e.nodes.map(e=>e&&e.id).filter(e=>e):[])||[];return{formattedExcludedRewardIds:n,showSelectTiers:Boolean(n.length>0),hasExcludedNoRewardTier:Boolean(t)}},Y=Object(w.c)(e=>{if(!e.data||!e.data.post)return Object(w.d)(e.data.error);const{title:t,actions:{publish:n,destroy:a,update:i},publishedAt:r,creatorPrompt:{questions:{nodes:o}},isPublic:s,excludedRewards:l,hasExcludedNoRewardTier:c,answers:{nodes:d}}=e.data.post,u=Boolean(r),m=o?o.filter(e=>e):[],p=d?d.filter(e=>e):[],b=e=>{const t=p.find(t=>t.question.id===e.id);return t?{id:t.id,body:t.body,skip:t.isSkipped}:{id:"",body:"",skip:!1}},h=m.map(e=>({...e,answer:b(e)}));return Object(w.l)({isPublished:u,isPublic:s,canDelete:a,canPublish:n,canUpdate:i,title:t||"",questions:h,...H(l,c)})}),G=Object(x.graphql)(U,Y),q=Object(w.b)(e=>({onCreateCreatorInterview:t=>e.mutate({variables:{input:t}})})),K=Object(x.graphql)(V,q),z=Object(w.b)(e=>({onUpdateCreatorInterview:t=>e.mutate({variables:{input:t}})})),W=Object(x.graphql)(B,z),$={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PostIncludeReward"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PostIncludeRewardInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postIncludeReward"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostIncludeExcludeRewardFragment"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostIncludeExcludeRewardFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Postable"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"excludedRewards"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"hasExcludedNoRewardTier"}}]}}]};const Z={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PostExcludeReward"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PostExcludeRewardInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postExcludeReward"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostIncludeExcludeRewardFragment"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostIncludeExcludeRewardFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Postable"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"excludedRewards"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"hasExcludedNoRewardTier"}}]}}]};const J=e=>e.map(e=>({id:e,__typename:"Reward"})),X=(e,t)=>{const{id:n,hasExcludedNoRewardTier:a,formattedExcludedRewardIds:i}=t;return{__typename:"Mutation",postExcludeReward:{__typename:"PostExcludeRewardPayload",post:{__typename:"FreeformPost",id:n,hasExcludedNoRewardTier:null===e||a,excludedRewards:{__typename:"RewardConnection",nodes:null==e?J(i):J(i).concat({id:e,__typename:"Reward"})}}}}},Q=(e,t)=>{const{id:n,hasExcludedNoRewardTier:a,formattedExcludedRewardIds:i}=t;return{__typename:"Mutation",postIncludeReward:{__typename:"PostIncludeRewardPayload",post:{__typename:"FreeformPost",id:n,hasExcludedNoRewardTier:null!==e&&a,excludedRewards:{__typename:"RewardConnection",nodes:null==e?J(i):i.reduce((t,n)=>n===e?t:t.concat({id:n,__typename:"Reward"}),[])}}}}},ee=Object(w.b)(e=>{const{mutate:t,ownProps:n}=e;return{postExcludeReward:e=>t({variables:{input:e},optimisticResponse:X(e.rewardId,n)})}}),te=Object(x.graphql)(Z,ee),ne=Object(w.b)(e=>{const{mutate:t,ownProps:n}=e;return{postIncludeReward:e=>t({variables:{input:e},optimisticResponse:Q(e.rewardId,n)})}}),ae=Object(x.graphql)($,ne),ie=Object(w.a)(te,ae);var re=n("JhfJ"),oe=n("RBqt");const se=e=>Boolean(e.text)?o.createElement("div",{className:"border border-red-500 radius2px p3 flex mb5"},o.createElement(S.a,{atoms:["fill-red-500","mr2"],name:"icon--alert",size:"20"}),o.createElement("div",{className:"flex1"},o.createElement(oe.a,{weight:"bold"},e.text))):null;var le=n("lHf8"),ce=n("8oY9"),de=n("ZCb5"),ue=n("ZCHx"),me=n("CgNg"),pe=n("jQIB"),be=n("mEsB"),he=n("eH4U");const fe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Rewards"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectSlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"projectSlug"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"backersCount"},arguments:[{kind:"Argument",name:{kind:"Name",value:"withNewPmBackers"},value:{kind:"BooleanValue",value:!0}}]},{kind:"Field",name:{kind:"Name",value:"rewards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"withNewPmBackers"},value:{kind:"BooleanValue",value:!0}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"displayName"}},{kind:"Field",name:{kind:"Name",value:"backersCountWithNewPmBackers"}},{kind:"Field",name:{kind:"Name",value:"amount"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"}},{kind:"Field",name:{kind:"Name",value:"currency"}}]}}]}}]}}]}}]}}]};const ge=Object(w.c)(e=>{if(!e.data||!e.data.project)return Object(w.d)(e.data.error);const{rewards:t,backersCount:n}=e.data.project,a=t&&t.nodes?t.nodes.map(e=>e&&{id:e.id,description:e.description,displayName:e.displayName,backersCount:Object(E.b)("project_updates.Backers",{count:e.backersCountWithNewPmBackers}),formattedAmount:Object(he.a)(e.amount.amount,e.amount.currency)}):[],i=n-(t&&t.nodes?t.nodes.map(e=>e&&e.backersCountWithNewPmBackers).reduce((e,t)=>e+(t||0),0):0);return Object(w.l)({noRewardBackingsCount:i,rewards:a})}),_e=Object(x.graphql)(fe,ge);var ke=n("4sJn");const Ee=({width:e=16,color:t="soft-black",baseline:n=!1})=>o.createElement(ke.a,{width:e,atoms:[t,n?"valign-baseline":""],viewBox:"0 0 16 13"},o.createElement("path",{d:"M5.8 12.9L0.1 8.1C0 7.9 0 7.7 0.1 7.6L1 6.6C1.1 6.5 1.3 6.5 1.4 6.6L5.8 10.3 14.4 0.1C14.5 0 14.7 0 14.8 0.1L15.9 0.9C16 1 16 1.2 15.9 1.4L6.3 12.9C6.1 13 5.9 13 5.8 12.9Z",fill:"currentColor"}));var ve=n("/IHD");const ye=Object(ve.a)("relative","radius2px","mr2","flex","items-center","justify-center","border","type-16"),Se=Object(ve.a)("o0p","absolute","t0","l0","r0","b0","w100p","h100p","m0"),Oe=e=>{const t=Object(ve.a)("w3 h3",e.checked&&!e.disabled?"border-ksr-green-500 bg-ksr-green-500":"",e.checked&&e.disabled?"border-dark-grey-500 bg-dark-grey-500":"",!e.checked&&e.disabled?"border-dark-grey-500 bg-dark-grey-500":"",e.checked||e.disabled?"":"border-dark-grey-400 bg-white",ye),n=e.disabled&&!e.checked?"transparent":e.disabled&&e.checked?"grey-500":"white",a=e.disabled?"cursor-default":"pointer",i=Object(ve.a)(Se,a);return o.createElement("div",{className:"flex items-center border border-transparent border-focused-within-ksr-green-500"},o.createElement("div",{className:t},o.createElement(Ee,{width:12,color:n}),o.createElement("input",{type:"checkbox",id:e.id,name:e.name,value:e.value,disabled:e.disabled,defaultChecked:e.checked,"aria-checked":e.checked,onChange:t=>e.onChange(t.currentTarget.checked),className:i})),o.createElement("label",{className:"type-16 "+a,htmlFor:e.id},e.label))};var Ne=n("rcUh");const Ce=e=>0===e.noRewardBackingsCount?null:o.createElement("div",{className:"mb1"},o.createElement(Oe,{id:"no-reward-checkbox",name:"no-reward",label:Object(E.b)("project_updates.No_reward"),checked:!e.hasExcludedNoRewardTier,onChange:t=>e.onChangeRewardIdNotification(t,null),disabled:e.isPublished}),o.createElement(Ne.a,{horizontal:2}),o.createElement("p",{className:"pl5 dark-grey-400 type-14 mb0"},Object(E.b)("project_updates.Backers",{count:e.noRewardBackingsCount}))),je=_e(e=>{const t=e.isShowing?"block":"hide";return Object(w.h)(e)?o.createElement(S.a,{size:"medium",name:"icon--circle-loader",atoms:[t,"mx-auto","mt2"]}):Object(w.g)(e)?(I.Honeybadger.notify(JSON.stringify(e.error),{context:{tags:N.a.POST_UPDATES}}),null):o.createElement("div",{className:t},o.createElement(Ne.a,{vertical:3}),o.createElement(Ce,e),e.rewards.map(t=>o.createElement("div",{className:"mb1",key:t.id},o.createElement("div",{className:"flex items-center"},o.createElement("div",{className:"flex1"},o.createElement(Oe,{id:"reward-"+t.id,name:"reward-"+t.id,key:"reward-"+t.id,label:t.displayName,checked:e.excludedRewardIds&&!e.excludedRewardIds.includes(t.id),onChange:n=>e.onChangeRewardIdNotification(n,t.id),disabled:e.isPublished})),o.createElement(Ne.a,{horizontal:2}),o.createElement(be.a,{label:o.createElement(o.Fragment,null,o.createElement("h3",{className:"m0 type-16"},t.displayName),o.createElement("p",{className:"mt0 mb2 type-14"},t.formattedAmount," - ",t.backersCount),o.createElement("p",{className:"m0 type-14"},t.description))},o.createElement(S.a,{size:"16",name:"icon--info",atoms:["fill-dark-grey-400"]}))),o.createElement("p",{className:"pl5 dark-grey-400 type-14 mb0"},t.formattedAmount," - ",t.backersCount))))}),we=e=>o.createElement(o.Fragment,null,o.createElement(ce.a,{id:"post-title",label:Object(E.b)("project_updates.Title")}),o.createElement("span",{className:"block pb1"}),o.createElement(me.b,{id:"post-title",autoComplete:"off",placeholder:Object(E.b)("project_updates.Incredible_start"),inputValue:e.value,onChange:e.onChange,hasErrors:Boolean(e.error),currentFocus:"post-title",charLimit:255}),e.error&&o.createElement("span",{className:"block mt1 red-500"},e.error)),Ie=e=>{const[t,n]=o.useState(!1),a=o.useRef(!0);o.useEffect(()=>{a.current&&(a.current=!1)},[t]);const i=e.value&&Object(he.f)(e.value);return i&&!t?n(!0):!i&&t&&n(!1),o.createElement(o.Fragment,null,o.createElement(ce.a,{id:"post-body",label:Object(E.b)("project_updates.Body")}),o.createElement("span",{className:"block pb1"}),o.createElement(O.a,{placeholder:Object(E.b)("project_updates.Thank_you_all_so_much"),value:e.value,onBlur:e.onChange,attachableAssoc:"body_assets",attachableId:e.postId,hasErrors:Boolean(e.error),hasWarnings:Boolean(i),ToolBar:de.a,checkForPossiblePII:!0,tracking:{videoUploaded:()=>{Object(F.e)(e.postType)},piiWarningLinkToTerms:()=>{Object(F.b)("project-update-link-modal")}},newEditor:Object(A.a)("ckeditor_project_updates")}),e.error&&o.createElement("span",{className:"red-500"},e.error),!e.error&&i&&o.createElement(pe.a,{intoView:!0,offset:100},o.createElement(E.a,{atoms:["type-14","orange-500"],i18nKey:"project_updates.Make_sure_your_linked_documents_don’t_contain_any_backer_information",link:o.createElement(le.a,{color:"orange-500",target:"_blank",onClick:()=>Object(F.b)("project-update-body"),href:"https://www.kickstarter.com/terms-of-use#section3"},Object(E.b)("project_updates.Our_terms"))})))},Te=e=>{const t=[{value:"public",label:Object(E.b)("project_updates.Public_everyone")}];return e.prelaunchIsActive||t.push({value:"backers",label:Object(E.b)("project_updates.Backers_only")}),o.createElement(o.Fragment,null,o.createElement(ce.a,{id:"post-viewable-by",label:Object(E.b)("project_updates.Visible_to")}),o.createElement("span",{className:"block pb1"}),o.createElement(ue.a,{options:t,selectedValue:e.value?t[0].value:t[1].value,onChange:t=>e.onChange("public"===t)}))},Ae=e=>{const t=[{value:"all-backers",label:Object(E.b)("project_updates.All_backers")},{value:"select-tiers",label:Object(E.b)("project_updates.Select_tiers")}],n=e.showSelectTiers?"select-tiers":e.value,a="select-tiers"===e.value||e.showSelectTiers;return o.createElement(o.Fragment,null,o.createElement(ce.a,{id:"post-notifications",label:Object(E.b)("project_updates.Notifications")}),o.createElement("span",{className:"block pb1"}),o.createElement(ue.a,{options:t,selectedValue:n,onChange:e.onChange,disabled:e.isPublished,id:"tier-filter"}),o.createElement(je,{projectSlug:e.projectSlug,isShowing:a,excludedRewardIds:e.excludedRewardIds,onChangeRewardIdNotification:e.onChangeRewardIdNotification,isPublished:e.isPublished,hasExcludedNoRewardTier:e.hasExcludedNoRewardTier}))};var De=n("T8n5");const Pe=e=>o.createElement("div",{className:"flex pb3 pb0-md"},o.createElement(S.a,{size:"20",name:"icon--lightbulb",atoms:["fill-ksr-green-500","shrink0"]}),o.createElement(Ne.a,{horizontal:1}),o.createElement(De.a,{color:"ksr-green-500",type:"body-100"},e.text)),Re=e=>o.createElement("div",{className:"flex-md w100p"},o.createElement("div",{className:"flex2"},e.leftCol&&e.leftCol()),o.createElement("div",{className:"flex1 ml3-md"},e.rightCol&&e.rightCol()));class Fe extends o.Component{render(){const e=["project-updates-action-bar","fixed","b0","r0","h12","px2","px4-lg","z-modal-3","border-box","bg-grey-300","border-top","w100p"].join(" ");return o.createElement("div",{className:e},o.createElement("div",{className:"h100p flex items-center"},this.props.children))}}var Le=n("pTxv"),Me=n("v9JK"),xe=n("9jZ4"),Ue=n("55Ip");class Ve extends o.Component{constructor(...e){super(...e),this.state={isDeleting:!1},this.onDelete=async()=>{this.setState({isDeleting:!0}),await this.props.onDelete(),this.setState({isDeleting:!1}),this.props.onComplete()},this.confirmDelete=()=>confirm(Object(E.b)("project_updates.Are_you_sure_you_want_to_delete"))?this.onDelete():null}render(){return o.createElement(o.Fragment,null,o.createElement("div",{className:"hide block-lg"},o.createElement("button",{type:"button",disabled:this.state.isDeleting,className:"block mx-auto mx0-md type-14 mb4 mb0-md red-500 text-underline",onClick:this.confirmDelete},this.state.isDeleting?Object(E.b)("project_updates.Deleting"):this.props.buttonText)),o.createElement("div",{className:"hide-lg"},o.createElement("button",{type:"button",disabled:this.state.isDeleting,className:"bg-transparent p0 no-border",onClick:this.confirmDelete},o.createElement(S.a,{name:"icon--trash",size:"20",atoms:["fill-soft-black"]}))))}}class Be extends o.Component{constructor(...e){super(...e),this.state={isPreviewing:!1},this.onPreview=async e=>{e.persist(),await this.setState({isPreviewing:!0}),await this.props.onPreviewPost(e),this.setState({isPreviewing:!1})}}componentWillUnmount(){this.setState({isPreviewing:!1})}render(){return o.createElement(Le.c,{theme:"support",disabled:this.state.isPreviewing,onClick:this.onPreview,atoms:["flex1","max-w40","no-wrap","mr1","mr3-md","js-disable-while-uploading"]},o.createElement("span",{className:"hide block-lg"},this.state.isPreviewing?Object(E.b)("project_updates.Previewing"):Object(E.b)("project_updates.Preview")),o.createElement("span",{className:"hide-lg"},o.createElement(S.a,{name:"icon--eye",size:"large",atoms:["fill-soft-black"]})))}}class He extends o.Component{constructor(...e){super(...e),this.state={isSaving:!1},this.onSavePublishedPost=async e=>{await this.setState({isSaving:!0}),await this.props.onSavePublishedPost(e),this.setState({isSaving:!1})}}render(){return o.createElement(Le.b,{type:"button",disabled:this.state.isSaving,onClick:this.onSavePublishedPost,atoms:["flex1","max-w40","no-wrap"]},this.state.isSaving?Object(E.b)("project_updates.Saving"):Object(E.b)("project_updates.Save_changes"))}}class Ye extends o.Component{constructor(...e){super(...e),this.state={isSavingDraft:!1},this.onSaveDraft=async e=>{await this.setState({isSavingDraft:!0}),await this.props.onSaveDraft(e),this.setState({isSavingDraft:!1})}}render(){return o.createElement(Le.c,{theme:"support",disabled:this.state.isSavingDraft,onClick:this.onSaveDraft,atoms:["flex1","max-w40","no-wrap","mr1","mr3-md","js-disable-while-uploading"]},o.createElement("span",{className:"hide block-lg"},this.state.isSavingDraft?Object(E.b)("project_updates.Saving"):this.props.isDirty?Object(E.b)("project_updates.Save_draft"):Object(E.b)("project_updates.Draft_saved")),o.createElement("span",{className:"hide-lg"},this.state.isSavingDraft?o.createElement(S.a,{name:"icon--circle-loader",size:"large",atoms:["fill-soft-black"]}):this.props.isDirty?o.createElement(S.a,{name:"icon--save",size:"large",atoms:["fill-soft-black"]}):o.createElement(S.a,{name:"icon--saved",size:"large",atoms:["fill-soft-black"]})))}}const Ge=e=>o.createElement(Ue.b,{className:"flex1 max-w40 mr1 mr3-md",to:e.editUrl},o.createElement(Le.c,{theme:"support",atoms:["no-wrap","border-box","w100p"]},o.createElement("span",{className:"hide block-lg"},Object(E.b)("project_updates.Edit")),o.createElement("span",{className:"hide-lg"},o.createElement(S.a,{name:"icon--pencil",size:"large",atoms:["fill-soft-black"]}))));class qe extends o.Component{constructor(...e){super(...e),this.state={isModalShowing:!1,isPublishing:!1},this.onShowModal=()=>{this.setState({isModalShowing:!0})},this.onHideModal=()=>{this.setState({isModalShowing:!1})},this.onPublish=async e=>{await this.setState({isPublishing:!0}),await this.props.onPublish(e),this.setState({isPublishing:!1})},this.renderConfirmPublishModal=()=>{if(!this.state.isModalShowing)return null;const e={freeform:Object(E.b)("project_updates.Notifications_will_be_sent_24_hours"),interview:Object(E.b)("project_updates.Well_send_your_answers_to_backers")};return o.createElement(Me.a,{size:"small",onClose:this.onHideModal,headerCopy:Object(E.b)("project_updates.Ready_to_publish"),secondaryCloseCopy:Object(E.b)("project_updates.No_Im_not_ready")},o.createElement("p",{className:"mt0 mb3 dark-grey-500"},e[this.props.formType]),o.createElement(Le.b,{type:"submit",theme:"support",atoms:["w100p"],onClick:this.onPublish,disabled:this.state.isPublishing},this.state.isPublishing?Object(E.b)("project_updates.Publishing"):Object(E.b)("project_updates.Yes_publish_now")))}}componentDidUpdate(e){this.props.hasErrors&&!Object(xe.j)(e,this.props)&&this.onHideModal()}render(){return o.createElement(o.Fragment,null,o.createElement(Le.b,{theme:"create",atoms:["flex1","max-w40","js-disable-while-uploading"],onClick:this.onShowModal},Object(E.b)("project_updates.Publish")),this.renderConfirmPublishModal())}}class Ke extends o.Component{constructor(...e){super(...e),this.onSubmit=(e,t)=>{const{id:n,projectCreator:i,projectSlug:o,onPublishPost:s,isPublished:l,history:c,onUpdateCreatorInterview:d}=this.props;return d({id:n,title:e.title,public:e.isPublic,answers:e.questions.map(({answer:e,id:t})=>({body:"<br />"===e.body?"":e.body,interviewQuestionId:t,skip:e.skip}))}).then(()=>{const e=r.b.VIEW_POST.url(i,o,Object(a.a)(n));if(t.publish)return s({id:n}).then(()=>{window.location.href=e});t.redirectToPost&&(l?window.location.href=e:c.push(r.b.PREVIEW_POST.url(i,o,Object(a.a)(n))))})},this.onError=(e,t)=>{Object(T.d)(),t&&I.Honeybadger.notify(t,{context:{tags:N.a.POST_UPDATES}})}}renderFormActionsBar(e){const{id:t,canDelete:n,onDeletePost:a,projectCreator:i,projectSlug:s,isPublished:l}=this.props;return o.createElement(Fe,null,o.createElement("div",{className:"flex items-center justify-between w100p"},n&&o.createElement(Ve,{buttonText:l?Object(E.b)("project_updates.Delete_update_"):Object(E.b)("project_updates.Delete_draft"),onDelete:()=>a({id:t}),onComplete:()=>{window.location.href=r.a.DRAFT_POSTS.url(i,s)}}),o.createElement("div",{className:"flex flex1 items-center justify-end"},o.createElement("span",{className:"flex1"}),!l&&o.createElement(o.Fragment,null,o.createElement(Be,{onPreviewPost:e.onSubmitWithExtras({publish:!1,redirectToPost:!0})}),o.createElement(Ye,{isDirty:e.isDirty,onSaveDraft:e.onSubmitWithExtras({publish:!1,redirectToPost:!1})}),o.createElement(qe,{formType:"interview",hasErrors:Boolean(e.errors),onPublish:e.onSubmitWithExtras({publish:!0,redirectToPost:!1})})),l&&o.createElement(He,{onSavePublishedPost:e.onSubmitWithExtras({publish:!1,redirectToPost:!0})}))))}renderQuestionsAndAnswers(e,t){return e.questions.map((n,a)=>{const i=n.answer.skip;return o.createElement("div",{className:"test-question pb8",key:n.id},o.createElement("div",{className:"flex items-center justify-between mb2"},o.createElement("h3",{className:"type-21 mb1 "+(i?"soft-black_50":"soft-black")},o.createElement("span",{className:"border-bottom border-ksr10-green",style:{borderWidth:"3px",lineHeight:"3.4rem"}},n.body)),o.createElement("button",{className:"test-skip-question keyboard-focusable ml3",onClick:()=>{t({...y()(`questions[${a}].answer.skip`,!i,e)})}},i?o.createElement(ze,null):o.createElement(We,null))),o.createElement(M.a,{duration:500,height:i?0:"auto"},o.createElement(j.a,{enter:"fade-in-and-down",leave:"fade-out-and-up",open:!i,duration:700,mountOnEnter:!1,unmountOnExit:!1},o.createElement(O.a,{value:n.answer.body,onBlur:n=>{t({...y()(`questions[${a}].answer.body`,n,e)})},attachableAssoc:"body_assets",attachableId:n.answer.id,tracking:{videoUploaded:()=>{Object(F.e)(F.a.CreatorInterview)}},newEditor:Object(A.a)("ckeditor_project_updates")}))))})}render(){const e={questions:this.props.questions||[],title:this.props.title||"",isPublic:this.props.isPublic,notifications:"all-backers"};return o.createElement(C.a,{warnBeforeDirtyUnmount:!0,initialValues:e,validate:e=>Boolean(e.title)?{}:{title:Object(E.b)("project_updates.Title_is_required")},onSubmit:this.onSubmit,onError:this.onError},e=>o.createElement("form",{onSubmit:e.onSubmit},this.renderFormActionsBar(e),e.errors&&o.createElement(se,{text:e.errors.base||e.errors.general}),o.createElement(Re,{leftCol:()=>o.createElement(o.Fragment,null,o.createElement(we,{value:e.values.title,onChange:t=>e.setValues({title:t}),error:Object(C.b)("title",e.errors)}),o.createElement(Ne.a,{vertical:8}),this.renderQuestionsAndAnswers(e.values,e.setValues)),rightCol:()=>o.createElement(o.Fragment,null,o.createElement(Te,{value:e.values.isPublic,onChange:t=>{e.setValues({isPublic:t})}}),o.createElement(Ne.a,{vertical:4}),o.createElement(Ae,{projectSlug:this.props.projectSlug,value:e.values.notifications,onChange:t=>{e.setValues({notifications:t})},excludedRewardIds:this.props.formattedExcludedRewardIds,hasExcludedNoRewardTier:this.props.hasExcludedNoRewardTier,onChangeRewardIdNotification:(e,t)=>e?this.props.postIncludeReward({postId:this.props.id,rewardId:t}):this.props.postExcludeReward({postId:this.props.id,rewardId:t}),isPublished:this.props.isPublished,showSelectTiers:this.props.showSelectTiers}),o.createElement(Ne.a,{vertical:5}),o.createElement(Pe,{text:Object(E.b)("project_updates.All_backers_will_be_able_to_view")}))})))}}Object(E.b)("project_updates.Public_everyone"),Object(E.b)("project_updates.All_backers");const ze=()=>o.createElement(S.a,{name:"icon--plus",size:"20",atoms:["fill-soft-black"]}),We=()=>o.createElement("span",{className:"ksr-tooltip","data-tooltip":Object(E.b)("project_updates.Skip_this_question")},o.createElement(S.a,{name:"icon--cross",size:"20",atoms:["fill-soft-black"]})),$e=Object(w.a)(re.c,W,G,ie,Object(P.a)(()=>({primaryText:Object(E.b)("new_creator_interview.Were_having_trouble_loading"),secondaryText:Object(E.b)("new_creator_interview.If_refreshing_this_page")})),R.b,D)(Ke),Ze=({id:e,projectCreator:t,projectSlug:n})=>o.createElement(c.a,null,o.createElement("section",{className:"pt14"},o.createElement("div",{className:"bold type-21 pb6"},Object(E.b)("project_updates.Edit_update"))),o.createElement($e,{id:e,projectCreator:t,projectSlug:n})),Je={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FreeformPost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ComposeFreeformPostFragment"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ComposeFreeformPostFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Postable"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"actions"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"publish"}},{kind:"Field",name:{kind:"Name",value:"destroy"}},{kind:"Field",name:{kind:"Name",value:"update"}}]}},{kind:"Field",name:{kind:"Name",value:"isPublic"}},{kind:"Field",name:{kind:"Name",value:"publishedAt"}},{kind:"Field",name:{kind:"Name",value:"excludedRewards"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"hasExcludedNoRewardTier"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FreeformPost"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"body"}}]}},{kind:"Field",name:{kind:"Name",value:"project"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"prelaunchIsActive"}}]}}]}}]};const Xe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateFreeformPost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreateFreeformPostInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createFreeformPost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]}}]};const Qe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdatePost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdatePostInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatePost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ComposeFreeformPostFragment"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ComposeFreeformPostFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Postable"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"actions"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"publish"}},{kind:"Field",name:{kind:"Name",value:"destroy"}},{kind:"Field",name:{kind:"Name",value:"update"}}]}},{kind:"Field",name:{kind:"Name",value:"isPublic"}},{kind:"Field",name:{kind:"Name",value:"publishedAt"}},{kind:"Field",name:{kind:"Name",value:"excludedRewards"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"hasExcludedNoRewardTier"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FreeformPost"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"body"}}]}},{kind:"Field",name:{kind:"Name",value:"project"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"prelaunchIsActive"}}]}}]}}]};const et=Object(w.b)(e=>({onCreateFreeformPost:t=>e.mutate({variables:{input:t}})})),tt=Object(x.graphql)(Xe,et),nt=Object(w.b)(e=>({onUpdatePost:t=>e.mutate({variables:{input:t}})})),at=Object(x.graphql)(Qe,nt),it=Object(w.c)(e=>{if(!e.data||!e.data.post)return Object(w.d)(e.data.error);const{title:t,body:n,isPublic:a,publishedAt:i,excludedRewards:r,hasExcludedNoRewardTier:o,actions:{destroy:s},project:l}=e.data.post,c=Boolean(i);return Object(w.l)({title:t,body:n,isPublic:a,isPublished:c,canDelete:s,...H(r,o),project:l})}),rt=Object(x.graphql)(Je,it),ot=Object(w.a)(rt,re.c,at,ie,D)(e=>{if(!Object(w.i)(e))return null;const{id:t,isPublished:n,onUpdatePost:i,onDeletePost:s,canDelete:l,onPublishPost:c,postExcludeReward:d,postIncludeReward:u}=e,m={title:e.title||"",body:e.body||Object(he.e)()||"",isPublic:e.isPublic,notifications:"all-backers"};return o.createElement(C.a,{warnBeforeDirtyUnmount:!0,initialValues:m,validate:e=>({...Boolean(e.title)?{}:{title:Object(E.b)("project_updates.Title_is_required")},...Boolean(e.body)?{}:{body:Object(E.b)("project_updates.Body_is_required")}}),onSubmit:(n,o)=>i({id:t,title:n.title,body:n.body,public:n.isPublic}).then(()=>{const n=()=>{window.location.href=r.b.VIEW_POST.url(e.projectCreator,e.projectSlug,Object(a.a)(t))};if(o.publish)return c({id:t}).then(()=>{n()});o.redirectToPost&&(e.isPublished?n():e.history.push(r.b.PREVIEW_POST.url(e.projectCreator,e.projectSlug,Object(a.a)(t))))}),onError:(e,t)=>{Object(T.d)(),t&&I.Honeybadger.notify(t,{context:{tags:N.a.POST_UPDATES}})}},a=>o.createElement(o.Fragment,null,o.createElement(Fe,null,o.createElement("div",{className:"flex items-center justify-between w100p"},l&&o.createElement(Ve,{buttonText:n?Object(E.b)("project_updates.Delete_update_"):Object(E.b)("project_updates.Delete_draft"),onDelete:()=>s({id:e.id}),onComplete:()=>{window.location.href=r.a.DRAFT_POSTS.url(e.projectCreator,e.projectSlug)}}),o.createElement("div",{className:"flex flex1 items-center justify-end"},o.createElement("span",{className:"flex1"}),!n&&o.createElement(o.Fragment,null,o.createElement(Be,{onPreviewPost:a.onSubmitWithExtras({publish:!1,redirectToPost:!0})}),o.createElement(Ye,{isDirty:a.isDirty,onSaveDraft:a.onSubmitWithExtras({publish:!1,redirectToPost:!1})}),o.createElement(qe,{formType:"freeform",hasErrors:Boolean(a.errors),onPublish:a.onSubmitWithExtras({publish:!0,redirectToPost:!1})})),e.isPublished&&o.createElement(He,{onSavePublishedPost:a.onSubmitWithExtras({publish:!1,redirectToPost:!0})})))),o.createElement("form",{className:"pb4",onSubmit:a.onSubmit},a.errors&&o.createElement(se,{text:a.errors.base||a.errors.general}),o.createElement("div",{className:"flex-md"},o.createElement("section",{className:"flex2"},o.createElement(we,{value:a.values.title,onChange:e=>a.setValues({title:e}),error:Object(C.b)("title",a.errors)}),o.createElement(Ne.a,{vertical:4}),o.createElement(Ie,{postId:t,value:a.values.body,onChange:e=>a.setValues({body:e}),error:Object(C.b)("body",a.errors),postType:F.a.FreeformPost}),o.createElement(Ne.a,{vertical:3})),o.createElement("aside",{className:"flex1 ml3-md"},o.createElement(Te,{prelaunchIsActive:e.project.prelaunchIsActive,value:a.values.isPublic,onChange:e=>{a.setValues({isPublic:e})}}),o.createElement(Ne.a,{vertical:4}),!e.project.prelaunchIsActive&&o.createElement(o.Fragment,null,o.createElement(Ae,{projectSlug:e.projectSlug,value:a.values.notifications,onChange:e=>{a.setValues({notifications:e})},excludedRewardIds:e.formattedExcludedRewardIds,hasExcludedNoRewardTier:e.hasExcludedNoRewardTier,onChangeRewardIdNotification:(e,n)=>e?u({postId:t,rewardId:n}):d({postId:t,rewardId:n}),isPublished:e.isPublished,showSelectTiers:e.showSelectTiers}),o.createElement(Ne.a,{vertical:5}),o.createElement(Pe,{text:Object(E.b)("project_updates.All_backers_will_be_able_to_view")})))))))}),st=({id:e,projectCreator:t,projectSlug:n})=>o.createElement(c.a,null,o.createElement("section",{className:"pt3"},o.createElement("div",{className:"bold type-21 pb2"},Object(E.b)("project_updates.Edit_update"))),o.createElement(ot,{id:e,projectCreator:t,projectSlug:n}));var lt=n("ysdo");const ct=e=>{const{value:t,error:n,isPending:a}=(({asyncOperation:e,defaultValue:t,dependencies:n})=>{const[a,i]=Object(o.useState)({value:t,error:null,isPending:!0});return Object(o.useEffect)(()=>{const n="function"==typeof e?e():e;let a=!0;return n.then(e=>a?i({value:e,error:null,isPending:!1}):null).catch(e=>a?i({value:t,error:e,isPending:!1}):null),()=>{a=!1}},n),a})(e);return e.children({value:t,error:n,isPending:a})};var dt=n("ZCIj"),ut=n("dkkr"),mt=n("mwIZ"),pt=n.n(mt);const bt={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Posts"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectSlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"projectSlug"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"posts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"forActivePrompt"},value:{kind:"BooleanValue",value:!0}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]}}]}}]}}]};const ht=Object(w.c)(e=>{if(!e.data||!e.data.project)return Object(w.d)(e.data.error);const t=pt()(e,"data.project.posts.edges[0].node.id",null);return Object(w.l)({interviewIdForActivePrompt:t})}),ft=Object(x.graphql)(bt,ht),gt=({error:e,suggestionLink:t})=>{const n=e&&Object(w.e)(e);if(n.base){const e=/already been answered/.test(n.base),a=/No active prompt/.test(n.base);return e?o.createElement(ut.c,{primaryText:Object(E.b)("new_creator_interview.Youve_already_responded"),secondaryText:o.createElement(E.a,{i18nKey:"new_creator_interview.Publish_to_share_more_with_backers",publishLink:o.createElement("a",{className:"ksr-green-500 text-underline",href:t},Object(E.b)("new_creator_interview.Publish_a_freeform_update"))})}):a?o.createElement(ut.c,{primaryText:Object(E.b)("new_creator_interview.Were_fresh_out_of_questions"),secondaryText:o.createElement(E.a,{i18nKey:"new_creator_interview.Publish_while_we_write_more",publishLink:o.createElement("a",{className:"ksr-green-500 text-underline",href:t},Object(E.b)("new_creator_interview.Publish_a_freeform_update"))})}):null}return o.createElement(ut.b,{primaryText:Object(E.b)("new_creator_interview.Were_having_trouble_loading"),secondaryText:Object(E.b)("new_creator_interview.If_refreshing_this_page")})};class _t extends o.Component{constructor(...e){super(...e),this.state={showWelcomeOverlay:!1},this.handleShowOverlay=()=>{this.setState({showWelcomeOverlay:!0})},this.handleHideOverlay=()=>{this.setState({showWelcomeOverlay:!1})}}renderNewInterview(){const{onCreateCreatorInterview:e,projectId:t}=this.props;return dt.b.getItem("seenCreatorInterviewWelcome")||(dt.b.setItem("seenCreatorInterviewWelcome","true"),this.handleShowOverlay()),o.createElement(o.Fragment,null,o.createElement(ct,{asyncOperation:()=>e({projectId:t}),dependencies:[t],defaultValue:{}},({value:e,error:t,isPending:n})=>n?o.createElement(R.a,null):Boolean(t)?o.createElement(Re,{leftCol:()=>o.createElement(gt,{error:t,suggestionLink:r.b.NEW_FREEFORM_POST.url(this.props.projectCreator,this.props.projectSlug)})}):o.createElement(o.Fragment,null,o.createElement($e,{id:e.data.createCreatorInterview.creatorInterview.id,projectCreator:this.props.projectCreator,projectSlug:this.props.projectSlug}))),this.state.showWelcomeOverlay&&o.createElement(lt.a,{onClose:this.handleHideOverlay,headerIcon:o.createElement(S.a,{name:"icon--update-qa-round",atoms:["fill-white"],size:"48"}),buttonText:Object(E.b)("new_creator_interview.Lets_get_started"),headerText:Object(E.b)("new_creator_interview.Welcome_to_qa"),bodyText:Object(E.b)("new_creator_interview.This_question_and_answer_approach"),bodyListItems:[Object(E.b)("new_creator_interview.Answer_only_questions"),Object(E.b)("new_creator_interview.Check_back_for_new_questions")]}))}renderExistingInterview(){const{projectCreator:e,projectSlug:t,interviewIdForActivePrompt:n}=this.props;return n?o.createElement(Re,{leftCol:()=>o.createElement(ut.a,{primaryText:Object(E.b)("new_creator_interview.Youve_already_started"),secondaryText:o.createElement(E.a,{i18nKey:"new_creator_interview.Resume_update_or_visit_drafts",resumeLink:o.createElement(Ue.b,{className:"ksr-green-500 text-underline spec-resume-update",to:r.b.EDIT_CREATOR_INTERVIEW.url(e,t,Object(a.a)(n))},Object(E.b)("new_creator_interview.Resume_your_update"))})})}):null}render(){return o.createElement(o.Fragment,null,this.props.interviewIdForActivePrompt?this.renderExistingInterview():this.renderNewInterview())}}const kt=Object(w.a)(ft,K,R.b)(_t);class Et extends o.Component{render(){const{projectId:e,projectSlug:t,projectCreator:n,onCreateFreeformPost:a}=this.props;return o.createElement(ct,{asyncOperation:()=>a({projectId:e}),dependencies:[e],defaultValue:{}},({value:e,error:a,isPending:i})=>i?o.createElement(R.a,null):o.createElement(o.Fragment,null,Boolean(a)?o.createElement(Re,{leftCol:()=>o.createElement(ut.b,{primaryText:Object(E.b)("new_project_update.Updates_are_disabled"),secondaryText:Object(E.b)("new_project_update.This_project_is_hidden_suspended")})}):o.createElement(ot,{id:e.data.createFreeformPost.post.id,projectSlug:t,projectCreator:n})))}}const vt=tt(Et),yt=e=>{const{creatorSlug:t,projectSlug:n,formType:a}=e,i=((e,t)=>({freeform:{url:r.b.NEW_FREEFORM_POST.url(e,t),header:Object(E.b)("project_updates.Freeform"),subtitle:Object(E.b)("project_updates.Your_story_your_way"),icon:"icon--update-freeform-round",classes:"spec-new-freeform-link"},interview:{url:r.b.NEW_CREATOR_INTERVIEW.url(e,t),header:Object(E.b)("project_updates.QA"),subtitle:Object(E.b)("project_updates.Follow_our_lead"),icon:"icon--update-qa-round",classes:"spec-new-interview-link"}}))(t,n)[a],[s,l,c,d,u]=[i.header,i.subtitle,i.url,i.icon,i.classes],m=location.href.includes("posts/"+a),p=m?"fill-ksr-green-500":"fill-soft-black";return o.createElement(Ue.b,{className:Object(ve.a)("p3 w50p soft-black radius2px border block keyboard-focusable",m?"border-soft-black bg-grey-200":"border-grey-500",u),to:c},o.createElement("div",{className:"flex items-center"},o.createElement(S.a,{name:d,size:"48",atoms:[p,"mr1"]}),o.createElement("div",null,o.createElement("div",{className:"bold type-16 mt1",style:{lineHeight:"1.6rem"}},s),o.createElement("div",{className:"soft-black_50 type-14"},l))))},St=()=>o.createElement(o.Fragment,null,o.createElement(E.a,{atoms:["type-14","dark-grey-500"],i18nKey:"project_updates.Build_trust_with_your_backers",link:o.createElement(le.a,{color:"green",target:"_blank",href:"https://help.kickstarter.com/hc/en-us/articles/115005138733-What-are-project-updates-"},Object(E.b)("project_updates.Learn_about_project_updates"))})," ",o.createElement(E.a,{atoms:["type-14","dark-grey-500","bold"],i18nKey:"project_updates.Never_include_your_backers’s_names_addresses_and_other_personal_details_in_your_updates"})),Ot=()=>o.createElement(E.a,{atoms:["type-14","dark-grey-500"],i18nKey:"project_updates.Share_your_creative_process",refreshLink:o.createElement(le.a,{color:"green",target:"_blank",href:"https://help.kickstarter.com/hc/en-us/articles/360022352634"},Object(E.b)("project_updates.Well_refresh_these_questions"))}),Nt=e=>{const{creatorSlug:t,projectSlug:n}=e;return o.createElement(Re,{leftCol:()=>o.createElement("div",{className:"mb7"},o.createElement(o.Fragment,null,o.createElement("div",{className:"bold mb3"},Object(E.b)("project_updates.Choose_an_update_style")),o.createElement("div",{className:"flex items-center mb3"},o.createElement(yt,{creatorSlug:t,projectSlug:n,formType:"freeform"}),o.createElement("div",{className:"pr2"}),o.createElement(yt,{creatorSlug:t,projectSlug:n,formType:"interview"})),e.postType===F.a.CreatorInterview&&o.createElement(Ot,null)),e.postType===F.a.FreeformPost&&o.createElement(St,null))})},Ct=e=>o.createElement("div",{className:"grid-container py3"},o.createElement("header",null,o.createElement("h2",{className:"type-21 pb2 mb0"},Object(E.b)("project_updates.New_update")),o.createElement(Nt,{creatorSlug:e.projectCreator,projectSlug:e.projectSlug,postType:e.postType})),o.createElement(l.e,null,o.createElement(l.c,{exact:!0,path:r.b.NEW_FREEFORM_POST.path,render:()=>o.createElement(vt,{projectId:e.projectId,projectSlug:e.projectSlug,projectCreator:e.projectCreator})}),o.createElement(l.c,{exact:!0,path:r.b.NEW_CREATOR_INTERVIEW.path,render:()=>o.createElement(kt,{projectId:e.projectId,projectSlug:e.projectSlug,projectCreator:e.projectCreator})})));var jt=n("qPAc"),wt=n("d5To");const It=e=>o.createElement(wt.a,{commentableId:e.commentableId,initialCommentId:e.commentId,nextCursor:e.commentCursor,previousCursor:null,first:25,last:null,config:{...jt.a}});var Tt=n("YEan"),At=n("lX80"),Dt=n("f/gE"),Pt=n("2UXI"),Rt=n("fOlt"),Ft=n("7Rpo"),Lt=n("KsYZ"),Mt=n("2Lb1"),xt=n("2NEC");class Ut extends o.Component{constructor(...e){super(...e),this.state={isPublishing:!1},this.onPublish=async()=>{const{id:e,type:t}=this.props;await this.setState({isPublishing:!0}),await this.props.onPublishPost({id:Object(a.b)(t,e)}),await Object(Pt.b)("Update Published"),await this.setState({isPublishing:!1}),window.location.href=r.b.VIEW_POST.url(this.props.projectCreator,this.props.projectSlug,this.props.id)}}render(){const e=Object(he.b)(this.props.projectCreator,this.props.projectSlug,this.props.type,this.props.id);return o.createElement(o.Fragment,null,o.createElement(c.a,null,o.createElement(Dt.a,null,o.createElement(At.a,{mdWidth:9,center:!0},o.createElement("div",{className:"px6-md"},!window.isIPhoneRequest&&o.createElement("div",{className:"bg-cobalt-600 white flex justify-between items-center p1 pl2 mt3 mb6"},Object(E.b)("project_updates.Preview_mode"),o.createElement(Ue.b,{to:e},o.createElement(Le.b,{theme:"trust","data-testid":"Edit post update"},o.createElement(S.a,{name:"pencil",size:"16"}),o.createElement("span",{className:"ml1"},Object(E.b)("project_update.Edit"))))),o.createElement(Mt.a,{header:o.createElement(xt.a,{title:this.props.title,sequence:this.props.sequence,publishedAt:this.props.publishedAt,authorAvatarUrl:this.props.authorAvatarUrl,authorName:this.props.authorName,authorRole:this.props.authorRole,isPublic:this.props.isPublic}),body:o.createElement(o.Fragment,null,this.props.type===i.a.CreatorInterview&&o.createElement(Ft.b,{id:this.props.id}),this.props.type===i.a.FreeformPost&&o.createElement(Lt.b,{id:this.props.id}))}))))),!window.isIPhoneRequest&&o.createElement(Fe,null,o.createElement("div",{className:"flex items-center justify-between w100p"},this.props.canDelete&&o.createElement(Ve,{buttonText:Object(E.b)("project_updates.Delete_draft"),onDelete:()=>this.props.onDeletePost({id:Object(a.b)(this.props.type,this.props.id)}),onComplete:()=>{window.location.href=r.a.DRAFT_POSTS.url(this.props.projectCreator,this.props.projectSlug)}}),o.createElement("div",{className:"flex flex1 items-center justify-end"},o.createElement("span",{className:"flex1"}),o.createElement(Ge,{editUrl:e}),!this.props.isPublished&&o.createElement(qe,{formType:"freeform",onPublish:this.onPublish})))))}}const Vt=Object(w.a)(Rt.a,re.c,Object(P.a)(()=>({primaryText:Object(E.b)("new_project_update.Were_having_trouble_loading"),secondaryText:Object(E.b)("new_project_update.If_refreshing_this_page")})),R.b)(Ut);var Bt=n("atOr");const Ht=e=>{const t=(e.params.postId||"").match(/\d+/);return t?t[0]:""},Yt=e=>o.createElement(l.e,null,o.createElement(l.c,{exact:!0,path:r.b.VIEW_POST.path,render:({match:t})=>o.createElement(Bt.a,{id:Ht(t),projectSlug:t.params.projectSlug||"",projectCreator:t.params.projectCreator||"",commentableId:e.commentableId,commentCursor:e.commentCursor,commentId:e.commentId})}),o.createElement(l.c,{exact:!0,path:r.b.POST_COMMENTS.path,component:()=>o.createElement(It,{commentableId:e.commentableId,commentCursor:e.commentCursor,commentId:e.commentId})}),o.createElement(l.c,{exact:!0,path:r.b.PREVIEW_POST.path,render:({match:e})=>o.createElement(Vt,{id:Ht(e),projectSlug:e.params.projectSlug||"",projectCreator:e.params.projectCreator||""})}),o.createElement(l.c,{exact:!0,path:r.b.EDIT_FREEFORM_POST.path,render:({match:e})=>o.createElement(st,{id:Object(a.b)("FreeformPost",e.params.postId||""),projectSlug:e.params.projectSlug||"",projectCreator:e.params.projectCreator||""})}),o.createElement(l.c,{exact:!0,path:r.b.EDIT_CREATOR_INTERVIEW.path,render:({match:e})=>o.createElement(Ze,{id:Object(a.b)("CreatorInterview",e.params.postId||""),projectSlug:e.params.projectSlug||"",projectCreator:e.params.projectCreator||""})}),[{path:r.b.NEW_FREEFORM_POST.path,type:i.a.FreeformPost},{path:r.b.NEW_CREATOR_INTERVIEW.path,type:i.a.CreatorInterview}].map(({path:t,type:n})=>o.createElement(l.c,{key:n,path:t,render:({match:t})=>o.createElement(Ct,{projectId:e.projectId,projectSlug:t.params.projectSlug||"",projectCreator:t.params.projectCreator||"",postType:n})})),o.createElement(l.c,{exact:!0,path:r.b.POSTS_FEED.path,render:({match:e})=>o.createElement(Tt.b,{projectSlug:e.params.projectSlug||"",projectCreator:e.params.projectCreator||""})}),o.createElement(l.c,{exact:!0,path:r.b.PROJECT_PAGE.path,render:({match:e})=>o.createElement(Tt.b,{projectSlug:e.params.projectSlug||"",projectCreator:e.params.projectCreator||""})}),o.createElement(l.c,{path:r.a.POSTS_DASHBOARD.path,component:k}),o.createElement(l.c,{component:()=>o.createElement("h1",null,"not found")}))},jvji:function(e,t,n){"use strict";t.a='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M17.6566 6.3421C17.266 5.95158 16.6329 5.95158 16.2423 6.3421L11.9993 10.5852L7.75691 6.34285C7.36639 5.95232 6.73322 5.95232 6.3427 6.34285C5.95217 6.73337 5.95217 7.36654 6.3427 7.75706L10.585 11.9994L6.34285 16.2416C5.95232 16.6321 5.95232 17.2653 6.34285 17.6558C6.73337 18.0463 7.36654 18.0463 7.75706 17.6558L11.9993 13.4136L16.2422 17.6566C16.6327 18.0471 17.2659 18.0471 17.6564 17.6566C18.0469 17.266 18.0469 16.6329 17.6564 16.2423L13.4135 11.9994L17.6566 7.75632C18.0471 7.36579 18.0471 6.73263 17.6566 6.3421Z" fill="#3C3C3C"/>\n</svg>\n'},kKlT:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return m}));var a=n("ijK7"),i=n("bvYH"),r=n("n+nq"),o=n("94td");const s=e=>{try{const t=new URL(e);return new RegExp(/\.[A-za-z]/,"i").test(e)&&-1===t.hostname.indexOf("..")&&("https:"===t.protocol||"http:"===t.protocol)}catch(e){return!1}},l=(e="")=>{const t=e.trim();return new RegExp(/^[A-za-z0-9]+:\/\//,"i").test(t)?t:"http://"+t},c=Object(o.b)("library.ksr_json.Sorry_something_went_wrong_Weve_been_notified_and_are_looking"),d=e=>{const t=new URL("https://doesntmatter.com");return t.searchParams.append("data[data-href]",e),fetch("/templates/oembed"+t.search,{method:"GET",credentials:"same-origin",headers:{"X-CSRF-Token":Object(r.b)(document)}}).then(e=>200===e.status?Promise.resolve(e):Promise.reject(c)).then(e=>e.text()).then(u)},u=e=>{const t=document.createElement("div");t.innerHTML=e;const n=t.firstElementChild;return"template oembed"===(null==n?void 0:n.className)&&n.firstElementChild?Promise.resolve(e):Promise.reject(Object(o.b)("rich_editor.There_was_a_problem_embedding")).catch(e=>e)},m=(e,t,n,r)=>{const o=Object(a.d)(t,"LINK");r&&"function"==typeof r.editorToolClicked&&r.editorToolClicked("link"),o.length>1||(1===o.length?(n("LINK"),e(Object(i.t)(Object(a.e)(t,o[0]),o[0].entity.getData().url))):(n("LINK"),e(Object(i.t)(Object(a.f)(t)))))}},kZzg:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e=document)=>!!e&&Boolean(e.getElementById("admin-nav"))},l7kV:function(e,t,n){"use strict";t.a=e=>{var t,n,a;class i extends HTMLElement{}return null===(t=window)||void 0===t||null===(n=t.customElements)||void 0===n||null===(a=n.define)||void 0===a||a.call(n,e,i),e}},lHf8:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("9mow"),i=n("/IHD"),r=n("q1tI"),o=n.n(r);const s=e=>{const{atoms:t,color:n="blue",...r}=e,s=Object(i.a)(t,"link-"+n);return o.a.createElement(a.a,Object.assign({className:s},r))}},lM4U:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n("Puqe"),i=n.n(a),r=n("c5x8"),o=n("lPcU"),s=n("q1tI"),l=n.n(s),c=n("ZT9a");function d({onSubmit:e,...t}){const{triggerProps:n,dialogProps:a,modalProps:s,formProps:u,...m}=function({atoms:e,role:t="dialog",title:n,content:a,footer:o,actions:s,isDismissable:l=!0,validationErrors:c,action:d,encType:u,method:m,target:p,onSubmit:b,onReset:h,autoComplete:f,autoCapitalize:g,..._}){const{children:k,isOpen:E,defaultOpen:v,onOpenChange:y,onClose:S}=_,O={children:k,isOpen:E,defaultOpen:v,onOpenChange:y,onClose:S},N={className:Object(r.a)(e,"kds-dialog__form"),action:d,method:m,onSubmit:b,onReset:h,encType:u,target:p,validationErrors:c,autoComplete:f,autoCapitalize:g},C={isDismissable:l,onClose:S},j=i()(_,[...Object.keys(O),...Object.keys(N),...Object.keys(C),t]);return{title:n,content:a,footer:o,actions:s,triggerProps:O,modalProps:C,formProps:N,dialogProps:j}}(t),{title:p,content:b,actions:h,footer:f}=m,{children:g}=n;if(void 0!==t.children){const{children:a,...i}=t;return l.a.createElement(o.a.Trigger,n,"string"==typeof g?l.a.createElement(o.a.TriggerButton,null,g):g,l.a.createElement(o.a.Modal,s,l.a.createElement(d,Object.assign({onSubmit:e},i))))}return l.a.createElement(o.a,Object(c.a)(a,{className:"max-w100"}),n=>l.a.createElement(o.a.Form,Object(c.a)(u,{onSubmit:t=>{null==e||e(t,n)}}),l.a.createElement(o.a.Header,{onClose:n.close,hideCloseButton:t.hideCloseButton},p),l.a.createElement(o.a.Content,null,"function"==typeof b?b(n):b),l.a.createElement(o.a.Footer,{actions:"function"==typeof h?h(n):h},"function"==typeof f?f(n):f)))}},"lO+I":function(e,t,n){"use strict";n.d(t,"a",(function(){return N})),n.d(t,"b",(function(){return C}));var a=n("QkVN"),i=n.n(a),r=n("eRnh"),o=n("e6Id"),s=n("3VMK"),l=n("0b9T"),c=n("vq2Z"),d=n("AKNS"),u=n("JB1x"),m=n("UBRI"),p=n("V+TD"),b=n("GzUu"),h=n("vEG9"),f=n("94td"),g=n("Z0n9"),_=n("EJsP"),k=n("sQfD");class E extends k.a{constructor(...e){super(...e),this.isEnabled=!0}refresh(){const e=this.editor.model.document.selection.getSelectedElement();this.value=null==e?void 0:e.getAttribute("anchor")}execute(e){const t=this.editor.model;t.change(n=>{const a=t.document.selection.getSelectedElement();if(a)return n.setAttribute("anchor",e,a)})}}class v extends h.t{constructor(e){super(e),this.inputView=void 0;this.inputView=new h.m(this.locale,h.B),this.inputView.label=Object(f.b)("project_build_editor.ckeditor.Section_heading_text"),this.inputView.render();const t=this.createButton(Object(f.b)("project_build_editor.ckeditor.Save"),k.j.check,"submit"),n=this.createButton(Object(f.b)("project_build_editor.ckeditor.Cancel"),k.j.cancel,"cancel"),a=this.createButton(Object(f.b)("project_build_editor.ckeditor.Delete"),k.j.eraser,"delete");this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"]},children:[this.inputView,t,n,a]})}createButton(e,t,n){const a=new h.d(this.locale);return a.set({label:e,icon:t,tooltip:!0}),a.delegate("execute").to(this,n),a}focus(){this.inputView.focus()}}class y extends _.a{constructor(...e){super(...e),this.balloon=void 0,this.formView=void 0,this.command=void 0}static get requires(){return[h.e]}init(){this.editor.commands.add("anchor",new E(this.editor)),this.command=this.editor.commands.get("anchor"),this.balloon=this.editor.plugins.get(h.e),this.createForm(),this.createButton(),this.registerSchemaChanges()}registerSchemaChanges(){const e=this.editor.conversion;this.editor.model.schema.extend("imageBlock",{allowAttributes:["anchor"]}),e.for("downcast").attributeToAttribute({model:"anchor",view:"data-anchor"}),e.for("upcast").attributeToAttribute({model:"anchor",view:"data-anchor"})}createForm(){var e,t;const n=new v(this.editor.locale),a=null===(e=this.balloon)||void 0===e||null===(t=e.view)||void 0===t?void 0:t.element;a&&Object(h.y)({emitter:n,activator:()=>void 0!==this.balloon&&this.balloon.visibleView===n,contextElements:[a],callback:()=>this.hideUI()}),this.formView=n,this.listenTo(this.formView,"cancel",()=>{this.hideUI()}),this.listenTo(this.formView,"submit",()=>{var e,t,n;this.hideUI();const a=null===(e=this.formView)||void 0===e||null===(t=e.inputView)||void 0===t||null===(n=t.fieldView)||void 0===n?void 0:n.element;var i;a&&(null===(i=this.command)||void 0===i||i.execute(a.value))}),this.listenTo(this.formView,"delete",()=>{var e;this.hideUI(),null===(e=this.command)||void 0===e||e.execute("")})}getBalloonPositionData(){const e=this.editor.editing.view;let t=null;const n=e.document.selection.getFirstRange();return n&&(t=()=>e.domConverter.viewRangeToDom(n)),{target:t}}showUI(){var e,t,n,a;const i=this.editor.commands.get("anchor"),r=null===(e=this.formView)||void 0===e||null===(t=e.inputView)||void 0===t||null===(n=t.fieldView)||void 0===n?void 0:n.element;var o;(r&&(r.value=(null==i?void 0:i.value)||""),this.formView)&&(null===(o=this.balloon)||void 0===o||o.add({view:this.formView,position:this.getBalloonPositionData()}));null===(a=this.formView)||void 0===a||a.focus()}hideUI(){var e;this.formView&&(null===(e=this.balloon)||void 0===e||e.remove(this.formView));this.editor.editing.view.focus()}createButton(){const e=this.editor,t=e.commands.get("anchor");e.ui.componentFactory.add("imageAnchor",e=>{const n=new h.d(e);return n.set({label:Object(f.b)("project_build_editor.ckeditor.Use_image_as_section_heading"),tooltip:!0,isToggleable:!0,icon:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><use href="#icon--header-anchor"></use></svg>'}),n.on("execute",()=>{this.showUI()}),n.bind("isOn").to(t,"value"),n})}}const S=[r.a,h.c,o.a,s.a,l.a,c.a,d.a,d.b,d.e,d.d,d.f,d.g,u.a,u.b,o.b,m.a,b.a,p.a,g.b,g.a],O=["linkImage","toggleImageCaption","imageTextAlternative"],N=e=>{const{showAnchors:t=!1,uploadAdapterConfig:n,editorConfig:a={}}=e;return i()({licenseKey:window.CKEDITOR_LICENSE_KEY,placeholder:(null==a?void 0:a.placeholder)||Object(f.b)("project_build_editor.sections.project_description.Use_text_images_videos_and_audio"),plugins:[...S,...t?[y]:[]],toolbar:["bold","italic","link"],blockToolbar:["heading","|","uploadImage","mediaEmbed","|","bulletedList"],mediaEmbed:{elementName:"div",providers:[{name:"embedly",url:/embed.ly|bandcamp.com|twitch.tv|flickr.com|flic.kr|www.scribd.com|soundcloud.com|snd.sc|spotify.com|sketchfab.com|twitter.com|t.co|vimeo.com|youtube.com|youtu.be|audiomack.com/,html:e=>`<a href="${e.input}" class="embedly-card" data-card-key="${window.embedlyApiKey}" data-card-controls="0" data-card-width="100%"></a>`}]},image:{toolbar:[...O,...t?["imageAnchor"]:[]],insert:{type:"block",integrations:[]}},heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h3",title:"Heading",class:"ck-heading_heading1"},{model:"heading2",view:"h4",title:"Subheading",class:"ck-heading_heading2"}]},htmlSupport:{allow:[{name:/(div|figure|img)/,attributes:["data-caption","data-alt-text","data-id"],classes:!0,styles:!0}]},s3Upload:n},a)},C=({plugins:e,configOverride:t,editorConfig:n,uploadAdapterConfig:a})=>({...N({showAnchors:!0,editorConfig:n,uploadAdapterConfig:a}),plugins:e,...t})},lPcU:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n("iuhU"),i=n("ObC8"),r=n("sezs"),o=n("dPds"),s=n("9jZ4"),l=n("q1tI"),c=n.n(l),d=n("ZT9a"),u=n("FFUp"),m=n("evi+"),p=n("Xa46"),b=n("50D0"),h=n("3gWT");function f({onClose:e}){const t=Object(l.useRef)(void 0),n=Object(l.useCallback)(n=>{n||(null==e||e(t.current),t.current=void 0)},[e]);return{getCloseHandler:Object(l.useCallback)(e=>n=>{t.current=n,e()},[t]),onOpenChange:n}}const g=({children:e,size:t="hug",...n})=>{const{getCloseHandler:i,onOpenChange:r}=f(n);return c.a.createElement("div",{className:Object(a.b)("kds-@container/kds-dialog","kds-grid kds-content-center kds-justify-items-center")},c.a.createElement(u.a,Object(d.a)(n,{className:Object(a.b)("kds-dialog",_[t],"hug"!==t&&"kds-@container",Object(o.b)("BodyMD")),onOpenChange:r}),t=>{const n=i(t.close);return"function"==typeof e?e({close:n}):e}))},_={hug:Object(a.b)(""),sm:Object(a.b)("kds-w-[min(100%,50.725ch)]"),md:Object(a.b)("kds-w-[min(100%,63.407ch)]"),lg:Object(a.b)("kds-w-[min(100%,768px)]"),xl:Object(a.b)("kds-w-[min(100%,101.45ch)]"),fill:Object(a.b)("kds-w-full kds-h-[min(100%,100cqb)]"),fullscreen:Object(a.b)("kds-w-[100cqi] kds-h-[100cqb]")};g.Trigger=u.c,g.TriggerButton=m.a,g.PrimaryButton=i.a.Filled,g.SecondaryButton=i.a.Outlined,g.Link=i.a.AsLink,g.Header=({children:e,onClose:t,hideCloseButton:n,...a})=>{const i=Object(l.useContext)(u.b);return c.a.createElement("header",Object(d.a)(a,{className:"kds-dialog__header"}),c.a.createElement(o.a.HeadingLG,{as:p.a,className:"kds-dialog__title",slot:"title"},e),(i||t)&&!n&&c.a.createElement(m.a,{slot:i?"close":void 0,className:"kds-dialog__close","aria-label":"Dismiss dialog",onPress:t},c.a.createElement(r.a,{name:"icon--close"})))},g.Content=e=>c.a.createElement("div",Object(d.a)(e,{className:"kds-dialog__content"})),g.Footer=({actions:e,children:t,...n})=>Object(s.d)(t)&&Object(s.d)(e)?null:c.a.createElement(o.a.BodySM,Object.assign({as:"footer"},Object(d.a)(n,{className:Object(a.b)("kds-dialog__footer kds-flex-col kds-text-secondary","kds-justify-start kds-items-center","sm:kds-flex-row sm:kds-justify-between sm:kds-items-baseline")})),"string"==typeof t||"number"==typeof t?c.a.createElement("div",null,t):t,e&&c.a.createElement("span",{className:Object(a.b)("kds-dialog__actions kds-min-w-fit","kds-flex kds-flex-col kds-self-stretch kds-justify-self-end","sm:kds-flex-row sm:kds-self-auto sm:kds-ms-auto")},e)),g.Modal=({children:e,className:t,...n})=>{const{getCloseHandler:i,onOpenChange:r}=f(n);return c.a.createElement(b.b,Object.assign({isDismissable:!0},Object(d.a)(n,{className:"kds-modal__overlay",onOpenChange:r})),c.a.createElement(b.a,{className:Object(a.b)("kds-modal",t)},t=>"function"==typeof e?e({...t,close:i(t.state.close)}):e))},g.Form=e=>c.a.createElement(h.a,Object(d.a)(e,{className:"kds-dialog__form"}),e.children)},lX80:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("/IHD"),i=n("q1tI"),r=n("n6RG");const o={float:{className:"grid-col",separator:"-"},flex:{className:"flex-col",separator:"--"}};function s({as:e,children:t,atoms:n=[],width:s,smWidth:l,mdWidth:c,lgWidth:d,offset:u,smOffset:m,mdOffset:p,lgOffset:b,center:h=!1,style:f,layout:g,..._}){const k=null!=g?g:"float",E=null!=s?s:"float"===k?12:void 0,v=o[k],y=Object(r.c)(v),S=Object(r.b)([E,l,c,d]),O=Object(r.b)([u,m,p,b],!0),N=Object(a.a)(..."float"===k?[]:[y()],...S.map(y),...O.map(y),n,h?y(["center"]):""),C=null!=e?e:"div";return i.createElement(C,Object.assign({className:N,style:f},_),t)}},lutk:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var a=n("gN63");const i=(e,t)=>n=>{const i={id:e,attachableAssoc:t,...n};return Object(a.c)("\n  mutation($input: CreateAssetInput!) {\n    upload: createAsset(input: $input) {\n      image: asset {\n        ... on Photo {\n          id\n        }\n      }\n    }\n  }\n",{input:i})},r=e=>t=>{const n={attachable_id:e,asset_id:t};return Object(a.c)("\n  mutation($input: DeleteAssetInput!) {\n    deleteAsset(input: $input) {\n      clientMutationId\n    }\n  }\n",{input:n})}},mEsB:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n("EHMl"),i=n("i8i4");const r=e=>void 0!==window&&window.document?Object(i.createPortal)(e,document.body):e;var o=n("TP7S"),s=n.n(o),l=n("q1tI"),c=n.n(l),d=n("KFoM"),u=n("rJga"),m=n("9P9J"),p=n("N83F");var b=function(e){return e.top="bottom",e.bottom="top",e.left="right",e.right="left",e}(b||{});const h=({children:e,placement:t="bottom",label:n,labelClasses:i,labelKey:o,ariaLabel:h,open:f,style:g,focusWithin:_=!1,hideArrow:k,onFocus:E,onBlur:v,onTouchStart:y,onMouseEnter:S,onMouseLeave:O})=>{const[N,C]=Object(l.useState)(!1),j=s()(f)?N:f,w=`${t}-${k}-${o||n}`;return c.a.createElement(d.c,{key:w},c.a.createElement(u.a,null,({ref:t})=>c.a.cloneElement(e,{ref:t,onTouchStart:()=>{C(!0),null==y||y()},onFocus:()=>{C(!0),null==E||E()},onBlur:()=>{C(!1),null==v||v()},onMouseEnter:()=>{C(!0),null==S||S()},onMouseLeave:()=>{C(!1),null==O||O()},tabIndex:_?-1:0})),r(c.a.createElement(m.a,{placement:t,modifiers:{offset:{offset:"0, 10"},preventOverflow:{boundariesElement:"viewport"}}},({ref:e,style:t,placement:r,arrowProps:o})=>{const s=b[r];return c.a.createElement("div",{style:{maxWidth:"272px",zIndex:130,...t}},c.a.createElement(p.a,{open:j,duration:200,direction:s,start:"10%",easing:"ease-in-out"},c.a.createElement("div",{ref:e,"data-test-id":"popper-tooltip","data-placement":r,"aria-label":h,className:i||"pointer-events-none bg-black white border-none p2 m0",style:g},n,!k&&c.a.createElement(a.a,{"data-test-id":"popper-arrow",hex:"#000",size:"10px",direction:s,ref:o.ref,style:o.style}))))})))}},mm3F:function(e,t,n){"use strict";n.r(t),n.d(t,"closeDeleteAssetModal",(function(){return a})),n.d(t,"deleteAsset",(function(){return i})),n.d(t,"fileDragEnded",(function(){return r})),n.d(t,"fileDragStarted",(function(){return o})),n.d(t,"hydrateAsset",(function(){return s})),n.d(t,"noopAction",(function(){return l})),n.d(t,"openDeleteAssetModal",(function(){return c})),n.d(t,"reloadAsset",(function(){return d})),n.d(t,"setImageAssetWidth",(function(){return u})),n.d(t,"updateUploadProgress",(function(){return m})),n.d(t,"uploadInitialize",(function(){return p})),n.d(t,"uploadProcessingStart",(function(){return b})),n.d(t,"uploadSuccess",(function(){return h})),n.d(t,"uploadFileFailure",(function(){return f})),n.d(t,"uploadFileStart",(function(){return g})),n.d(t,"uploadFileSuccess",(function(){return _})),n.d(t,"uploadReset",(function(){return k}));const a=()=>({type:"CLOSE_DELETE_ASSET_MODAL"}),i=()=>({type:"DELETE_ASSET"}),r=()=>({type:"FILE_DRAG_ENDED"}),o=()=>({type:"FILE_DRAG_STARTED"}),s=(e,t)=>({type:"HYDRATE_ASSET",asset:e,currentDate:t}),l=()=>({type:"NOOP"}),c=()=>({type:"OPEN_DELETE_ASSET_MODAL"}),d=e=>({type:"RELOAD_ASSET",assetId:e}),u=e=>({type:"SET_IMAGE_ASSET_WIDTH",width:e}),m=e=>({type:"UPDATE_UPLOAD_PROGRESS",progress:e}),p=e=>({type:"UPLOAD_INITIALIZE",effects:e}),b=(e,t)=>({type:"UPLOAD_PROCESSING_START",assetId:e,uploadedAt:t}),h=e=>({type:"UPLOAD_SUCCESS",asset:e}),f=()=>({type:"UPLOAD_FILE_FAILURE"}),g=(e,t,n)=>({type:"UPLOAD_FILE_START",file:e,dispatch:t,uploadLimit:n}),_=e=>({type:"UPLOAD_FILE_SUCCESS",s3Params:e}),k=()=>({type:"UPLOAD_RESET"})},mq2H:function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return p})),n.d(t,"a",(function(){return b})),n.d(t,"c",(function(){return h})),n.d(t,"e",(function(){return f})),n.d(t,"m",(function(){return g})),n.d(t,"g",(function(){return _})),n.d(t,"k",(function(){return k})),n.d(t,"i",(function(){return E})),n.d(t,"j",(function(){return v})),n.d(t,"h",(function(){return y})),n.d(t,"l",(function(){return S})),n.d(t,"b",(function(){return O})),n.d(t,"o",(function(){return N})),n.d(t,"n",(function(){return C})),n.d(t,"f",(function(){return j})),n.d(t,"p",(function(){return w}));var a=n("tr1H"),i=n("I8LL"),r=n("Xl3R"),o=n("y2df"),s=n("2A98"),l=n("uoVB"),c=n("v+Hr"),d=n("X5dd"),u=n("pj8f"),m=n("NxQb");const p=o.a,b=c.b,h=r.a,f=s.a,g=i.a,_=(c.e,l.a),k=(l.b,d.b),E=d.d,v=d.e,y=d.c,S=d.a,O=d.f,N=(e="",t)=>{const n=Object(c.c)(e),a=(Object(c.d)(window.location),{context_type:t,context_location:n});"discovery"===n?C(p.CTA_CLICKED,{context_cta:h.PROJECT,context_location:"discover_advanced",context_type:c.b.RESULTS}):-1!==["homepage-recommendations","thanks-recommendations","section-recommendations"].indexOf(n)?C(p.CTA_CLICKED,{context_cta:h.PROJECT,context_section:Object(c.f)(e),context_location:"curated",context_type:c.b.RECOMMENDED}):"quick_search_overlay"===n?C(p.CTA_CLICKED,{context_cta:h.PROJECT,context_location:"quick_search_overlay",context_type:c.b.RESULTS}):"discover_advanced"===n?C(p.CARD_CLICKED,a,k()):C(p.CARD_CLICKED,a)};function C(t,n,i){var r;if(!Object(m.a)("segment_tracking_events"))return!1;if(!window.analytics)return!1;const s=j();n.context_cta===h.PROJECT&&I(s,"project"),n.context_cta===h.WATCH_PROJECT&&I(s,"project"),n.context_cta===h.BANNER&&(I(s,"project"),I(s,"checkout"),I(s,"discover")),n.context_cta===h.BUILD&&I(s,"project",["project_pid","project_category","project_subcategory","project_creator_uid","project_is_repeat_creator","project_country"]),n.context_section||delete n.context_section;const l=t===o.a.PAGE_VIEWED?n.context_page:Object(c.d)(window.location);if("other"===l){const e='Segment event fired with "other" context_page property for event: #{eventName} and pathname: #{currentPathName}';u.Honeybadger.notify(e,{context:{tags:a.a.EVENTS_CLEANUP}})}const d={...s,context:{context_page:l,...s.context,...n},custom:i};"section"===(null==d||null===(r=d.context)||void 0===r?void 0:r.context_cta)&&(null==d||delete d.custom,null==d||delete d.discover);const p=Object.assign({},...Object.values(d).map(e=>e));try{return e(()=>{window.analytics.track(t,p,{context:{library:{name:window.segment_platform}}})}),!0}catch(e){return console.error("Tracking Request failed",e),u.Honeybadger.notify(e),!1}}function j(){const e=window.ksr_track_properties;return"discover"===Object(c.d)(window.location)&&w("discover",Object(d.b)()),e}function w(e,t){const n=window.ksr_track_properties[e];window.ksr_track_properties[e]={...n,...t}}function I(e,t,n){if(!n)return void delete e[t];const a=e[t];if(!a)return;const i=Object.keys(a).filter(e=>n.includes(e)).reduce((e,t)=>(e[t]=a[t],e),{});e[t]=i}}).call(this,n("URgk").setImmediate)},mv45:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"l",(function(){return o})),n.d(t,"h",(function(){return s})),n.d(t,"g",(function(){return l})),n.d(t,"i",(function(){return c})),n.d(t,"c",(function(){return d})),n.d(t,"k",(function(){return u})),n.d(t,"b",(function(){return m})),n.d(t,"j",(function(){return p})),n.d(t,"a",(function(){return b})),n.d(t,"e",(function(){return h})),n.d(t,"f",(function(){return f}));var a=n("DI+Y");const i=["variables","refetch","fetchMore","updateQuery","startPolling","stopPolling","subscribeToMore","loading","networkStatus","error","called"],r=e=>({status:"error",error:e}),o=e=>({status:"ready",...e}),s=e=>"loading"===e.status,l=e=>"error"===e.status,c=e=>"ready"===e.status,d=(e,t={})=>({props:t=>{const n=t.ownProps&&l(t.ownProps);if(!t.data||t.data.error||n)return t.data&&t.data.error?r(t.data.error):r();const a=t.ownProps&&s(t.ownProps),o=(c=t.data,Object.keys(c).length!==i.length);var c;return t.data.loading&&!o||a?{status:"loading"}:e(t)},options:{fetchPolicy:"cache-and-network",ssr:!1,...t}}),u=(e,t)=>n=>{const i=d(t);return Object(a.graphql)(e,i)(n)},m=e=>({props:t=>e(t)}),p=(e,t)=>n=>Object(a.graphql)(e,m(t))(n);function b(e,t,n,a,i,r,o,s){return l=>e(t(n?n(a?a(i?i(r?r(o?o(s?s(l):l):l):l):l):l):l))}const h=e=>{const t=f(e),n=t?{}:{general:e.message};return{...t,...n}},f=e=>e.graphQLErrors?e.graphQLErrors.map(({details:e})=>e?Object.keys(e).reduce((t,n)=>(t[n]=e[n].join(" "),t),{}):null)[0]:null},"n+nq":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));const a=e=>{const t=e.querySelector('meta[name="csrf-token"]');if(!t){const{Honeybadger:e}=n("pj8f");return e.notify("CSRF meta tag missing from page"),""}const a=t.getAttribute("content");if(!a){const{Honeybadger:e}=n("pj8f");return e.notify('CSRF meta tag did not have "content"'),""}return a},i=e=>({"X-CSRF-Token":a(e)})},n6RG:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o}));const a=["","sm","md","lg"],i={float:{className:"grid-container",separator:"-"},flex:{className:"flex-grid",separator:"--"}};function r(e){const{className:t,separator:n}=e;return(e=[])=>{const a=e.filter(e=>""!==e.toString()).join("-");return`${t}${a?`${n}${a}`:""}`}}function o(e,t=!1){return e.map((e,n)=>{if(void 0!==e)return t?["offset",e,a[n]]:[e,a[n]]}).filter(e=>void 0!==e)}},nU83:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return m}));var a=n("WjpJ"),i=n.n(a),r=n("pTxv"),o=n("94td"),s=n("q1tI"),l=n("iuhU"),c=n("ObC8"),d=n("/IHD");const u=e=>{const{size:t="large",theme:n="trust",atoms:a,...i}=e,o=[Object(d.a)("w100p mt4",a)];return s.createElement(r.b,Object.assign({size:t,theme:n,atoms:o},i))},m=e=>{const{renderNavigationButtons:t=!0,atoms:n}=e,a=e.currentPage===e.totalPages,i=1===e.currentPage;return s.createElement("div",{className:Object(l.b)("flex w100p",n),"aria-live":"polite"},s.createElement("div",{className:"flex flex2 order2 items-center justify-center"},s.createElement(p,{currentPage:e.currentPage,totalPages:e.totalPages})),t&&s.createElement(s.Fragment,null,s.createElement("div",{className:"flex flex2 order1 items-center"},!i&&s.createElement(c.a,{"data-test-id":"paginator-previous-page",onPress:()=>e.onPageChange(e.currentPage-1),icon:"icon--arrow-left","aria-label":Object(o.b)("modals.paginator.Previous_page")})),s.createElement("div",{className:"flex flex2 order3 justify-end"},s.createElement(c.a,{"data-test-id":a?"paginator-finish-page":"paginator-next-page",onPress:a?e.onFinish:()=>e.onPageChange(e.currentPage+1),icon:a?"icon--check":"icon--arrow-right","aria-label":a?Object(o.b)("modals.paginator.Finish"):Object(o.b)("modals.paginator.Next_page")}))))},p=({currentPage:e,totalPages:t})=>s.createElement("span",{"aria-label":Object(o.b)("modals.paginator.Page_n_of_m",{currentPage:e,totalPages:t})},i()(1,t+1).map(t=>s.createElement("span",{key:t,className:"lh4 py0 px1"},s.createElement("span",{className:"inline-block w1 h1 radius100p "+(t===e?"bg-navy-700":"bg-grey-500")}))))},o3IG:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return l}));var a=n("MgNI");const i=(e,t,n=null)=>[`${e}=${encodeURIComponent(t)}`,r(n),"path=/"].filter(e=>e).join("; "),r=e=>a.maybe.fromNullable(e).map(e=>"expires="+e.toGMTString()).getOrElse(null),o=e=>((e,t)=>t.split(/; */).map(e=>e.split("=")).reduce((t,[n,a])=>n==e?decodeURIComponent(a):t,null))(e,"undefined"==typeof document?"":document.cookie),s=(e,t,n)=>document.cookie=i(e,t||"",n?new Date(n):null),l=e=>document.cookie=(e=>i(e,"",new Date(0)))(e);"undefined"!=typeof window&&(window.read_cookie=o,window.write_cookie=s,window.destroy_cookie=l)},oMXI:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i}));const a=()=>!(!window.location||!window.location.hostname)&&/(ksr)\.test|localhost/.test(window.location.hostname),i=()=>!(!window.location||!window.location.hostname)&&/^(staging\.kickstarter\.com)$/.test(window.location.hostname),r=()=>!(!window.location||!window.location.hostname)&&/^(www\.kickstarter\.com)$/.test(window.location.hostname)},oa44:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("c5x8"),i=n("6zsG"),r=n("q1tI"),o=n.n(r);const s=({asChild:e,atoms:t,children:n,...r})=>{const s=e?i.a:"div";return o.a.createElement(s,Object.assign({},r,{className:Object(a.b)(["kds-surface",t],r)}),n)}},ocnG:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("q1tI"),i=n.n(a),r=n("dRu9");const o=(e={},t={})=>{const n={...e,...t},a=`${(e.transform||"").trim()} ${(t.transform||"").trim()}`.trim();return a?{...n,transform:a}:n},s=({open:e=!0,keepMounted:t=!1,duration:n=300,delay:s=0,easing:l="ease-in-out",transitionProperty:c="all",children:d,transitions:u,...m})=>{const p=n+s,b={transitionDuration:n+"ms",transitionDelay:s+"ms",transitionTimingFunction:l,transitionProperty:c},h=Object(a.useMemo)(()=>((...e)=>e.reduce((e,t)=>({entering:o(e.entering,t.entering),entered:o(e.entered,t.entered),exiting:o(e.exiting,t.exiting),exited:o(e.exited,t.exited)}),{}))(...u),u);return i.a.createElement(r.a,Object.assign({appear:!0,mountOnEnter:!t,unmountOnExit:!t},m,{in:e,timeout:p}),e=>{const t={...b,...h[e]};return"function"==typeof d?d(t):i.a.cloneElement(d,{style:{...t,...d.props.style}})})}},pTxv:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return m})),n.d(t,"f",(function(){return p})),n.d(t,"e",(function(){return b})),n.d(t,"a",(function(){return h}));var a=n("iuhU"),i=n("2DJ9"),r=n("9mow"),o=n("/IHD"),s=n("q1tI"),l=n.n(s);const c=e=>{const{atoms:t,children:n,fullWidth:a,iconName:s,iconClassName:c,iconLabel:d,kind:u,loading:m,size:p="medium",theme:b,type:h="button",...f}=e,g=Object(o.a)("ksr-button","bttn keyboard-focusable","bttn-"+p,u?"bttn-"+u:"",b?"theme--"+b:"",a&&"flex w100p",c,t),_=()=>l.a.createElement(l.a.Fragment,null,s&&l.a.createElement(i.a,{name:s,size:"20",atoms:[Object(o.a)("mr1")],label:d}),n);return l.a.createElement(r.a,Object.assign({className:g,type:h},f),m?l.a.createElement(i.a,{name:"icon--circle-loader",size:"20",atoms:[Object(o.a)("pb1px")]}):l.a.createElement(_,null))},d=e=>{const{atoms:t,...n}=e,a=[Object(o.a)(t,"fill-bttn-icon hover-fill-bttn-icon")];return l.a.createElement(c,Object.assign({kind:"primary",atoms:a},n))},u=e=>{const{atoms:t,...n}=e,a=[Object(o.a)(t,"fill-bttn-icon hover-fill-bttn-icon")];return l.a.createElement(c,Object.assign({kind:"secondary",atoms:a},n))},m=e=>{const{atoms:t,...n}=e,a=[Object(o.a)(t,"fill-bttn-icon hover-fill-bttn-icon")];return l.a.createElement(c,Object.assign({kind:"tertiary",atoms:a},n))},p=e=>{const{atoms:t,...n}=e,a=[Object(o.a)(t,"fill-bttn-icon hover-fill-bttn-icon")];return l.a.createElement(c,Object.assign({atoms:a},n))},b=e=>{const{atoms:t,...n}=e,i=[Object(a.b)("bg-transparent","navy-600","hover-text-underline",{"text-underline":e.underline},t)];return l.a.createElement(c,Object.assign({atoms:i,kind:"text"},n))},h=e=>{const{className:t,...n}=e,a=Object(o.a)("bttn keyboard-focusable",e.className);return l.a.createElement(r.a,Object.assign({className:a},n))}},pj8f:function(e,t,n){"use strict";let a;n.r(t),n.d(t,"Honeybadger",(function(){return a})),a="undefined"!=typeof document?n("dvPR").Honeybadger:()=>{}},poNw:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("mm3F");const i=e=>({activeDragCounter:0,asset:null,effects:{create:()=>Promise.resolve(Object(a.noopAction)()),read:()=>Promise.resolve(Object(a.noopAction)()),destroy:()=>Promise.resolve(Object(a.noopAction)()),onSuccess:()=>Promise.resolve(Object(a.noopAction)()),...e},errors:[],isDeleting:!1,isDisabled:!1,isShowingDeleteAssetModal:!1,progress:0,uploadedAt:null,uploaderStatus:"EMPTY",imageAssetWidth:null})},qAuv:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n("q1tI"),i=n.n(a);const r=600,o=900,s=1100,l=e=>.6*e+"rem",c=(e,t,n,a)=>{const i=[t&&"width: "+l(t),n&&"height: "+l(n)].filter(Boolean);if(0===i.length)return null;const r=`#${e}{${i.join(";")}}`;return a?`@media (min-width:${a}px){${r}}`:r},d={counter:0},u=({id:e="__size_"+ ++d.counter,width:t,smWidth:n,mdWidth:a,lgWidth:l,height:u,smHeight:m,mdHeight:p,lgHeight:b,children:h})=>{const f=[c(e,t,u),c(e,n,m,r),c(e,a,p,o),c(e,l,b,s)].filter(Boolean).join("\n");return i.a.createElement("div",{id:e},i.a.createElement("style",null,f),h)}},qPAc:function(e,t,n){"use strict";var a=n("94td");const i={pollUrlFactory:()=>null,submitButtonText:Object(a.b)("project_page.comments.Post_Comment"),placeholderText:Object(a.b)("project_page.comments.What_would_you"),showCommentsWithoutPledges:!1,showNonBackerMessage:!0,hideBackground:!1};t.a=i},qYa2:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return l}));var a=n("94td"),i=n("MTFr");const r=e=>!(!e.dataTransfer.types||-1===e.dataTransfer.types.indexOf("Files")),o=(e,t)=>{let n=[];return e.size>t.bytes&&(n=[...n,Object(a.b)("uploaders.This_file_is_too_big",{megabytes:t.megabytes})]),t.contentTypes.includes(e.type)||(n=[...n,Object(a.b)("uploaders.This_file_has_an_invalid_filetype")]),n},s=e=>({...i.g,...e}),l=(e,t,n,a,i,r,o)=>{const s=new XMLHttpRequest;s.open("POST",e),s.onload=()=>{204===s.status?r({s3Key:t,fileName:encodeURIComponent(n.name),contentType:n.type,updatedAt:(n.lastModifiedDate||new Date).getTime(),fileSize:n.size,previewUrl:URL.createObjectURL(n)}):i("Upload unsuccessful")},s.onerror=i,s.upload.onprogress=e=>{if(e.lengthComputable){const t=e.loaded/e.total*100;o(t)}},s.send(a)}},qcI4:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return m}));var a=n("xG9w"),i=n("itcf"),r=n("XLBa");let o=n("qtWx").a.extend();o.on_initialize((function(){this.data.id&&(this.constructor.records[this.data.id]=this)})),a.default.extend(o,{records:{},find:function(e){var t=this;return a.default.isArray(e)?a.default.compact(a.default.map(e,(function(e){return t.records[e]}))):this.records[e]},every:function(e){a.default.each(this.records,e),this.listen("new",(function(t){e.call(this,t.new)}))},has:function(e,t){if(void 0===this.prototype["has_"+e]){var n=t.through;this.prototype[e]=[],this.on_initialize((function(){this.on_change(e+"_fetched",(function(t){var i=t[e+"_fetched"]||[],r=this[e],o=a.default.compact(a.default.map(i,(function(e){if(e&&e.id&&!a.default.include(r,e.id))return new window[n](e).get("id")})));this["set_"+e](a.default.union(r,o))}))})),this.prototype["get_"+e]=function(){return window[n].find(this[e])},this.prototype["has_"+e]=function(t){return(t=i(t)).length&&0===Object(a.default)(this[e]).difference(t).length},this.prototype["add_"+e]=function(t){t=i(t),(t=Object(a.default)(t).difference(this[e])).length&&this["set_"+e](a.default.union(this[e],t))},this.prototype["remove_"+e]=function(t){t=i(t),(t=Object(a.default)(t).intersection(this[e])).length&&this["set_"+e](Object(a.default)(this[e]).difference(t))},this.prototype["set_"+e]=function(t){if(t=i(t),!a.default.isEqual(a.default.clone(t).sort(),a.default.clone(this[e]).sort())){this[e]=t;var n={};n[e]=t,this._broadcast(n)}}}function i(e){return"object"!=typeof e?e=[e]:e.get&&(e=[e.get("id")]),e}}});let s=o.extend(),l=o.extend(),c=o.extend(),d=o.extend(),u=o.extend(),m=o.extend();d.on_initialize((function(){"function"==typeof r.a&&this.on_change((function(){Object(r.a)("Project",this.get())}))})),d.has("creator",{through:"User"}),d.has("backers",{through:"User"}),d.set_computed_value("usd_pledged",(function(){return this.pledged*this.static_usd_rate}),{changes_on:["pledged"]}),d.set_computed_value("convert_pledged",(function(){return this.pledged*this.fx_rate}),{changes_on:["pledged"]}),u.has("created_projects",{through:"Project"}),u.has("backed_projects",{through:"Project"}),u.has("backings",{through:"Backing"}),u.prototype.api_url=function(e,t){var n=this.get("urls").api.user;if(n)return"string"==typeof e&&(n=n.replace(/([^\?]*)(.*)/,(function(t,n,a){return n+"/"+e+a}))),(t||void 0===t&&!0===e)&&api_oauth_token&&(n=Object(i.a)(n).replace(/http:/,"https:")),n},c.on_initialize((function(){"function"==typeof r.a&&this.on_change((function(){Object(r.a)("Comment",this.get())}))})),l.set_computed_value("net_amount",(function(){return this.amount-this.shipping_amount}),{changes_on:["shipping_amount","amount"]})},qn6j:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));let a=function(e){return e.INCREMENT="increment",e.GAUGE="gauge",e.TIME="time",e}({})},qtWx:function(e,t,n){"use strict";var a=n("xG9w"),i=n("+2Rf"),r=n.n(i);function o(){}o.prototype.initialize=function(){},o.extend=function(e){var t=function(){this.initialize.apply(this,arguments)};for(var n in this)this.hasOwnProperty(n)&&(t[n]=a.default.isFunction(this[n])?this[n]:a.default.clone(this[n]));function i(){this.constructor=t}return i.prototype=this.prototype,t.prototype=new i,t.__super__=this.prototype,e&&(t.prototype.initialize=e),t};var s=o.extend((function(e){var t=this,n=arguments;this.data={},e&&this.set(e),a.default.each(this.constructor.initializers,(function(e){e.apply(t,n)})),this.data.id&&this.constructor.records&&(this.constructor.records[this.data.id]=this),this.constructor._broadcast({new:this.data})}));s._computed_values={},a.default.extend(s,{listen:function(e,t){var n=this;if(a.default.isObject(e)&&a.default.each(e,(function(e,t){n.listen(t,e)})),void 0===this.listeners&&(this.listeners={}),void 0===this.listeners._global&&(this.listeners._global=[]),"function"!=typeof e)return void 0===this.listeners[e]&&(this.listeners[e]=[]),this.listeners[e].push(t),this;this.listeners._global.push(e)},_broadcast:function(e,t,n){var i;void 0===this.listeners&&(this.listeners={}),void 0===this.listeners._global&&(this.listeners._global=[]);var r=this;if(t=t||"",a.default.each(a.default.keys(e),(function(i){"object"!=typeof e[i]||null===e[i]||a.default.isArray(e[i])||r._broadcast(e[i],t+i+".",n),void 0!==r.listeners[t+i]&&a.default.each(r.listeners[t+i],(function(t){t.call(r,e,n)}))})),!t)for(i=0;i<this.listeners._global.length;i+=1)this.listeners._global[i].call(this,e,n)},on_initialize:function(e){void 0===this.initializers&&(this.initializers=[]),this.initializers.push(e)},get_computed_values:function(){return this._computed_values},set_computed_value:function(e,t,n){var i=this;this._computed_values[e]=t,n&&a.default.isArray(n.changes_on)&&a.default.each(n.changes_on,(function(t){i.prototype.on_change(t,(function(){var t={};t[e]=this.get(e),this._broadcast(t)}))}))}}),s.prototype.on_change=s.prototype.listen=s.listen,s.prototype.change=function(){this._broadcast({})},s.prototype._broadcast=s._broadcast,s.prototype.set=function(e,t,n){var i,o;return"object"==typeof e?(i=e,n=t):i="string"==typeof e?function e(t,n){var a={},i=t.shift();return t.length?a[i]=e(t,n):a[i]=n,a}(e.split("."),t):{},n||(n={}),o=function e(t,n){var a={};for(var i in n)n.hasOwnProperty(i)&&("object"==typeof n[i]&&null!==n[i]?a[i]=t?e(t[i],n[i]):n[i]:t&&t[i]===n[i]||(a[i]=n[i]));return a}(this.data,i),n.overwrite?this.data=a.default.extend(this.data,i):this.data=r.a.extend(!0,this.data,i),void 0!==n.silent&&n.silent||this._broadcast(o,void 0,n),this},s.prototype.replace=function(e,t,n){return(n=n||{}).silent=!0,this.set(e,null,n),delete n.silent,this.set(e,t,n)},s.prototype.get=function(e){if("string"==typeof e){if("function"==typeof this.constructor.get_computed_values()[e])return this.constructor.get_computed_values()[e].call(this.data);var t=e.split("."),n=this.data;return a.default.each(t,(function(e){n=n[e]})),a.default.clone(n)}return r.a.extend(!0,{},this.data,this.compute_values())},s.prototype.compute_values=function(){var e=this.data,t={};return a.default.each(this.constructor.get_computed_values(),(function(n,a){t[a]=n.call(e)})),t};t.a=s},rMRV:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("q1tI"),i=n("Nz1K");const r=e=>{let t="";return null!=e&&""!==e.trim()&&(t=Object(i.b)(e.replace(/<(b\b|strong\b).*?>/g,'<span class="bold">').replace(/<em\b.*?>/g,'<span class="text-italic">').replace(/<\/(b|strong|em)>/g,"</span>"))),a.createElement("div",{dangerouslySetInnerHTML:{__html:t}})}},rcUh:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("q1tI");const i=e=>{const t=e.vertical?"pt"+e.vertical:"",n=e.horizontal?"pl"+e.horizontal:"";return a.createElement("span",{className:`block ${t} ${n}`})}},relC:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return g}));var a=n("sezs"),i=n("dPds"),r=n("9jZ4"),o=n("q1tI"),s=n.n(o),l=n("5x/L");const c={error:"icon--error",warning:"icon--warning",description:"icon--info"};var d=function({className:e,isWarning:t,isInvalid:n,isDisabled:o,description:d,warningMessage:u,errorMessage:m,status:p,helperIcon:b,fieldSize:h}){const f={description:{message:d,hidden:!1},warning:{message:u,hidden:!t||o},error:{message:m,hidden:!n||o}};return"stable"===h||[...Object(r.a)(f).map(([,{message:e}])=>e),p].some(r.e)?s.a.createElement(l.a,{className:e,slot:"description",elementType:"ul","data-size":h},Object(r.a)(f).filter(([,{message:e}])=>Object(r.e)(e)).map(([e,{message:t,hidden:n=!1}])=>s.a.createElement(i.a.BodySM,{as:"li",key:e,className:"kds-field__"+e,hidden:n,"aria-hidden":n},!1!==b?s.a.createElement(a.a,{name:"string"==typeof b?b:c[e],size:"sm",atoms:["kds-field__icon"]}):null,t)),void 0!==p&&s.a.createElement(i.a.BodySM,{as:"li",className:"kds-field__status"},p)):null};var u=n("ZT9a"),m=n("1PrN"),p=n("Ktal"),b=n("9tEJ");function h(e){const{wrapperProps:t,helpProps:n}=function(e){const{description:t,errorMessage:n,helpPosition:a="after",fieldSize:i="dynamic",helperIcon:r,status:o,warningMessage:s,...l}=e,{isDisabled:c,isInvalid:d,isReadOnly:u,isRequired:m,isWarning:p}=e;return{helpProps:{...{isDisabled:c,isInvalid:d,isReadOnly:u,isRequired:m,isWarning:p},className:void 0,description:t,errorMessage:n,fieldSize:i,helperIcon:r,status:o,warningMessage:s},wrapperProps:{helpPosition:a,...l}}}(e),{isWarning:a}=t,{children:i}=t,r={...t,fieldHelp:s.a.createElement(h.Help,Object(u.a)(n,{className:"kds-field__help"}))},o="function"==typeof i?e=>f(r,e):f(r);return s.a.createElement(h.Wrapper,Object.assign({},t,{"data-warning":a||void 0}),o)}function f({label:e,children:t,fieldHelp:n,helpPosition:a},i){return s.a.createElement(s.a.Fragment,null,Object(r.e)(e)&&s.a.createElement(h.Label,null,e),"before"===a&&n,s.a.createElement(h.Content,null,"function"==typeof t?t(i):t),"after"===a&&n)}function g(e){const{atoms:t,description:n,errorMessage:a,fieldSize:i,helperIcon:r,helpPosition:o,isInvalid:s,isWarning:l,label:c,status:d,warningMessage:u,...m}=e;return{fieldProps:{atoms:t,description:n,errorMessage:a,fieldSize:i,helperIcon:r,helpPosition:o,isInvalid:s,isWarning:l,label:c,status:d,warningMessage:u},...m}}h.Wrapper=({as:e,children:t,...n})=>{const a=e||m.a;return s.a.createElement(a,Object(u.a)(n,{className:"kds-field"}),t)},h.Label=e=>s.a.createElement(p.a,Object(u.a)(e,{className:"kds-field__label"})),h.Content=e=>s.a.createElement("div",Object(u.a)(e,{className:"kds-field__content"})),h.Group=e=>s.a.createElement(b.a,Object(u.a)(e,{className:"kds-field__group"})),h.Help=d},rpKd:function(e,t,n){"use strict";t.a='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M19 3H5C3.34315 3 2 4.34315 2 6V14C2 15.6569 3.34315 17 5 17H19C20.6569 17 22 15.6569 22 14V6C22 4.34315 20.6569 3 19 3ZM4 6C4 5.44772 4.44772 5 5 5H19C19.5523 5 20 5.44772 20 6V14C20 14.5523 19.5523 15 19 15H5C4.44772 15 4 14.5523 4 14V6ZM5 19C4.44772 19 4 19.4477 4 20C4 20.5523 4.44772 21 5 21H19C19.5523 21 20 20.5523 20 20C20 19.4477 19.5523 19 19 19H5Z" fill="#3C3C3C"/>\n</svg>\n'},sett:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return p}));n("uT+I"),n("/IHD"),n("X+my");var a=n("q1tI"),i=n.n(a);n("dDCb");n("SmhT");i.a.Component;var r=n("g1y3"),o=n("2gvo"),s=n("7LsF"),l=n("0AyS");const c={name:"create","primary-light":"ksr-green-500","primary-dark":"ksr-green-700","primary-accent":"ksr-green-500"},d=e=>i.a.createElement(s.a,Object.assign({theme:c},e)),u=e=>i.a.createElement(r.a,Object.assign({theme:c},e)),m=e=>i.a.createElement(l.a,Object.assign({theme:c},e)),p=e=>i.a.createElement(o.a,Object.assign({theme:c},e))},sezs:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("q1tI"),i=n.n(a),r=n("c5x8"),o=n("tmVa");function s({name:e,size:t=o.b,atoms:n,...a}){const{svgProps:s,useProps:c}=l({name:e,size:t}),{fill:d}=s;return i.a.createElement("svg",Object.assign({},a,s,{className:Object(r.a)(n,"kds-icon",t!==o.b&&"kds-icon--"+t),"aria-label":s["aria-label"],"aria-hidden":s["aria-hidden"],fill:d}),i.a.createElement("use",c))}const l=({name:e,size:t=o.b})=>{const n=Object(o.d)(e,t);return{svgProps:{style:o.c[t]},useProps:{xlinkHref:"#"+n}}}},t1f3:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("94td"),i=n("q1tI");const r=({name:e,atoms:t,width:n})=>{const r=(e=>{switch(e){case"book":return{url:"https://i.kickstarter.com/neijqbvs-open.png?fit=scale-down&origin=static&width=1000&sig=jctQQuUnR32TUTbfyisfNOn2%2BVpQiNsoea%2F9f0boKz8%3D",altText:Object(a.b)("illustrations.A_book")};case"blue-stairs":return{url:"https://i.kickstarter.com/FINAL_KSR_10_BLUE-STAIRS_01.png?fit=scale-down&origin=static&width=1000&sig=nExJAcxHxyQaAdF6TF88Z5Uafm%2FJA2EcPixNhtSNLS4%3D",altText:Object(a.b)("illustrations.Blue_stairs")};case"camera":return{url:"https://i.kickstarter.com/fzezqniu-camera.png?fit=scale-down&origin=static&width=1000&sig=%2FuiwtJpmDNDZrlTWkr6NfE4obVZirxMsH2Im3856q3Y%3D",altText:Object(a.b)("illustrations.A_camera")};case"coral-cube":return{url:"https://i.kickstarter.com/FINAL_KSR_10_CORAL-CUBE_01.png?fit=scale-down&origin=static&width=1000&sig=T9KzEukvUO1wUeSS3lR5dM%2F2xIQDqXs08n40MbK%2FRrQ%3D",altText:Object(a.b)("illustrations.A_coral_colored_cube")};case"coral-hollow-cylinder":return{url:"https://i.kickstarter.com/FINAL_KSR_10_CORAL-TUBE_01.png?fit=scale-down&origin=static&width=1000&sig=Ll1tArN8RggGNz7dosTFfx9XW3yiDavDItszIQFF3I8%3D",altText:Object(a.b)("illustrations.A_coral_colored_cylinder")};case"coral-sphere":return{url:"https://i.kickstarter.com/FINAL_KSR_10_CORAL-SPHERE_01.png?fit=scale-down&origin=static&width=1000&sig=1n%2FFZU9sm0CM7m9DB2niTX5k2IgUvvl7aB4Wr0eN6IE%3D",altText:Object(a.b)("illustrations.A_coral_colored_sphere")};case"film-roll":return{url:"https://i.kickstarter.com/h0mqnt9o-film_reel.png?fit=scale-down&origin=static&width=1000&sig=qzRpUkUND1KWk4YeSAQ%2BtghRXiJBdvnxFoQjkYxzY9c%3D",altText:Object(a.b)("illustrations.A_film_roll")};case"film-slate":return{url:"https://i.kickstarter.com/fjxhzezi-film_slate.png?fit=scale-down&origin=static&width=1000&sig=UJsX9GTC2%2FADK44YEhxq4ob8zN1eRVgUUxzyw%2BY5qg0%3D",altText:Object(a.b)("illustrations.A_film_slate")};case"geometric-shape":return{url:"https://i.kickstarter.com/llmd9vvt-geometric_shape.png?fit=scale-down&origin=static&width=1000&sig=j8WEEV3m6T7%2BGg7Vs9CBPcr1q23fjL8fatGqKPmRm5Q%3D",altText:Object(a.b)("illustrations.A_geometric_shape")};case"paintbrush":return{url:"https://i.kickstarter.com/k7mir4uc-paintbrush.png?fit=scale-down&origin=static&width=1000&sig=9oD7PIHfWe%2BIj%2FPtEbRu1XHBz69UKda%2F4rMgFs5by6Y%3D",altText:Object(a.b)("illustrations.A_paintbrush")};case"teeth-chattering":return{url:"https://i.kickstarter.com/FINAL_KSR_10_CHATTERING_TEETH_02.png?fit=scale-down&origin=static&width=1000&sig=0%2FrBwTQlcx3dkw4VZvHtHmu6ZneqrwmedtBUn1FYvkQ%3D",altText:Object(a.b)("illustrations.Teeth_chattering")};case"yellow-disc":return{url:"https://i.kickstarter.com/FINAL_KSR_10_YELLOW-DISC_01.png?fit=scale-down&origin=static&width=1000&sig=ghYO%2BKLWKVx18%2Fy57hbPSVPx88QypvZbuGYpNZvCL6Q%3D",altText:Object(a.b)("illustrations.A_yellow_colored_disc")};case"yellow-stairs":return{url:"https://i.kickstarter.com/lt35ik9d-Stairs_8.png?origin=static&sig=k%2BCHWqPrjokjP%2FtQedjnOvHVL3Gejpu4nt2puJu9CpA%3D",altText:Object(a.b)("illustrations.A_yellow_colored_staircase")};default:return{url:"",altText:""}}})(e);return i.createElement("img",{className:t&&t.join(" "),src:r.url,alt:r.altText,width:n})}},tODT:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("yUSt"),i=n("q1tI"),r=n.n(i),o=n("9tEJ"),s=n("c5x8");const l=r.a.forwardRef(({atoms:e,children:t,...n},i)=>r.a.createElement(a.Container,{asChild:!0},r.a.createElement(o.a,Object.assign({},n,{ref:i,className:Object(s.b)([e,"kds-input-group"],n)}),t)))},tmVa:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return s}));const a=["md","sm"],i=a[0],r=(e,t=i)=>{var n;const r=s[e];if(r){if(t in r)return null!==(n=r[t])&&void 0!==n?n:a.find(e=>r[e]);console.warn(`No "${t}" icon found in KDS_ICONS for "${e}"`)}else console.warn(`No icons found in KDS_ICONS for "${e}"`)},o={md:{width:24,aspectRatio:"1"},sm:{width:16,aspectRatio:"1"}},s={"icon--activity-feed":{md:"icon--activity-feed.kds"},"icon--add-heading":{md:"icon--add-heading.kds"},"icon--advanced-analytics":{md:"icon--advanced-analytics.kds"},"icon--alt-text":{md:"icon--alt-text.kds"},"icon--arrow-down":{sm:"icon--arrow-down.sm.kds",md:"icon--arrow-down.kds"},"icon--arrow-left":{sm:"icon--arrow-left.sm.kds",md:"icon--arrow-left.kds"},"icon--arrow-right":{sm:"icon--arrow-right.sm.kds",md:"icon--arrow-right.kds"},"icon--arrow-up":{sm:"icon--arrow-up.sm.kds",md:"icon--arrow-up.kds"},"icon--award":{md:"icon--award.kds"},"icon--bar-graph":{md:"icon--bar-graph.kds"},"icon--bell":{md:"icon--bell.kds"},"icon--bold":{md:"icon--bold.kds"},"icon--bolt":{md:"icon--bolt.kds"},"icon--bookmark-filled":{md:"icon--bookmark-filled.kds"},"icon--bookmark":{md:"icon--bookmark.kds"},"icon--bulleted-list":{md:"icon--bulleted-list.kds"},"icon--calendar":{sm:"icon--calendar.sm.kds",md:"icon--calendar.kds"},"icon--caption":{md:"icon--caption.kds"},"icon--captions":{md:"icon--captions.kds"},"icon--cart":{md:"icon--cart.kds"},"icon--category":{sm:"icon--category.sm.kds",md:"icon--category.kds"},"icon--chat":{md:"icon--chat.kds"},"icon--check":{sm:"icon--check.sm.kds",md:"icon--check.kds"},"icon--chevron-down":{sm:"icon--chevron-down.sm.kds",md:"icon--chevron-down.kds"},"icon--chevron-left":{sm:"icon--chevron-left.sm.kds",md:"icon--chevron-left.kds"},"icon--chevron-right":{sm:"icon--chevron-right.sm.kds",md:"icon--chevron-right.kds"},"icon--chevron-up":{sm:"icon--chevron-up.sm.kds",md:"icon--chevron-up.kds"},"icon--circle-around":{md:"icon--circle-around.kds"},"icon--circle-backward":{md:"icon--circle-backward.kds"},"icon--circle-forward":{md:"icon--circle-forward.kds"},"icon--circle":{md:"icon--circle.kds"},"icon--clock":{sm:"icon--clock.sm.kds",md:"icon--clock.kds"},"icon--close":{sm:"icon--close.sm.kds",md:"icon--close.kds"},"icon--collapse":{md:"icon--collapse.kds"},"icon--conversion":{md:"icon--conversion.kds"},"icon--convert":{md:"icon--convert.kds"},"icon--copy":{md:"icon--copy.kds"},"icon--credit-card":{md:"icon--credit-card.kds"},"icon--date-and-time":{sm:"icon--date-and-time.sm.kds",md:"icon--date-and-time.kds"},"icon--download":{md:"icon--download.kds"},"icon--drag":{md:"icon--drag.kds"},"icon--edit":{md:"icon--edit.kds"},"icon--ellipsis":{md:"icon--ellipsis.kds"},"icon--error":{sm:"icon--error.sm.kds",md:"icon--error.kds"},"icon--expand":{md:"icon--expand.kds"},"icon--external":{sm:"icon--external.sm.kds",md:"icon--external.kds"},"icon--filters":{md:"icon--filters.kds"},"icon--flag":{sm:"icon--flag.sm.kds",md:"icon--flag.kds"},"icon--fulfillment":{md:"icon--fulfillment.kds"},"icon--globe":{md:"icon--globe.kds"},"icon--hamburger":{md:"icon--hamburger.kds"},"icon--heading":{md:"icon--heading.kds"},"icon--heart-filled":{sm:"icon--heart-filled.sm.kds",md:"icon--heart-filled.kds"},"icon--heart":{sm:"icon--heart.sm.kds",md:"icon--heart.kds"},"icon--hide":{sm:"icon--hide.sm.kds",md:"icon--hide.kds"},"icon--home":{md:"icon--home.kds"},"icon--human":{sm:"icon--human.sm.kds",md:"icon--human.kds"},"icon--humans":{md:"icon--humans.kds"},"icon--image":{md:"icon--image.kds"},"icon--inbox":{md:"icon--inbox.kds"},"icon--info":{sm:"icon--info.sm.kds",md:"icon--info.kds"},"icon--intermediate":{sm:"icon--intermediate.sm.kds",md:"icon--intermediate.kds"},"icon--italic":{md:"icon--italic.kds"},"icon--late-pledges":{sm:"icon--late-pledges.sm.kds",md:"icon--late-pledges.kds"},"icon--lightbulb":{md:"icon--lightbulb.kds"},"icon--line-graph":{md:"icon--line-graph.kds"},"icon--link":{md:"icon--link.kds"},"icon--location":{sm:"icon--location.sm.kds",md:"icon--location.kds"},"icon--locked":{sm:"icon--locked.sm.kds",md:"icon--locked.kds"},"icon--log-out":{md:"icon--log-out.kds"},"icon--logo":{md:"icon--logo.kds",sm:"icon--logo.sm.kds"},"icon--media-embed":{md:"icon--media-embed.kds"},"icon--message":{md:"icon--message.kds"},"icon--minus":{md:"icon--minus.kds"},"icon--mobile":{md:"icon--mobile.kds"},"icon--mute":{md:"icon--mute.kds"},"icon--numbered-list":{md:"icon--numbered-list.kds"},"icon--order-management":{md:"icon--order-management.kds"},"icon--pause":{md:"icon--pause.kds"},"icon--pin":{md:"icon--pin.kds"},"icon--play-filled":{md:"icon--play-filled.kds"},"icon--play":{md:"icon--play.kds"},"icon--pledges":{md:"icon--pledges.kds"},"icon--pledge-redemption":{md:"icon--pledge-redemption.kds"},"icon--plus-human":{md:"icon--plus-human.kds"},"icon--minus-human":{md:"icon--minus-human.kds"},"icon--plus":{md:"icon--plus.kds"},"icon--prohibited":{md:"icon--prohibited.kds"},"icon--pullquote":{md:"icon--pullquote.kds"},"icon--q-and-a":{md:"icon--q-and-a.kds"},"icon--question":{md:"icon--question.kds"},"icon--reply":{md:"icon--reply.kds"},"icon--reward":{sm:"icon--reward.sm.kds",md:"icon--reward.kds"},"icon--search":{md:"icon--search.kds"},"icon--sentiment-neutral-filled":{md:"icon--sentiment-neutral-filled.kds"},"icon--sentiment-neutral":{md:"icon--sentiment-neutral.kds"},"icon--sentiment-satisfied-filled":{md:"icon--sentiment-satisfied-filled.kds"},"icon--sentiment-satisfied":{md:"icon--sentiment-satisfied.kds"},"icon--sentiment-unsatisfied-filled":{md:"icon--sentiment-unsatisfied-filled.kds"},"icon--sentiment-unsatisfied":{md:"icon--sentiment-unsatisfied.kds"},"icon--settings":{md:"icon--settings.kds"},"icon--shipping":{md:"icon--shipping.kds"},"icon--show":{md:"icon--show.kds"},"icon--sidebar-close":{md:"icon--sidebar-close.kds"},"icon--sidebar-open":{md:"icon--sidebar-open.kds"},"icon--spinner":{md:"icon--spinner.kds"},"icon--star":{sm:"icon--star.sm.kds",md:"icon--star.kds"},"icon--stopwatch":{md:"icon--stopwatch.kds"},"icon--success":{sm:"icon--success.sm.kds",md:"icon--success.kds"},"icon--survey":{md:"icon--survey.kds"},"icon--survey-open-text":{md:"icon--survey-open-text.kds"},"icon--survey-single-choice":{md:"icon--survey-single-choice.kds"},"icon--survey-multiple-choice":{md:"icon--survey-multiple-choice.kds"},"icon--task-partially-complete":{sm:"icon--task-partially-complete.sm.kds",md:"icon--task-partially-complete.kds"},"icon--task-to-do":{sm:"icon--task-to-do.sm.kds",md:"icon--task-to-do.kds"},"icon--tax-documents":{md:"icon--tax-documents.kds"},"icon--trash":{md:"icon--trash.kds"},"icon--unlink":{md:"icon--unlink.kds"},"icon--unlocked":{sm:"icon--unlocked.sm.kds",md:"icon--unlocked.kds"},"icon--upload":{md:"icon--upload.kds"},"icon--verified":{sm:"icon--verified.sm.kds",md:"icon--verified.kds"},"icon--video":{md:"icon--video.kds"},"icon--volume-down":{md:"icon--volume-down.kds"},"icon--volume-up":{md:"icon--volume-up.kds"},"icon--warning":{sm:"icon--warning.sm.kds",md:"icon--warning.kds"},"icon--shopify-logo":{md:"icon--shopify-logo.kds"}},l=Object.keys(s);l.filter(e=>"md"in s[e]),l.filter(e=>"sm"in s[e])},tr1H:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={PROCOMM:"procomm",SYSINT:"sysint",POST_UPDATES:"post_updates",REWARDS_FULFILLMENT:"rewards_fulfillment",EVENTS_CLEANUP:"events_cleanup"}},uBBe:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n("lHf8"),i=n("2DJ9"),r=n("mv45"),o=n("94td"),s=n("q1tI"),l=n.n(s),c=n("wdXr"),d=n("5j0V");const u=Object(r.j)(d.a,e=>{const{projectId:t,className:n,location:a}=e.ownProps;return{className:n,makeRequest:()=>e.mutate({variables:{projectId:t,location:a}}),location:a}})(({makeRequest:e,className:t="",location:n})=>{const[r,d]=Object(s.useState)(!1),[u,m]=Object(s.useState)(!1),{targetRef:p,didIntersect:b}=Object(c.a)({rootMargin:"0%"});return u?null:l.a.createElement("div",{"data-test-id":"project-update-request-form",className:"p2 bg-trust-100 trust-700 type-16 flex justify-between items-center "+t},r?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{"data-test-id":"project-update-request-success-message"},l.a.createElement(i.a,{name:"icon--check",size:"20",atoms:["fill-trust-700","mr2"]}),Object(o.b)("project_page.project_update_request.Thanks_we_will_request")),l.a.createElement("div",{className:"flex justify-end"},l.a.createElement(a.a,{"data-test-id":"project-update-request-dismiss",atoms:["mx3","text-underline","type-16"],color:"trust-blue",onClick:()=>m(!0)},Object(o.b)("project_page.project_update_request.Ok")))):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"mr2 flex2",ref:p},Object(o.b)("project_page.project_update_request.Would_you_like_to_request")),l.a.createElement("div",{className:"flex justify-end flex1"},l.a.createElement(a.a,{"data-test-id":"project-update-request-submit",atoms:["mr4","text-underline","type-16"],color:"trust-blue",onClick:t=>{t.preventDefault(),e(),d(!0)}},Object(o.b)("project_page.project_update_request.Yes_request")),l.a.createElement(a.a,{"data-test-id":"project-update-request-no",atoms:["text-underline","type-16"],color:"trust-blue",onClick:()=>{m(!0)}},Object(o.b)("project_page.project_update_request.No_request")))))})},uBwy:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("q1tI");const i=()=>a.createElement("span",null,String.fromCharCode(160))},"uT+I":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("8Np1"),i=n("/IHD"),r=n("hPy8"),o=n("q1tI");const s=e=>o.createElement(r.c,null,t=>o.createElement(a.a,Object.assign({},e,{atoms:Object(i.b)(e.atoms,t.body.atoms),tag:"div"}),e.children))},uoVB:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u}));var a=n("wOBM"),i=n("gN63"),r=n("I3Sk");const o=["checkout_add_ons_minimum_usd","checkout_amount_total_usd","checkout_bonus_amount_usd","checkout_reward_minimum_usd","checkout_shipping_amount_usd"],s=e=>{Object.keys(e).map(t=>{if(e[t]&&o.includes(t))return e[t]=function(e){const t=Object(a.a)(e),n=isNaN(t)?0:t,i=window.current_project,r=parseFloat(i.data.usd_exchange_rate);return parseFloat((n*r).toFixed(2))}(String(e[t]))})},l=e=>{const t=e.reward_data;let n=[];return t.rewards_items&&(n=t.rewards_items.map(e=>({id:e.item_id.toString(),name:e.item.name,quantity:e.quantity}))),{id:t.id?t.id.toString():"",amount:{currency:window.current_project.data.currency,amount:t.minimum,symbol:window.current_project.data.currency_symbol},available:t.available||!1,backersCount:t.backers_count||0,remainingQuantity:t.remaining||0,description:t.description||"",isMaxPledge:!1,limitPerBacker:0,limit:t.limit,name:t.title,shippingPreference:t.shipping_preference,shippingSummary:t.shipping_summary||"",startsAt:null,endsAt:null,shippingRules:[],items:n,allowedAddons:[],estimatedDeliveryOn:t.estimated_delivery_on?new Date(1e3*parseInt(t.estimated_delivery_on,10)).toISOString():null,image:null,isPostCampaignPledgingEnabled:t.late_pledge_enabled,audienceData:t.audienceData,featured:t.featured}},c=e=>{let t=0;return"string"==typeof e?t=Number(parseFloat(e).toFixed(2)):"number"==typeof e&&(t=Number(e.toFixed(2))),t};const d=(e,t,n)=>{var a;const i=null==e||null===(a=e.amount)||void 0===a?void 0:a.amount,o={checkout_reward_estimated_delivery_on:(null==e?void 0:e.estimatedDeliveryOn)?new Date(Date.parse(e.estimatedDeliveryOn)).toISOString():null,checkout_reward_minimum_usd:i?Number(parseFloat(i).toFixed(2)):void 0,checkout_reward_is_limited_quantity:!!(null==e?void 0:e.limit)&&e.limit>0,checkout_reward_shipping_enabled:(null==e?void 0:e.shippingRules)?e.shippingRules.length>0:void 0,checkout_reward_id:null==e?void 0:e.id,checkout_reward_shipping_preference:null==e?void 0:e.shippingPreference,checkout_reward_title:null==e?void 0:e.name,checkout_reward_has_image:Boolean(null==e?void 0:e.image),checkout_reward_is_featured_reward:Boolean(null==e?void 0:e.featured),checkout_reward_late_pledge_enabled:Boolean(null==e?void 0:e.isPostCampaignPledgingEnabled)};if(n){o.checkout_add_ons_count_total=n.length;const e=[...new Set(n.map(e=>e.id))];o.checkout_add_ons_count_unique=e.length,o.checkout_add_ons_ids=e,o.checkout_add_ons_minimum_usd=Object(r.d)(n)}return(null==t?void 0:t.bonusAmount)&&(o.checkout_bonus_amount_usd=c(t.bonusAmount)),void 0!==(null==t?void 0:t.shippingAmount)&&(o.checkout_shipping_amount_usd=c(t.shippingAmount)),(null==t?void 0:t.totalPledge)&&(o.checkout_amount_total_usd=c(t.totalPledge)),"USD"!==window.current_project.data.currency&&s(o),l=o,Object.fromEntries(Object.entries(l).filter(([e,t])=>null!==t));var l},u=e=>{var t;const n=e.amount&&e.amount.amount;return{checkout_reward_estimated_delivery_on:e.estimatedDeliveryOn?new Date(Date.parse(e.estimatedDeliveryOn)).toISOString():null,checkout_reward_minimum_usd:n?Number(parseFloat(n).toFixed(2)):void 0,checkout_reward_is_limited_quantity:!!e.limit&&e.limit>0,checkout_reward_shipping_enabled:(null===(t=e.shippingRules)||void 0===t?void 0:t.length)>0,checkout_reward_id:e.id?Number(Object(i.a)(e.id)).toString():"",checkout_reward_shipping_preference:e.shippingPreference,checkout_reward_title:e.name,checkout_reward_has_image:Boolean(null==e?void 0:e.image),checkout_reward_is_featured_reward:Boolean(null==e?void 0:e.featured),checkout_reward_late_pledge_enabled:Boolean(null==e?void 0:e.isPostCampaignPledgingEnabled)}}},"v+Hr":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return c}));const a={add_ons:{pathname:[/^\/projects\/.+pledge\/new$/,/^\/projects\/.+pledge\/edit$/],hash:"add-ons"},rewards:{pathname:[/^\/projects\/.+pledge\/new$/,/^\/projects\/.+pledge\/edit$/],hash:""},thanks:{pathname:[/^\/projects\/.+checkouts\/.*\/thanks$/],hash:""},checkout:{pathname:[/^\/checkouts\/.*\/payments\/new$/],hash:""},checkout_guest:{pathname:[/^\/checkouts\/.*\/guest$/,/^\/checkouts\/.*\/guest.+/],hash:""},manage_pledge:{pathname:[/^\/projects\/.+pledge$/],hash:""},build:{pathname:[/^\/projects\/.+build$/,/^\/projects\/.*\/edit.+$/],hash:""},project:{pathname:[/^\/projects.+/],hash:""},discover:{pathname:[/^\/discover.+/,/^\/recommendations$/,/^\/discover$/],hash:""},activity_feed:{pathname:[/^\/activity$/],hash:""},backings:{pathname:[/^\/profile\/backings$/],hash:""},build_onboarding:{pathname:[/^\/start$/],hash:""},created_projects:{pathname:[/^\/profile\/projects$/],hash:""},how_it_works:{pathname:[/^\/how-it-works$/],hash:""},learn:{pathname:[/^\/learn$/],hash:""},log_in:{pathname:[/^\/login$/,/^\/user_sessions$/],hash:""},log_out:{pathname:[/^\/logout$/],hash:""},sign_up:{pathname:[/^\/signup$/],hash:""},messages:{pathname:[/^\/messages.+/],hash:""},profile:{pathname:[/^\/profile\/.+$/,/^\/profile\/.+comments$/,/^\/profile\/.+about$/,/^\/profile\/projects$/,/^\/profile\/following$/,/^\/profile\/following\/followers$/,/^\/profile\/following\/blocked$/],hash:""},settings:{pathname:[/^\/settings.+/],hash:""},shopify_landing_page:{pathname:[/^\/shopify$/],hash:""},taste_quiz:{pathname:[/^\/personalize$/],hash:""},section:{pathname:[/^\/arts$/,/^\/comics\-illustration$/,/^\/design-tech$/,/^\/film$/,/^\/food-craft$/,/^\/games$/,/^\/music$/,/^\/publishing$/],hash:""}};let i=function(e){return e.ADD_ONS="add_ons",e.ADD_ONS_SUMMARY="add_ons_summary",e.ADDRESS="address",e.AI_POLICY="ai_policy",e.ALL_REWARDS="all_rewards",e.APP_STORE="app_store",e.APPLE_PAY="apple_pay",e.AVAILABLE="available",e.BACKER_SUMMARY="backer_summary",e.BANK_ACCOUNT="bank_account",e.BUSINESS="business",e.CATEGORY="category",e.CONTENTS_ALL_PHYSICAL="contents_all_physical",e.CONTENTS_NON_PHYSICAL="contents_non_physical",e.CONTENTS_SOME_PHYSICAL="contents_some_physical",e.CREDIT_CARD="credit_card",e.DELIVERY_DIGITAL="delivery_digital",e.DELIVERY_LOCAL_PICKUP="delivery_local_pickup",e.DELIVERY_SHIPPING_RESTRICTED="delivery_shipping_restricted",e.DELIVERY_SHIPPING_UNRESTRICTED="delivery_shipping_unrestricted",e.DFM="dfm",e.DRAFTS="drafts",e.EASYSHIP="12_12_easyship_banner",e.EDITORIAL="editorial",e.EXPIRED="expired",e.FEATURED_PROJECT="featured_project",e.FOLLOW_USER="follow",e.FULFILLING_ALL="fulfilling_all",e.FULFILLING_SOME="fulfilling_some",e.FULFILLMENT_COMPLETE="fulfillment_complete",e.IDEA="idea",e.INDIVIDUAL="individual",e.ITEM_SUMMARY="item_summary",e.JUST_BACKED="just_backed",e.LOCATION="location",e.MENU="menu",e.NEW_ADDRESS="new_address",e.NO_REWARDS="no_rewards",e.NONPROFIT="non_profit",e.PAYMENT_METHOD="payment_method",e.PII_CONFIRMATION="pii_confirmation",e.PLAY_STORE="play_store",e.PLEDGE_MANAGER="pledge_manager",e.PREPRODUCTION="preproduction",e.PRODUCTION="production",e.PROJECT="project",e.PROOF_OF_CONCEPT="proof_of_concept",e.PUBLISHED="published",e.QUANTITY_LIMITED="quantity_limited",e.QUANTITY_UNLIMITED="quantity_unlimited",e.RECOMMENDED="recommended",e.RESULTS="results",e.REWARD="reward",e.REWARD_DESCRIPTION="reward_description",e.REWARD_SUMMARY="reward_summary",e.REWARD_UNIT="reward_unit",e.SAVED_ADDRESS="saved_address",e.SKU_QUANTITIES="sku_quantities",e.SOME_REWARDS="some_rewards",e.SUBCATEGORY="subcategory",e.TAG="tag",e.UNFOLLOW_USER="unfollow",e.UNWATCH="unwatch",e.WATCH="watch",e.WORKING_PROTOTYPE="working",e}({}),r=function(e){return e.SELECT="select",e.DESELECT="deselect",e}({});const o=e=>{const t=e.match(/^section-(.*?)-view-more-recommendations-p\d$/),n=t&&t[1].replace(/-/g,"_")||"";return"homepage"!==n?n:""},s=e=>{const t={discover_advanced:[/^discovery_category$/],discover_overlay:[/^discovery_overlay$/,/^discover_overlay$/],discovery:[/^discover.*$/],"thanks-recommendations":[/^thanks-recommendations$/],featured_project:[/^section-homepage-featured-project$/],"homepage-recommendations":[/^section-homepage-view-more-recommendations-p\d$/],"section-recommendations":[/^section-.*-view-more-recommendations-p\d$/],quick_search_overlay:[/^nav-search$/,/^nav_search$/],editorial_collection:[/^section-homepage$/]},n=Object.keys(t);for(const a of n){const n=t[a]||[];for(const t of n)if(void 0!==t&&t.test(e))return a}return""},l=e=>{switch(e){case"section-arts":return"arts";case"section-design-tech":return"design_tech";case"section-comics-illustration":return"comics_illustration";case"section-film":return"film";case"section-food-craft":return"food_craft";case"section-games":return"games";case"section-music":return"music";case"section-publishing":return"publishing";default:return}},c=e=>{const t=e.pathname,n=e.hash;if("/"===t)return"home";if(t){const e=Object.keys(a);for(const i of e){const e=a[i];if(e){const a=e.pathname,r=e.hash;for(const e of a){const a=""===r||n.includes(r);if(new RegExp(e).test(t)&&a)return i}}}}return"other"}},v9JK:function(e,t,n){"use strict";var a=n("WSTq");n.d(t,"a",(function(){return a.a}));var i=n("nU83");n.d(t,"c",(function(){return i.b})),n.d(t,"b",(function(){return i.a}))},vXqN:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("q1tI"),i=n.n(a),r=n("RK67"),o=n("/MKj");class s extends i.a.Component{constructor(e){super(e),this.state={hasError:!1}}componentDidCatch(e,t){this.setState(()=>({hasError:!0})),this.props.onComponentError(e,t,this.props.tags)}render(){return this.state.hasError?this.props.fallbackRender?this.props.fallbackRender():i.a.createElement("div",null):this.props.children}}const l=e=>t=>{const n={...e,...t};return i.a.createElement(s,n)};t.b=Object(o.c)(null,e=>({onComponentError:(t,n,a)=>e(Object(r.c)(t,n,a))}))(s)},vtU4:function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));var a=n("8ZZx");n.d(t,"a",(function(){return a.a}));const i="/projects/:projectCreator/:projectSlug/posts",r={POSTS_FEED:{path:i,url:(e,t)=>`/projects/${e}/${t}/posts`},PROJECT_PAGE:{path:"/projects/:projectCreator/:projectSlug/",url:(e,t)=>`/projects/${e}/${t}`},VIEW_POST:{path:i+"/:postId",url:(e,t,n)=>`/projects/${e}/${t}/posts/${n}`},POST_COMMENTS:{path:i+"/:postId/comments",url:(e,t,n)=>`/projects/${e}/${t}/posts/${n}/comments`},PREVIEW_POST:{path:i+"/:postId/preview",url:(e,t,n)=>`/projects/${e}/${t}/posts/${n}/preview`},NEW_FREEFORM_POST:{path:i+"/freeform/new",url:(e,t)=>`/projects/${e}/${t}/posts/freeform/new`},EDIT_FREEFORM_POST:{path:i+"/freeform/:postId/edit",url:(e,t,n)=>`/projects/${e}/${t}/posts/freeform/${n}/edit`},NEW_CREATOR_INTERVIEW:{path:i+"/interview/new",url:(e,t)=>`/projects/${e}/${t}/posts/interview/new`},EDIT_CREATOR_INTERVIEW:{path:i+"/interview/:postId/edit",url:(e,t,n)=>`/projects/${e}/${t}/posts/interview/${n}/edit`},PROJECT_PLEDGE:{path:"/projects/:projectCreator/:projectSlug/pledge/new",url:(e,t)=>`/projects/${e}/${t}/pledge/new`},USER_PROFILE:{path:"/profile/:userSlug",url:e=>"/profile/"+e}}},"w/TO":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return l}));var a=n("cDWt");const i=e=>{const t=s(e());return t.isSuccess?{}:r(t.value)},r=e=>{const{errors:t}=e;return Object.keys(t).reduce((e,n)=>({...e,[n]:t[n].value}),{})},o=e=>s(e()).isSuccess,s=e=>e.reduce((e,t)=>e.concat(t),Object(a.b)()),l=e=>({state:t,fields:n})=>{const{touched:a,errors:i}=t,r=n.filter(e=>!(!a[e]||!i[e])).map(e=>i[e]).reduce((e,t)=>e.concat(t),[]).map(t=>e[t]||t);return r.length>0?r:null}},wOBM:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t)=>{if(!e)return 0;const n=t&&t.precision||2,a=Math.max(2,n);return parseFloat(e.replace(/[^0-9.,-]/g,"").replace(new RegExp(`[\\.,](\\d{1,${a}}$)`,"g"),".$1").replace(new RegExp(`[\\.,](?!\\d{1,${a}}$)`,"g"),""))}},wdXr:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("q1tI");const i=(e,t)=>{const n=Object.keys(t);for(const a of n){if(e[a]!==t[a])return{...e,...t}}return e},r={isIntersecting:!1,didIntersect:!1},o=(e={})=>{var t;const n=Object(a.useRef)(null),[o,s]=(l=r,Object(a.useReducer)(i,l));var l;return Object(a.useEffect)(()=>{const t=n.current;if(!(t instanceof Element))return;const a=new IntersectionObserver(([e])=>{e.isIntersecting?s({isIntersecting:e.isIntersecting,didIntersect:!0}):s({isIntersecting:e.isIntersecting})},e);return a.observe(t),()=>a.unobserve(t)},[n.current,e.rootMargin,null===(t=e.threshold)||void 0===t?void 0:t.join(",")]),{targetRef:n,...o}}},wpot:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n("NmtT"),i=n.n(a),r=n("bgw5"),o=n.n(r),s=n("Us+F"),l=n.n(s),c=n("/S0t"),d=n.n(c),u=n("LKA2"),m=n.n(u);const p={de:o(),en:l(),es:d(),fr:m()},b=(e,t)=>((e,t,n)=>i()(t,n,{addSuffix:!0,locale:p[e]}))(window.I18n.locale,e,t)},x6TX:function(e,t,n){"use strict";n.d(t,"h",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"l",(function(){return c})),n.d(t,"n",(function(){return d})),n.d(t,"m",(function(){return u})),n.d(t,"i",(function(){return m})),n.d(t,"j",(function(){return p})),n.d(t,"k",(function(){return b})),n.d(t,"f",(function(){return h})),n.d(t,"g",(function(){return f}));const a=()=>({type:"NOOP"}),i=()=>({type:"NAVIGATION/CLOSE_MODAL"}),r=()=>({type:"NAVIGATION/COMPLETE_UPLOAD"}),o=(e=!0)=>({type:"NAVIGATION/COMPLETE_SAVE",saveSuccessful:e}),s=(e=[])=>({type:"NAVIGATION/INITIALIZE_SAVE",commands:e}),l=()=>({type:"NAVIGATION/INITIALIZE_UPLOAD"}),c=e=>({type:"NAVIGATION/UPDATE_OVERRIDE",override:e}),d=e=>({type:"NAVIGATION/UPDATE_PROJECT_NAME",name:e}),u=e=>({type:"NAVIGATION/UPDATE_PROJECT_CATEGORY",category:e}),m=e=>({type:"NAVIGATION/OPEN_MODAL",modal:e}),p=()=>({type:"NAVIGATION/RESET_PAGE_DIRTY"}),b=()=>({type:"NAVIGATION/SET_PAGE_DIRTY"}),h=e=>({type:"NAVIGATION/INIT",slug:e}),f=e=>({type:"NAVIGATION/INIT_RESPONSE",response:e})},xKJO:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("ECYc");const i={incrementPostView(e){a.a.increment("post_view,client_type="+e)},incrementPostPin(e,t){a.a.increment(`post_pin,client_type=${e},action=${t}`)}}},xyIz:function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return d}));var a=n("l7kV"),i=n("sezs"),r=n("9jZ4"),o=n("q1tI"),s=n.n(o),l=n("c5x8");const c=["gray","green","purple","blue","danger","warning","outlined"],d=({children:e,atoms:t,icon:n,variant:a,disabled:o=!1,...c})=>s.a.createElement("kds-badge",Object.assign({},c,{class:Object(l.a)(t)||void 0,"aria-disabled":o?"true":void 0,"data-variant":a}),n&&s.a.createElement(i.a,{name:n,size:"sm"}),n&&Object(r.e)(e)&&"string"!=typeof e?s.a.createElement("span",{className:"kds-badge__content"},e):e);Object(a.a)("kds-badge")},y2df:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));let a=function(e){return e.CTA_CLICKED="CTA Clicked",e.PAGE_VIEWED="Page Viewed",e.CARD_CLICKED="Card Clicked",e.VIDEO_PLAYBACK_STARTED="Video Playback Started",e.VIDEO_PLAYBACK_COMPLETED="Video Playback Completed",e.OPENED_DISCOVER_OVERLAY="Viewed Discovery Filters",e.CLOSED_DISCOVER_OVERLAY="Closed Discovery Filter",e}({})},y4o6:function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var a=n("iuhU"),i=n("sezs"),r=n("dPds"),o=n("mv45"),s=n("94td"),l=n("NxQb"),c=n("xKJO"),d=n("GnmY"),u=n("q1tI"),m=n("JhfJ"),p=n("ObC8"),b=n("2nV0"),h=n("lM4U");const f=e=>{const{header:t,body:n,button:a}=g(e.isPinned);return u.createElement(b.a.Modal,{isOpen:!0,onClose:e.onClose},u.createElement(h.a,{title:t,content:n,onClose:e.onClose,actions:({close:t})=>u.createElement(u.Fragment,null,u.createElement(p.a,{variant:"filled/destructive",onPress:t},Object(s.b)("project_updates.No_go_back")),u.createElement(p.a,{onPress:()=>e.onConfirm()},a))}))},g=e=>e?{header:Object(s.b)("project_updates.Unpin_this_update?"),body:Object(s.b)("project_updates.Youll_no_longer_see_it_at_the_top"),button:Object(s.b)("project_updates.Yes_unpin_it")}:{header:Object(s.b)("project_updates.Pin_this_update?"),body:Object(s.b)("project_updates.Youll_see_it_at_the_top"),button:Object(s.b)("project_updates.Yes_pin_it")};class _ extends u.Component{constructor(...e){super(...e),this.state={isPinModalShowing:!1}}render(){const{canPin:e,isPinned:t,onPinCompletion:n,onUnpinPost:o,onPinPost:d,onRefetch:m,relayId:p,type:b,trackingContext:h}=this.props,{pinColor:g,pinCopy:_,trackingFn:E,telegrafAction:v}=k(t),y=t?o:d;return Object(l.a)("pinned_posts_on_feed")&&e||!t?Object(l.a)("pinned_posts_on_feed")&&e?u.createElement(u.Fragment,null,u.createElement("button",{onClick:e=>{e.preventDefault(),this.setState({isPinModalShowing:!0})},className:"kds-button is-compact absolute kds-top-0 kds-right-0","data-variant":"borderless"},u.createElement(i.a,{name:"icon--pin",atoms:Object(a.b)("kds-mr-01",g)}),_),this.state.isPinModalShowing&&u.createElement(f,{isPinned:t,onConfirm:()=>{E(b,h),c.a.incrementPostPin(window.clientType,v),y({id:p}).then(()=>m&&m()).then(n),this.setState({isPinModalShowing:!1})},onClose:()=>{this.setState({isPinModalShowing:!1})}})):null:u.createElement(r.a.HeadingSM,{as:"span",className:"kds-text-accent-green flex items-center kds-gap-02"},u.createElement(i.a,{name:"icon--pin",atoms:g}),Object(s.b)("project_updates.Pinned"))}}const k=e=>e?{pinColor:"kds-fill-icon-green",pinCopy:Object(s.b)("project_updates.Pinned"),trackingFn:d.d,telegrafAction:"unpin"}:{pinColor:"",pinCopy:Object(s.b)("project_updates.Pin"),trackingFn:d.c,telegrafAction:"pin"},E=Object(o.a)(m.b,m.d)(_)},yTGw:function(e,t,n){"use strict";n.d(t,"a",(function(){return d.a})),n.d(t,"b",(function(){return a}));var a={};n.r(a),n.d(a,"WithGroupControl",(function(){return l})),n.d(a,"Control",(function(){return c}));var i=n("Zkg7"),r=n("6zsG"),o=n("q1tI"),s=n.n(o);const l=({as:e,...t})=>s.a.createElement(i.b.Control,{asChild:!0},s.a.createElement(e,t)),c=Object(r.b)("div",{className:"kds-text-field__control"},l);var d=n("Z4QI")},yUSt:function(e,t,n){"use strict";n.r(t),n.d(t,"Container",(function(){return i})),n.d(t,"Control",(function(){return r}));var a=n("6zsG");const i=Object(a.b)("div",{className:"kds-input-group"}),r=Object(a.b)("div",{className:"kds-input-group__control"})},ysdo:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n("pTxv"),i=n("Wwun"),r=n("t1f3"),o=n("2DJ9"),s=n("EoiL"),l=n("T8n5"),c=n("UUNB"),d=n("SmhT"),u=n("/IHD"),m=n("q1tI"),p=n.n(m);const b=["fixed","t0","b0","l0","r0","z-modal-3","scroll-y","py12","px3","flex","pointer","bg-white_80"].join(" "),h=e=>{const{onClose:t,headerIcon:n,headerText:h,bodyText:f,buttonText:g,bodyListItems:_,listItemArrowFillColor:k="fill-make100-yellow",dialogBgColor:E="bg-ksr10-blue"}=e;return Object(m.useEffect)(()=>(document.documentElement.classList.add("clip"),()=>{document.documentElement.classList.remove("clip")})),p.a.createElement(p.a.Fragment,null,Object(c.a)(d.d)&&t(),p.a.createElement("div",{className:b,onClick:t,role:"presentation"},p.a.createElement(i.a,{"aria-label":"Modal",className:"relative m-auto w100p",focusTrapOptions:{clickOutsideDeactivates:!0,fallbackFocus:!0}},p.a.createElement("div",{role:"dialog",onClick:e=>e.stopPropagation(),className:Object(u.a)("cursor-default relative z3 max-w75 white mx-auto p4 p6-md clip",E)},p.a.createElement("div",{className:"relative z1"},n,p.a.createElement(s.a,{level:3,type:"subhead-600",atoms:["mt4"]},h),p.a.createElement(l.a,{atoms:["mt4","mb5"]},f),_&&p.a.createElement("ul",{className:"mb10"},_.map((e,t)=>p.a.createElement("li",{key:t,className:"flex mb3 type-16"},p.a.createElement(o.a,{name:"icon--chevron-right",atoms:[k,"mx2"],size:"large"}),p.a.createElement("span",{className:"flex1"},e)))),p.a.createElement(a.c,{theme:"support",fullWidth:!0,onClick:t},g)),p.a.createElement(r.a,{name:"coral-cube",atoms:["absolute","b-18","l-6","pointer-events-none"],width:200}),p.a.createElement(r.a,{name:"coral-hollow-cylinder",atoms:["absolute","t-18","r-6","pointer-events-none"],width:200})))))}},"z+X6":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("ANjH"),i=n("0fse");const r=(e,t,n="Kickstarter",r=[])=>{return r=[Object(i.d)(),...r].filter(Boolean),Object(a.createStore)(e,t,(o={name:n},"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__(o):a.compose)(...r));var o}},z0kN:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));const a=e=>t=>`${e}${t}`,i=e=>e.replace(/[^\w\-]+/g,"-").replace(/-{2,}/g,"-").replace(/^-|-$/g,"").toLowerCase()},zjD3:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t="-")=>0===e?t:e},zm9w:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n("4Toj"),i=n.n(a),r=n("1OuE"),o=n("4LGs");const s={"'":"&#39;","`":"&#96;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};var l=e=>Object(o.a)(s,e),c=n("0VSk");const d={AUD:"AU$ ",CAD:"CA$ ",CHF:"CHF ",DKK:"DKK ",EUR:"€",GBP:"£",HKD:"HK$ ",JPY:"¥",MXN:"MX$ ",NOK:"NOK ",NZD:"NZ$ ",PLN:"PLN ",SEK:"SEK ",SGD:"S$ ",USD:"$"},u=["de","es","fr","it"];let m={..."undefined"!=typeof window?window.formatters:{},is_right_adjusted_locale:function(e){return u.includes(e)},currency_symbol:function(e,t){let n="";return n="USD"==e&&t&&"international"==t.usd_type?"US"+this.currency_symbol_mappings[e]+" ":this.currency_symbol_mappings[e],t&&t.withoutSpace?n.trim():n},currency_symbol_mappings:d,money:function(e,t){return t={separator:c.default.t("number.currency.format.separator"),delimiter:c.default.t("number.currency.format.delimiter"),format:c.default.t("number.currency.format.format"),...t},isNaN(t.precision)&&(t.precision=c.default.t("number.currency.format.precision")),"truncate_zeros"===t.type&&(t.precision=parseFloat(e)%1==0?0:2),this.interpolate(t.format,{n:this.format_number(e,t),u:this.currency_symbol(t.currency,t)})},shorter_money:function(e,t){return void 0===t&&(t={}),e<100?t.precision=2:(t.precision=0,e=Math.floor(e)),this.money(e,t)},percent:function(e,t){return t={delimiter:c.default.t("number.percentage.format.delimiter"),format:c.default.t("number.percentage.format.format"),...t},this.interpolate(t.format,{n:this.format_number(e,t)})},format_number:function(e,t){var n,a,i;return t={separator:c.default.t("number.format.separator"),delimiter:c.default.t("number.format.delimiter"),...t},isNaN(t.precision)?t.precision=c.default.t("number.format.precision"):t.precision=Math.abs(t.precision),n=t.precision||t.round?Math.abs(e).toFixed(t.precision):parseInt(Math.abs(e),10).toString(),i=(a=String(parseInt(n,10))).split("").reverse().join("").replace(/(\d{3})(?=\d)/g,"$1"+t.delimiter.split("").reverse().join("")).split("").reverse().join(""),e<0&&(i="-"+i),t.precision&&(i+=t.separator+Math.abs(n-a).toFixed(t.precision).slice(2)),i},interpolate:function(e,t){return e.replace(/\%([\w]+)/g,(function(e,n){return t[n]||""}))},pluralize:function(e,t){var n,a=e,i=["zombie","zombies","cow()","ki(i?)ne","move","moves","sex","sexes","child","children","man","men","person","people","database","databases","quiz","quizzes","matrix","matrices","(vert|ind)ex","(vert|ind)ices","(^ox)","(^ox)en","(alias|status)","(alias|status)es","(octop|vir)us","(octop|vir)i","(cris|ax|test)is","(cris|ax|test)es","shoe","shoes","o","oes","bus","buses","(m|l)ouse","(m|l)ice","(x|ch|ss|sh)","(x|ch|ss|sh)es","movie","movies","series","series","([^aeiouy]|qu)y","([^aeiouy]|qu)ies","([lr])f","([lr])ves","tive","tives","hive","hives","([^f])fe","([^f])ves","(analy|ba|diagno|parenthe|progno|synop|the)sis","(analy|ba|diagno|parenthe|progno|synop|the)ses","([ti])um","([ti])a","news","news","([^s])","()s"],r=i.map(e=>new RegExp(e+"$","i")),o=!1,s=0;function l(e,n){var a=i[s+(1===t?0:1)-s%2];return void 0!==n&&(a=a.replace(/\(.*\)/,n)),a}function c(e,t){return t.toUpperCase()}for(;!o&&s<i.length;)n=r[s+=1],e.match(n)&&(o=!0,a=e.replace(n,l),e.match(/^[A-Z][^A-Z]+$/)?a=a.replace(/^([a-z])/,c):e.match(/^[A-Z]+$/)&&(a=a.toUpperCase()));return a},capitalize:function(e){return"string"!=typeof e?"":e.replace(/^(\w)|\s(\w)/g,(function(e){return e.toUpperCase()}))},to_sentence:function(e,t){switch(t={words_connector:c.default.t("support.array.words_connector"),two_words_connector:c.default.t("support.array.two_words_connector"),last_word_connector:c.default.t("support.array.last_word_connector"),...t},e.length){case 0:return"";case 1:return String(e[0]);case 2:return e[0]+t.two_words_connector+e[1];default:return e.slice(0,-1).join(t.words_connector)+t.last_word_connector+e[e.length-1]}},paragraphize:function(e){return(e=(e=(e=l(e)).replace(/\r\n?/g,"\n")).trim()).length>0&&(e="<p>"+(e=(e=e.replace(/\n{2,}/g,"</p><p>")).replace(/\n/g,"<br />"))+"</p>"),e},time_ago_in_words:function(e){if(!e)return"?";("number"==typeof e||"string"==typeof e&&e.match(/^\d+$/))&&(e=parseInt(1e3*e,10));const t=e,n=i()(Date.now(),e);void 0===m.distance_date_intervals&&(m.distance_date_intervals=[{min:5,i18n_key:"schwamm.just_now"},{min:29,i18n_key:"schwamm.less_than_a_minute_ago"},{min:2640,i18n_key:"schwamm.m_minutes_ago",count_key:"m"},{min:82800,i18n_key:"schwamm.about_h_hours_ago",count_key:"h"},{min:604800,i18n_key:"schwamm.d_days_ago",count_key:"d"},{min:15552e3,i18n_key:"schwamm.on_datetime",count_key:"t"},{min:0,i18n_key:"schwamm.on_year",count_key:"y"}]);const a=m.distance_date_intervals.sort((e,t)=>e.min-t.min),o=a[a.length-1],s=a.reduce((e,t)=>t.min>n&&e===o?t:e,o),l={m:Math.round(n/60),h:Math.round(n/3600),d:Math.round(n/86400),t:Object(r.a)("MMMM D",t),y:Object(r.a)("LL",t)},d=c.default.t(s.i18n_key,{count:l[s.count_key]});return d.match(/NaN|undefined/)?"":d}};"undefined"!=typeof window&&(window.formatters=m);t.b=m}},[[97,1,0]]]);