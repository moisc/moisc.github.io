(window.KSR_webpackjsonp=window.KSR_webpackjsonp||[]).push([[39],{"+DSo":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return l}));const a={zero:[0],one:[1],two:[2],few:[3],many:[],other:[]},i=/\{\{\{\s*(\w+)\s*\}\}\}/g,r=/\{\{\s*(\w+)\s*\}\}/g,o=(e,t)=>e.split(".").reduce((function(e,t){var n=typeof e;return"function"===n||"object"===n&&!!e?e[t]:e}),t),s=e=>{const t=e.split(".");return t[t.length-1].replace(/_/g," ").replace(/(\w+)/g,e=>e.charAt(0).toUpperCase()+e.slice(1))},c=(e,t,n={})=>{const{locale:i,defaultLocale:r}=e,s=e.translations||{};let c=o(t,s[i])||n.default;return void 0===c&&(c=o(t,s[r])),"object"==typeof c&&(c=((e,t)=>{let n,i;return n="number"==typeof t?t:parseInt(t.count,10),"number"!=typeof n||isNaN(n)||(i=Object.keys(a).filter((function(e){if(-1!==a[e].indexOf(n))return e})),0===i.length&&(i="other")),e[i]})(c,n)),c},l=e=>!!c(window.I18n,e)},"+QRC":function(e,t,n){"use strict";var a=n("E9nw"),i={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var n,r,o,s,c,l,d=!1;t||(t={}),n=t.debug||!1;try{if(o=a(),s=document.createRange(),c=document.getSelection(),(l=document.createElement("span")).textContent=e,l.ariaHidden="true",l.style.all="unset",l.style.position="fixed",l.style.top=0,l.style.clip="rect(0, 0, 0, 0)",l.style.whiteSpace="pre",l.style.webkitUserSelect="text",l.style.MozUserSelect="text",l.style.msUserSelect="text",l.style.userSelect="text",l.addEventListener("copy",(function(a){if(a.stopPropagation(),t.format)if(a.preventDefault(),void 0===a.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var r=i[t.format]||i.default;window.clipboardData.setData(r,e)}else a.clipboardData.clearData(),a.clipboardData.setData(t.format,e);t.onCopy&&(a.preventDefault(),t.onCopy(a.clipboardData))})),document.body.appendChild(l),s.selectNodeContents(l),c.addRange(s),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");d=!0}catch(a){n&&console.error("unable to copy using execCommand: ",a),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),d=!0}catch(a){n&&console.error("unable to copy using clipboardData: ",a),n&&console.error("falling back to prompt"),r=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(r,e)}}finally{c&&("function"==typeof c.removeRange?c.removeRange(s):c.removeAllRanges()),l&&document.body.removeChild(l),o()}return d}},"+R6Y":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));const a=e=>(e=>"object"==typeof e&&null!==e&&e.hasOwnProperty("message"))(e)&&(e=>"string"==typeof e.message)(e),i=(e,t="")=>a(e)?e.message:t},"+lZ5":function(e,t,n){"use strict";var a=n("h4vE"),i=n("+2Rf"),r=n.n(i);Object(a.a)(".NS_survey_questions__address",(function(e){r()(".saved-addresses select").change((function(){var e=r()(this).find("option:selected").data("address");r()(".address-fields").find(".country select").val(e.country).trigger("change");var t={name:".name input",line_1:".address_1 input",line_2:".address_2 input",city:".city input",state:".js-state input:not(:disabled), .js-state select:enabled",zip:".zip input",phone_number:".js-phone-number input",saved_address_id:".js-saved-address-id"};Object.keys(e).map(n=>{var a=t[n];r()(".address-fields").find(a).val(e[n])}),r()(".address-fields").find(".js-delivery-notes input").val("")})),e.find(".country select").change((function(){if(!e.hasClass("js_is_preview")){var t=r()(this).closest(".country"),n=t.data("original_country"),a=t.data("original_shipping_amount"),i=r()(this).val(),o=r()(this).find("option:selected").html(),s=r()(this).find("option:selected").data("cost"),c=t.find(".shipping_changed_message"),l=r()(".js-state .select"),d=r()(".js-state .text"),u=r()(".js-state .text_container");l.prop("disabled",!0).addClass("hidden"),d.prop("disabled",!0),u.addClass("hidden"),i&&l.hasClass(i)?r.a.each(l,(function(){var e=r()(this);e.hasClass(i)&&e.prop("disabled",!1).removeClass("hidden")})):(d.prop("disabled",!1),u.removeClass("hidden")),n&&(s>a?(c.show(),c.find(".country-name").html(o)):c.hide())}})),e.find(".country select").trigger("change")}))},"/AD1":function(e,t,n){"use strict";var a=n("60hy");const i=Object(a.b)(window.current_project);window.current_project=i,t.a=i},"/IHD":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return c}));var a=n("xk4V"),i=n.n(a);const r=(...e)=>[].concat(...e).filter(Boolean).join(" "),o=()=>i()().split("-").join(""),s=(e,...t)=>(e||[]).concat(...t);function c(e){return null!=e&&"boolean"!=typeof e&&""!==e}},"/Jws":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("7LsF");const i=Object(a.b)("editorImageUploader",{Component:a.a,reducer:Object(a.d)("Story Image")})},"/MMT":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={canceled:"CANCELED",live:"LIVE",failed:"FAILED",successful:"SUCCESSFUL",started:"STARTED",submitted:"SUBMITTED",suspended:"SUSPENDED",purged:"PURGED"}},"/gmP":function(e,t,n){var a=n("+2Rf");n("+2Rf");!function(e){e.fn.term_form=function(){return this.each((function(){var t=e(this);t.find(".text").on("input keydown paste cut",(function(){e.trim(e(this).val())?e("form.term .ss-delete").show():e("form.term .ss-delete").hide()})).trigger("input").on("blur",(function(){t.submit()})),t.find(".ss-delete").on("click",(function(){e("form.term .text").val("").trigger("input").focus(),t.submit()})),t.find(".text").on("focus",(function(){e(this).addClass("focused")})),t.find(".text").on("blur",(function(){var t=e(this);t.val()||t.removeClass("focused")}))})),this}}(a)},"/j8J":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("q1tI"),i=n.n(a);const r=({children:e,isWatched:t,watchCopy:n,onClick:a})=>{const r=i.a.Children.only(e),o=i.a.cloneElement(r,{onClick:a,isWatched:t,watchCopy:n});return i.a.createElement(i.a.Fragment,null,o)}},"/nlg":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>(null==e?void 0:e.message)&&"string"==typeof e.message?e.message:"string"==typeof e?e:JSON.stringify(e)},0:function(e,t){},"0AyS":function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var a=n("UlFT"),i=n("94td"),r=n("X+my"),o=n("q1tI"),s=n.n(o),c=n("MTFr"),l=n("mm3F"),d=n("qYa2"),u=n("lHf8"),m=n("jmGY"),p=n("ObC8"),h=n("2nV0"),f=n("lM4U"),g=n("dPds");const _=e=>`/video_tracks/${e.tid}/edit`,b=({track:e,importTrack:t,confirmDeleteCaption:n})=>{const{cues:a,language:r}=e,s="IMPORTING"===e.importStatus,c="FAILURE"===e.importStatus,l=!!a.totalCount,d="caption-management-"+e.id,m=o.useRef(null);let h;return h=s?o.createElement("span",null,"Importing file..."):l?o.createElement("span",null,"Track added."):c?o.createElement("span",null,"Import failed."):o.createElement(i.a,{i18nKey:"uploaders.captions.Create_or_import_a_track",create:o.createElement(u.a,{atoms:["pointer"],href:_(e),target:"blank"},Object(i.b)("uploaders.captions.Create"))}),o.createElement("li",{className:"caption-track kds-border-b kds-py-04 flex"},o.createElement("div",{className:"grow1"},o.createElement(g.a.BodyMD,{as:"span",className:"block"},r.name),o.createElement(g.a.BodySM,{as:"span"},h)),o.createElement("div",{className:"flex kds-gap-02 items-center"},o.createElement(k,{hasCues:l,isImporting:s,track:e}),o.createElement(p.a,{variant:"outlined",icon:"icon--download",isLoading:s,compact:!0,"aria-label":"Import .vtt caption file",onPress:()=>m.current.click()}),o.createElement("input",{type:"file",accept:".vtt",id:d,disabled:s,onChange:t(d,e.tid),className:"hide",ref:m}),o.createElement(p.a,{variant:"outlined/destructive",icon:"icon--trash",disabled:s,onPress:n(e.id),"aria-label":"Delete",compact:!0})))},v=({languages:e,tracks:t,updateCaptionSelect:n,selectedCaptionLanguageCode:a,captionCreated:r,videoId:s})=>{const c=((e,t)=>{const n=t.map(e=>e.language.code);return e.filter(e=>!n.includes(e.code))})(e,t),l=c.length>0;return o.createElement("div",null,o.createElement(g.a.HeadingSM,{as:"h4",className:"kds-mb-02"},Object(i.b)("uploaders.Add_captions")),l&&o.createElement("div",{className:"flex kds-gap-02"},o.createElement("div",{className:"grow1"},o.createElement(m.a,{onChange:e=>n(e.target.value),value:a||""},o.createElement("option",{disabled:!0,value:""},Object(i.b)("uploaders.captions.Select_a_language")),c.map(e=>o.createElement("option",{key:e.code,value:e.code},e.name)))),o.createElement(p.a,{onPress:r(c,s),isDisabled:!a},Object(i.b)("uploaders.Add_track"))))},k=({hasCues:e,isImporting:t,track:n})=>{const a=e?"icon--edit":"icon--plus",i=e?"Edit":"Create";return o.createElement(p.a.AsLink,{variant:"outlined",icon:a,href:_(n),"data-tooltip":i,isDisabled:t,target:"_blank","aria-label":i+" caption track",compact:!0})};var y=({state:e,videoOptions:t})=>{const n=e.confirmDeleteCaptionId,{updateCaptionSelect:a,captionCreated:r,cancelDeleteCaption:s,captionDeleted:c,importTrack:l,confirmDeleteCaption:d,videoId:u}=t,m=e.tracks.map(e=>o.createElement(b,{key:e.tid,track:e,importTrack:l,confirmDeleteCaption:d}));return o.createElement("div",null,o.createElement(v,{languages:e.allCaptionLanguages,selectedCaptionLanguageCode:e.selectedCaptionLanguageCode,updateCaptionSelect:a,captionCreated:r,tracks:e.tracks,videoId:u}),o.createElement("ul",null,m),n&&o.createElement(h.a.Modal,{isOpen:!0,onOpenChange:s},o.createElement(f.a,{title:Object(i.b)("uploaders.Are_you_sure"),content:o.createElement(g.a.BodyMD,{as:"p",className:"center"},"This can’t be undone."),actions:({close:e})=>o.createElement(h.a.PrimaryButton,{variant:"filled/destructive",onPress:()=>{c(),e()}},"Delete track")})))},E=n("3Hbt");const j={changeFile:Object(i.b)("uploaders.Change_video"),deleteFile:Object(i.b)("uploaders.Delete_video"),deletingFile:Object(i.b)("uploaders.Deleting_video"),uploadCta:Object(i.b)("uploaders.Drop_a_video_here_or_select_a_file"),uploadCtaMobile:Object(i.b)("uploaders.Upload_a_video"),feelFreeToMoveOn:Object(i.b)("uploaders.Feel_free_to_move_on_video"),validFileTypes:Object(i.b)("uploaders.It_must_be_a_valid_video_file_type")},w=({state:e,dispatch:t,supportsCaptions:n,theme:a=r.a,uploadLimit:i})=>{const o={...e.videoUpload,...e.baseUpload},c={supportsCaptions:n,onCloseShowingCaptions:()=>t(Object(E.closeShowingCaptions)()),onOpenShowingCaptions:()=>t(Object(E.openShowingCaptions)()),importTrack:(e,n)=>()=>t(Object(E.importTrack)(e,n)),confirmDeleteCaption:e=>()=>t(Object(E.confirmDeleteCaption)(e)),updateCaptionSelect:e=>t(Object(E.updateCaptionSelect)(e)),captionCreated:(e,n)=>()=>t(Object(E.captionCreated)(e,n)),cancelDeleteCaption:()=>t(Object(E.cancelDeleteCaption)()),captionDeleted:()=>t(Object(E.captionDeleted)()),videoId:e.baseUpload.asset?e.baseUpload.asset.id:null};return s.a.createElement(S,{state:o,onDeleteAsset:()=>t(Object(l.deleteAsset)()),onDragLeave:()=>t(Object(l.fileDragEnded)()),onDragEnter:()=>t(Object(l.fileDragStarted)()),onDrop:e=>{t(Object(l.fileDragEnded)()),Object(d.a)(e)&&(e.preventDefault(),t(Object(l.uploadFileStart)(e.dataTransfer.files[0],t,i)))},onFileSelect:e=>t(Object(l.uploadFileStart)(e,t,i)),onUploadReset:()=>t(Object(l.uploadReset)()),onCloseDeleteAssetModal:()=>t(Object(l.closeDeleteAssetModal)()),onOpenDeleteAssetModal:()=>t(Object(l.openDeleteAssetModal)()),theme:a,uploadLimit:i,videoOptions:c})},S=Object(c.e)({EmptyState:({activeDragCounter:e,onDragLeave:t,onDragEnter:n,onDrop:a,onFileSelect:r,theme:o,uploadLimit:l})=>s.a.createElement(c.a,{activeDragCounter:e,iconName:"icon--video",maxFileSizeText:Object(i.b)("uploaders.no_larger_than_file_size",{megabytes:l.megabytes}),onDragLeave:t,onDragEnter:n,onDrop:a,onFileSelect:r,theme:o,copyOverrides:j}),ProcessingState:({isDeleting:e,onFileSelect:t,theme:n,timeElapsed:a})=>s.a.createElement(c.b,{isDeleting:e,onFileSelect:t,theme:n,timeElapsed:a,copyOverrides:j}),UploadSuccess:({state:e,onFileSelect:t,onDeleteAsset:n,onCloseDeleteAssetModal:r,onOpenDeleteAssetModal:o,videoOptions:l,theme:d})=>{const{asset:u,isDisabled:m,isShowingCaptions:p}=e,{supportsCaptions:h,onCloseShowingCaptions:f,onOpenShowingCaptions:g}=l,_=h&&s.a.createElement(a.a,{isDisabled:m,isSelected:p,onChange:p?f:g},Object(i.b)("uploaders.Add_captions")),b=h&&p&&s.a.createElement("div",{className:"kds-mt-04"},s.a.createElement(y,{state:e,videoOptions:l,theme:d}));return s.a.createElement(c.c,{onCloseDeleteAssetModal:r,onOpenDeleteAssetModal:o,displayImageUrl:u.previewImageUrl,onFileSelect:t,onDeleteAsset:n,state:e,SupplementalComponent:b,SupplementalComponentControl:_,copyOverrides:j})}})},"0RKZ":function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));const a=t=>{if(t)return window.btoa?window.btoa(t):e.from(t).toString("base64")},i=t=>t?window.atob?window.atob(t):e.from(t,"base64").toString():t}).call(this,n("tjlA").Buffer)},"0Ugc":function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("2UXI");n("RIhn");i()((function(){i()(".js-score-tracking a","click").livequery((function(e){var t=i()(this),n=t.data("score"),a=t.data("version"),o=t.data("pid"),s=2===e.which||e.metaKey||e.ctrlKey||"_blank"===t.target;a&&(s||e.preventDefault(),Object(r.d)("Rec BBall Card Score click",{"rec-score":n,"rec-version":a,pid:o}),s||setTimeout((function(){window.location=t.attr("href")}),50))}))}))},"0VSk":function(e,t,n){"use strict";n.r(t);var a=n("XM0S");const i="undefined"!=typeof window?window.I18n=window.I18n||{}:{};let r=!1;try{r=1===parseInt(localStorage.getItem("i18n_debug"),10)}catch(e){}i.t=(...e)=>Object(a.a)({translations:i.translations,locale:i.locale,defaultLocale:i.default_locale,debug:r},...e),t.default=i},"0kxh":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n("9jZ4");const i=a.d,r=a.e;var o=n("q1tI"),s=n.n(o),c=n("evi+"),l=n("c5x8"),d=n("ObC8"),u=n("sezs");function m({children:e,title:t,titleTag:n,small:d=!1,variant:m="info",persistent:h=!1,onDismiss:f,atoms:g=[],className:_,buttons:b,...v}){var k;const y=Object(o.useRef)(null),E=(({children:e,title:t,"aria-label":n})=>{const a=e;let o;return r(t)&&i(a)?o={message:t}:r(a)&&i(t)?o={message:a}:r(t)&&r(a)&&i(n)?o={title:t,message:a}:r(t)&&r(a)&&r(n)&&(o={message:t,description:a}),o})({atoms:g,title:t,children:e,titleTag:n,small:d,variant:m,persistent:h,onDismiss:f,buttons:b,...v}),[j,w]=Object.values(null!=E?E:{}),S=Object(a.d)(null==E?void 0:E.title)?"p":n,O=Object(o.useRef)(v.autoFocus);Object(o.useEffect)(()=>{O.current&&y.current&&y.current.focus(),O.current=!1},[y]);const[N,C]=s.a.useState(!1),I=Object(o.useCallback)(e=>{null==f||f(e),C(!0)},[f]),x=d?"sm":"md",T=p[null!=m?m:"info"],A="string"==typeof j?"p":"div",D=null!==(k=Object(a.d)(null==E?void 0:E.title)?null:S)&&void 0!==k?k:A,P="string"==typeof w?"p":"div";return N?null:s.a.createElement("article",Object.assign({},v,{className:Object(l.a)(g,"kds-banner",d&&"kds-banner--small",m&&"kds-banner--"+m,_),role:"alert",ref:y}),s.a.createElement(D,{className:"kds-banner__title"},j),s.a.createElement(u.a,{atoms:["kds-banner__icon"],name:T,size:x}),!h&&s.a.createElement(c.a,{className:"kds-banner__dismiss",onPress:I},s.a.createElement(u.a,{name:"icon--close",size:x,atoms:["block"]})),w&&s.a.createElement(P,{className:"kds-banner__description"},w),b&&s.a.createElement("footer",{className:"kds-banner__footer"},"function"==typeof b?b({dismiss:I}):b))}const p={info:"icon--info",warning:"icon--warning",error:"icon--error",success:"icon--success"};m.PrimaryButton=e=>s.a.createElement(d.a,Object.assign({},e,{variant:"outlined",compact:!0})),m.SecondaryButton=e=>s.a.createElement(d.a,Object.assign({},e,{variant:"borderless",compact:!0}))},"0pZ2":function(e){e.exports=JSON.parse('{"AddressAssociatedObject":["Backing","Order","Project","StockLocation"],"Answerable":["BackingAddon","Cart","LineItem","OrderOrderable"],"Attachable":["FreeformPost","InterviewAnswer","Project","Survey"],"AttachedMedia":["AttachedAudio","AttachedVideo","Photo"],"Commentable":["CreatorInterview","FreeformPost","Project"],"Editorial":["Article","BespokeComponent","EditorialRichText","ExploreSubcategories","FeaturedProjectCollection","Header","MastheadImage","NewsCollection","NewsletterSignUp","ProjectCollection","PromoCollection","ShortText","SingleProjectContainer","SurveyEmbed"],"FlaggableContent":["Message","Project"],"Node":["Address","AdjustmentSummary","AiDisclosure","AttachedAudio","AttachedVideo","Backing","Category","Checkout","Comment","Conversation","CreatorInterview","CreatorPrompt","CuratedPage","Flagging","FreeformPost","InterviewAnswer","InterviewQuestion","Location","Message","Order","Organization","Photo","Project","ProjectProfile","Refund","Reward","RewardItem","SavedSearchSegment","ShippingRule","Survey","Tag","User","UserUrl","Video","VideoTrack","VideoTrackCue"],"Orderable":["Reward"],"PaymentSource":["BankAccount","CreditCard"],"Postable":["CreatorInterview","FreeformPost"],"Questionable":["Project","Reward","RewardItem"],"RichTextItem":["RichText","RichTextAudio","RichTextHeader1","RichTextHeader2","RichTextHeader3","RichTextHeader4","RichTextListClose","RichTextListItem","RichTextListOpen","RichTextOembed","RichTextPhoto","RichTextVideo"],"SecretResource":["Reward"],"Shippable":["Reward","RewardItem"],"TimelineEventData":["CreatorInterview","FreeformPost","Project"]}')},"0sfg":function(e,t,n){n("+2Rf"),n("+2Rf");!function(e){Array.prototype.map||(Array.prototype.map=function(e){"use strict";if(null==this)throw new TypeError;var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var a=new Array(n),i=arguments.length>=2?arguments[1]:void 0,r=0;r<n;r++)r in t&&(a[r]=e.call(i,t[r],r,t));return a});var t="A".charCodeAt(0),n="Z".charCodeAt(0);function a(e){return(e=(e=e.toUpperCase()).substr(4)+e.substr(0,4)).split("").map((function(e){var a=e.charCodeAt(0);return a>=t&&a<=n?a-t+10:e})).join("")}function i(e){for(var t,n=e;n.length>2;)t=n.slice(0,9),n=parseInt(t,10)%97+n.slice(t.length);return parseInt(n,10)%97}function r(e,t,n,a){this.countryCode=e,this.length=t,this.structure=n,this.example=a}r.prototype._regex=function(){return this._cachedRegex||(this._cachedRegex=(e=this.structure,t=e.match(/(.{3})/g).map((function(e){var t,n=e.slice(0,1),a=parseInt(e.slice(1),10);switch(n){case"A":t="0-9A-Za-z";break;case"B":t="0-9A-Z";break;case"C":t="A-Za-z";break;case"F":t="0-9";break;case"L":t="a-z";break;case"U":t="A-Z";break;case"W":t="0-9a-z"}return"(["+t+"]{"+a+"})"})),new RegExp("^"+t.join("")+"$")));var e,t},r.prototype.isValid=function(e){return this.length==e.length&&this.countryCode===e.slice(0,2)&&this._regex().test(e.slice(4))&&1==i(a(e))},r.prototype.toBBAN=function(e,t){return this._regex().exec(e.slice(4)).slice(1).join(t)},r.prototype.fromBBAN=function(e){if(!this.isValidBBAN(e))throw new Error("Invalid BBAN");var t=("0"+(98-i(a(this.countryCode+"00"+e)))).slice(-2);return this.countryCode+t+e},r.prototype.isValidBBAN=function(e){return this.length-4==e.length&&this._regex().test(e)};var o={};function s(e){o[e.countryCode]=e}s(new r("AD",24,"F04F04A12","AD1200012030200359100100")),s(new r("AE",23,"F03F16","AE070331234567890123456")),s(new r("AL",28,"F08A16","AL47212110090000000235698741")),s(new r("AT",20,"F05F11","AT611904300234573201")),s(new r("AZ",28,"U04A20","AZ21NABZ00000000137010001944")),s(new r("BA",20,"F03F03F08F02","BA391290079401028494")),s(new r("BE",16,"F03F07F02","BE68539007547034")),s(new r("BG",22,"U04F04F02A08","BG80BNBG96611020345678")),s(new r("BH",22,"U04A14","BH67BMAG00001299123456")),s(new r("BR",29,"F08F05F10U01A01","BR9700360305000010009795493P1")),s(new r("CH",21,"F05A12","CH9300762011623852957")),s(new r("CR",21,"F03F14","CR0515202001026284066")),s(new r("CY",28,"F03F05A16","CY17002001280000001200527600")),s(new r("CZ",24,"F04F06F10","CZ6508000000192000145399")),s(new r("DE",22,"F08F10","DE89370400440532013000")),s(new r("DK",18,"F04F09F01","DK5000400440116243")),s(new r("DO",28,"U04F20","DO28BAGR00000001212453611324")),s(new r("EE",20,"F02F02F11F01","EE382200221020145685")),s(new r("ES",24,"F04F04F01F01F10","ES9121000418450200051332")),s(new r("FI",18,"F06F07F01","FI2112345600000785")),s(new r("FO",18,"F04F09F01","FO6264600001631634")),s(new r("FR",27,"F05F05A11F02","FR1420041010050500013M02606")),s(new r("GB",22,"U04F06F08","GB29NWBK60161331926819")),s(new r("GE",22,"U02F16","GE29NB0000000101904917")),s(new r("GI",23,"U04A15","GI75NWBK000000007099453")),s(new r("GL",18,"F04F09F01","GL8964710001000206")),s(new r("GR",27,"F03F04A16","GR1601101250000000012300695")),s(new r("GT",28,"A04A20","GT82TRAJ01020000001210029690")),s(new r("HR",21,"F07F10","HR1210010051863000160")),s(new r("HU",28,"F03F04F01F15F01","HU42117730161111101800000000")),s(new r("IE",22,"U04F06F08","IE29AIBK93115212345678")),s(new r("IL",23,"F03F03F13","IL620108000000099999999")),s(new r("IS",26,"F04F02F06F10","IS140159260076545510730339")),s(new r("IT",27,"U01F05F05A12","IT60X0542811101000000123456")),s(new r("KW",30,"U04A22","KW81CBKU0000000000001234560101")),s(new r("KZ",20,"F03A13","KZ86125KZT5004100100")),s(new r("LB",28,"F04A20","LB62099900000001001901229114")),s(new r("LI",21,"F05A12","LI21088100002324013AA")),s(new r("LT",20,"F05F11","LT121000011101001000")),s(new r("LU",20,"F03A13","LU280019400644750000")),s(new r("LV",21,"U04A13","LV80BANK0000435195001")),s(new r("MC",27,"F05F05A11F02","MC5811222000010123456789030")),s(new r("MD",24,"U02F18","MD24AG000225100013104168")),s(new r("ME",22,"F03F13F02","ME25505000012345678951")),s(new r("MK",19,"F03A10F02","MK07250120000058984")),s(new r("MR",27,"F05F05F11F02","MR1300020001010000123456753")),s(new r("MT",31,"U04F05A18","MT84MALT011000012345MTLCAST001S")),s(new r("MU",30,"U04F02F02F12F03U03","MU17BOMM0101101030300200000MUR")),s(new r("NL",18,"U04F10","NL91ABNA0417164300")),s(new r("NO",15,"F04F06F01","NO9386011117947")),s(new r("PK",24,"U04A16","PK36SCBL0000001123456702")),s(new r("PL",28,"F08F16","PL61109010140000071219812874")),s(new r("PS",29,"U04A21","PS92PALS000000000400123456702")),s(new r("PT",25,"F04F04F11F02","PT50000201231234567890154")),s(new r("RO",24,"U04A16","RO49AAAA1B31007593840000")),s(new r("RS",22,"F03F13F02","RS35260005601001611379")),s(new r("SA",24,"F02A18","SA0380000000608010167519")),s(new r("SE",24,"F03F16F01","SE4550000000058398257466")),s(new r("SI",19,"F05F08F02","SI56263300012039086")),s(new r("SK",24,"F04F06F10","SK3112000000198742637541")),s(new r("SM",27,"U01F05F05A12","SM86U0322509800000000270100")),s(new r("TN",24,"F02F03F13F02","TN5910006035183598478831")),s(new r("TR",26,"F05A01A16","TR330006100519786457841326")),s(new r("VG",24,"U04F16","VG96VPVG0000012345678901")),s(new r("AO",25,"F21","AO69123456789012345678901")),s(new r("BF",27,"F23","BF2312345678901234567890123")),s(new r("BI",16,"F12","BI41123456789012")),s(new r("BJ",28,"F24","BJ39123456789012345678901234")),s(new r("CI",28,"U01F23","CI17A12345678901234567890123")),s(new r("CM",27,"F23","CM9012345678901234567890123")),s(new r("CV",25,"F21","CV30123456789012345678901")),s(new r("DZ",24,"F20","DZ8612345678901234567890")),s(new r("IR",26,"F22","IR861234568790123456789012")),s(new r("JO",30,"A04F22","JO15AAAA1234567890123456789012")),s(new r("MG",27,"F23","MG1812345678901234567890123")),s(new r("ML",28,"U01F23","ML15A12345678901234567890123")),s(new r("MZ",25,"F21","MZ25123456789012345678901")),s(new r("QA",29,"U04A21","QA30AAAA123456789012345678901")),s(new r("SN",28,"U01F23","SN52A12345678901234567890123")),s(new r("UA",29,"F25","UA511234567890123456789012345"));var c=/[^a-zA-Z0-9]/g,l=/(.{4})(?!$)/g;function d(e){return"string"==typeof e||e instanceof String}e.isValid=function(e){if(!d(e))return!1;e=this.electronicFormat(e);var t=o[e.slice(0,2)];return!!t&&t.isValid(e)},e.toBBAN=function(e,t){void 0===t&&(t=" "),e=this.electronicFormat(e);var n=o[e.slice(0,2)];if(!n)throw new Error("No country with code "+e.slice(0,2));return n.toBBAN(e,t)},e.fromBBAN=function(e,t){var n=o[e];if(!n)throw new Error("No country with code "+e);return n.fromBBAN(this.electronicFormat(t))},e.isValidBBAN=function(e,t){if(!d(t))return!1;var n=o[e];return n&&n.isValidBBAN(this.electronicFormat(t))},e.printFormat=function(e,t){return void 0===t&&(t=" "),this.electronicFormat(e).replace(l,"$1"+t)},e.electronicFormat=function(e){return e.replace(c,"").toUpperCase()},e.countries=o}(t)},"0ycM":function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n("jmLK"),i=n("law3"),r=n("q1tI"),o=n.n(r),s=n("pe0Q"),c=n("aaNh"),l=n("RwCH"),d=n("ocnG"),u=n("Qbqs");const m=({children:e,delay:t,open:n})=>o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"hide-lg"},e),o.a.createElement("div",{className:"hide block-lg"},o.a.createElement(d.a,{open:n,delay:t,duration:200,transitions:[Object(u.a)()],keepMounted:!0},e))),p=({initialIsDisliked:e=!1,initialIsLiked:t=!1,initialIsWatched:n=!1,interactionsVisibility:r,onWatchToggle:d,pid:u,trackingContext:p})=>o.a.createElement("div",{className:"flex items-center justify-between px3 flex-column-lg px0-lg"},o.a.createElement(m,{open:r,delay:0},o.a.createElement(s.a,{pid:u,initialIsWatched:n,onWatchToggle:d,trackingContext:p},o.a.createElement(c.a,null))),o.a.createElement("div",{className:"flex items-center flex-column-lg"},o.a.createElement("div",{className:"pl2 pl0-lg"},o.a.createElement(m,{open:r,delay:35},o.a.createElement(i.a,{pid:u,initialIsLiked:t,trackingContext:p},o.a.createElement(l.a,{interaction:"like"})))),o.a.createElement("div",{className:"pl2 pl0-lg"},o.a.createElement(m,{open:r,delay:70},o.a.createElement(a.a,{pid:u,initialIsDisliked:e,trackingContext:p},o.a.createElement(l.a,{interaction:"dislike"}))))))},"109u":function(e,t,n){"use strict";n.r(t),n.d(t,"projectFlaggingInit",(function(){return c}));var a=n("q1tI"),i=n.n(a),r=n("i8i4"),o=n.n(r),s=n("UNyc");const c=()=>{const e=document.getElementById("react-flag-project");e&&o.a.render(i.a.createElement(s.a,null),e)};c()},"18cT":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("iuhU"),i=n("q1tI"),r=n.n(i),o=n("egyr");const s=({containerAtoms:e,children:t,spinnerAtoms:n,...i})=>r.a.createElement("div",{className:Object(a.b)("display-grid items-start justify-items-center",e)},r.a.createElement("div",{key:"spinner",className:Object(a.b)("row-start-1 col-start-1",n)},r.a.createElement(o.a,i)),r.a.createElement("div",{key:"content",className:Object(a.b)("row-start-1 col-start-1 relative")},t))},"1I1t":function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("2UXI"),o=n("xG9w"),s=n("GRmu"),c=n("DQv1");i()((function(){var e=".NS_message_threads__show";function t(e){return e.closest("#preview, .render_mustache, .js-message-thread").data("data")}i()(document).on("click",e+" .pledge_details_link",(function(t){i()(e).find(".pledge_details").toggleClass("visible"),i()(document).trigger("resize"),i()(this).toggleClass("selected"),Object(r.d)("Message Info Toggle",{text:i.a.trim(i()(this).text())}),t.preventDefault()})),i()(e+":visible").livequery((function(){var n=i()(this),a=t(n);function r(e){i.a.ajax({url:a.urls.web.read,type:"put"}),n.trigger("message_thread_read",[a]),e&&e.preventDefault()}a.unread_messages_count>0&&r(),i()(e+" .mark_as_unread").on("click",(function(e){i.a.ajax({url:a.urls.web.unread,type:"put"}),n.trigger("message_thread_unread",[a]),e&&e.preventDefault()})),i()(e+" .mark_as_read").on("click",r)})),i()(document).on("submit",e+" form.reply",(function(n){var a=i()(this);a.find('[name="message[body]"]').val()?a.is(".submitting")||(function(e){var t=e.find('input[type="submit"]');e.addClass("submitting"),t.addClass("btn--disabled")}(a),function(n){var a="messages";"undefined"!=typeof current_project&&(a="project_messages");n.closest(".modal_dialog").length&&(a="backer_modal");"backers_show"===i()("body").attr("id")&&(a="backer_page");"backings_show"!==i()("body").attr("id")&&"backings_index"!==i()("body").attr("id")||(a="backings_show");i.a.ajax({url:n.attr("action"),type:n.attr("method"),dataType:"json",data:n.serialize()+"&"+i.a.param({"mp[message_context]":a}),success:function(a){var r=t(n),l=n.closest(e).find("ul.messages");a.errors?o.default.each(o.default.keys(a.errors),(function(e){Object(s.a)({error:e+": "+a.errors[e]})})):(l.append(Object(c.a)("messages/_show",a)).trigger("message_sent",r?[r.backing?r.backing.id:void 0,l.children().length]:[]),i()(document).trigger("resize")),n.get(0).reset(),function(e){var t=e.find('input[type="submit"]');e.removeClass("submitting"),t.removeClass("btn--disabled")}(n)}})}(a)):Object(s.a)({error:"Please add a message"}),n.preventDefault()})),i()(document).on("focus",e+" form.reply textarea",(function(){var e=i()(this);e.closest("form.reply").addClass("replying"),e.removeAttr("placeholder")})),i()(document).on("click",e+" .respond_link",(function(t){i()(e+" form.reply textarea").focus(),t.preventDefault()}))}))},"1OuE":function(e,t,n){"use strict";n.d(t,"d",(function(){return k})),n.d(t,"c",(function(){return j})),n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return S}));var a=n("cPJV"),i=n.n(a),r=n("bgw5"),o=n.n(r),s=n("Us+F"),c=n.n(s),l=n("/S0t"),d=n.n(l),u=n("LKA2"),m=n.n(u),p=n("hmb4"),h=n.n(p),f=n("uAXs"),g=n.n(f),_=n("QPlQ"),b=n.n(_),v=n("2hq0");const k={de:o(),en:c(),es:d(),fr:m(),ja:g(),it:h(),zh:b()},y={"MMM YYYY":{de:"MMM YYYY",en:"MMM YYYY",es:"MMM YYYY",fr:"MMM YYYY",it:"MMM YYYY",ja:"YYYY年 MMM",zh:"MMM YYYY"},"MMMM D":{de:"D. MMMM",en:"MMMM D",es:"D [de] MMMM [de]",fr:"D MMMM",it:"D MMMM",ja:"YYYY年M月D日",zh:"MMMM D"},LTS:{de:"HH:mm:ss",en:"h:mm:ss A",es:"H:mm:ss",fr:"HH:mm:ss",it:"HH:mm:ss",ja:"HH:mm:ss",zh:"h:mm:ss aa"},LT:{de:"HH:mm",en:"h:mm A",es:"H:mm",fr:"HH:mm",it:"HH:mm",ja:"HH:mm",zh:"h:mm aa"},L:{de:"DD.MM.YYYY",en:"MM/DD/YYYY",es:"DD/MM/YYYY",fr:"DD/MM/YYYY",it:"DD/MM/YYYY",ja:"YYYY/MM/DD",zh:"MM/DD/YYYY"},l:{de:"D.M.YYYY",en:"M/D/YYYY",es:"D/M/YYYY",fr:"D/M/YYYY",it:"D/M/YYYY",ja:"YYYY/MM/DD",zh:"MM/DD/YYYY"},"l LT":{de:"D.M.YYYY HH:mm",en:"M/D/YYYY h:mm A",es:"D/M/YYYY HH:mm",fr:"D/M/YYYY HH:mm",it:"D/M/YYYY HH:mm",ja:"YYYY/MM/DD HH:mm",zh:"MM/DD/YYYY h:mm aa"},LL:{de:"D. MMMM YYYY",en:"MMMM D, YYYY",es:"D [de] MMMM [de] YYYY",fr:"D MMMM YYYY",it:"D MMMM YYYY",ja:"YYYY年M月D日",zh:"MMMM D YYYY"},ll:{de:"D. MMM YYYY",en:"MMM D YYYY",es:"D [de] MMM [de] YYYY",fr:"D MMM YYYY",it:"D MMM YYYY",ja:"YYYY年M月D日",zh:"MMM D YYYY"},LLL:{de:"D. MMMM YYYY HH:mm",en:"MMMM D, YYYY h:mm A",es:"D [de] MMMM [de] YYYY H:mm",fr:"D MMMM YYYY HH:mm",it:"D MMMM YYYY HH:mm",ja:"YYYY年M月D日 のHH:mm",zh:"MMMM D YYYY h:mm aa"},lll:{de:"D. MMM YYYY HH:mm",en:"MMM D, YYYY h:mm A",es:"D [de] MMM [de] YYYY H:mm",fr:"D MMM YYYY HH:mm",it:"D MMM YYYY HH:mm",ja:"YYYY年M月D日 のHH:mm",zh:"MMM D, YYYY h:mm A"},LLLL:{de:"dddd, D. MMMM YYYY HH:mm",en:"dddd, MMMM D YYYY h:mm A",es:"dddd, D [de] MMMM [de] YYYY H:mm",fr:"dddd D MMMM YYYY HH:mm",it:"dddd D MMMM YYYY HH:mm",ja:"YYYY年M月D日 (dddd) のHH:mm",zh:"dddd, MMMM D YYYY h:mm aa"},llll:{de:"ddd, D. MMMM YYYY HH:mm",en:"ddd, MMMM D YYYY h:mm A",es:"ddd, D [de] MMMM [de] YYYY H:mm",fr:"ddd D MMMM YYYY HH:mm",it:"ddd D MMMM YYYY HH:mm",ja:"YYYY年M月D日 (ddd) のHH:mm",zh:"ddd, MMMM D YYYY h:mm A"}},E=Object.keys(y).map(e=>e+" z"),j=(e,t,n)=>((e,t,n)=>{if(E.indexOf(t)>=0){const a=y[t.replace(/ z$/,"")][e];return`${i()(n,a,{locale:k[e]})} ${Object(v.a)(n)}`}return i()(n,t,{locale:k[e]})})(e,((e,t)=>Object.keys(y).indexOf(t)>=0?y[t][e]:t)(e,t),n),w=(e,t)=>j(window.I18n.locale||window.I18n.default_locale,e,t),S=(e,t)=>w(e,1e3*t)},"1UYd":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("pTxv"),i=n("mEsB"),r=n("94td"),o=n("/IHD"),s=n("q1tI"),c=n.n(s);const l=({text:e,disabled:t,disabledText:n,atoms:l,onClick:d})=>{const{showTooltip:u,eventHandlers:m}=(()=>{const[e,t]=Object(s.useState)(!1);return{showTooltip:e,eventHandlers:{onPointerEnter:()=>t(!0),onPointerLeave:()=>t(!1),onPointerOut:()=>t(!1),onBlur:()=>t(!1)}}})(),p=t&&n&&u,h=c.a.createElement("div",{className:Object(o.a)(l,"w100p")},c.a.createElement(a.b,Object.assign({disabled:t,type:"submit",theme:"create",atoms:[Object(o.a)(l,"w100p")],onClick:d},m),e||Object(r.b)("rewards.continue")));return p?c.a.createElement(i.a,{placement:"top",label:n||"",hideArrow:!1,open:u,focusWithin:!0},h):h}},"1eGs":function(e,t,n){"use strict";n.d(t,"c",(function(){return i}));n("VX74");var a=n("DE4Y");n.d(t,"a",(function(){return a.F})),n.d(t,"b",(function(){return a.G}));const i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Posts"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectSlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"state"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PostState"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"projectSlug"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"posts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"state"},value:{kind:"Variable",name:{kind:"Name",value:"state"}}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"20"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"startCursor"}},{kind:"Field",name:{kind:"Name",value:"endCursor"}},{kind:"Field",name:{kind:"Name",value:"hasNextPage"}},{kind:"Field",name:{kind:"Name",value:"hasPreviousPage"}}]}},{kind:"Field",name:{kind:"Name",value:"edges"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"}},{kind:"Field",name:{kind:"Name",value:"node"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"actions"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edit"}}]}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"publishedAt"}},{kind:"Field",name:{kind:"Name",value:"createdAt"}},{kind:"Field",name:{kind:"Name",value:"likesCount"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CreatorInterview"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commentsCount"},arguments:[{kind:"Argument",name:{kind:"Name",value:"withReplies"},value:{kind:"BooleanValue",value:!0}}]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FreeformPost"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commentsCount"},arguments:[{kind:"Argument",name:{kind:"Name",value:"withReplies"},value:{kind:"BooleanValue",value:!0}}]}]}}]}}]}}]}}]}}]}}]}},"1uWx":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return m})),n.d(t,"i",(function(){return f})),n.d(t,"j",(function(){return h})),n.d(t,"k",(function(){return _})),n.d(t,"l",(function(){return g})),n.d(t,"o",(function(){return v})),n.d(t,"p",(function(){return b})),n.d(t,"m",(function(){return y})),n.d(t,"n",(function(){return k}));var a=n("94td"),i=n("q1tI"),r=n("b8Ld");let o=function(e){return e.icon="icon--text-bold",e.id="bold",e.style="BOLD",e}({});const s=e=>i.createElement(r.a,{isActive:e.isActive,onMouseDown:e.onClick,toolTip:Object(a.b)("rich_editor.Bold"),icon:o.icon,toolId:o.id});let c=function(e){return e.icon="",e.id="header",e.style="header-one",e.label="Header 1",e}({});const l=e=>i.createElement(r.a,{isActive:e.isActive,onMouseDown:e.onClick,toolTip:Object(a.b)(e.headerDropdownEnabled?"rich_editor.Header_1":"rich_editor.Headline"),label:c.label,icon:c.icon,toolId:c.id,headerDropdownEnabled:e.headerDropdownEnabled});let d=function(e){return e.icon="",e.id="header2",e.style="header-two",e.label="Header 2",e}({});const u=e=>i.createElement(r.a,{isActive:e.isActive,onMouseDown:e.onClick,toolTip:Object(a.b)("rich_editor.Header_2"),label:d.label,icon:d.icon,toolId:d.id});let m=function(e){return e.icon="",e.id="header3",e.style="header-three",e.label="Header 3",e}({});const p=e=>i.createElement(r.a,{isActive:e.isActive,onMouseDown:e.onClick,toolTip:Object(a.b)("rich_editor.Header_3"),label:m.label,icon:m.icon,toolId:m.id});let h=function(e){return e.icon="icon--text-italic",e.id="italic",e.style="ITALIC",e}({});const f=e=>i.createElement(r.a,{isActive:e.isActive,onMouseDown:e.onClick,toolTip:Object(a.b)("rich_editor.Italic"),icon:h.icon,toolId:h.id});let g=function(e){return e.icon="icon--text-bullet",e.id="list",e.style="unordered-list-item",e}({});const _=e=>i.createElement(r.a,{isActive:e.isActive,onMouseDown:e.onClick,toolTip:Object(a.b)("rich_editor.List"),icon:g.icon,toolId:g.id});let b=function(e){return e.icon="",e.id="quote",e.style="blockquote",e.label="Quote",e}({});const v=e=>i.createElement(r.a,{isActive:e.isActive,onMouseDown:e.onClick,toolTip:Object(a.b)("rich_editor.Block_quote"),label:b.label,icon:b.icon,toolId:b.id});let k=function(e){return e.icon="",e.id="normal",e.style="unstyled",e.label="Normal text",e}({});const y=e=>i.createElement(r.a,{isActive:e.isActive,onMouseDown:e.onClick,toolTip:Object(a.b)("rich_editor.Normal_text"),label:k.label,icon:k.icon,toolId:k.id})},"1vCr":function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u}));var a=n("mv45"),i=n("94td"),r=n("TIPN"),o=n("/nlg"),s=n("9jZ4"),c=n("q1tI"),l=n("Ty5D");const d=(e,t)=>t&&e in t?t[e]:null;class u extends c.Component{constructor(e){super(e),this.mounted=void 0,this.onBeforeUnload=e=>{if(this.warnBeforeDirtyUnmount()&&this.state.dirty)return e.returnValue="",""},this.resetValues=()=>{this.setState({values:{},isSubmitting:!1,errors:null,dirty:!1})},this.setValues=e=>{this.setState(t=>{const n={...t.values,...e};return{values:n,errors:t.errors&&"function"==typeof this.props.validate?this.props.validate({...this.props.initialValues,...n}):null,dirty:!Object(s.j)(this.props.initialValues,n)}})},this.setErrors=e=>{this.setState({isSubmitting:!1,dirty:!0,errors:e})},this.onSubmit=e=>async t=>{(null==t?void 0:t.preventDefault)&&"function"==typeof t.preventDefault&&t.preventDefault();let n=this.state.dirty,c=null;if(this.state.isSubmitting)return{errors:c,dirty:n};if(this.setState({isSubmitting:!0}),"function"==typeof this.props.validate){const e=this.props.validate({...this.props.initialValues,...this.state.values}),t=this.props.scrollTopWhenError;if(!Object(s.d)(e))return("boolean"!=typeof t||t)&&Object(r.d)(),this.setErrors(e),{errors:e,dirty:n}}try{await this.props.onSubmit(this.values(),e),n=!1}catch(e){const t=Object(a.f)(e),n=t?null:Object(o.a)(e),r=t?{}:{general:Object(i.b)("project_updates.An_unexpected_error_occurred")};c={...t,...r},"function"==typeof this.props.onError&&this.props.onError(t,n)}return this.mounted&&this.setState({isSubmitting:!1,errors:c,dirty:n}),{errors:c,dirty:n}},this.mounted=!1,this.state={values:{},isSubmitting:!1,errors:null,dirty:!1}}warnBeforeDirtyUnmount(){return"boolean"==typeof this.props.warnBeforeDirtyUnmount?this.props.warnBeforeDirtyUnmount:"function"==typeof this.props.warnBeforeDirtyUnmount&&this.props.warnBeforeDirtyUnmount(this.values())}componentDidMount(){this.mounted=!0,window.addEventListener("beforeunload",this.onBeforeUnload)}componentWillUnmount(){this.mounted=!1,window.removeEventListener("beforeunload",this.onBeforeUnload)}shouldComponentUpdate(e,t){return!Object(s.j)(e,this.props)||!Object(s.j)(e.initialValues,this.props.initialValues)||!Object(s.j)(t,this.state)}values(){return{...this.props.initialValues,...this.state.values}}render(){const e={errors:this.state.errors,isDirty:this.state.dirty,isSubmitting:this.state.isSubmitting,onSubmit:this.onSubmit(null),onSubmitWithExtras:this.onSubmit,resetValues:this.resetValues,setValues:this.setValues,values:this.values(),ownProps:{}};let t;if(this.props.render)t=this.props.render;else{if("function"!=typeof this.props.children)throw new Error("WithFormState must have a render or children prop that is a function.");t=this.props.children}let n=null;return this.warnBeforeDirtyUnmount()&&(n=c.createElement(l.a,{when:this.state.dirty&&!this.state.isSubmitting,message:Object(i.b)("project_updates.Are_you_sure_you_want_to_leave")})),c.createElement(c.Fragment,{},t(e),n)}}},28:function(e,t,n){n("bZMm"),n("LSZE"),n("ls82"),n("3Siy"),n("Wr5T"),n("U3M1"),n("GeBq"),e.exports=n("oHnK")},"2A98":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));let a=function(e){return e.ADD_ONS="add_ons",e.BACKER_SURVEY_BUILD="backer_survey_build",e.BUILD="build",e.CREATOR_DASHBOARD="creator_dashboard",e.DISCOVER="discover",e.EXPERTS="experts",e.ITEM_QUESTIONS_DRAFT="item_questions_draft",e.PROFILE="profile",e.PROJECT="project",e.SETTINGS="settings",e.MOBILE="mobile",e}({})},"2DJ9":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var a=n("q1tI"),i=n.n(a);const r=["9","10","12","14","15","16","20","24","30","36","48","small","medium","large"],o=e=>{if(r.includes(e))return["icon-"+e];throw new Error("invalid size class")},s=i.a.forwardRef((e,t)=>{var n,a,r;const{name:s,label:c,size:l="small",atoms:d=[],defsElement:u,inlineFill:m,id:p,...h}=e,f=["svg-icon__"+s].concat(o(l)).concat(d).join(" ");return i.a.createElement("svg",Object.assign({id:p},h,{"aria-label":null!==(n=e["aria-label"])&&void 0!==n?n:c,"aria-hidden":null!==(a=e["aria-hidden"])&&void 0!==a?a:!c,fill:null!==(r=e.fill)&&void 0!==r?r:m,ref:t,className:f}),!!u&&u,i.a.createElement("use",{xlinkHref:"#"+s}))})},"2Lb1":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("haZ8"),i=n("q1tI");const r=({header:e,footer:t,body:n,atoms:r,surface:o=!1})=>{const s=o?a.a:i.Fragment;return i.createElement(s,r?{atoms:r}:{},i.createElement("article",{className:"relative"},e&&i.createElement("header",null,e),n,t&&i.createElement("footer",null,t)))}},"2NEC":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("L/h+"),i=n("FiUa"),r=n("dPds"),o=n("94td"),s=n("1OuE"),c=n("q1tI");class l extends c.Component{renderSequenceInfo(){return c.createElement("div",{className:"kds-mb-02 flex justify-between kds-gap-04"},c.createElement("div",null,c.createElement(r.a.HeadingMD,{as:"span",className:"kds-text-secondary"},this.props.publishedAt?Object(o.b)("new_project_update.Update")+" #"+this.props.sequence:Object(o.b)("new_project_update.Update")+" #"),!this.props.isPublic&&c.createElement(i.a,{variant:"gray",atoms:"kds-ml-02"},Object(o.b)("project_updates.Backers_only"))),this.props.PinningUI)}renderTitle(){return c.createElement(r.a.HeadingXL,{as:"h2",className:"kds-mb-04"},this.props.title)}renderAuthorInfo(){return c.createElement("div",{className:"kds-mb-03 kds-pb-03 flex type-14 items-start kds-border-b"},c.createElement("div",{className:"shrink0"},c.createElement(a.a,{size:8,imageUrl:this.props.authorAvatarUrl})),c.createElement("div",{className:"kds-ml-02"},c.createElement("div",null,c.createElement(r.a.HeadingMD,{as:"span",className:"kds-text-secondary"},this.props.authorName),c.createElement(i.a,{variant:"green",atoms:"kds-ml-02"},Object(o.b)("project_update."+this.props.authorRole))),c.createElement(r.a.BodySM,{as:"span",className:"kds-text-secondary"},this.props.publishedAt?Object(s.b)("LL",this.props.publishedAt):Object(o.b)("project_update.Not_published"))))}render(){return c.createElement(c.Fragment,null,this.renderSequenceInfo(),this.renderTitle(),this.renderAuthorInfo())}}},"2UXI":function(e,t,n){"use strict";n.d(t,"a",(function(){return A})),n.d(t,"c",(function(){return I})),n.d(t,"d",(function(){return D})),n.d(t,"e",(function(){return P})),n.d(t,"b",(function(){return R}));var a=n("MgNI"),i=n("o3IG"),r=n("ZCIj"),o=n("c6/r"),s=n("S1QU"),c=n("CjI4"),l=n("/AD1"),d=n("WjF9"),u=n("0VSk"),m=n("+2Rf"),p=n.n(m),h=n("yQm5"),f=n.n(h);const g=window.device_attributes||{};var _=n("aNAf");"true"===r.b.getItem("koala_debug")&&(window.koala_debug=!0);const b=e=>{const t=e.split("/");return t.length>=3?t[2]:""},v=()=>{const e=navigator.userAgent,t={is_ua_bot:g.isBot};var n;return{...(n={$os:g.osName,os_version:g.osVersion,$browser:g.browserName,browser_version:g.browserVersion,$referrer:document.referrer,$referring_domain:b(document.referrer),$device:g.deviceName,user_agent:e},Object.keys(n).reduce((e,t)=>{const a=n[t];return"string"==typeof a&&0!=a.length?{...e,[t]:a}:e},{})),...{$screen_height:screen.height,$screen_width:screen.width},...t}},k=(e,t)=>{const n={event:e,properties:{...v(),distinct_id:Object(_.a)(),...t}},a=JSON.stringify(n);return window.koala_debug&&(window.console.log("KOALA REQUEST:"),window.console.log(n)),p.a.ajax({type:"POST",url:window.koala_endpoint,data:a,contentType:"text/plain; charset=UTF-8"})};var y=k,E=(e,t,n)=>{p()(e).click((function(e){const a=this.href,i=2===e.which||e.metaKey||e.ctrlKey||"_blank"===this.target;let r;r="function"==typeof n?n(this):n;const o=new Promise((function(e){window.setTimeout(e,300),k(t,r).then(e)}));i||(o.then((function(){window.location=a})),e.preventDefault())}))};const j=e=>1e3*e.valueOf(),w=e=>e/36e5,S=e=>{if(e&&"function"==typeof e.get){const t=Object(i.b)("ref_"+e.get("id"));if(t)return Object(o.a)(t).split("?")[0]}return!1},O=a.maybe.fromNullable(Object(i.b)("user_analytics_properties")).map(JSON.parse).getOrElse({}),N=({user:e,referrerCredit:t,ip:n,ipDatacenter:a,iosAppUUID:i,enabledFeatures:r,windowAndScreenData:o})=>({...o,referrer_credit:t,client_type:p()("body.native-app-request").length?"native":"web",client_platform:p()("body.ios").length?"ios":p()("body.android").length?"android":void 0,device_format:p()("body.phone").length?"phone":p()("body.tablet").length?"tablet":"desktop",apple_pay_capable:p()("body.apple-pay-capable").length>0,android_pay_capable:p()("body.android-pay-capable").length>0,ip_address:n||null,ip_datacenter:a||null,user_logged_in:void 0!==e,user_chosen_currency:e?e.data.chosen_currency:null,user_uid:e&&"function"==typeof e.get?e.get("id"):null,iphone_uuid:i||void 0,enabled_features:Object.keys(r||{}),browser_language:u.default.browser_language,chosen_language:u.default.chosen_language,calculated_language:u.default.calculated_language,display_language:u.default.display_language,...O,mp_lib:"js"}),C=()=>({window_inner_width:window.innerWidth,window_inner_height:window.innerHeight,screen_width:screen.width,screen_height:screen.height,screen_avail_width:screen.availWidth,screen_avail_height:screen.availHeight}),I=(e,t)=>t?Object.keys(t).reduce((n,a)=>({...n,[`${e}_${a}`]:t[a]}),{}):{},x=({user:e,project:t,currentTime:n=new Date})=>{if(!t||"string"==typeof t)return{};const i="function"==typeof t.get?t.get():t,r=a.maybe.fromNullable(i.deadline).map(j).getOrElse(void 0),o=w(r-n)>0?w(r-n):0,s=i.pledged&&i.goal?i.pledged/i.goal:void 0,c={backers_count:i.backers_count,country:i.country,currency:i.currency,deadline:i.deadline,goal:i.goal,last_update_published_at:i.last_update_published_at,launched_at:i.launched_at,name:i.name,pid:i.id,pledged:i.pledged,profile_state:i.profile&&i.profile.state,state:i.state,updates_count:i.updates_count,hours_remaining:r&&o,percent_raised:s,has_video:void 0!==i.video?null!==i.video:void 0,duration:i.launched_at&&(l=a.maybe.fromNullable(i.launched_at).map(j).getOrElse(0)-a.maybe.fromNullable(i.launched_at).map(j).getOrElse(0),w(l)/24),rewards_count:i.rewards?i.rewards.count:void 0,location:i.location?i.location.name:void 0,category_name:i.category?i.category.name:void 0,parent_category:a.maybe.fromNullable(i.category).map(e=>e.parent?e.parent.name:e.name).getOrElse(void 0)};var l;return{...I("project",c),...{user_is_backer:i.is_backing,user_has_starred:i.is_starred,user_is_project_creator:e&&"function"==typeof e.get&&e.get("id")===i.creator.id},...{display_currency:i.current_currency,display_exchange_rate:i.fx_rate}}},T=e=>{if(!e||"string"==typeof e||"function"==typeof e.get&&(!e.get("amount")||!e.get("reward")))return{};const t="function"==typeof e.get?e.get():e,{amount:n,shipping_amount:a,location_id:i}=t,r={amount:n,shipping_amount:a,location_id:i},{estimated_delivery_on:o,id:s,minimum:c,reward:l,shipping_preference:d,shipping_enabled:u}=t.reward,m={...r,...I("reward",{estimated_delivery_on:o,id:s,minimum:c,reward:l,shipping_preference:d,shipping_enabled:u})};return I("checkout",m)},A=(e={})=>{const t=p()("body").attr("id"),n=f()().query(!0).ref,a=document.URL,i=d.a||window.current_user,r=s.a,o=c.a,u=window.current_ip,m=window.current_ip_datacenter,h=window.ios_app_uuid,g=window.enabled_features,_=e.withoutCurrentProject?null:l.a,b=window.current_variants&&"string"!=typeof window.current_variants?{current_variants:window.current_variants}:{},v=S(_);return{page_id:t,ref_tag:n,landing_page_url:a,...x({user:i,project:_,currentTime:e.currentTime}),...T(r),...b,...N({user:i,location:o,referrerCredit:v,ip:u,ipDatacenter:m,iosAppUUID:h,enabledFeatures:g,windowAndScreenData:C()})}},D=(e,t,n={})=>{const a={...A(n),...t};y(e,a)},P=(e,t,n,a={})=>{const i=d.a,r=a.withoutCurrentProject?null:l.a,o=c.a,s=window.current_ip,u=window.current_ip_datacenter,m=window.ios_app_uuid,h=window.enabled_features,f=S(r);window.setTimeout((function(){E(e,t,(function(e){let t=p()(e);return{selected_link:t.attr("data-original_text")?t.data("original_text"):p.a.trim(t.text()),page_id:p()("body").attr("id"),...x({user:i,project:r}),...N({user:i,location:o,referrerCredit:f,ip:s,ipDatacenter:u,iosAppUUID:m,enabledFeatures:h,windowAndScreenData:C()}),...n}}))}),1)},R=(...e)=>new Promise(t=>{setTimeout(()=>{D(...e),t()},300)});window&&(window.track=D)},"2gvo":function(e,t,n){"use strict";n.d(t,"a",(function(){return I})),n.d(t,"b",(function(){return D})),n.d(t,"c",(function(){return P}));var a={};n.r(a),n.d(a,"initializeData",(function(){return h})),n.d(a,"closeComponent",(function(){return f})),n.d(a,"selectOption",(function(){return g})),n.d(a,"fieldChange",(function(){return _})),n.d(a,"focusInput",(function(){return b})),n.d(a,"highlightOption",(function(){return v})),n.d(a,"keyDown",(function(){return k})),n.d(a,"selectedValueUpdated",(function(){return y})),n.d(a,"debounceFieldChange",(function(){return E}));var i=n("RBqt"),r=n("94td"),o=n("SmhT"),s=n("4+Ta"),c=n("/IHD"),l=n("X+my"),d=n("sEfC"),u=n.n(d),m=n("q1tI"),p=n("Z4QI");const h=(e,t)=>({type:"SEARCH_INPUT_INIT_DATA",optionValue:e,optionLabel:t}),f=()=>({type:"SEARCH_INPUT_CLOSE"}),g=(e,t)=>({type:"SEARCH_INPUT_OPTION_SELECT",optionValue:e,optionLabel:t}),_=e=>({type:"SEARCH_INPUT_FIELD_CHANGE",fieldValue:e}),b=()=>({type:"SEARCH_INPUT_FOCUS"}),v=(e,t)=>({type:"SEARCH_INPUT_OPTION_HIGHLIGHT",index:e,options:t}),k=(e,t)=>({type:"SEARCH_INPUT_KEY_DOWN",which:e,options:t}),y=e=>({type:"SEARCH_INPUT_SELECT_ON_VALUE_UPDATE",value:e}),E=e=>({type:"SEARCH_INPUT_DEBOUNCE_FIELD_CHANGE",fieldValue:e}),j=e=>"closed"===e.openState,w=e=>"open"===e.openState;var S=n("0fse");const O=(e,t,n)=>{const a={...t,highlightedIndex:null,openState:"closed",inputFieldValue:e.label,previousSelectedValue:{label:e.label,value:e.value},selectedValue:e.value};return Object(S.f)(a,S.a.action(n.selectedValueUpdated(e.value)))},N=(e,t,n,a)=>{const i=w(e)&&n.length>3,r=i?4:n.length,s=(t,a)=>{let s,c;switch(a){case o.b:s=null!==t?(t+1)%r:0,c=i&&s===r-1?e.selectedValue:n[s].value;break;case o.n:s=null!==t?(r+t-1)%r:r-1,c=i&&s===r-1?e.selectedValue:n[s].value;break;default:s=t,c=e.selectedValue}return{index:s,value:c,label:null!==s?n[s].label:""}},c={...e,isKeyboardEngaged:!0};switch(t){case o.b:if(0===n.length)return e;const{index:i,value:r,label:l}=s(e.highlightedIndex,t);return{...c,highlightedIndex:i,selectedValue:r,inputFieldValue:l};case o.c:if(null===e.highlightedIndex){const t=""===e.selectedValue?e.selectedValue:e.previousSelectedValue.value,n=""===e.selectedValue?"":e.previousSelectedValue.label;return{...c,openState:"closed",selectedValue:t,inputFieldValue:n}}const d=n[e.highlightedIndex];return w(e)&&3===e.highlightedIndex?{...c,openState:"expanded",selectedValue:d.value,inputFieldValue:d.label}:O(d,c,a);case o.d:return{...c,highlightedIndex:null,openState:"closed",selectedValue:e.previousSelectedValue.value,inputFieldValue:e.previousSelectedValue.label};case o.n:if(0===n.length)return e;const{index:u,value:m,label:p}=s(e.highlightedIndex,t);return{...c,highlightedIndex:u,selectedValue:m,inputFieldValue:p};default:return c}},C=u()((e,t)=>{t(e)},500),I=({state:e,dispatch:t,id:n,options:a,hasErrors:i,label:r,ariaLabel:o,...s})=>m.createElement(x,Object.assign({state:e,focusInput:()=>t(b()),closeComponent:()=>t(f()),onOptionSelect:(e,n)=>t(g(e,n)),onFieldChange:e=>{t(_(e)),C(e,e=>t(E(e)))},onOptionHighlight:(e,n)=>t(v(e,n)),onKeyDown:(e,n)=>t(k(e,n)),id:n,options:a,moreResultsString:s.moreResultsString,resultsString:s.resultsString,theme:s.theme,placeholder:s.placeholder,hasErrors:i},r&&{label:r},{ariaLabel:o})),x=({state:e,closeComponent:t,focusInput:n,id:a,moreResultsString:i=Object(r.b)("search_input.more_results"),onFieldChange:s,onKeyDown:c,onOptionHighlight:d,onOptionSelect:u,options:h,placeholder:f="",resultsString:g=(e=>Object(r.b)("search_input.results",{count:e})),theme:_=l.a,hasErrors:b=!1,label:v,ariaLabel:k})=>m.createElement("div",{onBlur:()=>{(e=>"expanded"===e.openState)(e)||t()}},m.createElement("div",{className:"relative"},m.createElement(p.a,Object.assign({},v&&{label:v},{"aria-label":k,id:a,autoComplete:"off",autoFocus:!j(e),placeholder:f,value:e.inputFieldValue,onChange:s,onFocus:n,onKeyDown:e=>((e,t)=>{if([o.n,o.b].includes(e)){if(t.altKey||t.shiftKey)return;t.preventDefault()}c(e,h)})(e.which,e),icon:"icon--search"},!j(e)&&{actionIcon:"icon--close"},{onAction:()=>{j(e)||t()},isInvalid:b})),!j(e)&&m.createElement(T,{key:"options-list",onOptionHighlight:d,onOptionSelect:u,highlightedIndex:e.highlightedIndex,moreResultsString:i,isOpen:w(e),options:h,resultsString:g,theme:_,isKeyboardEngaged:e.isKeyboardEngaged}))),T=({highlightedIndex:e,moreResultsString:t,isOpen:n,options:a,resultsString:r,theme:o,isKeyboardEngaged:s,onOptionSelect:l,onOptionHighlight:d})=>{const u=Object(c.a)("absolute","bg-white","border-"+o["primary-light"],"radius2px","mb10","mt1","p1","shadow-3","shadow-card","subhead-300","r0","l0"),p=r(a.length);return m.createElement("div",{className:"relative w100p z-dropdown-3"},m.createElement("div",{className:u},a.length>0?m.createElement("div",null,m.createElement(i.a,{type:"caption-200",atoms:["dark-grey-400","px2","pt1"]},p),m.createElement("ul",{style:{maxHeight:"19.8rem",overflowY:"scroll"},className:"relative"},(n?a.slice(0,3):a).map((t,n)=>m.createElement(A,{label:t.label,isHighlighted:e===n,key:`${n.toString()}-${t}`,onMouseDown:()=>l(t.value,t.label),onMouseOut:()=>d(null,a),onMouseOver:()=>d(n,a),isKeyboardEngaged:s})),n&&a.length>3&&m.createElement(A,{color:o["primary-dark"],label:t,isHighlighted:3===e,onMouseDown:()=>l(null,null),onMouseOut:()=>d(null,a),onMouseOver:()=>d(3,a),isKeyboardEngaged:s}))):m.createElement("ul",null,m.createElement(A,{label:p}))))},A=({color:e="soft-black",label:t,isHighlighted:n=!1,onMouseDown:a,onMouseOut:r,onMouseOver:o,isKeyboardEngaged:s=!1})=>{const l=Object(c.a)("body-100","flex","items-center","h6","lh3","pointer","px2","transition-all",e,n&&"bg-grey-400");return m.createElement("li",{className:l,onMouseDown:a,onMouseOver:o,onMouseOut:r,ref:e=>{e&&e.parentElement&&n&&s&&(e.parentElement.scrollTop=e.offsetTop+e.offsetHeight-e.parentElement.offsetHeight)}},m.createElement(i.a,{type:"body-100"},t))},D=(e="",t="")=>({highlightedIndex:null,openState:"closed",previousSelectedValue:{value:e,label:t},inputFieldValue:t,selectedValue:e,isKeyboardEngaged:!1}),P=Object(s.c)(I,(e=D(),t,n)=>{switch(t.type){case"SEARCH_INPUT_INIT_DATA":const a=null!==t.optionLabel?t.optionLabel:"",i=null!==t.optionValue?t.optionValue:"";return{...e,selectedValue:i,inputFieldValue:a,previousSelectedValue:{label:a,value:i}};case"SEARCH_INPUT_CLOSE":return{...e,highlightedIndex:null,openState:"closed",selectedValue:e.previousSelectedValue.value,inputFieldValue:e.previousSelectedValue.label};case"SEARCH_INPUT_FIELD_CHANGE":return{...e,highlightedIndex:null,inputFieldValue:t.fieldValue};case"SEARCH_INPUT_OPTION_SELECT":if(null===t.optionValue||null===t.optionLabel)return{...e,openState:"expanded"};const r={value:t.optionValue,label:t.optionLabel};return O(r,e,n);case"SEARCH_INPUT_FOCUS":return{...e,openState:"open",inputFieldValue:""};case"SEARCH_INPUT_OPTION_HIGHLIGHT":return{...e,highlightedIndex:t.index,inputFieldValue:null!==t.index?t.options[t.index].label:e.previousSelectedValue.label,isKeyboardEngaged:!1};case"SEARCH_INPUT_KEY_DOWN":return N(e,t.which,t.options,n);default:return e}},a)},"2hq0":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n("cPJV"),i=n.n(a),r=n("OBTA"),o=n.n(r),s=n("fupu"),c=n.n(s);const l=e=>parseInt(i()(e,"ZZ"),10);const d={"+02:00T":"CEST","+01:00F":"CET","+01:00T":"BST","-00:00F":"GMT","-03:00T":"ADT","-04:00F":"AST","-04:00T":"EDT","-05:00F":"EST","-05:00T":"CDT","-06:00F":"CST","-06:00T":"MDT","-07:00F":"MST","-07:00T":"PDT","-08:00F":"PST","-08:00T":"AKDT","-09:00F":"AKST","-09:00T":"HADT","-10:00F":"HAST","+11:00T":"AEDT","+10:00F":"AEST","+10:30T":"ACDT","+09:30F":"ACST","+09:00T":"AWDT","+08:00F":"AWST"},u=e=>{const t=i()(e,"Z")+(function(e){if(!c()(new Date(e)))throw"input is invalid";const t=l(e),n=l(o()(new Date(e),0)),a=l(o()(new Date(e),5));return t>n||t>a}(e)?"T":"F");if(void 0!==d[t])return d[t]},m=e=>(e=>{const t=e.toString().match(/\(([a-z]{3,4})\)/i);if(t)return t[1].toUpperCase()})(e)||u(e)||i()(e,"UTC Z")},"2n5v":function(e,t,n){"use strict";n("Wp1a"),n("cDWt");var a=n("IVac");n.d(t,"c",(function(){return a.c})),n.d(t,"b",(function(){return a.b})),n.d(t,"d",(function(){return a.g})),n.d(t,"e",(function(){return a.j})),n.d(t,"h",(function(){return a.l}));var i=n("w/TO");n.d(t,"a",(function(){return i.a})),n.d(t,"f",(function(){return i.b})),n.d(t,"g",(function(){return i.c}))},"2nV0":function(e,t,n){"use strict";var a=n("lPcU");n.d(t,"a",(function(){return a.a}))},"2pL9":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("SmhT"),i=n("/IHD"),r=n("q1tI");class o extends r.Component{constructor(e){super(e),this.ref=void 0,this.timeoutID=void 0,this.state={isMenuOpen:!1},this.onClickOutside=e=>{var t,n;(null===(t=this.ref)||void 0===t||null===(n=t.current)||void 0===n?void 0:n.contains(e.target))||this.setState({isMenuOpen:!1})},this.onCloseMenu=()=>{this.setState({isMenuOpen:!1})},this.onOpenMenu=()=>{this.setState({isMenuOpen:!0})},this.onToggleMenu=()=>{this.state.isMenuOpen?this.onCloseMenu():this.onOpenMenu()},this.onBlur=()=>{this.props.stayOpen||(this.timeoutID=setTimeout(()=>{this.state.isMenuOpen&&this.onCloseMenu()},0))},this.onFocus=()=>{clearTimeout(this.timeoutID),this.state.isMenuOpen||this.onOpenMenu()},this.onKeyDown=e=>{e.keyCode===a.d&&this.onCloseMenu()},this.ref=r.createRef(),this.onClickOutside=this.onClickOutside.bind(this),document.addEventListener("mousedown",this.onClickOutside,!0)}render(){return r.createElement(r.Fragment,null,this.props.readOnlyValue?r.createElement("div",{className:"border p2"},this.props.readOnlyValue):r.createElement("div",{"data-test-id":this.props.dataTestId,ref:this.ref,role:"dialog",className:Object(i.a)("relative",...this.props.atoms?this.props.atoms:[]),onBlur:this.onBlur,onFocus:this.onFocus,onKeyDown:this.onKeyDown},this.props.label({isMenuOpen:this.state.isMenuOpen,onOpenMenu:this.onFocus,onCloseMenu:this.onBlur}),this.state.isMenuOpen&&this.props.dropdown({isMenuOpen:this.state.isMenuOpen,onCloseMenu:this.onBlur})))}}},"2sRD":function(e,t,n){"use strict";n("Mk9X");var a=n("KKf6"),i=n("0VSk"),r=n("2hq0");n("+2Rf");!function(e){function t(t,n){this.$div=t,this.options=e.extend({previous_month_text:"< Prev",next_month_text:"Next >",month_texts:[i.default.t("library.calendar_date_picker.January"),i.default.t("library.calendar_date_picker.February"),i.default.t("library.calendar_date_picker.March"),i.default.t("library.calendar_date_picker.April"),i.default.t("library.calendar_date_picker.May"),i.default.t("library.calendar_date_picker.June"),i.default.t("library.calendar_date_picker.July"),i.default.t("library.calendar_date_picker.August"),i.default.t("library.calendar_date_picker.September"),i.default.t("library.calendar_date_picker.October"),i.default.t("library.calendar_date_picker.November"),i.default.t("library.calendar_date_picker.December")],day_of_week_texts:[i.default.t("library.calendar_date_picker.Sunday_short"),i.default.t("library.calendar_date_picker.Monday_short"),i.default.t("library.calendar_date_picker.Tuesday_short"),i.default.t("library.calendar_date_picker.Wednesday_short"),i.default.t("library.calendar_date_picker.Thursday_short"),i.default.t("library.calendar_date_picker.Friday_short"),i.default.t("library.calendar_date_picker.Saturday_short")]},n),this._extract_options(),this._attach(),this._redraw()}var n;function o(e){return n?n.firstChild.nodeValue=e:(n=document.createElement("div")).appendChild(document.createTextNode(e)),n.innerHTML}e.fn.calendar_date_picker=function(n){return this.each((function(){var a=new t(e(this),n);e(this).data("calendar_date_picker",a)}))},e.extend(t.prototype,{_copy_date:function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())},_copy_date_with_time:function(e,t){if(!e)return e;var n=this._copy_date(e),a=(t||"").split(":");return n.setHours(+a[0]||0),n.setMinutes(+a[1]||0),n},_copy_time:function(e){if(!e)return null;var t=""+e.getHours();1===t.length&&(t="0"+t);var n=""+e.getMinutes();return 1===n.length&&(n="0"+n),t+":"+n},_copy_month:function(e){return new Date(e.getFullYear(),e.getMonth(),1)},_next_year:function(e){return new Date(e.getFullYear()+1,e.getMonth(),1)},_previous_year:function(e){return new Date(e.getFullYear()-1,e.getMonth(),1)},_next_month:function(e){return new Date(e.getFullYear(),e.getMonth()+1,1)},_previous_month:function(e){return new Date(e.getFullYear(),e.getMonth()-1,1)},_next_date:function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()+1,e.getHours(),e.getMinutes())},_previous_date:function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()-1,e.getHours(),e.getMinutes())},_same_year:function(e,t){return e.getFullYear()===t.getFullYear()},_same_month:function(e,t){return this._same_year(e,t)&&e.getMonth()===t.getMonth()},_last_date_of_month:function(e){return new Date(e.getFullYear(),e.getMonth()+1,0)},_selected_date_date_in_focus_month:function(){return this.selected_date&&this._same_month(this.selected_date,this.focus_date)?this.selected_date.getDate():void 0},_extract_options:function(){this.today_date=this._copy_date(this.options.today_date||new Date),this.options.selected_date&&(this.selected_date=this._copy_date(this.options.selected_date)),this.focus_date=this._copy_month(this.options.focus_date||this.selected_date||this.today_date),this.time=!!this._does_datetime()&&this._copy_time(this.options.selected_date||this.options.today_date||new Date)},_refresh_calendar_table_classes:function(e){var t=this._selected_date_date_in_focus_month(),n=e.children("tbody"),a=n.find("a.selected");a.removeClass("selected"),a.parent().removeClass("selected");var i=n.find("a:eq("+(t-1)+")");i.addClass("selected"),i.parent().addClass("selected")},_attach:function(){var e=this;this.$div.bind("calendar_date_picker:select_date",(function(t,n){e.select_date(n)}))},_bind_dom_table_events:function(){var t=this,n=this.$div.children().children("table"),i=n.children(":eq(0)").children().children(),r=i.children("a.previous_month");r.text(this.options.previous_month_text),r.click((function(e){e.preventDefault(),t._on_previous_month_clicked()}));var o=i.children("a.next_month");o.text(this.options.next_month_text),o.click((function(e){e.preventDefault(),t._on_next_month_clicked()}));i.children("a.previous_year").click((function(e){e.preventDefault(),t._on_previous_year_clicked()}));i.children("a.next_year").click((function(e){e.preventDefault(),t._on_next_year_clicked()})),i.children(".month, .year").on("click",(function(){t.focus_date=new Date,t._refresh_calendar()})),n.children("tbody").click((function(n){var i;i=a.a.msie?n.srcElement:n.target;var r=e(i);if(r[0]&&"A"===r[0].nodeName){n.preventDefault();var o=t._copy_date_with_time(t.focus_date,t.time);o.setDate(+r.text());var s=t._copy_date_with_time(t.selected_date,t.time);t.options.allow_deselect&&s&&o-s==0?t.select_date(void 0):t.select_date(o)}}))},_bind_dom_time_events:function(){if(this._does_datetime()){var e=this,t=this.$div.children().children("div.time").find("input");t.time_field(this.options.time),t.trigger("time_field:set_time",this.time),t.bind("time_field:time_changed",(function(t,n){e.selected_date||(e.selected_date=new Date);var a=e._copy_date_with_time(e.selected_date,n);e.select_date(a)}))}},_does_datetime:function(){return void 0!==this.options.time_text},_on_previous_year_clicked:function(){this.focus_date=this._previous_year(this.focus_date),this._refresh_calendar()},_on_next_year_clicked:function(){this.focus_date=this._next_year(this.focus_date),this._refresh_calendar()},_on_previous_month_clicked:function(){this.focus_date=this._previous_month(this.focus_date),this._refresh_calendar()},_on_next_month_clicked:function(){this.focus_date=this._next_month(this.focus_date),this._refresh_calendar()},_redraw:function(){this.$div.empty(),this.$div.append('<div class="calendar_date_picker">'+this._table_html()+this._time_div_html()+"</div>"),this._bind_dom_table_events(),this._bind_dom_time_events()},_refresh_calendar:function(){this.$div.children().children("table").replaceWith(this._table_html()),this._bind_dom_table_events()},select_date:function(e,t){var n=e?this._copy_date(e):void 0,a=t||(e?this._copy_time(e):void 0);(this.selected_date?this.selected_date.valueOf():void 0)===(n?n.valueOf():void 0)&&a===this.time||(this.selected_date=n,this._does_datetime()&&(this.time=a,a&&this.$div.find("input").trigger("time_field:set_time",a)),this.$div.trigger("calendar_date_picker:date_selected",[this._copy_date_with_time(this.selected_date,this.time)]),this.focus_date=this._copy_month(this.selected_date||this.today_date),this._refresh_calendar(),this._refresh_calendar_table_classes(this.$div.find("table")))},_table_html:function(){return"<table>"+this._thead_month_year_html()+this._thead_days_of_week_html()+this._tbody_html()+"</table>"},_thead_month_year_html:function(){return`\n        <thead class="month">\n          <tr>\n            <th><a class="previous_month white ss-icon ss-navigateleft" href="#" /></th>\n            <th colspan="5"><span class="month">\n              ${o(this.options.month_texts[this.focus_date.getMonth()])}\n              </span></th>\n            <th><a class="next_month white ss-icon ss-navigateright" href="#" /></th>\n          </tr>\n          <tr>\n            <th colspan="2"><a class="previous_year white" href="#"><span class="ss-icon ss-navigateleft"/>\n            <span class="type-10">\n              ${this._previous_year(this.focus_date).getFullYear()}\n            </span></a></th>\n            <th colspan="3"><span class="year">${this.focus_date.getFullYear()}</span></th>\n            <th colspan="2"><a class="next_year white" href="#"><span class="type-10">\n              ${this._next_year(this.focus_date).getFullYear()}\n              </span><span class="ss-icon ss-navigateright" /></a>\n            </th>\n          </tr>\n        </thead>\n        `},_thead_days_of_week_html:function(){return'<thead class="days_of_week"><tr><th>'+this._days_of_week_ths().join("</th><th>")+"</th></tr></thead>"},_tbody_html:function(){var e=this._copy_month(this.focus_date).getDay(),t=1,n=this._last_date_of_month(this.focus_date).getDate(),a=this._selected_date_date_in_focus_month(),i=this._same_month(this.focus_date,this.today_date)&&this.today_date.getDate(),r=[];for(r.push(this._date_tds(e,a,i,t,n)),t=8-e;t<=n;t+=7)r.push(this._date_tds(0,a,i,t,n));return"<tbody><tr>"+r.join("</tr><tr>")+"</tr></tbody>"},_date_tds:function(e,t,n,a,i){for(var r=[],o=0;o<e;o+=1)r.push("<td></td>");for(var s=a;r.length<7&&s<=i;s+=1){var c,l=[];s===t&&l.push("selected"),s===n&&l.push("today");var d="<td"+(c=l.length?' class="'+l.join(" ")+'"':"")+'><a href="#"'+c+">"+s+"</a></td>";r.push(d)}for(var u=i+1;u<a+7;u+=1)r.push("<td></td>");return r.join("")},_days_of_week_ths:function(){return e.map(this.options.day_of_week_texts,o)},_time_div_html:function(){return this._does_datetime()?'<div class="time"><label>'+o(this.options.time_text)+'<input type="text" /></label>'+o(Object(r.a)(new Date))+"</div>":""}})}(n("+2Rf"))},"3+Df":function(e,t,n){"use strict";n.d(t,"a",(function(){return I})),n.d(t,"b",(function(){return x}));var a=n("94td"),i=n("iN0+"),r=n("D+F0"),o=n("q1tI"),s=n.n(o),c=n("VF4V"),l=n("HgY4"),d=n("heyD"),u=n("DI+Y"),m=n("zm9w"),p=n("arGM"),h=n("ykOr"),f=n("/IHD"),g=n("/j8J"),_=n("2DJ9"),b=n("mEsB");const v=({isWatched:e,size:t=6,watchedColor:n="red-400",unwatchedColor:i="white",watchedColorBackground:r="white",unwatchedColorBackground:o="soft-black_50",hoverColor:c,iconSize:l="medium",shadow:d=!0,onClick:u})=>{const m=e?Object(a.b)("project_card.Saved"):Object(a.b)("project_card.Remind_me"),p=Object(f.a)("radius200px",e?"bg-"+r:"bg-"+o,"h"+t,"w"+t,"text-nowrap","flex","p0","keyboard-focusable-transparent","z1","no-outline",d&&"shadow-avatar","hover-item-show-md","hover-item-show-lg","relative");return s.a.createElement(b.a,{label:m,"aria-label":m,hideArrow:!0,placement:"top",style:{borderRadius:"2px"},focusWithin:!0},s.a.createElement("button",{onClick:u,className:p},s.a.createElement(_.a,{name:e?"icon--bookmark":"icon--bookmark-outline",label:m,size:l,atoms:[Object(f.a)("m-auto",c&&!e&&"hover-fill-"+c,e?"fill-"+n:"fill-"+i)]})))};var k=e=>{const{project:t,dispatch:n}=e;return s.a.createElement("div",{className:Object(f.a)(e.atoms)},s.a.createElement(g.a,{onClick:e=>{e.preventDefault(),n(Object(h.a)(t))},isWatched:t.isWatched},s.a.createElement(v,e)))};const y=({dispatch:e,projects:t=[],linkRef:n,remindMeState:i={},showRemindMe:r=!0})=>s.a.createElement("ul",{className:"mb3"},t.map(t=>{const{percentFunded:o,name:c,pid:l,url:d,image:u}=t,h=n?Object(p.e)(d,{ref:n}):d,f=m.b.percent(o,{precision:0,delimiter:Object(a.b)("number.currency.format.delimiter")});return s.a.createElement("li",{key:l,className:"flex items-start w100p py3 border-bottom border-grey-500"},s.a.createElement("div",{className:"flex items-center justify-between w100p"},s.a.createElement("a",{href:h,className:"mr4 link-soft-black basis20p basis40p-md basis20p-lg block"},s.a.createElement("img",{className:"w100p block",src:u.url,alt:Object(a.b)("content-blocks.categories.Project")})),s.a.createElement("div",{className:"basis60p-md basis80p"},s.a.createElement("a",{className:"type-14 block link-soft-black",href:h},c),s.a.createElement("div",{className:"type-12 dark-grey-400 display-none block-md percent-funded"}," ",Object(a.b)("content-blocks.categories.Percent_funded",{percent:f}))),s.a.createElement("div",{className:"pl6 display-none block-md"},r&&s.a.createElement(k,{dispatch:e,project:i[t.pid],unwatchedColor:"grey-500",unwatchedColorBackground:"white",hoverColor:"soft-black",iconSize:"large",shadow:!1}))))}));var E=n("daZV"),j=n("egyr"),w=n("RK67");const S=(e,{fetchMoreResult:t})=>{const n=e.node.launchedProjects.nodes,a=t.node.launchedProjects.nodes;return{...t,node:{...t.node,launchedProjects:{nodes:[...n,...a],pageInfo:t.node.launchedProjects.pageInfo}}}};var O=n("UYTu").a`
  query($id: ID!, $cursor: String) {
    node(id: $id) {
      ... on User {
        launchedProjects(first: 10, after: $cursor) {
          nodes {
            id
            isLaunched
            pid
            name
            creator {
              name
              url
            }
            category {
              url
              name
            }
            percentFunded
            image {
              url(width: 500)
            }
            url
          }
          pageInfo {
            endCursor
            hasNextPage
          }
          totalCount
        }
      }
    }
  }
`,N=n("f/yv");var C=Object(u.graphql)(O,{options:{notifyOnNetworkStatusChange:!0}})(({dispatch:e,data:t})=>{if(t.loading&&null==t.node)return s.a.createElement("div",{className:"text-center h80vh"},s.a.createElement(j.a,null));if(t.error)return e(Object(w.d)("LaunchedProjectsModal failed to load data from the backend.")),s.a.createElement(a.a,{i18nKey:"project_page.creator_bio.Error"});const n=t.node;return s.a.createElement("div",{className:"h80 auto-scroll-y"},s.a.createElement(y,{dispatch:e,projects:Object(N.e)(n),contentType:null,showRemindMe:!1}),s.a.createElement(E.a,{onClick:()=>t.fetchMore({variables:{cursor:n.launchedProjects.pageInfo.endCursor},updateQuery:S}),showingCount:n.launchedProjects.nodes.length,totalCount:n.launchedProjects.totalCount,pageSize:25,loading:t.loading,remainingI18nKey:"project_page.creator_bio.Remaining_created_projects",buttonI18nKey:"project_page.creator_bio.Load_more",hasMorePages:n.launchedProjects.pageInfo.hasNextPage,atoms:["theme--support"]}))});const I={PROJECTS_CREATED:"projectsCreated",CREATOR_BIO:"creatorBioModal",MESSAGE_CREATOR:"messageCreatorModal",ERROR:"errorModal"},x=(e,t)=>{var n;return{[I.PROJECTS_CREATED]:{title:s.a.createElement(c.a,null,Object(a.b)("project_page.creator_bio.Projects_created_by",{creator_name:e.project.creator.name})),size:"large",body:s.a.createElement(C,{id:e.project.creator.id,dispatch:t})},[I.CREATOR_BIO]:{title:Object(a.b)("project_page.creator_bio.About_the_creator"),size:"large",body:s.a.createElement(l.a,{creator:e.project.creator,verifiedIdentity:e.project.verifiedIdentity,collaborators:e.project.collaborators.edges,onMessageCreatorClick:()=>t(Object(r.b)(I.MESSAGE_CREATOR)),canMessageCreator:Object(i.a)(e.project.creator,e.currentUser),loggedIn:Boolean(null===(n=e.currentUser)||void 0===n?void 0:n.loggedIn)})},[I.MESSAGE_CREATOR]:{title:s.a.createElement(c.a,null,Object(a.b)("project_page.message_creator.Send_a_message",{creator_name:e.project.creator.name})),size:"large",body:s.a.createElement(d.a,{creator:e.project.creator,projectId:e.project.id,messageCreatorData:e.messageCreator,currentUser:e.currentUser,dispatch:t})},[I.ERROR]:{title:Object(a.b)("project_page.errors.Somethings_gone_wrong"),size:"small",body:()=>s.a.createElement("div",null,s.a.createElement("h3",null,Object(a.b)("project_page.errors.Team_notified")),s.a.createElement("p",null,Object(a.b)("project_page.errors.Reopen_modal")))}}}},"38sE":function(e,t,n){"use strict";var a=n("KHPI");Object(a.a)((function(){a.a.videos_changed=function(){Object(a.a)(".video-player:visible").each((function(){var e;e=this,Object(a.a)(e).ksr_video()}))},Object(a.a)(document).on("ksr_video:pause_all_videos",(function(){Object(a.a)(".video-player").trigger("ksr_video:pause")})),Object(a.a)(document).on("click",".video-player:visible",(function(){const e=Object(a.a)(this).find(".play_button_big");Object(a.a)(this).hasClass("has_played")||(Object(a.a)(this).ksr_video(),setTimeout(()=>{e.trigger("click")}))}))}))},"39MV":function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"a",(function(){return m}));var a=n("94td"),i=n("zm9w");const r=(e,t)=>e?Object(a.b)("project_page.reward.Pledge",{amount:t}):Object(a.b)("project_page.reward.Pledge_or_more",{amount:t}),o=(e,t,n)=>i.b.money(Number(e),{currency:t,type:"truncate_zeros",usd_type:n}),s=(e,t)=>e.find(e=>e.location.id===t),c=(e,t)=>e?0===t?Object(a.b)("project_page.reward.None_left"):Object(a.b)("project_page.reward.Quantity_left",{remainingQuantity:t,limit:e}):"",l=e=>e>1?e+"× ":"",d=e=>{const t=e.filter(e=>!!e.image).slice(0,3);return{items:t,remainder:e.length-t.length}},u=e=>{const t=[];e.forEach(e=>{t.join(", ").length>90||t.push(`${l(e.quantity)}${e.name}`)});const n=e.length-t.length;return{items:t,remainder:n}},m=e=>null===e?void 0:e},"3D3T":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("2DJ9"),i=n("q1tI"),r=n.n(i);const o=e=>{const{headers:t,rows:n,columns:o,mobileComponent:s,limit:c,limitItemsName:l,onExpandOrCollapse:d}=e,u=!!c&&n.length>c,[m,p]=Object(i.useState)(u?n.slice(0,c):n);if(Object(i.useEffect)(()=>{p(u?n.slice(0,c):n)},[n]),0===m.length)return null;const h=e=>{const n=0===e,a=e===t.length-1;return{borderTopLeftRadius:n?"4px":"0",borderBottomLeftRadius:n?"4px":"0",borderTopRightRadius:a?"4px":"0",borderBottomRightRadius:a?"4px":"0",...o&&o[e].width?{width:o[e].width+"%"}:{},...o&&o[e].align?{textAlign:o[e].align}:{}}},f=e=>({maxWidth:"1px",...o&&o[e].width?{width:o[e].width+"%"}:{},...o&&o[e].align?{textAlign:o[e].align}:{}});return r.a.createElement("div",{tabIndex:0,role:"group","aria-labelledby":"caption",className:"auto-scroll-x"},r.a.createElement("div",{className:""+(s&&"hide block-md")},r.a.createElement("div",{className:"border radius6px soft-black type-14"},r.a.createElement("table",{className:"w100p word-wrap"},r.a.createElement("caption",{className:"for-screenreader"},e.caption),r.a.createElement("thead",{className:e.headerClass},r.a.createElement("tr",null,t.map((e,t)=>r.a.createElement("th",{key:t,scope:"col",className:"py2 px5 bold border-bottom",style:h(t)},e)))),r.a.createElement("tbody",null,m.map((e,t)=>r.a.createElement("tr",{className:"hover-bg-grey-200 "+(m.length-1!==t||u?"border-bottom":""),key:t},e.map((e,t)=>r.a.createElement("td",{key:t,className:"py2 px5",style:f(t)},e)))))),u&&r.a.createElement("button",{className:"w100p type-14 py2 mt2 blue-500 hover-blue-500",onClick:()=>{d&&d(),p(m.length===n.length?n.slice(0,c):n)}},`${n.length===m.length?"Show less":"Show all"}${l?" "+l:""}`,r.a.createElement(a.a,{atoms:["ml1 fill-blue-500"],name:"icon--chevron-"+(n.length===m.length?"up":"down"),size:"14"})))),s&&r.a.createElement("div",{className:"hide-md"},s))}},"3Hbt":function(e,t,n){"use strict";n.r(t),n.d(t,"cancelDeleteCaption",(function(){return a})),n.d(t,"captionCreated",(function(){return i})),n.d(t,"captionDeleted",(function(){return r})),n.d(t,"closeShowingCaptions",(function(){return o})),n.d(t,"confirmDeleteCaption",(function(){return s})),n.d(t,"createCaptionResponse",(function(){return c})),n.d(t,"deleteCaptionResponse",(function(){return l})),n.d(t,"hydrateVideo",(function(){return d})),n.d(t,"importTrack",(function(){return u})),n.d(t,"importTrackResponse",(function(){return m})),n.d(t,"noopAction",(function(){return p})),n.d(t,"openShowingCaptions",(function(){return h})),n.d(t,"reloadCaptions",(function(){return f})),n.d(t,"reloadCaptionsResponse",(function(){return g})),n.d(t,"updateCaptionSelect",(function(){return _})),n.d(t,"videoUploaderInitialize",(function(){return b}));const a=()=>({type:"CANCEL_DELETE_CAPTION"}),i=(e,t)=>({type:"CAPTION_CREATED",availableLanguages:e,videoId:t}),r=()=>({type:"CAPTION_DELETED"}),o=()=>({type:"CLOSE_SHOWING_CAPTIONS"}),s=e=>({type:"CONFIRM_DELETE_CAPTION",captionId:e}),c=e=>({type:"CREATE_CAPTION_RESPONSE",response:e}),l=e=>({type:"DELETE_CAPTION_RESPONSE",response:e}),d=(e,t)=>({type:"HYDRATE_VIDEO",tracks:e,videoId:t}),u=(e,t)=>({type:"IMPORT_TRACK",fileInputId:e,trackTid:t}),m=e=>({type:"IMPORT_TRACK_RESPONSE",response:e}),p=()=>({type:"NOOP"}),h=()=>({type:"OPEN_SHOWING_CAPTIONS"}),f=()=>({type:"RELOAD_CAPTIONS"}),g=e=>({type:"RELOAD_CAPTIONS_RESPONSE",response:e}),_=e=>({type:"UPDATE_CAPTION_SELECT",option:e}),b=(e,t)=>({type:"VIDEO_UPLOADER_INITIALIZE",allCaptionLanguages:e,assetPath:t})},"3ZBc":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n("2DJ9"),i=n("mEsB"),r=n("/IHD"),o=n("q1tI"),s=n.n(o);const c={like:"thumbsup",dislike:"thumbsdown",watch:"bookmark"},l={small:"25px",medium:"30px",large:"40px"},d=({hasBorder:e=!1,hasShadow:t=!1,interaction:n,isActive:d,onClick:u,size:m="medium",tooltipLabel:p,tooltipPlacement:h="right"})=>{const f=e=>{e.preventDefault(),u&&u(e)},g=""+(d?"celebrate-500":"support-500"),_=e?"border border-"+(""+(d?"celebrate-500":"support-300")):"border-none",b=t?"shadow-avatar":"",[v,k]=Object(o.useState)(!1),y=v?{transform:"scale(1.1)",transition:"all 50ms ease-out"}:{};return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"hide-lg"},s.a.createElement("button",{onClick:f,className:`${_} ${b} bg-white white radius100p block flex flex-column items-center justify-center`,style:{width:l[m],height:l[m]}},s.a.createElement(a.a,{name:`icon--${c[n]}-outline`,label:c[n],size:"small"===m?"small":"medium",atoms:[Object(r.a)("fill-"+g,"transition-all","transition-150","w100p")]}))),s.a.createElement("div",{className:"hide block-lg"},s.a.createElement(i.a,{label:p||"","aria-label":p,hideArrow:!0,placement:h,style:{borderRadius:"2px",paddingTop:"8px",paddingBottom:"8px"},onMouseEnter:()=>k(!0),onMouseLeave:()=>k(!1),onFocus:()=>k(!0),onBlur:()=>k(!1),focusWithin:!0},s.a.createElement("button",{onClick:f,className:`${_} ${b} bg-white white radius100p block flex flex-column items-center justify-center`,style:{width:l[m],height:l[m],...y}},s.a.createElement(a.a,{name:`icon--${c[n]}-outline`,label:c[n],size:"small"===m?"small":"medium",atoms:[Object(r.a)("fill-"+g,"transition-all","transition-150","w100p")]})))))}},"3Zop":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("A0Vp");const i=(e=Object(a.a)(),t)=>{switch(t.type){case"ACTIVE_SECTION_CHANGED":if(!t.response||!t.response)return e;const{activeSection:n}=t.response;return{...e,activeSection:n};case"INIT_NEW_CAMPAIGN_NAV":if(!t.response||!t.response)return e;const{environmentalCommitmentsExists:a,projectBudgetExists:i}=t.response;return{...e,environmentalCommitmentsExists:a,projectBudgetExists:i};default:return e}}},"3gYt":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("q1tI"),i=n.n(a);const r=({image:e,atoms:t=[],...n})=>e.url?i.a.createElement("img",Object.assign({},n,{src:e.url,alt:e.altText||"",className:t.join(" ")+" object-cover"})):i.a.createElement(i.a.Fragment,null)},"3thc":function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("h4vE"),o=n("SKdt");Object(r.a)("#NS_discover__categories",(function(e){var t,n,a;function r(){var t;i()(window).width()>599?(t=n.find(".js-subcategories.block")).length?e.height(Math.max(a.height(),t.height())):e.height(a.height()):e.css({height:""})}t=e.find(".js-categories"),n=e.find(".js-subcategories_container"),a=e.find(".js-root-categories"),t.find("> li > a").on("click",(function(a){var s=i()(this),c=s.closest("li").data("category")||{},l=c.id||0,d=e.find("#category_"+l+"_subcategories");t.find(".ksr-green-500").removeClass("ksr-green-500").addClass("black"),s.addClass("ksr-green-500").removeClass("black"),n.find(".js-subcategories.block").removeClass("block").addClass("display-none"),d.addClass("block").removeClass("display-none"),d.length?(i()(window).width()>599&&e.css({width:"600px"}),n.removeClass("o0p"),d.find("li.js-subcategory > a").first().trigger("click")):(i()(document).trigger("discovery:categories:changed",c),e.trigger("ksr_popover:close"),e.css({width:""}),n.addClass("o0p")),o.a["not-mobile"]&&r(),a.preventDefault()})),n.find("li > a").on("click",(function(t){var n=i()(this),a=n.closest("li"),r=n.closest("ul"),o=a.data("category");r.find(".ksr-green-500").removeClass("ksr-green-500").addClass("black"),n.addClass("ksr-green-500").removeClass("black"),i()(document).trigger("discovery:categories:changed",o),t.originalEvent?e.trigger("ksr_popover:close"):e.trigger("ksr_popover:reposition"),t.preventDefault()})),i()(document).on("ksr_popover:opened",(function(t,a){a.$popover.is(e)&&(e.find(".js-subcategories.block").length&&(n.removeClass("o0p"),i()(window).width()>599?e.css({width:"600px"}):e.css({width:""})),o.a["not-mobile"]&&r())})),i()(document).on("discovery:sentence:changed",(function(t,a){a.category_id||(e.css({width:""}),n.find(".js-subcategories.block").removeClass("block").addClass("display-none"),e.find(".ksr-green-500").removeClass("ksr-green-500").addClass("black"),e.find("li:first a").addClass("ksr-green-500").removeClass("black"))})),i()(document).on("discovery:categories:load_sample",(function(t,n){var a=(n.category||{}).id;e.find("#category_"+a).trigger("click")}))}))},"4+Ta":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s}));var a=n("9jZ4"),i=n("/IHD");const r=e=>t=>(...n)=>({...t(...n),namespace:e}),o=e=>t=>Object(a.f)(r(e),t),s=(e,t,n)=>(a=Object(i.c)(),{Component:r=e,reducer:s=t,actions:c=n}={})=>{const l=(e=>(t,n)=>(a,i)=>{const r=void 0===a;return(i&&i.namespace)===e||r?t(a,i,n):a})(a),d=(e=>t=>n=>t({...n,namespace:e}))(a),u=o(a)(c);return{namespace:a,actions:u,reducer:l(s,u),Component:({dispatch:e,...t},n)=>r({dispatch:d(e),...t},n)}}},"44bd":function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);i()((function(){i()(document).on("change","body#terms_oct2012 form.select_country",(function(){i()(this).submit()}))}))},"4LGs":function(e,t,n){"use strict";function a(e,t){const n=`(?:${Object.keys(e).join("|")})`,a=RegExp(n),i=RegExp(n,"g");return a.test(t)?t.replace(i,t=>e[t]):t}n.d(t,"a",(function(){return a}))},"4U8H":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("94td"),i=n("/IHD"),r=n("Y0SK"),o=n("JN/F");const s=(e,t)=>({description:{id:"description",name:Object(a.b)("project_page.campaign_nav.Campaign"),atoms:"pointer px4 navItem py2 hover-ksr-green-500 medium",url:Object(r.a)(e,"description"),skipNavItemClass:!0,subItems:Object.values(Object(o.a)()).map(e=>{const{id:n,name:a,trackingContext:r}=e;let o;"environmental-commitments"===n?o=Object(i.a)(t&&!t.projectHasEnvironmentalCommitments&&"hide"):"project-budget"===n?o=Object(i.a)(t&&!t.projectBudgetExists&&"hide"):"use-of-ai"===n&&(o=Object(i.a)(t&&!t.projectHasAI&&"hide"));return{id:n,name:a,trackingContext:r,url:"#"+n,atoms:o}})},rewards:{id:"rewards",url:Object(r.a)(e,"rewards"),atoms:"rewards",jsLoadClass:"js-load-project-rewards",name:Object(a.b)("project_page.campaign_nav.Rewards")},faqs:{id:"faqs",url:Object(r.a)(e,"faqs"),jsLoadClass:"js-load-project-faqs",name:Object(a.b)("project_page.campaign_nav.FAQ"),count:t&&t.projectFAQsCount},help_wanted:{id:"help_wanted",url:Object(r.a)(e,"help_wanted"),jsLoadClass:"js-load-project-help_wanted",name:Object(a.b)("project_page.campaign_nav.Help_wanted"),shouldRender:t&&t.projectHasSkills},updates:{id:"updates",url:Object(r.a)(e,"posts"),jsLoadClass:"js-load-project-updates",name:Object(a.b)("project_page.campaign_nav.Updates"),count:t&&t.updateCount},comments:{id:"comments",url:Object(r.a)(e,"comments"),jsLoadClass:"js-load-project-comments",name:Object(a.b)("project_page.campaign_nav.Comments"),count:t&&t.commentsCount},community:{id:"community",url:Object(r.a)(e,"community"),jsLoadClass:"js-load-project-community",name:Object(a.b)("project_page.campaign_nav.Community"),shouldRender:t&&t.projectHasCommunity}})},"4sJn":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("q1tI");const i=({children:e,width:t,height:n,viewBox:i,atoms:r=[]})=>{const o=["inline-block","valign-middle"].concat(r).join(" ");return a.createElement("svg",{style:{fill:"currentColor"},className:o,xmlns:"http://www.w3.org/2000/svg",width:t,height:n,viewBox:i},e)}},"585W":function(e,t,n){"use strict";var a=n("KHPI");Object(a.a)((function(){Object(a.a)(".mobius.click").livequery((function(){var e,t,n=Object(a.a)(this),i=n.parent().find("a.load_more"),r=n.parent().find(".loading");function o(){e=n.find("*[data-cursor]:last")}o(),t=e.length,n.mobius({trigger_next:i,prepend_next:!n.data("mobius_append"),url:n.data("mobius_url")||!1,page_param:t?"cursor":"page",extra_params:n.data("mobius_extra_params"),page_by:function(n){return t?(o(),e.data("cursor")):n?n+1:1}}),n.data("mobius"),n.on("mobius:loading_page",(function(){r.show(),i.parent().hide()})),n.on("mobius:loaded_page",(function(e,t,a){n.parent().find(".count .current").text(n.find("li.item").length),r.hide(),a.data("last_page")?i.parent().hide():i.parent().show()}))})),Object(a.a)(".mobius:not(.click)").livequery((function(){var e,t,n,i,r=Object(a.a)(this);function o(){n=r.find("*[data-cursor]:last")}r.find(".page").data("last_page")||(o(),i=n.length,e=r.mobius({url:r.data("url"),paused:r.is(".paused"),page_param:i?"cursor":"page",extra_params:r.data("extra_params")||"",page_by:function(e){return i?(o(),n.data("cursor")):e?e+1:1}}).data("mobius"),r.length&&r.on("mobius:loaded_page",(function(n,i,o){o.data("last_page")?(e.pause(),r.siblings(".load_more").hide(),t=(void 0).clone(),(void 0).remove()):(e.play(),r.siblings(".load_more").show(),Object(a.a)("body").append(t))})))}))}))},"5FPU":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("tr1H"),i=n("mv45"),r=n("pj8f"),o=n("q1tI"),s=n("dkkr");const c=e=>t=>n=>{if(Object(i.g)(n)){const t=e(n);return n.error&&r.Honeybadger.notify(n.error,{context:{tags:a.a.POST_UPDATES},__RATE_LIMIT__:1}),o.createElement(s.b,{primaryText:t.primaryText,secondaryText:t.secondaryText})}return o.createElement(t,n)}},"5KaY":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("iuhU"),i=n("q1tI"),r=n.n(i),o=n("bdgK");const s={};var c=n("nbmp");const l=e=>{var t,n;const{id:l,children:d,max:u,cacheId:m=l,disabled:p=!1,atoms:h=[],buttonBackgroundAtom:f="bg-white",buttonColorAtom:g="ksr-green-700 hover-ksr-green-500",buttonAtoms:_=[],inline:b=!1,expandText:v=(b?"… See more":"See more"),collapseText:k="See less",truncationAtom:y}=e,{ref:E,shouldTruncate:j,isTruncated:w,toggleTruncation:S}=function(e,t,n){const a=Object(i.useRef)(null),[r,c]=Object(i.useState)(!1),[l,d]=Object(i.useState)(!t),u=Object(i.useCallback)(e=>d(t=>null!=e?e:!t),[]),m=Object(i.useCallback)(()=>{if(a.current){const t=n?s[n]:void 0;if("boolean"==typeof t)return void c(t);const i=a.current.offsetHeight,r=i>e;n&&(s[n]=i>e),c(r)}},[n,e]);return Object(i.useLayoutEffect)(()=>{m()},[m]),Object(i.useEffect)(()=>{const e=new o.default(()=>{n&&delete s[n],window.requestAnimationFrame(m)});return a.current&&e.observe(a.current),()=>{a.current&&e.unobserve(a.current)}},[m,n]),{shouldTruncate:!t&&r,ref:a,isTruncated:!t&&l,toggleTruncation:u}}(u,p,m),O=Object(c.a)(l,w);return r.a.createElement("div",{className:Object(a.b)("display-grid",h)},r.a.createElement("div",Object.assign({className:Object(a.b)("row-start-1 col-start-1",w&&y),style:{maxHeight:w&&!y?u:"none",overflow:"hidden"}},null!==(t=null==O?void 0:O.content)&&void 0!==t?t:{}),r.a.createElement("div",{ref:E},d)),j&&r.a.createElement("div",{className:Object(a.b)(b&&"self-end justify-self-end",w&&b&&"row-start-1 col-start-1")},r.a.createElement("button",Object.assign({className:Object(a.b)(_,g,f,"hover-text-underline","focus-invisible"),onClick:()=>{S()}},null!==(n=null==O?void 0:O.toggle)&&void 0!==n?n:{}),w?v:k)))}},"5j0V":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("VX74");var a=n("DE4Y");n.d(t,"b",(function(){return a.K}));const i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateProjectUpdateRequest"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"location"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ProjectUpdateRequestLocation"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createProjectUpdateRequest"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"projectId"},value:{kind:"Variable",name:{kind:"Name",value:"projectId"}}},{kind:"ObjectField",name:{kind:"Name",value:"location"},value:{kind:"Variable",name:{kind:"Name",value:"location"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canUserRequestUpdate"}}]}}]}}]}}]}},"60hy":function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return m}));var a=n("qcI4"),i=n("MgNI"),r=n("K+Nk");const o=(e,t)=>{return(n=t,"string"==typeof n?i.result.Ok(n):i.result.Error(n)).chain(e=>i.result.try(()=>Object(r.a)(e))).map(e).getOrElse(t);var n},s=e=>new a.c(e),c=e=>new a.e(e),l=e=>new a.f(e),d=e=>o(l,e),u=e=>o(c,e),m=e=>o(s,e)},"6Oeb":function(e,t,n){"use strict";var a=n("q1tI"),i=n.n(a),r=n("2DJ9"),o=n("mEsB"),s=n("94td");t.a=({body:e,displayTooltip:t=!1})=>i.a.createElement("div",{className:"mb3 pb3 type-14 text-italic border-bottom border-grey-400 bold"},i.a.createElement("div",{className:""+(t&&"w90p inline-block")},'"',e,'"'),t&&i.a.createElement(o.a,{placement:"right",label:Object(s.b)("project_page.comments.This_is_a_quoted_comment")},i.a.createElement(r.a,{name:"icon--info",size:"16"})))},"6Y6I":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("EoiL"),i=n("q1tI"),r=n.n(i);const o=e=>{var t;return r.a.createElement(a.a,Object.assign({level:3,type:"caption-100",weight:"semibold",color:"support-500"},e,{atoms:["lh16px","mb1","semibold",...null!==(t=e.atoms)&&void 0!==t?t:[]]}))}},"6mVB":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("gN63");const i=(e,t)=>Object(a.c)(`\n  query ReloadImage($id: ID!) {\n    photoForEditor(id: $id) {\n      id\n      ... on Photo {\n        __typename\n        fingerprint\n        status\n        url(width: ${t})\n      }\n    }\n  }\n`,{id:e})},"6zik":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("KQqk"),i=n("94td"),r=n("hL71"),o=n("q1tI"),s=n.n(o);const c=({storyHTML:e})=>s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{id:"story",className:"mb3"},s.a.createElement("h2",{id:"story",className:"normal mb3 mb7-sm mobile-hide page-anchor"},Object(i.b)("project_page.campaign.Story"))),s.a.createElement("div",{className:"story-content"},s.a.createElement(a.a,{content:e,editorVersion:r.a.CkEditor})))},"6zsG":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var a=n("iuhU"),i=n("c5x8"),r=n("q1tI"),o=n.n(r),s=n("ZT9a");const c=({children:e,atoms:t,...n})=>{if(o.a.isValidElement(e)){const i=Object(a.b)(n.className,t,e.props.className);return o.a.cloneElement(e,{...n,...e.props,style:{...n.style,...e.props.style},className:i})}return o.a.Children.count(e)>1&&o.a.Children.only(null),null},l=(e,t,n=d)=>({asChild:a,atoms:r,...l})=>{var d;const u=a?c:e,m=n,p=Object(i.a)([...null!=r?r:[],...null!==(d=t.atoms)&&void 0!==d?d:[]]),h=Object(s.a)(t,l,{className:p});return a?o.a.createElement(c,h,l.children):o.a.createElement(m,Object.assign({},h,{as:u}))},d=({as:e,...t})=>o.a.createElement(e,t)},"7Gzj":function(e,t,n){"use strict";n.r(t),n.d(t,"initRichTextSurveyIntro",(function(){return m}));var a=n("s3Av"),i=n("OJn5"),r=n("tr1H"),o=n("1vCr"),s=n("pj8f"),c=n("94td"),l=n("q1tI"),d=n("i8i4"),u=n.n(d);const m=()=>{const e=document.getElementById("rich-text-survey-intro");if(e){const t=e.dataset.placeholder||"",n=e.dataset.form_field_id||"",c=e.dataset.survey_relay_id||"";u.a.render(l.createElement("div",null,l.createElement(a.a,{KSRError:s.Honeybadger,fallbackComponent:p,KSRErrorTag:r.a.REWARDS_FULFILLMENT},l.createElement(o.a,{initialValues:{body:JSON.parse(t),formFieldId:n},onSubmit:()=>{}},e=>l.createElement(i.a,{value:e.values.body,onBlur:t=>{const n=document.getElementById(e.values.formFieldId);n&&n.setAttribute("value",t),e.setValues({body:t})},attachableAssoc:"intro_assets",attachableId:c,tracking:{}})))),e)}},p=l.createElement("div",null,Object(c.b)("surveys.Oops_an_error_occurred"));m()},"7LsF":function(e,t,n){"use strict";n.d(t,"a",(function(){return w})),n.d(t,"d",(function(){return O})),n.d(t,"c",(function(){return N})),n.d(t,"b",(function(){return C}));var a={};n.r(a),n.d(a,"imageUploaderInitialize",(function(){return r})),n.d(a,"noopAction",(function(){return o}));var i=n("mm3F");const r=(e,t,n,a)=>({createGraphFunction:e,deleteGraphFunction:t,onDelete:a,onSuccess:n,type:"IMAGE_UPLOADER_INITIALIZE"}),o=()=>({type:"NOOP"});var s=n("d8sA"),c=n("0fse"),l=n("4+Ta"),d=n("94td"),u=n("GRmu"),m=n("6mVB");const p={error:Object(d.b)("library.ksr_json.Sorry_something_went_wrong_Weve_been_notified_and_are_looking")},h=(e,t)=>(n,a=Date.now())=>t(n).then(e=>{if(e.data.upload)return e.data.upload.image.id;throw new Error("Mutation not renamed to `upload`")}).then(t=>e.uploadProcessingStart(t,a)).catch(()=>e.uploadFileFailure()),f=e=>(t,n=680)=>Object(m.a)(t,n).then(n=>{if(!n.data)throw new Error("Received invalid data");const a=n.data.photoForEditor;if(a.fingerprint)return e.uploadSuccess(a);if("PROCESSING"===a.status||"SUCCESSFUL"===a.status&&null===a.fingerprint)return new Promise(e=>{setTimeout(e,1e3)}).then(()=>e.reloadAsset(t)).catch(()=>e.uploadFileFailure());if("FAILED"===a.status)return e.uploadFileFailure();throw new Error("Received invalid asset status: "+a.status)}).catch(()=>e.uploadFileFailure()),g=(e,t)=>n=>t(n).then(()=>e.uploadReset()).catch(()=>{return e=p,Object(u.a)(e),Object(i.noopAction)();var e});var _=(e={},t,n=N)=>{switch(t.namespace&&(n=Object(l.b)(t.namespace)(n)),t.type){case"IMAGE_UPLOADER_INITIALIZE":const{createGraphFunction:a,deleteGraphFunction:r,onSuccess:o,onDelete:s}=t;return Object(c.f)(e,c.a.action(n.uploadInitialize(((e,t,n=i.noopAction,a=i.noopAction,r=i.noopAction)=>({create:h(e,t),read:f(e),destroy:g(e,n),onSuccess:a,onDelete:r}))(n,a,r,o,s))));default:return e}},b=n("MTFr");const v={changeFile:Object(d.b)("uploaders.Change_image"),deleteFile:Object(d.b)("uploaders.Delete_image"),deletingFile:Object(d.b)("uploaders.Deleting_image"),uploadCta:Object(d.b)("uploaders.Drop_an_image_here_or_select_a_file"),uploadCtaMobile:Object(d.b)("uploaders.Upload_an_image"),feelFreeToMoveOn:Object(d.b)("uploaders.Feel_free_to_move_on_image"),validFileTypes:Object(d.b)("uploaders.It_must_be_a_valid_image_file_type")};var k=n("X+my"),y=n("q1tI"),E=n.n(y),j=n("qYa2");const w=({state:e,dispatch:t,theme:n=k.a,uploadLimit:a,BoundUploader:r=S})=>{const o={...e.imageUpload,...e.baseUpload};return E.a.createElement(r,{state:o,onDeleteAsset:()=>t(Object(i.deleteAsset)()),onDragLeave:()=>t(Object(i.fileDragEnded)()),onDragEnter:()=>t(Object(i.fileDragStarted)()),onDrop:e=>{t(Object(i.fileDragEnded)()),Object(j.a)(e)&&(e.preventDefault(),t(Object(i.uploadFileStart)(e.dataTransfer.files[0],t,a)))},onFileSelect:e=>t(Object(i.uploadFileStart)(e,t,a)),onUploadReset:()=>t(Object(i.uploadReset)()),onCloseDeleteAssetModal:()=>t(Object(i.closeDeleteAssetModal)()),onOpenDeleteAssetModal:()=>t(Object(i.openDeleteAssetModal)()),theme:n,uploadLimit:a})},S=Object(b.e)({EmptyState:({activeDragCounter:e,onDragLeave:t,onDragEnter:n,onDrop:a,onFileSelect:i,theme:r,uploadLimit:o})=>E.a.createElement(b.a,{activeDragCounter:e,iconName:"icon--image",maxFileSizeText:Object(d.b)("uploaders.no_larger_than_file_size",{megabytes:o.megabytes}),onDragLeave:t,onDragEnter:n,onDrop:a,onFileSelect:i,theme:r,copyOverrides:v}),ProcessingState:({isDeleting:e,onFileSelect:t,theme:n,timeElapsed:a})=>E.a.createElement(b.b,{isDeleting:e,onFileSelect:t,theme:n,timeElapsed:a,copyOverrides:v}),UploadSuccess:({onDeleteAsset:e,onFileSelect:t,onCloseDeleteAssetModal:n,onOpenDeleteAssetModal:a,state:i})=>{const{asset:r}=i;return E.a.createElement(b.c,{onCloseDeleteAssetModal:n,onOpenDeleteAssetModal:a,displayImageUrl:r.url,onFileSelect:t,onDeleteAsset:e,state:i,copyOverrides:v})}}),O=e=>Object(c.b)({baseUpload:Object(s.d)(e),imageUpload:_}),N={...i,...a},C=Object(l.c)(w,O,N)},"7Rpo":function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h}));var a=n("KQqk"),i=n("mv45"),r=n("94td"),o=n("q1tI"),s=n("5FPU"),c=n("a8OY"),l=n("DI+Y");n("VX74"),n("DE4Y");const d={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CreatorInterview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CreatorInterview"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"answers"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"body"}},{kind:"Field",name:{kind:"Name",value:"question"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"body"}}]}}]}}]}}]}}]}}]}}]};const u=Object(i.c)(e=>{if(!e.data||!e.data.post)return Object(i.d)(e.data.error);const{answers:{nodes:t}}=e.data.post,n=t?t.filter(e=>e):[];return Object(i.l)({answers:n})}),m=Object(l.graphql)(d,u),p=e=>o.createElement(o.Fragment,null,e.answers.map((e,t)=>o.createElement("div",{key:t,className:"mb8"},o.createElement("h3",{className:"type-24 border-bottom border-ksr10-green display-inline mb0",style:{borderWidth:"3px",lineHeight:"3.8rem"}},e.question.body),o.createElement("div",{className:"pb3"}),o.createElement(a.a,{content:e.body})))),h=Object(i.a)(m,Object(s.a)(()=>({primaryText:Object(r.b)("new_creator_interview.Were_having_trouble_loading"),secondaryText:Object(r.b)("new_creator_interview.If_refreshing_this_page")})),c.b)(p)},"7V7b":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return c}));var a=n("n2oK");const i=e=>e?e.map(e=>{if(null===e)return null;const{__typename:t,...n}=e;return n}).filter(e=>null!==e):[],r=e=>e?e.map(e=>{if(null===e)return null;const{__typename:t,...n}=e;return{...n}}).filter(e=>null!==e):[],o=e=>(null==e?void 0:e.nodes)?e.nodes.map(e=>{if(null===e)return null;const{__typename:t,...n}=e,{amount:{__typename:i,...r},startsAt:o,endsAt:c}=n;return{...n,amount:r,endsAt:Object(a.b)(c),startsAt:Object(a.b)(o),items:s(e.items)}}).filter(e=>null!==e):[],s=e=>(null==e?void 0:e.edges)?e.edges.map(e=>{if(null===e)return null;const{quantity:t,position:n,node:a}=e;if(!a)return null;const{id:i,name:r}=a;return{id:i,name:r,position:n,quantity:t}}).filter(e=>null!==e):[],c=e=>e?e.map(e=>{if(null===e)return null;const{__typename:t,...n}=e;return{...n}}).filter(e=>null!==e):[]},"7iCU":function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);i()((function(){var e=i()(".toggle_box_nav li"),t=i()(".toggle_box_content");e.length&&t.length&&e.on("click",(function(){var n=i()(this),a=e.index(n);return t.removeClass("current"),e.removeClass("current"),i()(t[a]).addClass("current"),n.addClass("current"),!1}))}))},"7kXS":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t)=>{const n=new FormData;return Object.keys(t).forEach(e=>{n.append(e,t[e])}),n.append("file",e),n}},"7o2S":function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return m}));var a=n("c5x8"),i=n("sezs"),r=n("6zsG"),o=n("q1tI"),s=n.n(o),c=n("ZT9a"),l=n("vhN2");const d=({as:e,atoms:t,children:n,icon:i,isSelected:r,isDisabled:o,small:l,title:d,variant:m="outlined",...p})=>{const h=null!=e?e:"div",f=Object(c.a)({className:Object(a.a)(t,"kds-chip")},{"data-disabled":o||void 0,"data-selected":r||void 0,"data-size":l?"sm":void 0,"data-variant":"outlined"!==m?m:void 0},p,"string"==typeof h?{}:{isDisabled:o});return s.a.createElement(h,f,"function"==typeof n?e=>u(i,d,n(e)):u(i,d,n))};d.RemoveButton=Object(r.b)("button",{className:"kds-chip__remove"});const u=(e,t,n)=>s.a.createElement(s.a.Fragment,null,!!e&&s.a.createElement(i.a,{atoms:"kds-chip__icon",name:e,size:"sm",role:"presentation"},e),t&&s.a.createElement("div",{className:"bold"},t),n),m=e=>s.a.createElement(d,Object.assign({as:l.a},e))},"7v8y":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return p}));var a=n("iuhU"),i=n("q1tI"),r=n.n(i),o=n("ZT9a"),s=n("9jZ4");const c=["Heading2XL","HeadingXL"],l={Heading2XL:m("Heading2XL"),HeadingXL:m("HeadingXL"),HeadingLG:m("HeadingLG"),HeadingMD:m("HeadingMD"),HeadingSM:m("HeadingSM"),HeadingXS:m("HeadingXS"),BodySM:m("BodySM"),BodyMD:m("BodyMD"),BodyLG:m("BodyLG"),Button:m("Button"),Link:m("Link"),StandaloneLink:m("StandaloneLink")};function d({variant:e,as:t,responsive:n,...a}){const i=Object(s.d)(t)?"div":t;return r.a.createElement(i,Object.assign({},a,Object(o.a)(a,{className:p(e,n)})))}const u={Heading2XL:"kds-type-heading-2xl",HeadingXL:"kds-type-heading-xl",HeadingLG:"kds-type-heading-lg",HeadingMD:"kds-type-heading-md",HeadingSM:"kds-type-heading-sm",HeadingXS:"kds-type-heading-xs",BodySM:"kds-type-body-sm",BodyMD:"kds-type-body-md",BodyLG:"kds-type-body-lg",Button:"kds-type-button",Link:"kds-type-link",StandaloneLink:"kds-type-link-standalone"};function m(e){return function(e){c.includes(e)}(e),t=>r.a.createElement(d,Object.assign({},t,{variant:e}))}function p(e,t){const n=Object(a.b)(!0===t&&"md",!1===t&&"disabled")||void 0,i="string"==typeof t?t:n;return Object(a.b)("kds-type",u[e],i&&"is-responsive-"+i)}},"7xcP":function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n("pTxv"),i=n("dDCb"),r=n("v9JK"),o=n("CgNg"),s=n("egyr"),c=n("mEsB"),l=n("94td"),d=n("GRmu"),u=n("0VSk"),m=n("q1tI"),p=n.n(m),h=(n("VX74"),n("DE4Y"));const f={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateBackingFlagging"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreateFlaggingInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createFlagging"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"flagging"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"kind"}}]}}]}}]}}]};var g=n("DI+Y"),_=n("mv45");const b=Object(_.b)(e=>({onBackingFlagging:t=>e.mutate({variables:{input:t}})})),v=Object(g.graphql)(f,b),k=()=>Object(d.a)({success:u.default.t("backer_removal.Our_Trust_Safety_team_will_review_your_request_and_email_you")}),y=v(({backingId:e,hasFlagging:t,removalRequestIsNonissue:n,onBackingFlagging:u})=>{const[f,g]=Object(m.useState)(!1),[_,b]=Object(m.useState)(!1),[v,y]=Object(m.useState)(!1),[E,j]=Object(m.useState)(null),[w,S]=Object(m.useState)(""),[O,N]=Object(m.useState)(!1),C=[{label:Object(l.b)("backer_removal.Abuse"),subheader:Object(l.b)("backer_removal.Personal_attacks_bigotry_or_threats"),constant:h.x.BACKING_ABUSE},{label:Object(l.b)("backer_removal.Doxxing"),subheader:Object(l.b)("backer_removal.Sharing_of_personal_information"),constant:h.x.BACKING_DOXXING},{label:Object(l.b)("backer_removal.Fraud"),subheader:Object(l.b)("backer_removal.Insincere_or_suspicious_backing"),constant:h.x.BACKING_FRAUD},{label:Object(l.b)("backer_removal.Spam"),subheader:Object(l.b)("backer_removal.Trolling_ads_or_redundant_comments"),constant:h.x.BACKING_SPAM}],I=p.a.createElement(a.b,{disabled:_||t,theme:"destroy",atoms:["px3"],onClick:()=>g(!0)},Object(l.b)("backer_removal.Remove_backer")),x=n?Object(l.b)("backer_removal.Kickstarter_decided_this_backer_has_not_violated"):Object(l.b)("backer_removal.Our_Trust_Safety_team_is_reviewing_your_request"),T=!E||w.length<140||v;return p.a.createElement(p.a.Fragment,null,f&&p.a.createElement(r.a,{size:"large",viewportHeight:"80",onClose:()=>g(!1),headerCopy:Object(l.b)("backer_removal.Why_would_you_like_to_remove_this_backer")},p.a.createElement("div",{className:"mb4"},p.a.createElement("div",{className:"create-700 type-14 pb1 mt3"},p.a.createElement(l.a,{i18nKey:"backer_removal.Our_Trust_Safety_team_will_review_your_request",guidelinesLink:p.a.createElement("a",{href:"/help/community",className:"text-underline create-700"},p.a.createElement(l.a,{i18nKey:"backer_removal.Read_our_community_guidelines"}))})),p.a.createElement(o.b,{inputValue:w,type:"text",placeholder:Object(l.b)("backer_removal.Id_like_to_remove_this_backer_because"),onChange:S,id:"backer-removal-reason",minRows:3,atoms:["w100p"]}),p.a.createElement("div",{className:"type-12 support-400 text-left pt1"},Object(l.b)("backer_removal.Enter_at_least_140_characters")),p.a.createElement("div",{className:"create-700 type-14 pb2 mt3"},Object(l.b)("backer_removal.Which_best_describes_the_reason")),C.map(e=>p.a.createElement("div",{className:"pointer flex mr4",role:"radio",key:"backer-removal-reason-"+e.label,"aria-checked":E===e.label,onClick:()=>j(e.constant),tabIndex:0,"data-reason":e.constant,id:e.label},p.a.createElement("input",{className:"super-hide",type:"radio",checked:E===e.label,"aria-checked":E===e.label,value:e.constant,onChange:()=>j(e.constant)}),p.a.createElement(i.a,{isSelected:E===e.constant}),p.a.createElement("label",{className:"mb3"},p.a.createElement("div",{className:"create-700 mr1 type-14 text-left"},e.label),p.a.createElement("div",{className:"type-13 text-left"},e.subheader))))),p.a.createElement(a.b,{disabled:T,theme:"support",atoms:["px10","w100p","mt1"],onClick:t=>{t.preventDefault(),y(!0),null!==E&&u({contentId:e,details:w,kind:E}).then(()=>{y(!1),g(!1),b(!0),k()}).catch(()=>{y(!1),g(!1),Object(d.a)({error:Object(l.b)("backer_removal.We_had_trouble_submitting_your_request")})})}},v?p.a.createElement(s.a,null):Object(l.b)("backer_removal.Submit_request")),p.a.createElement("div",{className:"type-12 support-400 mt4 text-center"},Object(l.b)("backer_removal.This_backers_comments_are_hidden")),p.a.createElement("div",{className:"type-12 support-400 text-center"},Object(l.b)("backer_removal.Only_the_author_can_see_them"))),p.a.createElement("div",{className:"w25"},t||_?p.a.createElement(c.a,{label:x,placement:"top",open:O,focusWithin:!0},p.a.createElement("div",{onPointerEnter:()=>N(!0),onPointerLeave:()=>N(!1)},I)):I))})},"82w6":function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("h4vE"),o=n("ZCIj");n("RIhn");Object(r.a)(".js-launch-banner",(function(e){e.each((function(){var e=i()(this),t=e.data("id"),n=e.data("one_time");function a(){o.b.setItem(t,!0)}o.b.getItem(t)||(e.on("click",".js-close",(function(t){a(),e.addClass("banner-hidden"),t.preventDefault()})),n&&a(),e.removeClass("banner-hidden"))}))}))},"88ec":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));const a=e=>/^\/projects\/.+pledge\/new$/.test(e)?"Reward Selection":/^\/checkouts\/.+payments\/new$/.test(e)?"Payments Page":/^\/projects\/[^\/pledge|\/payments]/.test(e)?"Project Page":null,i=(e,t)=>{try{let t=e.responseJSON.data.errors,n=[];for(let e in t)n.push(t[e][0]);return n[0]}catch(e){return t}}},"8Exb":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n("dPds"),i=n("q1tI"),r=n.n(i),o=n("ZT9a"),s=n("vhN2");const c=r.a.forwardRef(({variant:e="default",...t},n)=>r.a.createElement(s.a,Object(o.a)({className:m[e],ref:n},t))),l=r.a.forwardRef(({...e},t)=>r.a.createElement(u,Object(o.a)({variant:"standalone",ref:t},e))),d=r.a.forwardRef(({...e},t)=>r.a.createElement(u,Object(o.a)({variant:"unstyled",ref:t},e))),u=Object.assign(c,{Standalone:l,Unstyled:d}),m={default:Object(a.b)("Link"),standalone:Object(a.b)("StandaloneLink"),unstyled:""}},"8Np1":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("q1tI");const i={helvetica:{sizes:{"headline-500":"type-38 type-48-sm type-60-md type-100-lg","headline-400":"type-38 type-48-sm type-60-md type-80-lg","headline-300":"type-21 type-38-md type-48-lg","headline-200":"type-24 type-28-md type-38-lg","headline-100":"type-21 type-24-md type-28-lg","subhead-600":"type-18 type-21-md","subhead-500":"type-16 type-21-md","subhead-400":"type-14 type-21-md","subhead-300":"type-16 type-18-md","subhead-200":"type-14 type-18-md","body-200":"type-14 type-16-md","body-100":"type-13 type-14-md","caption-200":"type-12 type-13-md","caption-100":"type-12"},variants:{italic:"text-italic"},weights:{light:"light",normal:"normal",medium:"medium",semibold:"semibold",bold:"bold"}}},r=({atoms:e=[],children:t,color:n,font:r=i.helvetica,italic:o=!1,level:s,style:c,tag:l="span",type:d,weight:u,role:m})=>{const p=s?"h"+s:l,h=(d?[r.sizes[d]]:[]).concat(n?[n]:[]).concat(o?[r.variants.italic]:[]).concat(u?[r.weights[u]]:[]).concat(e).join(" ");return a.createElement(p,{style:c,className:h,role:m,"aria-level":s},t)}},"8ZZx":function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var a=n("pTxv"),i=n("3D3T"),r=n("2DJ9"),o=n("daZV"),s=n("mv45"),c=n("94td"),l=n("gN63"),d=n("zm9w"),u=n("dkkr"),m=n("5FPU"),p=n("a8OY"),h=n("JhfJ"),f=n("vtU4"),g=n("q1tI"),_=n("DI+Y"),b=n("1eGs");const v=(e,{fetchMoreResult:t})=>{var n,a;const i=(null==e||null===(n=e.project)||void 0===n?void 0:n.posts)||[],r=(null==t||null===(a=t.project)||void 0===a?void 0:a.posts)||[];return 0===r.length?e:{...e,project:{...e.project,posts:{...e.project&&e.project.posts,edges:[...i.edges,...r.edges],pageInfo:r&&r.pageInfo}}}},k=Object(s.c)(e=>{if(!e.data||!e.data.project)return Object(s.d)(e.data.error);const{posts:t}=e.data.project,n=t?t.pageInfo.endCursor:null,a=!!t&&t.pageInfo.hasNextPage,{state:i,projectSlug:r}=e.ownProps,o=(c=t&&t.edges)?c.map(e=>e&&e.node).filter(e=>e):[];var c;const l=o.length,d=t&&t.totalCount||0;return Object(s.l)({posts:o,isFetchingMorePosts:e.data.loading,hasNextPage:a,postsShowing:l,totalPosts:d,fetchMorePosts:()=>e.data.fetchMore({query:b.c,variables:{cursor:n,state:i,projectSlug:r},updateQuery:v})})}),y=Object(_.graphql)(b.c,k),E=e=>{const{type:t,isEditable:n,projectCreator:a,projectSlug:i,postId:o,title:s}=e;return g.createElement("h2",{className:"type-16 mb1 mb0-md text-truncate"},g.createElement("a",{href:n?t===b.a.CreatorInterview?f.b.EDIT_CREATOR_INTERVIEW.url(a,i,o):f.b.EDIT_FREEFORM_POST.url(a,i,o):f.b.VIEW_POST.url(a,i,o),className:"soft-black bold hover-text-underline"},n&&g.createElement(r.a,{atoms:["fill-soft-black","pr2"],size:"36",name:"icon--pencil"}),s||Object(c.b)("project_updates.Untitled")))},j=e=>d.b.time_ago_in_words(e);class w extends g.Component{constructor(e){super(e),this.removePostFromList=e=>{this.setState({posts:this.state.posts.filter(t=>t.id!==e),totalPosts:this.state.totalPosts-1,postsShowing:this.state.postsShowing-1})},this.handleDelete=e=>{confirm(Object(c.b)("project_updates.Are_you_sure_you_want_to_delete_draft"))&&this.props.onDeletePost({id:e}).then(()=>{this.removePostFromList(e)})},this.renderDeleteButton=e=>g.createElement("div",{className:"text-right"},g.createElement("button",{className:"red-500 type-14",onClick:()=>this.handleDelete(e)},"Delete")),this.state={posts:this.props.posts,postsShowing:this.props.postsShowing,totalPosts:this.props.totalPosts}}componentDidUpdate(e){e.posts!==this.props.posts&&this.setState({posts:this.props.posts,postsShowing:this.props.postsShowing,totalPosts:this.props.totalPosts})}renderPagination(){return g.createElement(o.a,{buttonI18nKey:"project_updates.Load_more",remainingI18nKey:"project_updates.Showing_x_of_y_updates",totalCount:this.state.totalPosts,showingCount:this.state.postsShowing,pageSize:20,onClick:this.props.fetchMorePosts,loading:this.props.isFetchingMorePosts,hasMorePages:this.props.hasNextPage,atoms:["py6","w25p-md","m-auto","theme--support"]})}renderMobilePosts(){return g.createElement("ul",null,this.state.posts.map((e,t)=>g.createElement("li",{key:e.id,className:"pb3 mb3 border-bottom"},g.createElement(E,{key:"title-"+t,type:e.type,title:e.title,postId:Object(l.a)(e.id),isEditable:e.actions.edit,projectCreator:this.props.projectCreator,projectSlug:this.props.projectSlug}),g.createElement("div",{className:"flex items-center"},g.createElement("div",{className:"flex items-center mr3"},g.createElement(r.a,{size:"medium",name:"icon--calendar"}),g.createElement("span",{className:"ml1"},j(e.createdAt))),this.renderDeleteButton(e.id)))))}renderEmptyState(){return g.createElement(u.a,{primaryText:Object(c.b)("project_updates.You_havent_saved_any_drafts"),secondaryText:Object(c.b)("project_updates.Use_this_space_as_a_journal"),buttonText:Object(c.b)("project_updates.Post_a_new_update"),buttonUrl:f.b.NEW_FREEFORM_POST.url(this.props.projectCreator,this.props.projectSlug)})}renderDataTable(){return g.createElement(g.Fragment,null,g.createElement(i.a,{caption:Object(c.b)("project_updates.Draft_Posts"),headers:[Object(c.b)("project_updates.Title"),Object(c.b)("project_updates.Last_edit"),Object(c.b)("project_updates.Action")],columns:[{width:65,align:"left"},{width:15,align:"left"},{width:10,align:"right"}],rows:this.state.posts.map((e,t)=>[g.createElement(E,{key:"title-"+t,type:e.type,title:e.title,postId:Object(l.a)(e.id),isEditable:e.actions.edit,projectCreator:this.props.projectCreator,projectSlug:this.props.projectSlug}),j(e.createdAt),this.renderDeleteButton(e.id)]),mobileComponent:this.renderMobilePosts()}),this.renderPagination())}render(){return g.createElement(g.Fragment,null,g.createElement("div",{className:"flex mb2 justify-between items-baseline"},g.createElement("h1",{className:"type-18 text-normal"},Object(c.b)("project_updates.Drafts")),this.state.posts.length>0&&g.createElement(a.b,{theme:"support",href:f.b.NEW_FREEFORM_POST.url(this.props.projectCreator,this.props.projectSlug)},Object(c.b)("project_updates.Post_a_new_update"))),0===this.state.posts.length?this.renderEmptyState():this.renderDataTable())}}const S=Object(s.a)(h.a,y,Object(m.a)(()=>({primaryText:Object(c.b)("new_project_update.Updates_are_disabled"),secondaryText:Object(c.b)("new_project_update.This_project_is_hidden_suspended")})),p.b)(w);var O=n("1OuE"),N=n("XfPQ"),C=n("zjD3");class I extends g.Component{constructor(...e){super(...e),this.state={likersModalId:"",likersModalShowing:!1}}renderMobilePosts(){return g.createElement("ul",null,this.props.posts.map(e=>g.createElement("li",{key:e.id,className:"pb3 mb3 border-bottom"},g.createElement(E,{title:e.title,type:e.type,postId:Object(l.a)(e.id),isEditable:e.actions.edit,projectCreator:this.props.projectCreator,projectSlug:this.props.projectSlug}),g.createElement("div",{className:"flex items-center"},g.createElement("div",{className:"flex items-center mr3"},g.createElement(r.a,{size:"medium",name:"icon--calendar"}),g.createElement("span",{className:"ml1"},Object(O.b)("MM/DD/YYYY",e.publishedAt))),g.createElement("div",{className:"flex items-center mr3"},g.createElement(r.a,{size:"medium",name:"icon--heart"}),g.createElement("span",{className:"ml1"},Object(C.a)(e.likesCount))),g.createElement("div",{className:"flex items-center"},g.createElement(r.a,{size:"medium",name:"icon--message"}),g.createElement("span",{className:"ml1"},Object(C.a)(e.commentsCount)))))))}renderPagination(){return g.createElement(o.a,{buttonI18nKey:"project_updates.Load_more",remainingI18nKey:"project_updates.Showing_x_of_y_updates",totalCount:this.props.totalPosts,showingCount:this.props.postsShowing,pageSize:20,onClick:this.props.fetchMorePosts,loading:this.props.isFetchingMorePosts,hasMorePages:this.props.hasNextPage,atoms:["py6","w25p-md","m-auto","theme--support"]})}renderEmptyState(){return g.createElement(u.a,{primaryText:Object(c.b)("project_updates.You_havent_published_an_update"),secondaryText:Object(c.b)("project_updates.Say_hello_share_some_news"),buttonText:Object(c.b)("project_updates.Post_a_new_update"),buttonUrl:f.b.NEW_FREEFORM_POST.url(this.props.projectCreator,this.props.projectSlug)})}renderLikeCount(e,t,n){return"-"===n?n:g.createElement("button",{className:"type-14 soft-black hover-ksr-green-400 hover-text-underline",onClick:()=>{this.setState({likersModalId:e,likersModalShowing:!0})}},n)}renderDataTable(){return g.createElement(g.Fragment,null,g.createElement(i.a,{caption:Object(c.b)("project_updates.Published_Posts"),headers:[Object(c.b)("project_updates.Title"),Object(c.b)("project_updates.Published_date"),Object(c.b)("project_updates.Likes"),Object(c.b)("project_updates.Comments")],columns:[{width:61,align:"left"},{width:25,align:"left"},{width:7,align:"right"},{width:7,align:"right"}],rows:this.props.posts.map((e,t)=>[g.createElement(E,{key:"title-"+t,type:e.type,title:e.title,postId:Object(l.a)(e.id),isEditable:e.actions.edit,projectCreator:this.props.projectCreator,projectSlug:this.props.projectSlug}),Object(O.b)("MMMM D, YYYY",e.publishedAt),this.renderLikeCount(e.id,e.type,Object(C.a)(e.likesCount)),Object(C.a)(e.commentsCount)]),mobileComponent:this.renderMobilePosts()}),this.renderPagination())}render(){return g.createElement(g.Fragment,null,g.createElement("h1",{className:"type-18 text-normal mb4"},Object(c.b)("project_updates.Published")),0===this.props.posts.length?this.renderEmptyState():this.renderDataTable(),this.state.likersModalShowing&&g.createElement(N.a,{id:this.state.likersModalId,onClose:()=>this.setState({likersModalId:null,likersModalShowing:!1})}))}}const x={path:"/projects/:projectCreator/:projectSlug/posts_dashboard",url:(e,t)=>`/projects/${e}/${t}/posts_dashboard`},T={POSTS_DASHBOARD:x,PUBLISHED_POSTS:{Component:Object(s.a)(y,Object(m.a)(()=>({primaryText:Object(c.b)("new_project_update.Updates_are_disabled"),secondaryText:Object(c.b)("new_project_update.This_project_is_hidden_suspended")})),p.b)(I),path:x.path+"/published",url:(e,t)=>`/projects/${e}/${t}/posts_dashboard/published`},DRAFT_POSTS:{Component:S,path:x.path+"/drafts",url:(e,t)=>`/projects/${e}/${t}/posts_dashboard/drafts`}}},"8oY9":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("q1tI"),i=n.n(a),r=n("/IHD");const o=({label:e,id:t,errors:n,atoms:a,required:o})=>{const s=Object(r.a)("atomic-text-label",n&&n.length>0&&"atomic-text-label--errored",a);return i.a.createElement("label",{htmlFor:t,className:s},e,o&&i.a.createElement("span",{className:"celebrate-700"},"*"))}},"8plM":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("iuhU"),i=n("q1tI"),r=n.n(i);const o=e=>{const{url:t,altText:n,omitLayout:i=!1,removeBottomBorders:o=!1,borderStyles:s=!1,...c}=e,l=r.a.createElement("div",{className:Object(a.b)("aspect-ratio aspect-ratio--3x2",o&&"display-none-md")},r.a.createElement("img",Object.assign({},c,{src:t,alt:n,className:Object(a.b)("object-cover aspect-ratio--object kds-rounded-t-sm",s&&"border border1px border-box",o&&"kds-rounded-b-none")})));return i?l:r.a.createElement("div",{className:"reward-image my3 my0-md flex1"},l)}},"8q62":function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);i()((function(){i()(document).on("change","body#site_privacy form.select_country",(function(){i()(this).submit()}))}))},"8t99":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var a=n("MGTJ");const i=(e,t={})=>{r(e,t)};i.neutral=(e,t)=>{r(e,{...t,tone:"neutral"})},i.informative=(e,t)=>{r(e,{...t,tone:"informative"})},i.positive=(e,t)=>{r(e,{...t,tone:"positive"})},i.warning=(e,t)=>{r(e,{...t,tone:"warning"})},i.critical=(e,t)=>{r(e,{...t,tone:"critical"})};const r=(e,t={})=>{const n=function(e,t){var n;const a="string"==typeof e?e.length:0,i=null!==(n=t.timeout)&&void 0!==n?n:5e3+Math.floor(a/120);return i<=0?void 0:Math.max(i,5e3)}(e,t),a=o.add({children:e,...t},{timeout:n});return()=>o.remove(a)};const o=new a.a({maxVisibleToasts:5})},"8uoN":function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("2UXI");i()((function(){i()(document).on("click",".js-tabbed-nav-link",(function(e){i()(".js-tabbed-nav-link").removeClass("is-active"),i()(this).addClass("is-active"),i()(".js-tabbed-nav-panel").removeClass("is-active"),i()(".js-tabbed-nav-panel[data-panel="+i()(this).data("panel")+"]").addClass("is-active"),Object(r.d)(i()(this).closest(".js-tabbed-nav").data("tracking_name"),{toggled_to:i()(this).data("panel")}),e.preventDefault()}))}))},"94td":function(e,t,n){"use strict";n.d(t,"d",(function(){return a.a})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return s.e})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return u}));var a=n("XM0S"),i=n("9jZ4"),r=n("q1tI"),o=n.n(r),s=n("+DSo");class c extends o.a.Component{shouldComponentUpdate(e){return!Object(i.j)(e,this.props)}render(){const{i18nKey:e,i18nTag:t="span",...n}=this.props;let a=this.props.atoms||[],i=Object(s.c)(window.I18n,e,n);void 0===i&&(i=Object(s.d)(e),a=a.concat(["translation_missing"]),n.debug&&window.console.log("I18n key is missing: ",e));const r=i.split(s.b).reduce((e,t,a)=>{const i=a%2==0?t:n[t];return e.concat([i])},[]),c=a.length>0?{className:a.join(" ")}:{};return o.a.createElement(t,{...c},...r)}}c.withCommonPrefix=e=>({i18nKey:t,...n})=>{if(!e)throw new Error("commonPrefix not provided for Translate component");return o.a.createElement(c,Object.assign({},n,{i18nKey:`${e}${t}`}))};var l=c;const d=window.I18n.locale,u=(...e)=>Object(a.a)(window.I18n,...e)},"9GY1":function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);n("RIhn");i()((function(){i()(".video_player").livequery((function(){i()(this).ksr_video()}))}))},"9jZ4":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"f",(function(){return r})),n.d(t,"g",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"i",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"j",(function(){return u})),n.d(t,"a",(function(){return m}));const a=(e,t)=>Object.keys(t).reduce((n,a)=>e(a,t[a])?{...n,[a]:t[a]}:n,{}),i=e=>e.reduce((e,[t,n])=>({...e,[t]:n}),{}),r=(e,t)=>Object.keys(t).reduce((n,a)=>({...n,[a]:e(t[a])}),{}),o=(e,t)=>Object.assign({},...Object.keys(t).map(n=>e.includes(n)?null:{[n]:t[n]})),s=e=>{for(const t in e)return!1;return!0},c=e=>!s(e),l=e=>t=>t[e],d=e=>t=>e.reduce((e,t)=>e[t],t),u=(e,t)=>{if(Object.is(e,t))return!0;if("object"!=typeof e||null===t||"object"!=typeof e||null===t)return!1;if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;const n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(const a of n)if(!Object.prototype.hasOwnProperty.call(t,a)||!Object.is(e[a],t[a]))return!1;return!0};function m(e){return Object.entries(e)}},"9mow":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("/IHD"),i=n("hPy8"),r=n("q1tI"),o=n.n(r);const s=e=>{const{className:t,dataTestId:n,disabled:s,href:c,target:l,tooltip:d,type:u,...m}=e,p=Object(r.useContext)(i.d),h=e.href?"a":"button";let f,g;c?(f={href:c,target:l},g=p.link.atoms):(f={type:u,disabled:s},g=p.form.atoms);const _=Object(a.a)(t,g);return o.a.createElement(h,Object.assign({className:_,"data-tooltip":d,"data-test-id":n},f,m))}},A0Vp:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=()=>({environmentalCommitmentsExists:!1,projectBudgetExists:!1,projectHasAI:!1,activeSection:void 0})},A3pT:function(e,t,n){"use strict";n.r(t),n.d(t,"budgetGraphicInit",(function(){return d}));var a=n("MHsd"),i=n("94td"),r=n("zm9w"),o=n("q1tI"),s=n.n(o),c=n("i8i4"),l=n.n(c);const d=()=>{const e=document.getElementById("react-budget-graphic");if(e&&e.dataset&&e.dataset.spreadsheetdata&&e.dataset.currency){const t=e.dataset.currency&&r.b.currency_symbol(e.dataset.currency);l.a.render(s.a.createElement(s.a.Fragment,null,s.a.createElement(a.b,{spreadsheetData:JSON.parse(e.dataset.spreadsheetdata),displayValues:"amount"===e.dataset.displaymode,currencySymbol:t,lastUpdatedDate:e.dataset.datalastupdatedat}),s.a.createElement("div",{className:"mt2 support-500"},Object(i.b)("project_page.campaign.Projected_budget_disclaimer"))),e)}};d()},A6sV:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));const a=(e,t)=>({type:"FETCH_CREATOR_SECTION_DATA",projectSlug:e,shareToken:t}),i=e=>({type:"FETCH_CREATOR_SECTION_DATA_RESPONSE",response:e})},ADAi:function(e,t,n){var a=n("+2Rf");n("+2Rf");!function(e){var t=e('<div id="jquery-clipster-overlay"><div><p>Press ⌘C to copy</p><p><textarea></textarea></p></div></div>'),n=t.find("textarea");function a(e,t){t||(t={}),this.text=t.text||e.data("text")||e.text(),this.$elem=e,this.is_on=!1,this.bind()}t.hide(),e((function(){e("body").append(t)})),e.clipster=function(t,n){e(document).on("click",t,(function(t){e(this).clipster(n).data("clipster").activate(),t.preventDefault()}))},e.fn.clipster=function(t){return this.each((function(){var n=e(this),i=n.data("clipster");i||(i=new a(n,t),n.data("clipster",i))}))},a.prototype.bind=function(){var t=this;this.$elem.on("click",(function(e){t.activate(),e.preventDefault()})),e(document).on("copy click",(function(a){var i=e(a.target);i.closest(t.$elem).length||"click"===a.type&&i.is(n)||t.deactivate()})),e(document).on("keydown",(function(e){27===e.which&&t.deactivate()}))},a.prototype.activate=function(){this.active||(t.show(),n.val(this.text),n[0].select(),n.focus(),this.active=!0)},a.prototype.deactivate=function(){this.active&&(setTimeout((function(){t.hide()})),this.active=!1)}}(a)},Ach1:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"e",(function(){return f})),n.d(t,"b",(function(){return g})),n.d(t,"d",(function(){return _})),n.d(t,"f",(function(){return b})),n.d(t,"c",(function(){return v}));var a=n("mq2H"),i=n("v+Hr"),r=n("gN63");const o="backer_discovery_features_2023[exempt]",s="backer_discovery_features_2023[experimental]",c=()=>{var e;const t=Object(a.f)();return(null==t||null===(e=t.user)||void 0===e?void 0:e.user_is_admin)?{session_variants_internal:o}:{session_variants_internal:s}};var l=n("QkVN"),d=n.n(l);const u="global-nav-featured-project",m=["project_add_ons_count","project_comments_count","project_country","project_creator_avatar_medium","project_creator_uid","project_currency","project_duration","project_goal_usd","project_has_add_ons","project_has_featured_rewards","project_has_video","project_hours_remaining","project_is_repeat_creator","project_items_have_images","project_launched_at","project_photo_1536x864","project_photo_ed","project_photo_full","project_prelaunch_activated","project_rewards_count","project_rewards_have_images","project_tags","project_updates_count"],p={discover:/^((?!view-more-discovery).)*discovery.*$/,editorial:/(projectcollection|recommendation)/,featuredProject:/^(?!global-nav).*featured-project.*$/,globalNavFeaturedProject:u,profileProjects:/profile_(saved|backed|created)/,recommendedForYou:/view-more-discovery/},h={featuredProject:{context_cta:a.c.PROJECT,context_type:a.a.FEATURED_PROJECT,context_location:a.m.CURATED},recommendedForYou:{context_cta:a.c.PROJECT,context_type:a.a.RECOMMENDED,context_location:a.m.CURATED},editorial:{context_type:a.a.EDITORIAL,context_location:""},discover:{context_cta:a.c.PROJECT,context_type:a.a.RESULTS,context_location:a.m.DISCOVER_ADVANCED},profileProjects:{context_type:a.a.PROJECT},globalNavFeaturedProject:{context_cta:a.c.PROJECT,context_type:a.a.FEATURED_PROJECT,context_page:Object(i.d)(window.location),context_location:"global_nav"}},f=(e,t,n)=>{if(!e)return;const o=(e=>Object.keys(p).find(t=>e.match(p[t])))(e);if(!o)return;const s=Object(i.d)(window.location),l=h[o];l.context_location=e.includes("recommendation-projectpage-footer")?"live":e.includes("recommendation-ended-project")?"ended":e.includes("recommendation-prelaunch-project")?"prelaunch":l.context_location;let f={},g={};e.match(u)&&(f={discover_category_name:e.split("-").pop()}),n&&(g=(e=>{var t,n,a,i;const o=window.current_user&&window.current_user.id===(null==e||null===(t=e.creator)||void 0===t?void 0:t.id),s=!!e.backing,c=m.reduce((e,t)=>(e[t]=void 0,e),{});return{project_backers_count:e.backersCount,project_blurb:e.description,project_category:null==e||null===(n=e.category)||void 0===n?void 0:n.name,project_comments_count:void 0,project_creator_id:e.creator?e.creator.id:void 0,project_creator_name:null==e||null===(a=e.creator)||void 0===a?void 0:a.name,project_current_amount_pledged_usd:e.currentAmountPledgedUsd,project_deadline:e.deadlineAt,project_name:e.name,project_percent_raised:e.percentFunded,project_pid:Object(r.a)(e.id),project_state:e.state,project_subcategory:null===(i=e.additionalSubcategory)||void 0===i?void 0:i.name,project_user_has_watched:e.isWatched,project_user_is_backer:s,project_user_is_project_creator:o,...c}})(n)),Object(a.n)(a.d.CTA_CLICKED,{...l,recommended_project_pids:t,context_page:s},d()(f,c(),g))},g=e=>{Object(a.n)(a.d.CTA_CLICKED,{context_cta:a.c.DISCOVER_FILTER,context_type:a.a.SUBCATEGORY,context_page:Object(i.d)(window.location),context_location:"project_card"},{discover_subcategory_name:e,...c()})},_=e=>{Object(a.n)(a.d.CTA_CLICKED,{context_cta:a.c.DISCOVER_FILTER,context_type:a.a.LOCATION,context_page:Object(i.d)(window.location),context_location:"project_card"},{discover_location_name:e,...c()})},b=e=>{const t=e?a.a.UNWATCH:a.a.WATCH;Object(a.n)(a.d.CTA_CLICKED,{context_cta:a.c.WATCH_PROJECT,context_type:t,context_page:Object(i.d)(window.location)},c())},v=({creatorId:e,isFollowing:t})=>{const n=t?a.a.UNFOLLOW_USER:a.a.FOLLOW_USER;Object(a.n)(a.d.CTA_CLICKED,{context_cta:a.c.FOLLOW_USER,context_type:n,context_page:Object(i.d)(window.location),context_location:"project_card"},{...c(),interaction_target_uid:Object(r.a)(e)})}},CBx1:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n("iuhU"),i=n("dPds"),r=n("94td"),o=n("q1tI"),s=n.n(o),c=n("39MV");const l=(e,t)=>Math.ceil(Number(e)*t),d=({amount:e,min:t,max:n,fxRate:o,currency:d,usdType:u,atoms:m,textTranslationKey:p="project_page.reward.About_amount",formatAmounts:h=!0})=>{let f;return f=t&&n?Object(r.b)(p,{min:Object(c.c)(l(t,o),d,u),max:l(n,o),currencySymbol:""}):Object(r.b)(p,{amount:Object(c.c)(l(e,o),d,u),currencySymbol:""}),h?s.a.createElement(i.a.HeadingXS,{as:"span",className:Object(a.b)("kds-text-secondary",m)},f):s.a.createElement("span",null,f)}},CGP4:function(e,t,n){"use strict";n.r(t),n.d(t,"commentsInit",(function(){return h}));var a=n("mwIZ"),i=n.n(a),r=n("VX74"),o=n("aiSh"),s=n("pj8f"),c=n("q1tI"),l=n.n(c),d=n("i8i4"),u=n.n(d),m=n("d5To");var p={...n("qPAc").a,pollUrlFactory:e=>e.url+"/stats.json?v=1"};const h=()=>{const e=Object(o.a)(s.Honeybadger.notify.bind(s.Honeybadger)),t=document.getElementById("react-project-comments");if(t){const n=t.dataset.commentable_id,a=i()(t,"dataset.comment_cursor",null)||null,o=i()(t,"dataset.comment_id",null);u.a.render(l.a.createElement(r.ApolloProvider,{client:e},l.a.createElement(m.a,{commentableId:n,initialCommentId:o,nextCursor:a,previousCursor:null,first:25,last:null,config:p})),t)}};h()},CKbS:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var a=n("UYTu"),i=n("YToL");const r={commentInfo:a.a`
    fragment CommentInfo on Comment {
      id
      body
      createdAt
      parentId
      author {
        id
        imageUrl(width: 200)
        name
        url
        isBlocked
      }
      removedPerGuidelines
      authorBadges
      canReport
      canDelete
      canPin
      hasFlaggings
      deletedAuthor
      deleted
      sustained
      pinnedAt
      authorCanceledPledge
      authorBacking {
        backingUrl
        id
      }
    }
  `,commentReplies:a.a`
    fragment CommentReplies on Comment {
      replies(last: ${i.c.REPLIES}, before: $replyCursor) {
        totalCount
        nodes {
          ...CommentInfo
        }
        pageInfo {
          startCursor
          hasPreviousPage
        }
      }
    }
  `},o=a.a`
  query CommentsQuery(
    $commentableId: ID!
    $nextCursor: String
    $previousCursor: String
    $replyCursor: String
    $first: Int
    $last: Int
  ) {
    commentable: node(id: $commentableId) {
      id
      ... on Project {
        url
      }
      ... on Commentable {
        canComment
        canCommentSansRestrictions
        commentsCount
        projectRelayId
        canUserRequestUpdate
        comments(
          first: $first
          last: $last
          after: $nextCursor
          before: $previousCursor
        ) @connection(key: "comments") {
          edges {
            node {
              ...CommentInfo
              ...CommentReplies
            }
          }
          pageInfo {
            startCursor
            hasNextPage
            hasPreviousPage
            endCursor
          }
        }
      }
    }
    me {
      id
      name
      imageUrl(width: 200)
      isKsrAdmin
      url
      isBlocked
      userRestrictions {
        restriction
        releaseAt
      }
    }
  }
  ${r.commentInfo}
  ${r.commentReplies}
`,s=a.a`
  query CommentWithReplies($id: ID!, $replyCursor: String) {
    node(id: $id) {
      ...CommentInfo
      ...CommentReplies
    }
  }
  ${r.commentInfo}
  ${r.commentReplies}
`;a.a`
  query CommentsCount($commentableId: ID!) {
    commentable: node(id: $commentableId) {
      commentsCount
    }
  }
`},CMmH:function(e,t,n){"use strict";var a=n("2UXI"),i=n("0fse");t.a=(e,t)=>{switch(t.type){case"TRACKING_TRACK_EVENT":const{name:n,properties:r,options:o}=t;return Object(i.f)(e,i.a.run(a.d,{args:[n,r,o]}));case"BULK_TRACKING_TRACK_EVENT":const s=(t.actions||[]).map(e=>{const{name:t,properties:n,options:r}=e;return i.a.run(a.d,{args:[t,n,r]})});return Object(i.f)(e,i.a.list(s,{batch:!0}))}}},CPM0:function(e,t,n){"use strict";var a=n("q1tI"),i=n.n(a),r=n("pQ8y");t.a=({enter:e="fade-in",leave:t="fade-out",appear:n,open:a=!0,duration:o=300,durationLeave:s,durationAppear:c,component:l="div",mountOnEnter:d=!0,unmountOnExit:u=!0,children:m})=>{const p=l||i.a.Fragment;return i.a.createElement(r.a,{in:a,appear:!!n,timeout:{enter:o,exit:s||o,appear:c||o},classNames:{appear:"animation-"+(c||o),appearActive:"animation-"+(n||e),enter:"animation-"+o,enterActive:"animation-"+e,exit:"animation-"+(s||o),exitActive:"animation-"+t},mountOnEnter:d,unmountOnExit:u},i.a.createElement(p,null,m))}},CgNg:function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return _}));var a=n("RBqt"),i=n("CPM0"),r=n("/IHD"),o=n("IVac"),s=n("q1tI"),c=n("O6Fj"),l=n.n(c);const d=({charLimit:e,inputValue:t})=>{const n=t?t.toString().length:0,i=n===e?"create-700":"dark-grey-500";return s.createElement("div",null,s.createElement(a.a,{type:"caption-200",atoms:[i]},n),s.createElement(a.a,{type:"caption-200",atoms:["dark-grey-500"]},"/"),s.createElement(a.a,{type:"caption-200",atoms:["dark-grey-500"]},e))},u=({text:e})=>s.createElement(a.a,{atoms:["dark-grey-500","ml-auto"],type:"caption-200"},e),m=({text:e})=>s.createElement(a.a,{type:"caption-200",atoms:["create-700"]},e),p=({text:e})=>s.createElement(a.a,{type:"caption-200",atoms:["support-400","pr3"]},e),h=({children:e,htmlFor:t,state:n})=>{const a=Object(r.a)("atomic-text-label",Object(o.d)(n,t)&&"atomic-text-label--errored");return s.createElement("label",{htmlFor:t,className:a},e)},f=({children:e,htmlFor:t,fixedLabelPosition:n="LEFT",atoms:a,width:i})=>{const r=a&&a.join(" ");return s.createElement("label",{htmlFor:t,className:`${"RIGHT"===n?"atomic-text-label-fixed-right":"atomic-text-label-fixed"} ${r}`,style:{width:i+"rem"}},e)},g=({ariaLabel:e,ariaLabelledBy:t,autoComplete:n,atoms:i=[],autoExpandable:o,autoFocus:c,charLimit:d,children:u,currentFocus:m,disabled:p,disclaimer:h,feedback:g,fixedLabel:v,fixedLabelPosition:k="LEFT",hasErrors:y,id:E,inputAtoms:j=[],inputValue:w,label:S,max:O,min:N,minRows:C,mobileCta:I,name:x,onBlur:T,onChange:A,onFocus:D,onKeyDown:P,placeholder:R,required:F,step:L,styles:M,type:U="text",updateClientOnFocus:V,fixedLabelAtoms:H=[],warning:B,fixedLabelWidth:$,inputFixedLabelPadding:q=.8})=>{const Y=m===E,z=Object(r.a)(i);let G={};if(v&&$){let e=$+q;G="RIGHT"===k?{paddingRight:e+"rem"}:{paddingLeft:e+"rem"}}const K={"aria-label":e,"aria-labelledby":t,autoComplete:n,autoFocus:c,"aria-required":F,className:Object(r.a)("atomic-text-input",...j,y&&"has-errors",v&&"LEFT"===k?"atomic-text-input-prefixed":v&&"atomic-text-input-prefixed-right",B&&"warning"),disabled:p,id:E,maxLength:d,name:x,onBlur:e=>{V&&V(null),T&&T(e)},onChange:e=>((e,t)=>{if(!A)return;const n=e.target.value;(t&&n.length<=t||!t)&&A(n,e)})(e,d),onFocus:e=>{V&&V(E),D&&D(e)},onKeyDown:e=>P&&P(e.which,e),onWheel:e=>{"number"===U&&e.target.blur()},placeholder:R,value:w,style:M,required:F},W="number"===U?{min:N,max:O,step:L}:{},J={...K,type:U,...W},X={...K,rows:C||1};return m===E&&v&&H.push("focus"),B&&v&&H.push("warning"),s.createElement("div",{className:z},(S||h)&&s.createElement(_,{mobileCta:I,disclaimer:h,id:E,label:S,usesFixedLabel:!!v}),s.createElement("div",{className:"relative smart-input-group"},v&&s.createElement(f,{htmlFor:E,fixedLabelPosition:k,atoms:H,width:$},s.createElement(a.a,{type:"caption-200"},v)),o&&s.createElement(l.a,X),C&&!o&&s.createElement("textarea",X),!C&&!o&&s.createElement("input",Object.assign({},J,{style:{...M,...G}}))),s.createElement(b,{children:u,charLimit:d,feedback:g,hasErrors:y,inputValue:w,showInputFooter:Y,warning:B}))},_=({mobileCta:e,disclaimer:t,id:n,label:i,usesFixedLabel:r=!1})=>{const o=t?s.createElement(u,{text:t}):null,c=s.createElement(a.a,{atoms:["soft-black"],type:"body-100",weight:"medium"},i);let l=null;return i&&r?l=c:i&&!r&&(l=s.createElement(h,{htmlFor:n},c)),e?s.createElement("div",{className:"mb1"},s.createElement("div",{className:"flex justify-between hide-md"},s.createElement("div",null,l,o),s.createElement("div",null,e)),s.createElement("div",{className:"hide items-baseline flex-md"},l,o)):s.createElement("div",{className:"flex items-baseline mb1"},l,o)},b=({children:e,charLimit:t,feedback:n,hasErrors:a,inputValue:o,showInputFooter:c,warning:l})=>{const u=Object(r.a)("h5",!l&&"clip","absolute","l0","t0","w100p");return s.createElement("div",{className:"relative w100p"},s.createElement("div",{className:u},s.createElement("div",{className:"absolute l0 t1 w100p"},s.createElement(i.a,{enter:"fade-in-and-down",leave:"fade-out-and-up",open:c},s.createElement("div",{className:"flex justify-between items-baseline"},s.createElement("div",null,!a&&l&&s.createElement(p,{text:l}),!a&&!l&&n&&s.createElement(m,{text:n})),t&&s.createElement(d,{charLimit:t,inputValue:o})))),a&&e&&s.createElement("div",{className:"absolute l0 t1 w100p"},e)))}},CjI4:function(e,t,n){"use strict";var a=n("60hy");const i=Object(a.b)(window.current_location);window.current_location=i,t.a=i},Ck6Y:function(e,t,n){"use strict";var a=n("xG9w"),i=n("+2Rf"),r=n("+2Rf");r.fn.validate=function(){var e=!0;return!this.length||(this.is(":input")?(this.each((function(){var t,n=r(this),i=!1,o=n.data("validations");o&&o.length&&(a.default.each(o,(function(a){var r=a[0],o=a[1]||{};if("function"!=typeof o.when||o.when.call(n))return r.call(n,n.val())?void 0:(e=!1,i=!0,"string"==typeof o.error&&(t=o.error),!1)})),i?r.each(r.fn.validate.defaults.on_invalid,(function(e,a){a(n,t)})):r.each(r.fn.validate.defaults.on_valid,(function(e,t){t(n)})))})),e):this.find(":input").validate())},r.fn.validate.defaults={on_valid:[function(e){r(e).trigger("validate:valid")}],on_invalid:[function(e,t){r(e).trigger("validate:invalid",[t])}]},function(e){function t(t,n){var a=e(this);a.data("validations")||a.data("validations",[]),a.data("validations").push([t,n])}function n(e){return function(n){return this.each((function(){t.call(this,e,n)})),this}}e.fn.validates_custom=function(e,n){return this.each((function(){t.call(this,e,n)})),this},e.fn.validates_format=n((function(t){return t.match(new RegExp(e(this).data("format")))})),e.fn.validates_min_length=n((function(t){return t.length>=parseInt(e(this).data("minlength"),10)})),e.fn.validates_max_length=n((function(t){return t.length<=parseInt(e(this).data("maxlength"),10)})),e.fn.validates_presence=n((function(t){return!!e.trim(t)})),e.fn.validates_email=n((function(e){return e.match(/^.+@.+\..{2,}$/)})),e.fn.validates_luhn_check=n((function(e){var t,n,a,i=String(e).replace(/[^\d]/g,""),r=0;for(n=i.length-1;n>=0;n-=1)a=n%2+1,r+=(t=parseInt(i[n],10))>4&&2===a?t*a%10+1:t*a;return r%10==0})),e.fn.validates_routing_number=n((function(t){var n,a,i,r=String(t).replace(/[^\d]/g,""),o=e(this).closest("form").attr("data-country"),s=(r+"").split(""),c=0,l=[0,3,6];switch(o){case"US":for(a=0,i=l.length;a<i;a+=1)n=l[a],c+=3*parseInt(s[n],10),c+=7*parseInt(s[n+1],10),c+=parseInt(s[n+2],10);return 0!==c&&c%10==0;case"CA":return 8===r.length;case"AU":case"NZ":return 6===r.length;default:return!0}})),e.fn.validates_vat_format=n((function(e){var t=String(e).toUpperCase();switch(t.substr(0,2)){case"NL":return/^\w{2}\d{9}B\d{2}$/.test(t);default:return/^\w{2}[\w\d]{6}/.test(t)}})),e.fn.validates_postal_code=n((function(t){var n=e(this).closest("form").data("country"),a=!1,i={US:[/(^\d{5}$)|(^\d{5}-\d{4}$)/]};return void 0===i[n]||(e.each(i[n],(function(e,n){n.test(t)&&(a=!0)})),a)})),e.fn.validates_business_id=n((function(t){var n=String(t).toUpperCase().replace(/\s+/g,""),a=e(this).closest("form").attr("data-country"),i=!1,r={AU:[/^\d{9}$/,/^\d{11}$/],BE:[/^(BE)?[A-Z0-9]{12}$/],CA:[/^\d{9,10}$/],CH:[/^(CHE-?)?[0-9]{3}\.?[0-9]{3}(\.?[0-9]{3})?(TVA|MWST|IVA|VAT)?$/],ES:[/^[ABCDEFGHJNPQRSUVW][0-9]{7}[A-Z0-9]$/],FI:[/^\d{7}\-\d$/],FR:[/^\d{14}$/],GB:[/^\d{7,8}$/,/^(AC|E[NS]|FC|G[ENS]|I[CP]|LP|N[ACFILOPRVZ]|OC|R[0C]|S[ACEFILOPRZ]|ZC)\d{5,6}[A-Z]?$/i],IE:[/^\d{5,6}$/,/^[A-Z]{2}\d{5,6}$/i,/^R\d{3}$/i,/^\d{2,4}(?:SAL|F|R|T|SA)$/],LU:[/^\d{4,8}$/,/^B\d{4,8}$/i,/^F\d{3,8}$/i],NL:[/^\d{8}$/],US:[/^\d{2}-?\d{7}$/]};return""===n||(void 0===r[a]||(e.each(r[a],(function(e,t){t.test(n)&&(i=!0)})),i))}))}(i)},"D+F0":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));const a=(e,t=!0)=>({type:"PROJECT_MODAL_OPEN",modalType:e,tracking:t}),i=()=>({type:"PROJECT_MODAL_CLOSE"})},D6l6:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("GRmu"),o=n("0VSk"),s=n("U98V");let c={get:function(e,t,n,a){return n.hasClass("loading")||(n.trigger("before_ksrjson",[n,a]),i.a.ajax({url:e,type:t||"GET",data:{format:"json"},dataType:"json",beforeSend:function(){n.addClass("loading")},success:function(e){c.parse_response(e,n)},complete:function(){n.removeClass("loading")}})),!1},enable_form:function(e,t){e.on("submit",(function(n){n.preventDefault(),e.trigger("ajaxForm:beforeSerialize"),i.a.ajax({url:e.attr("action"),type:e.attr("method"),data:e.serialize(),dataType:"json",beforeSend:function(){var n=e.find("input.confirmation");return e.is(".submitting")?(Object(r.a)({error:o.default.t("library.ksr_json.Sorry_still_waiting_for_a_response_Please_try_refreshing_if")}),!1):!(n.length&&!n.prop("checked"))&&(t.addClass("loading"),void e.addClass("submitting"))},success:function(n){c.parse_response(n,t,e),t.trigger("ksr_json:afterSuccess",n)},error:function(n){c.parse_error(n,t,e),t.trigger("ksr_json:afterError")},complete:function(){t.removeClass("loading"),e.removeClass("submitting"),t.trigger("ksr_json:afterComplete")}})}))},parse_response:function(e,t,n){var a,c,l,d={open:function(){i()(n).trigger("jGrowl.open_"+e.status)},close:function(){i()(n).trigger("jGrowl.close_"+e.status)}};switch(t.trigger("ksr_json:complete",e),i.a.isArray(e.flash)&&i.a.isArray(e.flash[0])?Object(r.a)(i.a.map(e.flash,(function(e){return e[e.length-1]})),d):e.flash&&Object(r.a)(e.flash,d),parseInt(e.status,10)){case 200:case 406:if(a=i()(e.data),e.data&&e.data.length>0){if(e.send_message_modal){var u=i()(".NS_messages__new");if(u.length){var m=u.last();m.html(e.data),Object(s.a)(m)}}e.modal?((l=i.a.create_modal_dialog("",e.data)).data("modal_dialog").open(),"undefined"!=typeof FB&&FB.XFBML.parse(l.find(".modal_dialog_body")[0])):(a.find("a.cancel").length>0?(c=t.contents().detach(),a.find("a.cancel").one("click",(function(){return t.contents().remove(),c.appendTo(t),!1}))):t.contents().remove(),t.html(a),t.trigger("size_change"),"undefined"!=typeof FB&&FB.XFBML.parse(t[0]))}i()('meta[name="csrf-token"]').attr("content",e.auth_token);break;case 204:t.remove();break;case 302:window.location.href=e.data.replace(/.json$/,"");break;case 303:t.load(e.data,(function(){i()('meta[name="csrf-token"]').attr("content",e.auth_token)}));break;case 304:break;case 500:Object(r.a)({error:o.default.t("library.ksr_json.Sorry_something_went_wrong_Weve_been_notified_and_are_looking")});break;case 422:Object(r.a)({error:o.default.t("library.ksr_json.Sorry_something_went_wrong_Your_form_may_have_explired")})}return e},parse_error:function(e,t,n){c.parse_response({flash:{},status:e.status,data:e.body},t,n)}};t.a=c},DE4Y:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return u})),n.d(t,"j",(function(){return m})),n.d(t,"k",(function(){return p})),n.d(t,"l",(function(){return h})),n.d(t,"m",(function(){return f})),n.d(t,"n",(function(){return g})),n.d(t,"o",(function(){return _})),n.d(t,"p",(function(){return b})),n.d(t,"q",(function(){return v})),n.d(t,"r",(function(){return k})),n.d(t,"s",(function(){return y})),n.d(t,"t",(function(){return E})),n.d(t,"u",(function(){return j})),n.d(t,"v",(function(){return w})),n.d(t,"w",(function(){return S})),n.d(t,"x",(function(){return O})),n.d(t,"y",(function(){return N})),n.d(t,"z",(function(){return C})),n.d(t,"A",(function(){return I})),n.d(t,"B",(function(){return x})),n.d(t,"C",(function(){return T})),n.d(t,"D",(function(){return A})),n.d(t,"E",(function(){return D})),n.d(t,"F",(function(){return P})),n.d(t,"G",(function(){return R})),n.d(t,"H",(function(){return F})),n.d(t,"I",(function(){return L})),n.d(t,"J",(function(){return M})),n.d(t,"K",(function(){return U})),n.d(t,"L",(function(){return V})),n.d(t,"M",(function(){return H})),n.d(t,"N",(function(){return B})),n.d(t,"O",(function(){return $})),n.d(t,"P",(function(){return q})),n.d(t,"Q",(function(){return Y})),n.d(t,"R",(function(){return z})),n.d(t,"S",(function(){return G})),n.d(t,"T",(function(){return K})),n.d(t,"U",(function(){return W})),n.d(t,"V",(function(){return J})),n.d(t,"W",(function(){return X})),n.d(t,"X",(function(){return Z})),n.d(t,"Y",(function(){return Q})),n.d(t,"Z",(function(){return ee})),n.d(t,"ab",(function(){return te})),n.d(t,"bb",(function(){return ne})),n.d(t,"cb",(function(){return ae})),n.d(t,"db",(function(){return ie})),n.d(t,"eb",(function(){return re}));let a=function(e){return e.link="link",e.restricted="restricted",e}({}),i=function(e){return e.pledge_redemption="pledge_redemption",e.pledge_redemption_edit="pledge_redemption_edit",e.stock_location_create="stock_location_create",e.stock_location_edit="stock_location_edit",e.survey="survey",e.user_settings="user_settings",e}({}),r=function(e){return e.ENCODED="ENCODED",e.ENCODING="ENCODING",e.FAILED="FAILED",e}({}),o=function(e){return e.everyone="everyone",e.link="link",e.restricted="restricted",e}({}),s=function(e){return e.COMPLETED="COMPLETED",e.FAILED="FAILED",e.PROCESSING="PROCESSING",e}({}),c=function(e){return e.authentication_required="authentication_required",e.canceled="canceled",e.collected="collected",e.dropped="dropped",e.dummy="dummy",e.errored="errored",e.pledged="pledged",e.preauth="preauth",e}({}),l=function(e){return e.ADJUSTMENT="ADJUSTMENT",e.AUTHENTICATE="AUTHENTICATE",e.LATE_PLEDGE="LATE_PLEDGE",e.PLEDGE="PLEDGE",e.REAUTH="REAUTH",e.SOURCE="SOURCE",e}({}),d=function(e){return e.AUTHORIZING="AUTHORIZING",e.FAILED="FAILED",e.SUCCESSFUL="SUCCESSFUL",e.VERIFYING="VERIFYING",e}({}),u=function(e){return e.complete="complete",e.in_progress="in_progress",e.not_started="not_started",e}({}),m=function(e){return e.active="active",e.declined="declined",e.inactive="inactive",e.invited="invited",e}({}),p=function(e){return e.comment="comment",e.configure_pledge_manager="configure_pledge_manager",e.edit_faq="edit_faq",e.edit_project="edit_project",e.fulfillment="fulfillment",e.launch_pledge_manager="launch_pledge_manager",e.launch_prelaunch="launch_prelaunch",e.post="post",e.view_pledges="view_pledges",e}({}),h=function(e){return e.AD="AD",e.AE="AE",e.AF="AF",e.AG="AG",e.AI="AI",e.AL="AL",e.AM="AM",e.AN="AN",e.AO="AO",e.AQ="AQ",e.AR="AR",e.AS="AS",e.AT="AT",e.AU="AU",e.AW="AW",e.AX="AX",e.AZ="AZ",e.BA="BA",e.BB="BB",e.BD="BD",e.BE="BE",e.BF="BF",e.BG="BG",e.BH="BH",e.BI="BI",e.BJ="BJ",e.BL="BL",e.BM="BM",e.BN="BN",e.BO="BO",e.BQ="BQ",e.BR="BR",e.BS="BS",e.BT="BT",e.BV="BV",e.BW="BW",e.BY="BY",e.BZ="BZ",e.CA="CA",e.CC="CC",e.CD="CD",e.CF="CF",e.CG="CG",e.CH="CH",e.CI="CI",e.CK="CK",e.CL="CL",e.CM="CM",e.CN="CN",e.CO="CO",e.CR="CR",e.CU="CU",e.CV="CV",e.CW="CW",e.CX="CX",e.CY="CY",e.CZ="CZ",e.DE="DE",e.DJ="DJ",e.DK="DK",e.DM="DM",e.DO="DO",e.DZ="DZ",e.EC="EC",e.EE="EE",e.EG="EG",e.EH="EH",e.ER="ER",e.ES="ES",e.ET="ET",e.FI="FI",e.FJ="FJ",e.FK="FK",e.FM="FM",e.FO="FO",e.FR="FR",e.GA="GA",e.GB="GB",e.GD="GD",e.GE="GE",e.GF="GF",e.GG="GG",e.GH="GH",e.GI="GI",e.GL="GL",e.GM="GM",e.GN="GN",e.GP="GP",e.GQ="GQ",e.GR="GR",e.GS="GS",e.GT="GT",e.GU="GU",e.GW="GW",e.GY="GY",e.HK="HK",e.HM="HM",e.HN="HN",e.HR="HR",e.HT="HT",e.HU="HU",e.ID="ID",e.IE="IE",e.IL="IL",e.IM="IM",e.IN="IN",e.IO="IO",e.IQ="IQ",e.IR="IR",e.IS="IS",e.IT="IT",e.JE="JE",e.JM="JM",e.JO="JO",e.JP="JP",e.KE="KE",e.KG="KG",e.KH="KH",e.KI="KI",e.KM="KM",e.KN="KN",e.KP="KP",e.KR="KR",e.KW="KW",e.KY="KY",e.KZ="KZ",e.LA="LA",e.LB="LB",e.LC="LC",e.LI="LI",e.LK="LK",e.LR="LR",e.LS="LS",e.LT="LT",e.LU="LU",e.LV="LV",e.LY="LY",e.MA="MA",e.MC="MC",e.MD="MD",e.ME="ME",e.MF="MF",e.MG="MG",e.MH="MH",e.MK="MK",e.ML="ML",e.MM="MM",e.MN="MN",e.MO="MO",e.MP="MP",e.MQ="MQ",e.MR="MR",e.MS="MS",e.MT="MT",e.MU="MU",e.MV="MV",e.MW="MW",e.MX="MX",e.MY="MY",e.MZ="MZ",e.NA="NA",e.NC="NC",e.NE="NE",e.NF="NF",e.NG="NG",e.NI="NI",e.NL="NL",e.NO="NO",e.NP="NP",e.NR="NR",e.NU="NU",e.NZ="NZ",e.OM="OM",e.PA="PA",e.PE="PE",e.PF="PF",e.PG="PG",e.PH="PH",e.PK="PK",e.PL="PL",e.PM="PM",e.PN="PN",e.PR="PR",e.PS="PS",e.PT="PT",e.PW="PW",e.PY="PY",e.QA="QA",e.RE="RE",e.RO="RO",e.RS="RS",e.RU="RU",e.RW="RW",e.SA="SA",e.SB="SB",e.SC="SC",e.SD="SD",e.SE="SE",e.SG="SG",e.SH="SH",e.SI="SI",e.SJ="SJ",e.SK="SK",e.SL="SL",e.SM="SM",e.SN="SN",e.SO="SO",e.SR="SR",e.SS="SS",e.ST="ST",e.SV="SV",e.SX="SX",e.SY="SY",e.SZ="SZ",e.TC="TC",e.TD="TD",e.TF="TF",e.TG="TG",e.TH="TH",e.TJ="TJ",e.TK="TK",e.TL="TL",e.TM="TM",e.TN="TN",e.TO="TO",e.TR="TR",e.TT="TT",e.TV="TV",e.TW="TW",e.TZ="TZ",e.UA="UA",e.UG="UG",e.UM="UM",e.US="US",e.UY="UY",e.UZ="UZ",e.VA="VA",e.VC="VC",e.VE="VE",e.VG="VG",e.VI="VI",e.VN="VN",e.VU="VU",e.WF="WF",e.WS="WS",e.XK="XK",e.YE="YE",e.YT="YT",e.ZA="ZA",e.ZM="ZM",e.ZW="ZW",e}({}),f=function(e){return e.ANDROID_PAY="ANDROID_PAY",e.APPLE_PAY="APPLE_PAY",e.BANK_ACCOUNT="BANK_ACCOUNT",e.CREDIT_CARD="CREDIT_CARD",e}({}),g=function(e){return e.AUD="AUD",e.CAD="CAD",e.CHF="CHF",e.DKK="DKK",e.EUR="EUR",e.GBP="GBP",e.HKD="HKD",e.JPY="JPY",e.MXN="MXN",e.NOK="NOK",e.NZD="NZD",e.PLN="PLN",e.SEK="SEK",e.SGD="SGD",e.USD="USD",e}({}),_=function(e){return e.ASC="ASC",e.DESC="DESC",e}({}),b=function(e){return e.CREATED_AT="CREATED_AT",e.NAME="NAME",e.SLUG="SLUG",e.UPDATED_AT="UPDATED_AT",e}({}),v=function(e){return e.article="article",e.category="category",e.international="international",e.prompt="prompt",e.resource="resource",e}({}),k=function(e){return e.THREE_COLUMNS="THREE_COLUMNS",e.TWO_COLUMNS="TWO_COLUMNS",e}({}),y=function(e){return e.FLEX="FLEX",e.PROMO="PROMO",e}({}),E=function(e){return e.environmentally_friendly_factories="environmentally_friendly_factories",e.long_lasting_design="long_lasting_design",e.reusability_and_recyclability="reusability_and_recyclability",e.something_else="something_else",e.sustainable_distribution="sustainable_distribution",e.sustainable_materials="sustainable_materials",e}({}),j=function(e){return e.ALL_REWARDS_MADE="ALL_REWARDS_MADE",e.FULFILLING_ALL_REWARDS="FULFILLING_ALL_REWARDS",e.FULFILLING_SOME_REWARDS="FULFILLING_SOME_REWARDS",e.FULFILLMENT_COMPLETE="FULFILLMENT_COMPLETE",e.NO_REWARDS_MADE="NO_REWARDS_MADE",e.SOME_REWARDS_MADE="SOME_REWARDS_MADE",e}({}),w=function(e){return e.delayed="delayed",e.in_progress="in_progress",e.not_available="not_available",e.not_provided="not_provided",e.not_started="not_started",e.shipped="shipped",e}({}),S=function(e){return e.delayed="delayed",e.in_progress="in_progress",e.not_started="not_started",e.shipped="shipped",e}({}),O=function(e){return e.BACKING_ABUSE="BACKING_ABUSE",e.BACKING_DOXXING="BACKING_DOXXING",e.BACKING_FRAUD="BACKING_FRAUD",e.BACKING_SPAM="BACKING_SPAM",e.CHARITY="CHARITY",e.COMMENT_ABUSE="COMMENT_ABUSE",e.COMMENT_DOXXING="COMMENT_DOXXING",e.COMMENT_OFFTOPIC="COMMENT_OFFTOPIC",e.COMMENT_SPAM="COMMENT_SPAM",e.FALSE_CLAIMS="FALSE_CLAIMS",e.FINANCIAL_CONTESTS_COUPONS="FINANCIAL_CONTESTS_COUPONS",e.FINANCIAL_POLITICAL_DONATIONS="FINANCIAL_POLITICAL_DONATIONS",e.FINANCIAL_SERVICES="FINANCIAL_SERVICES",e.GUIDELINES_ABUSE="GUIDELINES_ABUSE",e.GUIDELINES_SPAM="GUIDELINES_SPAM",e.GUIDELINES_VIOLATION="GUIDELINES_VIOLATION",e.HEALTH_CLAIMS="HEALTH_CLAIMS",e.HEALTH_ENERGY_FOOD_AND_DRINK="HEALTH_ENERGY_FOOD_AND_DRINK",e.HEALTH_GMOS="HEALTH_GMOS",e.HEALTH_LIVE_ANIMALS="HEALTH_LIVE_ANIMALS",e.HEALTH_REGULATIONS="HEALTH_REGULATIONS",e.MISREP_SUPPORT="MISREP_SUPPORT",e.MISREP_SUPPORT_IMPERSONATION="MISREP_SUPPORT_IMPERSONATION",e.MISREP_SUPPORT_OTHER="MISREP_SUPPORT_OTHER",e.MISREP_SUPPORT_OUTSTANDING_FULFILLMENT="MISREP_SUPPORT_OUTSTANDING_FULFILLMENT",e.MISREP_SUPPORT_SUSPICIOUS_PLEDGING="MISREP_SUPPORT_SUSPICIOUS_PLEDGING",e.NOT_PROJECT="NOT_PROJECT",e.NOT_PROJECT_BAREBONES="NOT_PROJECT_BAREBONES",e.NOT_PROJECT_CHARITY="NOT_PROJECT_CHARITY",e.NOT_PROJECT_OTHER="NOT_PROJECT_OTHER",e.NOT_PROJECT_PERSONAL_EXPENSES="NOT_PROJECT_PERSONAL_EXPENSES",e.NOT_PROJECT_STUNT_OR_HOAX="NOT_PROJECT_STUNT_OR_HOAX",e.OFFENSIVE_CONTENT_HATE="OFFENSIVE_CONTENT_HATE",e.OFFENSIVE_CONTENT_PORN="OFFENSIVE_CONTENT_PORN",e.PLAGIARISM="PLAGIARISM",e.POST_FUNDING_CREATOR_INAPPROPRIATE="POST_FUNDING_CREATOR_INAPPROPRIATE",e.POST_FUNDING_CREATOR_SELLING_ELSEWHERE="POST_FUNDING_CREATOR_SELLING_ELSEWHERE",e.POST_FUNDING_CREATOR_UNCOMMUNICATIVE="POST_FUNDING_CREATOR_UNCOMMUNICATIVE",e.POST_FUNDING_ISSUES="POST_FUNDING_ISSUES",e.POST_FUNDING_REWARD_DELAYED="POST_FUNDING_REWARD_DELAYED",e.POST_FUNDING_REWARD_NOT_AS_DESCRIBED="POST_FUNDING_REWARD_NOT_AS_DESCRIBED",e.POST_FUNDING_SHIPPED_NEVER_RECEIVED="POST_FUNDING_SHIPPED_NEVER_RECEIVED",e.POST_FUNDING_SUSPICIOUS_THIRD_PARTY="POST_FUNDING_SUSPICIOUS_THIRD_PARTY",e.PROHIBITED_ITEMS="PROHIBITED_ITEMS",e.PROTOTYPE_MISREPRESENTATION="PROTOTYPE_MISREPRESENTATION",e.RESALE="RESALE",e.RESELLING="RESELLING",e.SPAM="SPAM",e.UNDISCLOSED_AI_USE="UNDISCLOSED_AI_USE",e.VICES_ALCOHOL="VICES_ALCOHOL",e.VICES_DRUGS="VICES_DRUGS",e.VICES_WEAPONS="VICES_WEAPONS",e}({}),N=function(e){return e.REQUIRES_ACTION="REQUIRES_ACTION",e.SUCCEEDED="SUCCEEDED",e}({}),C=function(e){return e.committed_to_another_pm="committed_to_another_pm",e.ineligible="ineligible",e.lack_of_confidence="lack_of_confidence",e.legacy="legacy",e.missing_features="missing_features",e.other="other",e}({}),I=function(e){return e.completed="completed",e.draft="draft",e.failed="failed",e.pending="pending",e.rejected="rejected",e}({}),x=function(e){return e.crowdfunding_addon="crowdfunding_addon",e.crowdfunding_base="crowdfunding_base",e.new_addon="new_addon",e.new_base="new_base",e.order_edit_addon="order_edit_addon",e.order_edit_upgrade="order_edit_upgrade",e.upgrade_from_crowdfunding_base="upgrade_from_crowdfunding_base",e}({}),T=function(e){return e.auto_exempt="auto_exempt",e.calculated_exempt="calculated_exempt",e.collected="collected",e.draft="draft",e.dropped="dropped",e.refunded="refunded",e}({}),A=function(e){return e.CANCELLED="CANCELLED",e.CANCELLED_ADJUSTED="CANCELLED_ADJUSTED",e.CHARGEBACK_LOST="CHARGEBACK_LOST",e.COLLECTED="COLLECTED",e.COLLECTED_ADJUSTED="COLLECTED_ADJUSTED",e.ERRORED="ERRORED",e.REFUNDED="REFUNDED",e.UNATTEMPTED="UNATTEMPTED",e.UNATTEMPTED_ADJUSTED="UNATTEMPTED_ADJUSTED",e}({}),D=function(e){return e.approved="approved",e.denied="denied",e.draft="draft",e.submitted="submitted",e}({}),P=function(e){return e.CreatorInterview="CreatorInterview",e.FreeformPost="FreeformPost",e}({}),R=function(e){return e.draft="draft",e.processing="processing",e.published="published",e}({}),F=function(e){return e.complete="complete",e.incomplete="incomplete",e.not_started="not_started",e}({}),L=function(e){return e.crowdfunding="crowdfunding",e.late_pledge="late_pledge",e.pledge_manager="pledge_manager",e}({}),M=function(e){return e.CANCELED="CANCELED",e.FAILED="FAILED",e.LIVE="LIVE",e.PURGED="PURGED",e.STARTED="STARTED",e.SUBMITTED="SUBMITTED",e.SUCCESSFUL="SUCCESSFUL",e.SUSPENDED="SUSPENDED",e}({}),U=function(e){return e.backer_bar="backer_bar",e.comment="comment",e.updates="updates",e}({}),V=function(e){return e.choices="choices",e.text="text",e}({}),H=function(e){return e.Project="Project",e.Reward="Reward",e.RewardItem="RewardItem",e}({}),B=function(e){return e.BONUS_AMOUNT="BONUS_AMOUNT",e.GENERAL_REFUND="GENERAL_REFUND",e.ORDER_ITEM="ORDER_ITEM",e.REWARD="REWARD",e.REWARD_ITEM="REWARD_ITEM",e.SHIPPING_CREDIT="SHIPPING_CREDIT",e}({}),$=function(e){return e.AUTHORIZING="AUTHORIZING",e.ERRORED="ERRORED",e.FAILED="FAILED",e.SUCCESSFUL="SUCCESSFUL",e}({}),q=function(e){return e.ADMIN_REFUND="ADMIN_REFUND",e.BACKER_REQUEST="BACKER_REQUEST",e.CHANGE_REMOVAL="CHANGE_REMOVAL",e.CREDIT="CREDIT",e.FULFILLMENT_ISSUES_DELAYS="FULFILLMENT_ISSUES_DELAYS",e.OTHER="OTHER",e.OVERPAYMENT="OVERPAYMENT",e}({}),Y=function(e){return e.SHARED="SHARED",e.UNIQUE="UNIQUE",e}({}),z=function(e){return e.addon="addon",e.base="base",e}({}),G=function(e){return e.local="local",e.none="none",e.restricted="restricted",e.unrestricted="unrestricted",e}({}),K=function(e){return e.flat_rate="flat_rate",e.weight_based="weight_based",e}({}),W=function(e){return e.kg="kg",e.oz="oz",e}({}),J=function(e){return e.AND="AND",e.NOT="NOT",e.OR="OR",e}({}),X=function(e){return e.CROWDFUNDING_CHECKOUT="CROWDFUNDING_CHECKOUT",e.POST_CAMPAIGN_CHECKOUT="POST_CAMPAIGN_CHECKOUT",e.PROFILE_SETTINGS="PROFILE_SETTINGS",e.PROJECT_BUILD="PROJECT_BUILD",e}({}),Z=function(e){return e.ASSET_VIDEO="ASSET_VIDEO",e.AUDIO="AUDIO",e.PHOTO="PHOTO",e.SMALLER_VIDEO="SMALLER_VIDEO",e.SOUND="SOUND",e.VIDEO="VIDEO",e}({}),Q=function(e){return e.domestic="domestic",e.international="international",e}({}),ee=function(e){return e.once_a_day="once_a_day",e.twice_a_day="twice_a_day",e}({}),te=function(e){return e.email="email",e.mobile="mobile",e}({}),ne=function(e){return e.backings="backings",e.comment_replies="comment_replies",e.comments="comments",e.creator_digest="creator_digest",e.creator_edu="creator_edu",e.follower="follower",e.friend_activity="friend_activity",e.friend_signup="friend_signup",e.marketing_update="marketing_update",e.messages="messages",e.project_launch="project_launch",e.updates="updates",e}({}),ae=function(e){return e.admin_message_badge="admin_message_badge",e.confirmed_apple_id_disconnect_token="confirmed_apple_id_disconnect_token",e.confirmed_signal_notice="confirmed_signal_notice",e.confirmed_watch_notice="confirmed_watch_notice",e.dismissed_pyl_toast="dismissed_pyl_toast",e.dismissed_reward_images_toast="dismissed_reward_images_toast",e.dismissed_taste_profile_toast="dismissed_taste_profile_toast",e.expired_apple_id_disconnect_token="expired_apple_id_disconnect_token",e.manual_play_videos="manual_play_videos",e.opt_in_ksr_research="opt_in_ksr_research",e.opted_out_of_recommendations="opted_out_of_recommendations",e.show_public_profile="show_public_profile",e.superbacker_not_visible="superbacker_not_visible",e.viz_notification="viz_notification",e}({}),ie=function(e){return e.error="error",e.exact="exact",e.not_found="not_found",e.suggestion="suggestion",e}({}),re=function(e){return e.AT="AT",e.BE="BE",e.BG="BG",e.CY="CY",e.CZ="CZ",e.DE="DE",e.DK="DK",e.EE="EE",e.ES="ES",e.EU="EU",e.FI="FI",e.FR="FR",e.GR="GR",e.HR="HR",e.HU="HU",e.IE="IE",e.IT="IT",e.LT="LT",e.LU="LU",e.LV="LV",e.MT="MT",e.NL="NL",e.PL="PL",e.PT="PT",e.RO="RO",e.SE="SE",e.SI="SI",e.SK="SK",e.UK="UK",e}({})},DQv1:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("xG9w"),o=n("0VSk"),s=n("nbsC"),c=n.n(s),l=n("zm9w"),d=n("ioZw"),u=n("tmAf"),m=n("1OuE"),p=n("/Tkk"),h=n.n(p),f=n("yQm5"),g=n.n(f);var _=function(e){var t=[];return e.creator_name=e.creator.name,e.percent_raised=e.pledged/e.goal*100,e.percent_raised_rounded=Math.round(e.percent_raised),e.percent_raised_to_100=Math.min(100,e.percent_raised),e.formatted_percent_raised=l.b.percent(e.percent_raised,{precision:0}),e.formatted_money=l.b.money(e.pledged,{precision:0,currency:e.currency}),e.formatted_goal=l.b.money(e.goal,{precision:0,currency:e.currency}),e.formatted_backers_count=l.b.format_number(e.backers_count,{precision:0}),e.count=e.backers_count,e.javascript_deadline=1e3*e.deadline,e.javascript_state_changed_at=1e3*e.state_changed_at,e.formatted_deadline=Object(m.a)("ll",e.javascript_deadline),e.formatted_state_changed_at=Object(m.a)("ll",e.javascript_state_changed_at),e.raw_score=e.recommendations_raw_score,e.weighted_score=e.recommendations_score,e.model_name=e.recommendations_model_name,e.project_state=e.state,e.section=e.ref||e.url_ref||"refined_search",function(e,t){t.blurb||(t.blurb=e.blurb),t.name||(t.name=e.name),t.feature_image_url=t.feature_image_attributes.image_urls.baseball_card,t["has_background_image?"]=!r.default.isEmpty(t.background_image_attributes),t["hide_background_black?"]=t["has_background_image?"]||t.background_color,t.border_color="",t.text_color&&(t.border_color="background-color: #"+t.text_color+";"),t.text_color_style="",t.text_color&&(t.text_color_style="color: #"+t.text_color+";"),t.background_color_style="",t.background_color&&(t.background_color_style="background-color: #"+t.background_color+";"),t.card_style="",t.card_style+=t.text_color_style,t.card_style+=t.background_color_style,t.card_background_style="",t["has_background_image?"]&&(t.card_background_style="background-image: url("+t.background_image_attributes.image_urls.baseball_card+"); opacity: "+t.background_image_opacity+";")}(e,e.profile),i.a.each(["live","successful","canceled","failed"],(function(){var t=String(this);e[t+"?"]=e.state===t})),e.url_ref?e.url_with_ref=g()(e.urls.web.project).setSearch("ref",e.url_ref).toString():e.url_with_ref=e.urls.web.project,e["live_or_successful?"]="live"===e.state||"successful"===e.state,e["video?"]=null!==e.video&&void 0!==e.video,e["potd_today?"]=h()(1e3*e.potd_at,new Date),e["staff_pick?"]=e.staff_pick,e["friends_backing?"]=e.friends&&e.friends.length>0,e["friends_backing?"]&&(e.truncated_friends=e.friends.slice(0,2),(t=r.default.map(e.truncated_friends,(function(e){return"<strong>"+r.default.escape(e.name.split(" ")[0])+"</strong>"}))).length<e.friends.length&&t.push("<strong>"+o.default.t("presenters.projects.baseball_card_tall.amount_more",{count:e.friends.length-t.length})+"</strong>"),e.escaped_sentence=o.default.t("presenters.projects.baseball_card_tall.friends_are_backers",{friends:l.b.to_sentence(t),count:t.length})),e.json=JSON.stringify(e),e.location_json=JSON.stringify(e.location),e.baseball_card_size||(e.baseball_card_size="tall"),e},b=n("WjF9"),v=n("MgNI"),k=function(e){return e.formatted_created_at=Object(m.a)("ll",1e3*e.created_at),e.is_recipient=void 0!==b.a&&b.a.get("id")===e.recipient_id,e},y=n("P0CJ");var E={"assets/_uploaded_item":function(e){return e.short_filesize=l.b.number_to_human_size(e.data_file_size,{precision:1}),e},"backings/_row":d.a,"backings/_table":u.a,"discover/_location_li":function(e){return e.json=JSON.stringify(e),e},"discover/_location_options":function(e){return e.ancestor_locations=e.ancestor_locations||[],e.ancestor_locations=e.ancestor_locations.reverse(),e.nearby_locations=e.nearby_locations||[],e},"discover/_project_baseball_card_li":function(e){return _(e)},"discover/_search_location_li":function(e){return e.json=JSON.stringify(e),e},"message_threads/_show":function(e){return e.is_creator=e.project.creator.id===b.a.get("id"),e.project.is_live="live"===e.project.state,e.backing&&(e.backing.reward.formatted_estimated_delivery_on=v.maybe.fromNullable(e.backing.reward.estimated_delivery_on).map(e=>Object(m.a)("ll",Object(y.a)(1e3*e))).getOrElse(null),e.backing.is_creator=e.is_creator,e.backing.formatted_amount=l.b.money(e.backing.amount,{currency:e.backing.project.currency,precision:0})),e.messages=r.default.map(e.messages,(function(t){return t.sender=r.default.findWhere(e.participants,{id:t.sender_id}),k(t)})),e},"messages/_show":k,"projects/_baseball_card_grid":function(e){var t=i.a.extend({},e);return t.projects=t.projects.map((function(e){return e.map((function(e){return _(e)}))})),t},"projects/_baseball_card_tall":_};function j(e){var t=i()("#template-"+e.replace(/\//g,"_"));if(!t.length)throw"Could not find template: "+e;return i.a.trim(t.html())}function w(){return function(e,t){return t(o.default.t(e,this))}}function S(e,t,n){var a=E[e]||function(e){return e},o=j(e),s=function(e){var t={};if(r.default.isString(e)&&(e=[e]),r.default.isArray(e))return r.default.each(e,(function(e){t[e]=j(e)})),t}(n);return c.a.render(o,i.a.extend({t:w},a(t)),s)}t.a=S;window.render=S},DRAL:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var a=n("gN63");const i="\n  mutation($contentId: ID!, $details: String, $kind: NonDeprecatedFlaggingKind!) {\n    createFlagging(\n      input: {\n        contentId: $contentId,\n        details: $details,\n        kind: $kind\n      }\n    ) {\n      flagging {\n        kind\n      }\n    }\n  }\n",r=({details:e,kind:t},n)=>{const r=Object(a.b)("Project",window.current_project.data.id);return Object(a.c)(i,{contentId:r,details:e,kind:t},{projectShareToken:n})}},DUhn:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("94td"),i=n("DE4Y"),r=n("q1tI"),o=n.n(r);const s=[i.t.long_lasting_design,i.t.reusability_and_recyclability,i.t.sustainable_materials,i.t.environmentally_friendly_factories,i.t.sustainable_distribution,i.t.something_else],c=({commitments:e})=>{if(0===e.length)return null;const t=(e=>s.map(t=>{const n=e.filter(e=>e.commitmentCategory===t)[0];return n||null}).filter(e=>null!==e))(e);return o.a.createElement("div",{id:"environmentalCommitments",className:"mb3 mb10-sm mb3 js-commitments"},o.a.createElement("div",{className:"mb6"},o.a.createElement("h2",{className:"normal mb1"},Object(a.b)("project_page.campaign.Environmental_commitments")),o.a.createElement(a.a,{i18nKey:"project_page.campaign.Visit_environmental_resource_center_to_learn",visitLink:o.a.createElement("a",{target:"_blank",className:"ksr-green-700",href:"/environment"},Object(a.b)("project_page.campaign.Visit_our_Environmental_Resources_Center"))})),t.map(e=>{const{commitmentCategory:t,description:n}=e;return o.a.createElement("div",{key:t,className:"js-commitment-category mb2 border-bottom border-grey"},o.a.createElement("h3",null,Object(a.b)("project_page.campaign."+t)),o.a.createElement("p",{className:"mb2 text-preline"},n))}))}},DpK8:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));let a=function(e){return e.PROJECT="project",e.REWARDS="rewards",e.THANKS="thanks",e}({})},Drj3:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var a=n("8Np1"),i=n("q1tI"),r=n.n(i);const o=["type-14","lh20px","mb0","support-700"],s=e=>{var t;return r.a.createElement(a.a,Object.assign({},e,{atoms:[...o,...null!==(t=e.atoms)&&void 0!==t?t:[]]}))}},E2Se:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return c}));let a=function(e){return e[e.Bold=0]="Bold",e[e.Italic=1]="Italic",e[e.Header=2]="Header",e[e.List=3]="List",e[e.Link=4]="Link",e[e.Image=5]="Image",e[e.Video=6]="Video",e[e.Audio=7]="Audio",e[e.Header2=8]="Header2",e[e.Header3=9]="Header3",e[e.Quote=10]="Quote",e[e.Normal=11]="Normal",e}({}),i=function(e){return e.icon="icon--unlink",e.id="unlink",e}({}),r=function(e){return e.icon="icon--image",e.id="image",e}({}),o=function(e){return e.icon="icon--video",e.id="video",e}({}),s=function(e){return e.icon="icon--sound-hi",e.id="audio",e}({}),c=function(e){return e.icon="icon--link",e.id="link",e}({})},E7Eu:function(e,t,n){"use strict";t.a='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M8 3C6.34315 3 5 4.34315 5 6V18C5 19.6569 6.34315 21 8 21H14C16.7614 21 19 18.7614 19 16V15C19 13.3644 18.2146 11.9122 17.0004 10.9999C17.6281 10.1643 18 9.12558 18 8C18 5.23858 15.7614 3 13 3H8ZM13 10C14.1046 10 15 9.10457 15 8C15 6.89543 14.1046 6 13 6H8V10H13ZM8 13V18H14C15.1046 18 16 17.1046 16 16V15C16 13.8954 15.1046 13 14 13H8Z" fill="#3C3C3C"/>\n</svg>\n'},E9nw:function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],a=0;a<e.rangeCount;a++)n.push(e.getRangeAt(a));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},ECYc:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("n+nq"),i=n("pj8f"),r=n("qn6j");const o=async e=>{try{await fetch("/telegraf_requests",{method:"POST",body:JSON.stringify({authenticity_token:Object(a.b)(document),data:e}),credentials:"same-origin",headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest","X-CSRF-Token":Object(a.b)(document)}})}catch(e){i.Honeybadger.notify(e)}};let s=[],c=-1;function l(e,t,n,a){["increment","gauge","time"].includes(e)&&o([{method:e,name:t,value:n,tags:a}])}l.batch=async e=>{const t=[],n={increment:async(e,n)=>{t.push({method:r.a.INCREMENT,name:e,tags:n})},gauge:async(e,n,a)=>{t.push({method:r.a.GAUGE,name:e,value:n,tags:a})},time:async(e,n)=>{const a=Date.now(),i=await n(),o=Date.now();return t.push({method:r.a.TIME,name:e,value:o-a}),i}},a=await e(n);var i;return i=t,clearTimeout(c),s=s.concat(i),c=window.setTimeout(()=>{o(s),s=[]},50),a},l.increment=(e,t)=>l.batch(n=>n.increment(e,t)),l.gauge=(e,t,n)=>l.batch(a=>a.gauge(e,t,n)),l.time=(e,t)=>l.batch(n=>n.time(e,t))},EDOg:function(e,t,n){"use strict";t.a='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M13.4787 3.99999H9.5C8.94772 3.99999 8.5 4.44771 8.5 4.99999C8.5 5.55228 8.94772 5.99999 9.5 5.99999H12.263L9.69158 18H7C6.44772 18 6 18.4477 6 19C6 19.5523 6.44772 20 7 20H14.5C15.0523 20 15.5 19.5523 15.5 19C15.5 18.4477 15.0523 18 14.5 18H11.737L14.3084 5.99999H17C17.5523 5.99999 18 5.55228 18 4.99999C18 4.44771 17.5523 3.99999 17 3.99999H13.5193C13.5057 3.99972 13.4922 3.99972 13.4787 3.99999Z" fill="#3C3C3C"/>\n</svg>\n'},EEQn:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);i()((function(){i()(document).on("click",".ksr-dropdown",(function(){var e=i()(this);e.toggleClass("open"),setTimeout((function(){i()(window).on("click",(function(t){i()(t.target).closest(e).length||e.removeClass("open")}))}),0)}))}))},EEgz:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("MHsd"),i=n("94td"),r=n("zm9w"),o=n("q1tI"),s=n.n(o);const c=({currency:e,spreadsheet:t})=>{if(!t)return null;const n=e&&r.b.currency_symbol(e);return s.a.createElement("div",{className:"mb3 mb10-sm"},s.a.createElement("h2",{className:"normal mb4"},Object(i.b)("project_page.campaign.Project_budget")),s.a.createElement(a.b,{spreadsheetData:t.data,displayValues:"amount"===t.displayMode,currencySymbol:n,lastUpdatedDate:t.dataLastUpdatedAt}),s.a.createElement("div",{className:"mt2 support-500"},Object(i.b)("project_page.campaign.Projected_budget_disclaimer")))}},"EGW+":function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("xG9w"),o=n("qcI4"),s=n("zm9w"),c=n("0VSk"),l=n("XLBa"),d=n("WjF9");let u=o.a.extend();u.set_computed_value("post_likes",(function(){return this.likes_count<=0?"":c.default.t("library.models.app.likes_count",{count:this.likes_count,formatted_count:s.b.format_number(this.likes_count,{precision:0})})}),{changes_on:["likes_count","has_liked"]}),u.set_computed_value("post_likes_namepile",(function(){var e,t;if(this.likes_count<=0)return"";if(e=[],e=r.default.map(this.likers,(function(e){return'<a href="'+e.urls.web.user+'" title="'+r.default.escape(e.name)+'">'+r.default.escape(e.name)+"</a>"})),this.has_liked){if(1===this.likes_count)return c.default.t("library.models.app.You_like_this_update");void 0===d.a?e.unshift(c.default.t("library.models.app.You")):e.unshift('<a href="'+d.a.data.urls.web.user+'" title="'+c.default.t("library.models.app.You")+'">'+c.default.t("library.models.app.You")+"</a>")}return(t=parseInt(this.likes_count,10)-e.length)>0&&(this.urls&&this.urls.web&&this.urls.web.likes?e.push('<a href="'+this.urls.web.likes+'" title="'+c.default.t("library.models.app.see_names")+'" id="full_namepile">'+c.default.t("library.models.app.other_people_count",{count:t,formatted_count:s.b.format_number(t,{precision:0})})+"</a>"):e.push(c.default.t("library.models.app.other_people_count",{count:t,formatted_count:s.b.format_number(t,{precision:0})}))),c.default.t("library.models.app.names_count_like_this_update",{names:s.b.to_sentence(e),count:this.likes_count,formatted_count:s.b.format_number(this.likes_count,{precision:0})})}),{changes_on:["likes_count","likers","has_liked"]});let m=u.extend(),p=u.extend();m.on_initialize((function(){"function"==typeof l.a&&this.on_change((function(){Object(l.a)("CreatorInterview",this.get())}))})),p.on_initialize((function(){"function"==typeof l.a&&this.on_change((function(){Object(l.a)("FreeformPost",this.get())}))})),i()((function(){i()(document).on("click",".NS_post_likes__button button",(function(e){e.preventDefault();var t=i()(this).closest("form");i.a.ajax({url:t.attr("action"),dataType:"json",type:"POST",success:function(e){if(e.modal&&i.a.create_login_modal(e.data,"post_like"),e.post){var t=h(e.post.type);(t.find(e.post.id)||new t({id:e.post.id})).set(e.post)}}})}))}));const h=e=>{switch(e){case"CreatorInterview":return m;case"FreeformPost":default:return p}}},EHMl:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("/IHD"),i=n("q1tI"),r=n.n(i);const o=r.a.forwardRef(({hex:e,direction:t,size:n,className:i,style:o={}},s)=>{const c={...o,borderWidth:n,borderRightColor:"left"===t?e:"transparent",borderTopColor:"bottom"===t?e:"transparent",borderLeftColor:"right"===t?e:"transparent",borderBottomColor:"top"===t?e:"transparent",borderStyle:"solid"},l=Object(a.a)("block absolute w0 h0",{top:"b100p",bottom:"t100p",left:"r100p",right:"l100p"}[t],i);return r.a.createElement("div",{role:"presentation",style:c,className:l,ref:s})})},EoiL:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("8Np1"),i=n("/IHD"),r=n("hPy8"),o=n("q1tI");const s=({level:e=3,...t})=>o.createElement(r.c,null,n=>{var r;return o.createElement(a.a,Object.assign({level:e},t,{atoms:Object(i.b)(["kds-heading"],null!==(r=t.atoms)&&void 0!==r?r:[],n.header.atoms)}),t.children)})},FBTF:function(e,t,n){"use strict";t.a='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M5 4H19C20.6569 4 22 5.34315 22 7V17C22 18.6569 20.6569 20 19 20H5C3.34315 20 2 18.6569 2 17V7C2 5.34314 3.34315 4 5 4ZM5 6C4.44772 6 4 6.44771 4 7V17C4 17.5523 4.44772 18 5 18H5.13366C5.191 17.9006 5.26654 17.8095 5.35982 17.7318L13.5049 10.9442C14.4182 10.1831 15.7899 10.382 16.4494 11.3713L20 16.6972V7C20 6.44772 19.5523 6 19 6H5ZM18.4648 18H8.16205L14.7853 12.4807L18.4648 18ZM8 12C9.10457 12 10 11.1046 10 10C10 8.89543 9.10457 8 8 8C6.89543 8 6 8.89543 6 10C6 11.1046 6.89543 12 8 12Z" fill="#3C3C3C"/>\n</svg>\n'},FEsz:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("94td"),i=n("arGM"),r=n("q1tI"),o=n("dkkr");const s=e=>e.canRead?e.children:r.createElement(o.c,{iconType:"icon--eye",primaryText:Object(a.b)("project_update.This_post_is_for_backers_only"),primaryColor:"cobalt-600",space:1,secondaryText:r.createElement(c,{isLoggedIn:e.isLoggedIn,isProjectLive:e.isProjectLive,pledgeLink:e.pledgeLink,loginLink:e.loginLink})}),c=e=>e.isLoggedIn&&!e.isProjectLive?null:e.isLoggedIn?r.createElement(a.a,{i18nKey:"project_update.To_back_this_project_and_view",atoms:["native-hide"],pledgeLink:r.createElement("a",{className:"soft-black text-underline",href:e.pledgeLink},Object(a.b)("project_update.Click_here"))}):r.createElement(a.a,{i18nKey:"project_update.Log_in_to_see_this_post",atoms:["native-hide"],loginLink:r.createElement("a",{className:"soft-black text-underline",href:Object(i.e)("/login",{then:e.loginLink||window.location.pathname})},Object(a.b)("project_update.Log_in"))})},FXnB:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n("iuhU"),i=n("EoiL"),r=n("94td"),o=n("URF7"),s=n("XXIi"),c=n("q1tI"),l=n.n(c),d=n("PK0a"),u=n("iqnZ"),m=n("1UYd"),p=n("mZYE");const h=({variant:e=s.a.CampaignTab})=>l.a.createElement("div",{className:Object(a.b)("flex flex-column justify-center","rewards_tab"===e?"mt3":"mt4","border border-trust-100","p3","gradient-trust-to-celebrate support-700")},l.a.createElement(i.a,{level:3,type:"body-100",weight:"bold",color:"soft-black",atoms:["mb3"]},Object(r.b)("project_page.reward.Back_it_because_you_believe_in_it")),l.a.createElement("p",{className:"type-14",style:{margin:0}},Object(r.b)("project_page.reward.Support_the_project_for_no_reward"))),f=({backedWithNoReward:e,displayConvertAmount:t,currency:n,fxRate:f,minPledge:g,usdType:_,user:b,userWasRemoved:v,isUserCreator:k,state:y,variant:E=s.a.CampaignTab,preview:j,isInPostCampaignPledgingPhase:w})=>{const[S,O]=Object(c.useState)(!1),{pledgeData:N,updatePledgeAmount:C,submitPledge:I}=Object(u.a)({minAmount:g,shippingRules:[],user:b,currency:n,usdType:_,shippingEnabled:!1}),x=e||j||k||v,T=()=>{x||O(!0)},A=y===d.a.LIVE||j||w,D=(null==b?void 0:b.chosenCurrency)||window.current_currency;return l.a.createElement("div",null,A&&l.a.createElement("div",{key:"no-reward",className:"flex flex-column",id:"pledge-without-reward"},l.a.createElement(i.a,{type:"subhead-500",weight:"normal",color:"support-700"},Object(r.b)("project_page.reward.Support")),l.a.createElement("div",{className:Object(a.b)("block text-left new-form mb3 w100p radius4px  border",{"border-trust-500":e,"border-support-300":!e}),tabIndex:0,role:"button",onClick:T,onKeyDown:T},l.a.createElement(o.a,{shouldRender:e}),l.a.createElement("div",{className:Object(a.b)("px3 py3",{pt7:e})},l.a.createElement(i.a,{level:2,type:"subhead-300",weight:"rewards_tab"===E?"semibold":"normal",color:"soft-black",atoms:["rewards_tab"===E?"mb3":"mb6"]},"rewards_tab"===E?Object(r.b)("project_page.reward.Pledge_without_a_reward"):Object(r.b)("project_page.reward.Make_a_pledge_without_a_reward")),l.a.createElement(p.a,{convert:t,elementId:"pledge-without-reward",fxRate:f,onChange:C,pledgeData:N,disabled:x,variant:E,userCurrency:D}),l.a.createElement(h,null),S&&l.a.createElement(m.a,{onClick:I,disabled:N.errors.amount||x,atoms:["mt3"]})))))}},FbRb:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("0VSk"),i=n("IWkz");const r={seconds:119,minutes:119,hours:72,days:0},o=(e,t=window.ksr_page_clock||new i.a)=>{e instanceof Date||(e=l(e));const n=c(e,t),r=Math.floor(s(e,t)/n[1]),o=a.default.t(`onloads.page_timer.${n[0]}_count`,{count:r});return isNaN(r)?{remainingUnit:null,remainingNumber:"...",remainingString:a.default.t("onloads.page_timer.default")}:{remainingUnit:n,remainingNumber:r,remainingString:o}},s=(e,t=window.ksr_page_clock||new i.a)=>Math.max(e-t.get_remote_time(),0),c=(e,t=window.ksr_page_clock||new i.a)=>{const n=t.time_units.slice(1);let a;for(let i=0;i<n.length&&(a=n[i],!(s(e,t)<=r[a[0]]*a[1]));i+=1);return a},l=e=>{if(e)return"string"==typeof e&&e.match(/^\d+$/)?(new Date).setTime(e):"number"==typeof e?new Date(e):new Date(Date.parse(e))}},FiUa:function(e,t,n){"use strict";var a=n("xyIz");n.d(t,"a",(function(){return a.a})),n.d(t,"b",(function(){return a.b}))},GAUq:function(e,t,n){"use strict";t.a='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M17.0703 16.2422C17.0703 15.6899 17.518 15.2422 18.0703 15.2422H20.0703C20.6226 15.2422 21.0703 15.6899 21.0703 16.2422C21.0703 16.7945 20.6226 17.2422 20.0703 17.2422H18.0703C17.518 17.2422 17.0703 16.7945 17.0703 16.2422Z" fill="#3C3C3C"/>\n<path d="M16.1562 17.1562C15.604 17.1562 15.1562 17.604 15.1562 18.1562V20.1562C15.1562 20.7085 15.604 21.1562 16.1562 21.1562C16.7085 21.1562 17.1562 20.7085 17.1562 20.1562V18.1562C17.1562 17.604 16.7085 17.1562 16.1562 17.1562Z" fill="#3C3C3C"/>\n<path d="M6.92969 7.75781C6.92969 8.3101 6.48197 8.75781 5.92969 8.75781L3.92969 8.75781C3.3774 8.75781 2.92969 8.3101 2.92969 7.75781C2.92969 7.20553 3.3774 6.75781 3.92969 6.75781L5.92969 6.75781C6.48197 6.75781 6.92969 7.20553 6.92969 7.75781Z" fill="#3C3C3C"/>\n<path d="M7.84375 6.84375C8.39603 6.84375 8.84375 6.39603 8.84375 5.84375V3.84375C8.84375 3.29147 8.39603 2.84375 7.84375 2.84375C7.29147 2.84375 6.84375 3.29147 6.84375 3.84375V5.84375C6.84375 6.39603 7.29147 6.84375 7.84375 6.84375Z" fill="#3C3C3C"/>\n<path d="M8.46513 9.87682C8.0746 9.4863 7.44144 9.4863 7.05091 9.87682L4.92862 11.9991C2.97599 13.9517 2.97599 17.1176 4.92862 19.0702C6.88124 21.0228 10.0471 21.0228 11.9997 19.0702L14.122 16.9479C14.5125 16.5574 14.5125 15.9242 14.122 15.5337C13.7315 15.1432 13.0983 15.1432 12.7078 15.5337L10.5855 17.656C9.4139 18.8275 7.5144 18.8275 6.34283 17.656C5.17126 16.4844 5.17126 14.5849 6.34283 13.4133L8.46513 11.291C8.85565 10.9005 8.85565 10.2673 8.46513 9.87682Z" fill="#3C3C3C"/>\n<path d="M15.5348 14.1213C15.9253 14.5118 16.5585 14.5118 16.949 14.1213L19.0713 11.999C21.0239 10.0464 21.0239 6.88057 19.0713 4.92795C17.1187 2.97533 13.9529 2.97533 12.0002 4.92795L9.87793 7.05025C9.48741 7.44077 9.48741 8.07393 9.87793 8.46446C10.2685 8.85498 10.9016 8.85498 11.2921 8.46446L13.4144 6.34216C14.586 5.17059 16.4855 5.17059 17.6571 6.34216C18.8287 7.51373 18.8287 9.41323 17.6571 10.5848L15.5348 12.7071C15.1443 13.0976 15.1443 13.7308 15.5348 14.1213Z" fill="#3C3C3C"/>\n</svg>\n'},GBdY:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("h4vE");Object(r.a)("body#survey_responses_confirm_address",(function(e){var t=i()("input.radio#suggested_address");e.length&&(e.on("change",".address_col input.radio",(function(){i()(this).closest(".addresses").find(".address_col").each((function(){var e=i()(this);e.find("input.radio").is(":checked")?e.find("input[type=hidden]").attr("disabled",!1):e.find("input[type=hidden]").attr("disabled",!0)}))})),t&&t.click())})),Object(r.a)("body.survey_responses",(function(e){e.find(".hide-reward-details").click((function(t){t.preventDefault(),e.find(".reward-details").hide(),e.find(".show-reward-details").show(),e.find(".hide-reward-details").hide()})),e.find(".show-reward-details").click((function(t){t.preventDefault(),e.find(".reward-details").show(),e.find(".hide-reward-details").show(),e.find(".show-reward-details").hide()}))}))},GM4r:function(e,t,n){"use strict";t.a='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M19.669 6.25671C20.0795 6.62617 20.1128 7.25846 19.7433 7.66897L10.7433 17.669C10.5598 17.8729 10.3005 17.9925 10.0263 17.9997C9.75204 18.0069 9.48688 17.9011 9.29289 17.7071L4.29289 12.7071C3.90237 12.3166 3.90237 11.6834 4.29289 11.2929C4.68342 10.9024 5.31658 10.9024 5.70711 11.2929L9.96181 15.5476L18.2567 6.33104C18.6262 5.92053 19.2585 5.88726 19.669 6.25671Z" fill="#3C3C3C"/>\n</svg>\n'},GN4d:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("q1tI"),i=n.n(a);const r=({errors:e,id:t,bold:n,color:a="red-500",showFirstErrorOnly:r=!1})=>e&&0!==e.length?i.a.createElement("ul",{className:`${n?"bold":"normal"} ${a} mt1 type-12`},r?i.a.createElement("li",{key:"error-0",id:t?t+"-error":""},e[0]):i.a.createElement(i.a.Fragment,null,e.map((e,n)=>i.a.createElement("li",{key:"error-"+n,id:t?t+"-error":""},e)))):null},GRmu:function(e,t,n){"use strict";(function(e){let a;a=void 0!==e?n("gMis").default:()=>{},t.a=a}).call(this,n("+2Rf"))},GcaZ:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);i.a.fn.validate.defaults.on_valid.push((function(e){i()(e).removeClass("errored")})),i.a.fn.validate.defaults.on_invalid.push((function(e){i()(e).addClass("errored")}))},GeBq:function(e,t,n){"use strict";n.r(t);var a,i,r=n("+2Rf"),o=n.n(r),s=(n("/Su4"),n("0VSk")),c=(n("h4vE"),n("l+V7"),n("QrAi"),n("gY5S"),n("xG9w")),l=n("gbQM"),d=n.n(l),u=n("aNAf"),m=(n("Ld+T"),n("WjF9"));function p(){return c.default.map(navigator.mimeTypes,(function(e){return[e.type,e.description].join("|")}))}function h(e){return(new d.a.SHA256).hex(e)}a=c.default.memoize((function(){var e,t,n,a,i,r,o,s,l,d,u=(e=["AdobeReader","Flash","Quicktime","RealPlayer","Shockwave","Silverlight","VLC","WindowsMediaPlayer"],c.default.chain(e).zip(c.default.map(e,(function(e){try{return window.PluginDetect.getVersion(e)}catch(e){return e.description}}))).filter(c.default.last).value()),m=c.default.map(navigator.plugins,(function(e){return[e.name,e.description,e.filename,e.length].join("|")})),f=p(),g=(t=navigator.getGamepads?navigator.getGamepads():[],c.default.chain(t).filter(c.default.identity).map((function(e){return[e.index,e.id].join("|")})).value()),_=function(){var e=["Andale Mono","Arial","Arial Black","Arial Hebrew","Arial MT","Arial Narrow","Arial Rounded MT Bold","Arial Unicode MS","Bitstream Vera Sans Mono","Book Antiqua","Bookman Old Style","Calibri","Cambria","Cambria Math","Century","Century Gothic","Century Schoolbook","Comic Sans","Comic Sans MS","Consolas","Courier","Courier New","Garamond","Geneva","Georgia","Helvetica","Helvetica Neue","Impact","Lucida Bright","Lucida Calligraphy","Lucida Console","Lucida Fax","LUCIDA GRANDE","Lucida Handwriting","Lucida Sans","Lucida Sans Typewriter","Lucida Sans Unicode","Microsoft Sans Serif","Monaco","Monotype Corsiva","MS Gothic","MS Outlook","MS PGothic","MS Reference Sans Serif","MS Sans Serif","MS Serif","MYRIAD","MYRIAD PRO","Palatino","Palatino Linotype","Segoe Print","Segoe Script","Segoe UI","Segoe UI Light","Segoe UI Semibold","Segoe UI Symbol","Tahoma","Times","Times New Roman","Times New Roman PS","Trebuchet MS","Verdana","Wingdings","Wingdings 2","Wingdings 3"],t=["monospace","sans-serif","serif"],n=function(e){var t=document.createElement("span");t.style.fontFamily=e,t.style.fontSize="72px";var n=document.createTextNode("mmmmmmmmmmlli");return t.appendChild(n),t},a=c.default.map(t,n),i=c.default.map(e,(function(e){return c.default.map(t,(function(t){return n(e+","+t)}))})),r=document.createElement("div");r.style.position="absolute",r.style.visibility="hidden",c.default.forEach(c.default.flatten(i).concat(a),(function(e){r.appendChild(e)}));var o=document.getElementsByTagName("body")[0];o.appendChild(r);var s=function(e){var t=e.offsetHeight;return[e.offsetWidth,t]},l=c.default.map(a,s),d=c.default.map(i,(function(e){return c.default.map(e,s)}));return o.removeChild(r),c.default.filter(e,(function(e,n){var a,i,r;for(r=0;r<t.length;r+=1)if(a=d[n][r],i=l[r],a[0]!==i[0]||a[1]!==i[1])return!0;return!1}))}(),b={pdc:u.length,pds:u.toString(),npc:m.length,nps:m.toString(),mtc:f.length,mts:f.toString(),fnc:_.length,fns:_.toString(),gpc:g.length,gps:g.toString(),tzo:(r=new Date,o=r.getTimezoneOffset(),r.setDate(1),r.setMonth(1),a=r.getTimezoneOffset(),r.setMonth(6),(i=a-r.getTimezoneOffset())?o+"DST"+i:o.toString()),uas:navigator.userAgent,lan:[navigator.language,navigator.userLanguage,navigator.systemLanguage,navigator.languages].join("|"),cpu:[navigator.platform,navigator.hardwareConcurrency].join("|"),mpi:Math.PI.toString()};return d=[screen.height===screen.availHeight,screen.height===window.innerHeight,0===p().length,0===(new Date).getTimezoneOffset()],c.default.filter(d,c.default.identity).length/d.length<.75&&(n=function(){var e=document.createElement("canvas");if(e.getContext&&e.getContext("2d")){var t=e.getContext("2d"),n="a1b2,#3<!xy> 456.Z";return t.textBaseline="top",t.font='14px "Arial"',t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(125,1,62,20),t.fillStyle="#069",t.fillText(n,2,15),t.fillStyle="rgba(102, 204, 0, 0.7)",t.fillText(n,4,17),e.toDataURL()}}(),b.cnv=[n.substr(0,32),n.length,h(n)].join("|"),b.res=(s=[screen.availWidth,screen.availHeight],"object"==typeof(l=screen.orientation||screen.mozOrientation||screen.msOrientation)&&(l=l.type),l?l.match("portrait")&&s.reverse():s.sort().reverse(),s.push(screen.colorDepth),s.join("x"))),b})),i=c.default.memoize((function(){var e=a();return h(c.default.chain(["pds","nps","mts","fns","gps","tzo","uas","lan","cpu","cnv","mpi","res"]).map((function(t){return e[t]})).map((function(e){return void 0===e?"":e})).map((function(e){return e.toString()})).value().join("\n"))}));window.log_device=function(){c.default.defer((function(){!function(){var e,t,n;if(window.koala_device_endpoint){try{t=i()}catch(e){t=null}e={partition_key:Object(u.a)(),device_id2:t,visitor_id:Object(u.a)(),ip_address:window.current_ip,user_uid:(n=m.a,null==n||""===n||"object"!=typeof n?null:"function"==typeof n.get?n.get("id")||null:n.id&&n.id||null)},window.enabled_features&&window.enabled_features.device_components&&(e.components=a()),o.a.ajax({type:"POST",url:window.koala_device_endpoint,data:JSON.stringify(e),contentType:"text/plain; charset=UTF-8"})}}()}))};n("QfO9");var f=n("1OuE"),g=n("fupu"),_=n.n(g),b=n("yNUO"),v=n.n(b);const k=(e,t,n=["day","month","year"])=>{const a=t.split(e),{day:i,month:r,year:o}=n.reduce((e,t,n)=>(e[t]=a[n],e),{});return`${r}/${i}/${o}`},y={l:{de:e=>k(".",e),en:e=>e,es:e=>k("/",e),fr:e=>k("/",e),ja:e=>k("/",e,["year","month","day"])},"l LT":{de:e=>{const[t,n]=e.split(" ");return`${k(".",t)} ${n}`},en:e=>e,es:e=>{const[t,n]=e.split(" ");return`${k("/",t)} ${n}`},fr:e=>{const[t,n]=e.split(" ");return`${k("/",t)} ${n}`},ja:e=>{const[t,n]=e.split(" ");return`${k("/",t,["year","month","day"])} ${n}`}}},E=(e,t)=>((e,t,n)=>v()(y[t][e](n)))(window.I18n.locale,t,e);n("RIhn"),n("LIwG"),n("HW2X"),n("NQrx"),n("4cFS"),n("WbKZ"),n("cgaT");o()(".field.search.location-search").livequery((function(){var e=o()(this);e.on("livesearch_selector:select",(function(){o()(this).siblings("span.input-tip").hide(),o()(this).parent().siblings("span.input-tip").hide(),o()(this).trigger("shifted")})),e.on("livesearch_selector:unselect",(function(){o()(this).siblings("span.input-tip").show(),o()(this).parent().siblings("span.input-tip").show(),o()(this).trigger("shifted")})),e.livesearch_selector({url:e.data("searchUrl"),cancel_copy:"",process_data:function(){return{term:this.$elem.val()}},process_results:function(e){return c.default.map(e.locations,(function(e){return[e.short_name,e.id]}))}})})),o()("input.date:not(.js-cancel-jquery-calendar)").livequery((function(){let e=o()(this),t=e.val(),n=e.closest(".js-date-field").find(".js-hidden-calendar-input");n.val(t?Object(f.a)("YYYY-MM-DD",t):""),e.datetime_picker_field({calendar:{allow_deselect:!1,previous_month_text:"<",next_month_text:">"},class_name:"absolute z_top",parse_callback:function(e){var t=E(e,"l");return _()(t)?t:void 0},format_callback:function(e){return n.val(e?Object(f.a)("YYYY-MM-DD",e):""),e?Object(f.a)("l",e):""}})})),o()("input.datetime").livequery((function(){var e=o()(this),t=e.data("options")||{};e.datetime_picker_field(o.a.extend(!0,{calendar:{allow_deselect:!1,previous_month_text:"<",next_month_text:">",time_text:s.default.t("onloads.initializers.forms.Time")},class_name:"absolute z_top",position:e.is(".position_calendar_below")?"bottom":"right",parse_callback:function(e){var t=E(e,"l LT");return _()(t)?t:void 0},format_callback:function(t){return e.closest(".js-datetime-field").find(".js-hidden-calendar-input").val(t?Object(f.c)("en","YYYY-MM-DD HH:mm:ss Z",t):""),t?Object(f.a)("l LT",t):""}},t))})),o()(".js-calendar-picker").livequery((function(){var e,t=o()(this),n=t.find('input[type="hidden"]'),a=t.find(".calendar"),i=a.data("options")||{};a.on("calendar_date_picker:date_selected",(function(e,t){t?n.val(Object(f.a)("YYYY-MM-DD HH:mm:ss Z",t)):n.val(""),n.trigger("change")})),""!==n.val()&&(e=new Date(n.val())),a.calendar_date_picker(c.default.extend({allow_deselect:!1,previous_month_text:"<",next_month_text:">",time_text:s.default.t("onloads.initializers.forms.Time"),selected_date:e},i)).data("calendar_date_picker")})),o()("form ul.js-sortable, form ol.js-sortable, form tbody.js-sortable").livequery((function(){var e=o()(this),t=!1;e.find(".move").length&&(t=".move"),e.find(".move").click((function(e){e.preventDefault()})),e.sortable({containment:"document",axis:"y",handle:t,update:function(){e.find("input.position").each((function(e){o()(this).val(e+1)}))}}),e.closest("form").submit((function(){e.find("input.position").each((function(e){o()(this).val(e+1)}))}))}));n("GRmu"),n("g/nJ"),n("KvHV"),n("IvES"),n("qKHs");var j=n("MgNI"),w=n("JC/v");window.request_id=(e=>j.maybe.fromNullable(e.documentElement.dataset).chain(Object(w.a)("requestId")).chain(e=>j.maybe.fromNullable("__REQUEST_ID_MIDDLEWARE_SWAP_TOKEN__"===e?null:e)).getOrElse(null))(document);n("LKre"),n("2UXI"),n("MRng"),n("rV3q"),n("WJbx");window.$=window.$||o.a},GnmY:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return c}));var a=n("2UXI"),i=(n("q1tI"),n("Owp+"));n.d(t,"a",(function(){return i.a}));const r=e=>{Object(a.d)("Uploaded Video",{context:"post_edit_body",type:e})},o=e=>{Object(a.d)("Our Terms Clicked From PII Warning",{context:e})},s=(e,t)=>{Object(a.d)("Pinned Post",{type:e,context:t})},c=(e,t)=>{Object(a.d)("Unpinned Post",{type:e,context:t})}},HZYo:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return h}));let a=function(e){return e.LOG_IN_OR_SIGNUP_BUTTON_CLICKED="Log In or Sign Up Button Clicked",e.REWARD_CONTINUE_BUTTON_CLICKED="Reward Continue Button Clicked",e.THANKS_PAGE_VIEWED="Thanks Page Viewed",e.PROJECT_PAGE_VIEWED="Project Page Viewed",e}({});var i=n("pj8f"),r=n("n2oK"),o=n("NxQb"),s=n("E+oP"),c=n.n(s);let l={};const d=()=>{if(!c()(l))return;const e=window.datalake_properties;l=c()(e)?{}:e},u=(e,t)=>{d(),l={...l,[e]:{...l[e],...t}}};var m=n("EcEN");function p(e,t){const n=window.tracking_events_url&&window.tracking_events_stream?`${window.tracking_events_url}/streams/${window.tracking_events_stream}/record`:"";if(""===n)return;const a={"partition-key":Object(m.v4)(),data:{properties:t,event:e,event_uuid:Object(m.v4)()}};fetch(n,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then(e=>e.ok?e.json():Promise.reject({status:e.status,statusText:e.statusText})).then(e=>{0}).catch(e=>{0})}const h=(e,t,n)=>{if(Object(o.a)("datalake_fe_events"))try{u("context",{context_timestamp:Object(r.a)(Date.now()),...t}),n&&u("checkout",n);const a=(d(),l);p(e,Object.assign({},...Object.values(a).map(e=>e)))}catch(e){console.error("Tracking Request failed",e),i.Honeybadger.notify(e)}}},HgY4:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n("pTxv"),i=n("mEsB"),r=n("emmH"),o=n("94td"),s=n("q1tI"),c=n.n(s),l=n("VF4V");var d=({collaborators:e})=>c.a.createElement(c.a.Fragment,null,c.a.createElement("h4",{className:"mt0 mb3 type-18"},Object(o.b)("project_page.creator_bio.Collaborators")),c.a.createElement("div",{className:"mb6"},e.map(({node:e,title:t})=>c.a.createElement("div",{className:"flex items-center mb2",key:e.url},c.a.createElement("div",{className:"w7 h7 shrink0 mr2"},c.a.createElement("img",{className:"radius100p",alt:"avatar",src:e.imageUrl})),c.a.createElement("div",{className:"flex flex-column"},c.a.createElement(l.a,{as:"a",href:e.url,target:"_blank",className:"link-soft-black medium"},e.name),c.a.createElement("span",{className:"dark-grey-500"},t)))))),u=({name:e,url:t,location:n,biography:a})=>{if(!a)return null;const i=a.split(/(?:\\r\\n|\\n)/g).map((e,t)=>c.a.createElement("p",{key:t},e));return c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",{className:"mb0 type-24"},c.a.createElement(l.a,{as:"a",href:t,target:"_blank",className:"link-soft-black"},e)),c.a.createElement(l.a,{as:"span",className:"mb3 inline-block"},n?n.displayableName:null),c.a.createElement("div",{className:"type-16"},i))},m=n("2DJ9"),p=n("1OuE");var h=({verifiedIdentity:e,isFacebookConnected:t,url:n,backedProjectsCount:a,launchedProjectsCount:r,lastLogin:s})=>c.a.createElement("div",{className:"flex flex-column type-16"},c.a.createElement("div",{className:"mb2"},e?c.a.createElement(i.a,{label:Object(o.b)("project_page.creator_bio.This_person_verified")},c.a.createElement("div",{className:"flex soft-black"},c.a.createElement(m.a,{name:"icon--check",size:"20",atoms:["fill-ksr-green-500","mr2"]}),c.a.createElement("span",null,e))):c.a.createElement("div",{className:"flex soft-black"},c.a.createElement(m.a,{name:"icon--cross",size:"20",atoms:["mr2","fill-red-500"]}),c.a.createElement("span",null,Object(o.b)("project_page.creator_bio.Identity_not_verified")))),c.a.createElement("div",{className:"flex mb2"},c.a.createElement(m.a,{name:"icon--lock",size:"20",atoms:["fill-grey-dark-500","mr2"]}),c.a.createElement("span",null,Object(o.b)("project_page.creator_bio.Last_login",{login_time:Object(p.b)("ll",s)}))),c.a.createElement("div",{className:"flex mb2"},c.a.createElement(m.a,{name:"icon--facebook",size:"20",atoms:["fill-facebook-blue","mr2"]}),c.a.createElement("span",null,t?Object(o.b)("project_page.creator_bio.Connected_to_Facebook"):Object(o.b)("project_page.creator_bio.Not_Connected_to_Facebook"))),c.a.createElement("div",{className:"flex mb2"},c.a.createElement(m.a,{name:"icon--small-k",size:"20",atoms:["fill-ksr-green-700","mr2"]}),c.a.createElement("span",null,1!==r?c.a.createElement("a",{href:n+"/created",target:"_blank",className:"ksr-green-500"},Object(o.b)("project_page.creator_bio.Projects_created",{number_of_projects:r})):Object(o.b)("project_page.creator_bio.First_created"),c.a.createElement("span",{className:"divider"}," · "),c.a.createElement("a",{className:"ksr-green-500",target:"_blank",href:n+"/backed"},Object(o.b)("project_page.creator_bio.Projects_backed",{number_of_projects:a})))));var f=({websites:e})=>c.a.createElement("div",null,e.map(({url:e,domain:t},n)=>c.a.createElement("a",{rel:"nofollow noopener",className:"block type-16 link-soft-black medium",key:`${e}-${n}`,href:e||"",target:"_blank"},t)));const g=({creator:e,verifiedIdentity:t,collaborators:n,onMessageCreatorClick:s,loggedIn:l,isEmailVerified:m,email:p,hideMessageCreatorButton:g,canMessageCreator:_,refetch:b})=>c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"pt0 pt6-lg px5 pb6"},c.a.createElement("div",{className:"pt3 mb6"},c.a.createElement(u,{url:e.url,name:e.name,location:e.location,biography:e.biography})),c.a.createElement("div",{className:"flex flex-column flex-row-lg flex-wrap mb6"},c.a.createElement("div",{className:"flex1 mr3"},c.a.createElement(h,{backedProjectsCount:e.backingsCount,launchedProjectsCount:e.launchedProjects.totalCount,isFacebookConnected:e.isFacebookConnected,url:e.url,verifiedIdentity:t,lastLogin:e.lastLogin})),c.a.createElement("div",{className:"flex1 mt3 mt0-lg"},!(null===e.websites||0===e.websites.length)&&c.a.createElement(f,{websites:e.websites}))),!(null===n||0===n.length)&&c.a.createElement(d,{collaborators:n}),g?null:_?c.a.createElement(a.b,{size:"large",theme:"trust",disabled:!m,atoms:["block","native-android-hide"],onClick:e=>{e.preventDefault(),s()},"data-test-id":"message-creator-button"},Object(o.b)("project_page.creator_bio.Contact_me")):c.a.createElement(i.a,{label:l?Object(o.b)("project_page.message_creator.Sorry_you_cant"):Object(o.b)("project_page.message_creator.Sorry_logged_in"),focusWithin:!0},c.a.createElement("div",null,c.a.createElement(a.b,{size:"large",theme:"trust",atoms:["block","native-android-hide"],onClick:()=>{},"data-test-id":"message-creator-button"},Object(o.b)("project_page.creator_bio.Contact_me")))),_&&!m&&b&&c.a.createElement("div",{className:"flex1 mt3"},c.a.createElement(r.a,{email:p,refetch:b}))))},I3Sk:function(e,t,n){"use strict";n.d(t,"d",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return m})),n.d(t,"j",(function(){return p})),n.d(t,"k",(function(){return f})),n.d(t,"i",(function(){return g})),n.d(t,"l",(function(){return _})),n.d(t,"g",(function(){return b})),n.d(t,"e",(function(){return v})),n.d(t,"h",(function(){return k}));var a=n("39MV"),i=n("o3IG"),r=n("94td"),o=(n("U5Hm"),n("zm9w")),s=n("PXbY");const c=e=>e.map(e=>{const t=e.amount.amount||"0";return parseFloat(t)}).reduce((e,t)=>e+t,0),l=e=>{const{addOns:t,locationId:n,reward:i,bonusSupport:r}=e,o=Object(a.b)((null==i?void 0:i.shippingRules)||[],n),s=parseFloat((null==o?void 0:o.cost.amount)||"0"),l=parseFloat((null==i?void 0:i.amount.amount)||"0"),d=((e,t)=>e.map(e=>{var n;const i=(null===(n=Object(a.b)(e.shippingRules||[],t))||void 0===n?void 0:n.cost.amount)||"0";return parseFloat(i)}).reduce((e,t)=>e+t,0))(t,n||"");return{amount:l+s+d+c(t)+r,totalShippingCost:s+d}},d=(e,t)=>void 0===t?e:e.filter(e=>{switch(e.shippingPreference){case s.c.unrestricted:case s.c.none:return!0;default:return!!Object(a.b)(e.shippingRules,t)}}),u=(e,t)=>e<0?"-"+Object(a.c)(Math.abs(e),t):"+"+Object(a.c)(e,t),m=(e,t)=>e.available?null===e.limit||void 0===e.limit?(null==e?void 0:e.limitPerBacker)||0:Math.min((null==e?void 0:e.limitPerBacker)||0,t+((null==e?void 0:e.remainingQuantity)||0)):t,p=e=>{const t=atob(e).split("-")[1],n=Object(i.b)("ref_"+t);return n?unescape(n).split("?")[0]:""},h=(e,t,n)=>!!t&&n===e.id,f=(e,t,n)=>e.filter(e=>!e.available&&!h(e,t,n)),g=(e,t,n)=>{const a=[];return e.forEach(e=>{h(e,t,n)?a.unshift(e):e.available&&a.push(e)}),a};function _(e){return"allowedAddons"in e}function b(e,t){return _(e)?Object(a.b)(e.shippingRules,t):((e,t)=>{const n=e.shippingPreference===s.c.none;return void 0===t||n?null:Object(a.b)(e.shippingRules,t)})(e,t)}function v(e,t,n){return e.reduce((e,a)=>{var i;const r=b(a,t),o=null==r||null===(i=r[n])||void 0===i?void 0:i.amount;return o?void 0===e?parseFloat(o):e+parseFloat(o):e},void 0)}function k(e,t,n,i){if(e&&t){const n=o.b.currency_symbol(i),a=o.b.money(e,{currency:i,type:"truncate_zeros",format:"%n"}),s=o.b.money(t,{currency:i,type:"truncate_zeros",format:"%n"});return Object(r.b)("checkouts.new.Estimated_shipping_range",{currencySymbol:n,min:a,max:s})}return e&&!t?Object(a.c)(e,i):Object(a.c)(n||0,i)}},I8LL:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));let a=function(e){return e.BACKER_SURVEY_BUILD_TOP_NAV="backer_survey_build_top_nav",e.CREATOR_IMAGE="creator_image",e.CREATOR_NAME="creator_name",e.CREATOR_NAV_SIDEBAR="side_nav",e.CURATED="curated",e.DISCOVER_ADVANCED="discover_advanced",e.FULFILLMENT="fulfillment",e.MODAL="modal",e.PROJECT_HERO="project_hero",e.PROJECT_IMAGE="project_image",e.PROJECT_NAME="project_name",e.PROJECT_TYPE="project_type",e.REWARDS_LIST="rewards_list",e.STICKY_NAV="sticky_nav",e}({})},I8yn:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,...t)=>e.bind(null,...t)},IVac:function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"g",(function(){return u})),n.d(t,"i",(function(){return m})),n.d(t,"j",(function(){return p})),n.d(t,"f",(function(){return h})),n.d(t,"m",(function(){return f})),n.d(t,"k",(function(){return g})),n.d(t,"h",(function(){return _})),n.d(t,"l",(function(){return b}));var a=n("0fse"),i=n("w/TO"),r=n("cDWt");const o=(e={touched:{},errors:{}},t)=>e.touched[t]&&!!e.errors[t],s=e=>Object.assign({},...e.map(e=>({[e]:!0}))),c=(e,t,n,r)=>{const o=Object(i.a)(n);let s;return s=r?t=>t.forEach(t=>r(e,t)):e=>e,Object(a.f)({...e,touched:{...e.touched,[t]:!0},errors:o},o[t]?a.a.run(s,{args:[o[t]]}):a.a.none)},l=(e,t,n)=>{const r=Object(i.a)(t);return Object(a.f)({...e,touched:{...s(e.fields)},errors:r},n?a.a.run(n,{args:[e,r]}):a.a.none)},d=(e,t)=>e.length===t,u=e=>e&&e.match(/^.+@.+\..{2,}$/),m=e=>!isNaN(e),p=(e="")=>"string"==typeof e?e.trim().length>0:null!=e&&e.length>0,h=e=>"string"==typeof e&&/^[a-zA-Z0-9]+$/.test(e),f=(e,t,n)=>"string"==typeof e&&(e.length>=t&&e.length<=n),g=(e,t,n={caseSensitive:!1})=>{const{caseSensitive:a}=n;if(a)return-1===t.indexOf(e);return-1===t.map(e=>e.toLowerCase()).indexOf(e.toLowerCase())},_=e=>!!e&&/^[\u0020-\u007E]*$/.test(e),b=(e,t,n)=>n()?Object(r.b)():Object(r.a)(new v({[e]:new k([t])}));class v{constructor(e){this.errors=e}concat(e){const t=Object.keys(this.errors).concat(Object.keys(e.errors)),n=t.filter((e,n)=>n===t.indexOf(e)).reduce((t,n)=>{const a=this.errors[n],i=e.errors[n];return{...t,[n]:a&&i?a.concat(i):a||i}},{});return new v(n)}}class k{constructor(e){this.value=e}concat(e){return new k(this.value||e.value)}}},IWkz:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const a=[["milliseconds",1],["seconds",1e3],["minutes",6e4],["hours",36e5],["days",864e5]];class i{constructor(){this.local_start_time=new Date,this.cookie_name="request_time",this.time_units=a,this.set_remote_offset()}set_remote_offset(){this.cookie_value=this.read_cookie();const e=new Date(this.cookie_value);this.cookie_value&&"Invalid Date"!==e.toString()?this.remote_offset=e-this.local_start_time:(this.remote_offset=this.read_cookie("local_offset"),this.remote_offset&&(this.remote_offset=parseInt(this.remote_offset,10))),void 0===this.remote_offset||isNaN(this.remote_offset)?this.is_set=!1:(document.cookie="local_offset="+this.remote_offset+"; path=/",this.is_set=!0)}get_units_in_interval(e,t){return t[e.replace(/^\w/,e=>"get"+e.toUpperCase())]()}milliseconds_in_day(e){void 0===e&&(e=new Date);let t=0;for(let n=a.length-2;n>=0;n-=1)t+=this.get_units_in_interval(a[n][0],e)*a[n][1];return t}milliseconds_in_interval(e,t){return this.milliseconds_in_day(t)%e}milliseconds_to_next_interval(e,t){return e-this.milliseconds_in_interval(e,t)}pluralize(e,t){return 1===t&&(e=e.replace(/s$/,"")),e}read_cookie(e){if(window.document&&window.document.cookie){let t=window.document.cookie.split(";");const n=(e||this.cookie_name)+"=";for(let e=0;e<t.length;e+=1){let a=t[e];for(;" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(n)){const e=a.substring(n.length,a.length);return decodeURIComponent(e).replace(/\+/g," ")}}}}destroy_cookie(e){const t=new Date;e||(e=this.cookie_name),t.setTime(t.getTime()-864e5),window.document.cookie=e+"=; expires="+t.toGMTString()+"; path=/"}get_remote_time(){let e=new Date;const t=e.getTime()+(this.remote_offset||0);return e=e.setTime(t),e}}},Ijdr:function(e,t,n){"use strict";var a=n("0VSk"),i=n("+2Rf");n("+2Rf");!function(e){function t(t,n){this.$elem=t,this.xhr=!1,this.paused=n.paused||!1,this.options=e.extend({threshold:500,trigger_next:"scroll",load_next_after:!1,prepend_next:!1,dataType:"html",extra_params:{},$context:e(window),default_page:1,page_by:function(e){return void 0!==e?e+1:this.default_page},page_param:"page",url:!1},n),this.current_page=this.options.page_by(),this.bind_events()}e.fn.mobius=function(n){return n=n||{},e(this).each((function(){var a=e(this).data("mobius");a||(a=new t(e(this),n),e(this).data("mobius",a))}))},e.extend(t.prototype,{bind_events:function(){var t=this;"string"==typeof this.options.trigger_next?(this.options.$context.on(this.options.trigger_next,(function(){t.check_for_more()})),t.check_for_more()):this.options.trigger_next.jquery&&this.options.trigger_next.click((function(n){n.preventDefault(),e(this).addClass("loading_next"),t.load_next()}))},clear_extra_params:function(){this.options.extra_params={}},add_param:function(e,t){this.options.extra_params[e]=t},set_extra_params:function(e){this.options.extra_params=e},pause:function(){this.paused=!0},play:function(){this.paused=!1},check_for_more:function(){this.paused||this.options.$context.scrollTop()+this.options.$context.height()-this.$elem.offset().top>this.$elem.get(0).scrollHeight-this.options.threshold&&this.load_next()},load_next:function(){this.load_page(this.options.page_by(this.current_page),this.options.load_next_after,!0)},load_page:function(t,n,i){var r=parseInt(t,10),o=this;isNaN(r)||(n&&n.length||(n=!1),this.xhr||(this.$elem.trigger("mobius:loading_page"),this.xhr=e.ajax({type:"get",dataType:this.options.dataType,url:this.build_paged_url(r),success:function(t){if(o.xhr=!1,"html"===o.options.dataType){var s=e("<div>"+t+"</div>").find(".mobius").children();if(!s.length)return void o.$elem.trigger("mobius:error",[a.default.t("library.mobius.No_mobius_found_in_page",{page:r})]);n?n.after(s):o.options.prepend_next?o.$elem.prepend(s):o.$elem.append(s),o.options.trigger_next.jquery&&o.options.trigger_next.removeClass("loading_next"),o.$elem.trigger("mobius:loaded_page",[r,s])}else o.$elem.trigger("mobius:loaded_page",[r,t]);!i&&n||(o.current_page=r)},error:function(){o.xhr=!1}})))},build_paged_url:function(t){var n=window.location.toString().replace(window.location.search,"").replace(window.location.hash,""),a=void 0===this.options.extra_params?"":"string"==typeof this.options.extra_params?this.options.extra_params:e.param(this.options.extra_params),i=/(.*)#$/;i.test(n)&&(n=i.exec(n)[1]),a&&(a="&"+a),this.options.url&&(n=this.options.url);var r=-1!==n.indexOf("?")?"&":"?";return n.toString()+r+this.options.page_param+"="+t+a}})}(i)},IrSn:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("q1tI"),i=n.n(a);const r=({children:e,isActive:t,onClick:n})=>{const a=i.a.Children.only(e),r=i.a.cloneElement(a,{onClick:n,isActive:t});return i.a.createElement(i.a.Fragment,null,r)}},Irv6:function(e,t,n){"use strict";n("gNPL"),n("+2Rf");var a=n("+2Rf");a.fn.client_side_asset_uploader=function(){var e=a(this),t=["data-asset-attachable-type","data-asset-method"].map((function(t){return"["+t+'="'+e.attr(t)+'"]'})).join("");e.adhoc_fileuploader({url:e.data("url"),paramsUrl:e.data("params-url"),done:function(e,n){var i=n.files[0],r={file:i,s3_key:n.formData.filter((function(e){return"key"===e.name}))[0].value,data_file_name:i.name,data_file_size:i.size,data_content_type:i.type,signed_preview_url:"umm"};a(".js-assets-list"+t).trigger("assets_list:item_added",r)}})}},IvES:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=(n("RIhn"),n("IWkz")),o=n("FbRb");class s{constructor(e,t){e&&(this.count_down=e.getAttribute("data-dynamic")||!1,this.clock=t,this.time_units=this.clock.time_units.slice(1),this.element=e,this.clock.is_set&&this.attach())}update_element(){const{remainingNumber:e,remainingString:t}=Object(o.a)(this.remote_end_time,this.clock);this.number_element.innerHTML=e,this.text_element.innerHTML=t}valid(){return!(!this.number_element||!this.text_element)}attach(){const e=()=>{this.update_element();const{remainingUnit:t,remainingNumber:n}=Object(o.a)(this.remote_end_time,this.clock);this.count_down&&n>0&&(this.timeout=window.setTimeout(e,this.clock.milliseconds_to_next_interval(t[1])))};this.remote_end_time=this.element.getAttribute("data-end_time"),this.number_element=this.element.querySelectorAll(".js-num")[0],this.text_element=this.element.querySelectorAll(".js-text")[0],this.element.ksr_page_timer=!0,this.valid()&&e()}cancel(){this.timeout&&clearTimeout(this.timeout)}}var c=n("rm+a");class l{constructor(){this.elements=[],this.loading=!0,this.number_of_tries=0,this.attach()}bind_ready(){Object(c.a)(()=>{this.attach_timers(),this.loading=!1})}attach_timers(){const e=window.document.querySelectorAll(".ksr_page_timer");for(let t=0;t<e.length;t+=1)e[t].ksr_page_timer||(new s(e[t],window.ksr_page_clock),this.elements.push(e[t]))}attach(){this.bind_ready(),(()=>{this.attach_timers(),this.loading&&(window.setTimeout(()=>{this.attach_timers()},Math.min(Math.pow(10,this.number_of_tries),100)),this.number_of_tries+=1)})()}}window.ksr_page_clock=new r.a,new l,i()(document).on("timer_added",".ksr_page_timer",(function(){new s(this,window.ksr_page_clock)})),i()(".ksr_page_timer").livequery((function(){this.ksr_page_timer||i()(this).trigger("timer_added")}))},"JC/v":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var a=n("v53p");
/*!
 * Utility functions for the `Maybe` type!
 *
 * See: http://origamitower.github.io/folktale/api/en/folktale.src.data.maybe.html
 */
const i=e=>t=>Object(a.fromNullable)(t[e]),r=e=>{try{return Object(a.Just)(e())}catch(e){return Object(a.Nothing)()}}},"JN/F":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("94td");const i=()=>{let e={};const t=document.querySelectorAll("h3.page-anchor");return e=Array.from(t).reduce((e,t)=>{const n=t.id,a=t.textContent;return e[n]={id:n,name:a||""},e},{}),{story:{id:"story",name:Object(a.b)("project_page.campaign_nav.Story"),trackingContext:"story"},...e,"project-budget":{id:"project-budget",name:Object(a.b)("project_page.campaign_nav.Project_budget"),trackingContext:"budget"},"risks-and-challenges":{id:"risks-and-challenges",name:Object(a.b)("project_page.campaign_nav.Risks"),trackingContext:"risks"},"use-of-ai":{id:"use-of-ai",name:Object(a.b)("project_page.campaign_nav.AI_use"),trackingContext:"ai"},"environmental-commitments":{id:"environmental-commitments",name:Object(a.b)("project_page.campaign_nav.Environmental_commitments"),trackingContext:"environment"}}}},JaLi:function(e,t,n){"use strict";n("ykY3"),n("1zKs"),n("FPRb");var a=n("h4vE"),i=n("mq2H"),r=n("94td"),o=n("KHPI"),s=n("/IHD"),c=n("WjF9"),l=n("2UXI"),d=n("xG9w"),u=n("yQm5"),m=n.n(u);Object(a.a)("#discover_advanced",(function(e){var t,n,a,u=Object(o.a)(document.body),p=e.find("#advanced_container"),h=e.find("#NS_discover__landing"),f=Object(o.a)("#NS__discover_advanced_sentence").find("form"),g=e.find("#projects_list"),_=e.find(".load_more"),b=e.find(".NS_discover__spotlight_projects"),v=e.find(".NS_discover__footer"),k=!1,y=g.data("seed"),E=1;let j=!0;function w(){return d.default.map(g.find(".row > li > .project-card, .js-react-proj-card"),(function(e){return Object(o.a)(e).data("pid")}))}function S(e,t){var n,a,c=(t||{}).append_results;if(c||(g.children().remove(),y=e.seed,_.show(),g.siblings(".title").find(".count").text(Object(r.b)("discovery.advanced.Projects",{count:e.total_hits})).siblings(".category").hide()),Object(i.p)("discover",{discover_search_results_count:e.total_hits}),e.projects.length>0){p.removeClass("no_results");const t=document.createElement("div");t.className="grid-row flex flex-wrap";const i=document.createDocumentFragment();(n=e.projects,a=w(),d.default.filter(n,(function(e){return-1===d.default.indexOf(a,e.id)}))).map(t=>function(e,t){const n=document.createElement("div");return n.setAttribute("data-project",JSON.stringify(e)),n.setAttribute("data-ref",t),n.className="js-react-async-proj-card grid-col-12 grid-col-6-sm grid-col-4-lg",n.id=`${e.slug}-${Object(s.c)()}`,n}(t,e.ref_tag)).forEach(e=>i.appendChild(e)),t.appendChild(i),g.append(t),Object(o.a)(document).trigger("discovery:loaded_more")}else _.hide(),c||N()}function O(e,a){if(a=a||{},k=!0,f.length){const t=m()("?"+f.serialize()).query(!0);e={...t,...e}}e.seed=y,e=d.default.pick(e||{},d.default.filter(d.default.keys(e),(function(t){return!!e[t]}))),t&&t.abort(),a.paging?(e.page=E+1,_.find("#text").hide(),_.find("#spinner").show(),p.addClass("loading-pagination")):(e.page=E=1,p.addClass("loading")),clearTimeout(n),n=setTimeout((function(){t=o.a.ajax({url:"/discover/advanced?google_chrome_workaround",data:e,dataType:"json",success:function(t){S(t,{append_results:a.paging}),t.has_more||(j=!1,_.hide()),History.replaceState({},document.title,"/discover/advanced?"+o.a.param(e)),E=e.page},complete:function(e){0!==e.status&&(_.find("#text").show(),_.find("#spinner").hide(),p.removeClass("loading loading-pagination")),t=!1,k=!1,Object(i.n)(i.d.PAGE_VIEWED,{context_page:i.e.DISCOVER})}})}),500)}function N(){var e=m()().query(!0);p.addClass("no_results"),(e.social||e.backed||e.starred)&&d.default.isUndefined(c.a)?(p.find(".requires_login_empty_state").show(),p.find(".general_empty_state").hide()):(p.find(".requires_login_empty_state").hide(),p.find(".general_empty_state").show())}function C(){var e=a;a=u.scrollTop()||Object(o.a)(window).scrollTop(),!k&&j&&a>e&&u.height()-a<2e3&&O(m()().query(!0),{paging:!0})}_.on("click",(function(e){e.preventDefault(),a=u.scrollTop(),Object(o.a)(document).on("scroll",C),u.addClass("no_scroll_anchoring"),O(m()().query(!0),{paging:!0}),g.children().children().show()})),e.find(".login, .signup").on("click",(function(e){window.location=Object(o.a)(this).data("url")+"?then="+encodeURIComponent(window.location.href),e.preventDefault()})),e.find("li.sample_search a").on("click",(function(e){var t=Object(o.a)(this).closest("li").data("sample")||{};t.category_id=(t.category||{}).id,t.location_id=(t.location||{}).id,t.tag_id=(t.tag||{}).id,Object(o.a)(document).trigger("discovery:sentence:load_sample",t),Object(o.a)(document).trigger("discovery:categories:load_sample",t),Object(o.a)(document).trigger("discovery:locations:load_sample",t),Object(o.a)(document).trigger("discovery:sorts:load_sample",t),Object(o.a)(document).trigger("discovery:filters:load_sample",t),Object(o.a)(document).trigger("discovery:sentence:show_sentence",t),h.hide(),b.hide(),v.hide(),e.preventDefault()})),e.on("click",".project-card-wrap .project-meta li a",(function(e){var t=Object(o.a)(this).data("location");Object(o.a)(document).trigger("discovery:locations:load_sample",{location:t}),Object(l.d)("Discover Baseball Card Location Clicked"),e.preventDefault()})),Object(o.a)(document).on("discovery:sentence:changed",(function(e,t){1===parseInt(t.social,10)?g.addClass("social"):g.removeClass("social"),0===t.category_id?(h.hide(),b.hide()):f.is(":visible")&&(h.remove(),b.remove()),O(t)})),Object(o.a)(document).on("discovery:sentence:term_changed",(function(e,t){O(t)})),Object(o.a)(document).on("discovery:hero:select_subcategory",(function(){h.hide(),b.hide()})),Object(o.a)(document).on("discovery:hero:unselect_subcategory",(function(){h.show(),b.show()}));var I=w().length;I||N(),I<6&&_.hide()}))},Jgmo:function(e,t,n){"use strict";t.a='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M6.34314 13.4142C6.19113 13.5662 6.06463 13.7417 5.96849 13.934L4.55428 16.7624C4.16929 17.5324 4.3202 18.4624 4.92892 19.0711C5.53764 19.6798 6.46759 19.8307 7.23756 19.4457L10.066 18.0315C10.2583 17.9354 10.4338 17.8089 10.5858 17.6569L19.0711 9.17158C20.2426 8.00001 20.2426 6.10051 19.0711 4.92894C17.8995 3.75736 16 3.75736 14.8284 4.92894L6.34314 13.4142ZM8.19354 14.3922L9.60775 15.8065L17.6568 7.75736C18.0474 7.36684 18.0474 6.73368 17.6568 6.34315C17.2663 5.95263 16.6332 5.95263 16.2426 6.34315L8.19354 14.3922Z" fill="#3C3C3C"/>\n</svg>\n'},JhfJ:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"d",(function(){return h})),n.d(t,"a",(function(){return k})),n.d(t,"c",(function(){return j}));var a=n("DI+Y"),i=n("mv45");n("VX74"),n("DE4Y");const r={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LikePost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"LikePostInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"likePost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"likesCount"}},{kind:"Field",name:{kind:"Name",value:"isLiked"}}]}}]}}]}}]};const o={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnlikePost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnlikePostInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unlikePost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"likesCount"}},{kind:"Field",name:{kind:"Name",value:"isLiked"}}]}}]}}]}}]};const s={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeletePost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DeletePostInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deletePost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]}}]};const c={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PublishPost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PublishPostInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"publishPost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]}}]};const l={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PinPost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PinPostInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pinPost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"pinnedAt"}}]}}]}}]}}]};const d={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnpinPost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnpinPostInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unpinPost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"pinnedAt"}}]}}]}}]}}]};const u=Object(i.b)(e=>({onPinPost:t=>e.mutate({variables:{input:t}})})),m=Object(a.graphql)(l,u),p=Object(i.b)(e=>({onUnpinPost:t=>e.mutate({variables:{input:t}})})),h=Object(a.graphql)(d,p),f=Object(i.b)(e=>({onLikePost:t=>e.mutate({variables:{input:t}})})),g=Object(a.graphql)(r,f),_=Object(i.b)(e=>({onUnlikePost:t=>e.mutate({variables:{input:t}})})),b=Object(a.graphql)(o,_),v=Object(i.b)(e=>({onDeletePost:t=>e.mutate({variables:{input:t}})})),k=Object(a.graphql)(s,v),y=Object(i.b)(e=>({onPublishPost:t=>e.mutate({variables:{input:t}})})),E=Object(a.graphql)(c,y),j=Object(i.a)(g,b,k,E,m,h)},JmIM:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("h4vE"),o=n("nuFJ"),s=n("SmhT");Object(r.a)(".NS_layouts__admin_navigation",(function(e){var t=i()("a.open_panel",e),n=i()("#admin_panel"),a=i()("#admin-nav-prop"),r=i()("#admin_panel_wrap");function c(){var t;r.is(":hidden")?(t=i()("#admin_wrap"),e.detach().prependTo("body"),window.scrollTo(0,0),r.trigger("opened"),r.slideDown((function(){a.height(t.height()),Object(o.a)()}))):r.slideUp((function(){Object(o.a)()}))}e.on("ksr_admin:nav_open",(function(){r.is(":hidden")&&c()})),t.click((function(e){c(),e.preventDefault()})),i()(window).on("keydown",(function(e){if(e.which===s.l&&!i()(e.target).is(":input")&&!i()(e.target).is("[contenteditable]"))if(r.is(":visible")){var t,o=n.find("details[open]").add("#running-board-wrap"),l=0;o.each((function(e){window.scrollY>=this.offsetTop-a.height()&&(l=e)})),(t=l===o.length-1?o.get(0):o.get(l+1))&&window.scrollTo(0,t.offsetTop-a.height()),e.preventDefault()}else c()})),"#admin_panel"===window.location.hash&&(i.a.fx.off=!0,c(),i.a.fx.off=!1)}))},JpGa:function(e,t,n){"use strict";var a=n("h4vE"),i=n("GRmu"),r=n("+2Rf"),o=n.n(r);Object(a.a)("#admin-nav",(function(e){var t=function(t,n){return o.a.ajax({url:t,data:{project:{ksr_rating:n}},type:"PUT",dataType:"JSON"}).then((function(){e.find(".rating .ss-star").removeClass("selected"),e.find(".rating .ss-star").slice(0,n).addClass("selected")}))};o()(document).on("keydown",(function(n){var a,r;n.ctrlKey&&(n.which>=49&&n.which<=53&&(a=n.which-48,r=e.find(".rating a")[0].href,t(r,a).then((function(){Object(i.a)({info:a+"★"})}))))})),e.find(".rating a").on("click",(function(n){n.preventDefault(),t(this.href,o()(this).data("rating")),e.trigger("ksr_admin:nav_open")}));e.find(".fulfillment-state li a").on("click",(function(e){var t,n;e.preventDefault(),t=this.href,n=o()(this).data("fulfillment-state"),o.a.ajax({url:t,data:{project:{fulfillment_state:n}},type:"PUT",dataType:"JSON"}).then((function(){location.reload(!1)}))}))}))},JqeJ:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);i()((function(){i()(document).on("change","body#help_copyright form.select_country",(function(){i()(this).submit()}))}))},"K+Nk":function(e,t,n){"use strict";var a=n("eEls"),i=n("c6/r");const r=Object(a.a)(JSON.parse,i.a);t.a=r,window.parseEscapedJSON=r},KBQY:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("lTkF"),i=n("q1tI"),r=n.n(i);const o=(e,t)=>r.a.createElement(a.a,{format:e,date:t})},KHPI:function(e,t,n){"use strict";var a,i=n("+2Rf"),r=n.n(i),o=(n("/Su4"),n("LIwG"),n("HW2X"),n("NQrx"),n("4cFS"),n("nv4A"),n("gNPL"),n("a9CO"),n("2sRD"),n("Irv6"),n("OT5S"),n("0VSk")),s=(n("uJlH"),n("+2Rf"));n("+2Rf");(a=s).fn.confirm_submit=function(e){return e=e||{},a(this).each((function(){var t=a(this);t.on("submit.confirm_submit",(function(n){n.preventDefault();var i='<div class="modal_delete_confirmation"><p class="copy">'+(e.copy||o.default.t("library.confirm_submit.Really_buddy"))+'</p><div class="buttons"><a href="#" class="yes btn btn--green">'+(e.yes_copy||o.default.t("library.confirm_submit.Yes"))+'</a><a href="#" class="no btn btn--gray">'+(e.no_copy||o.default.t("library.confirm_submit.No_Thanks"))+"</a></div></div>",r=a.create_modal_dialog(e.title||"Are you sure?",i);t.removeClass("submitting-non-ajax"),r.find("a.yes").on("click",(function(n){n.preventDefault(),t.off("submit.confirm_submit"),e.on_confirm_submit&&e.on_confirm_submit(),t[0].submit()})),r.find("a.no").on("click",(function(e){e.preventDefault(),a(this).trigger("close")})),r.data("modal_dialog").open()}))}))};n("WbKZ"),n("gtN/"),n("Tuxz");var c=n("GRmu"),l=(n("+2Rf"),n("+2Rf"));l.fn.in_place_editor=function(){return l(this).each((function(){var e=l(this),t=e.next("form.in_place_editor"),n=t.find(".js-in-place-editor-cancel"),a=e.siblings(".trigger_editor")||e,i=t.find("input.text"),r=!1;function s(){t.addClass("inactive"),e.show()}a.on("click",(function(){i.css("fontSize",e.css("fontSize")),e.hide(),t.removeClass("inactive"),i.focus()})),n.on("click",(function(){i.val(e.text()),s()})),t.on("submit",(function(n){n.preventDefault(),r||(t.addClass("submitting"),r=!0,l.ajax({url:t.attr("action").replace(/(\.\w+)?$/,".js"),data:t.serialize(),type:"POST",complete:function(){t.removeClass("submitting"),r=!1},success:function(){var n=i.val();e.html(n),s(),r=!1,t.siblings(".clipster").data("text",n)},error:function(e){var n=JSON.parse(e.responseText),a="<p>"+o.default.t("library.in_place_editor.Oops_there_was_a_problem_with_your_submission");t.removeClass("submitting"),r=!1,n.errors?(a+=":<br/>"+l.map(n.errors,(function(e,t){return t+": "+e})),a+="</p>"):a+=". "+o.default.t("library.in_place_editor.Please_refresh_the_page_before_trying_again")+"</p>",Object(c.a)({error:l(a).html()})}}))}))}))},l("span.in_place_editor").in_place_editor();n("hL3N"),n("TO/6"),n("nGRn"),n("cgaT"),n("+2Rf");var d=n("+2Rf");!function(){function e(e){return e.html}function t(e){return e.data("href")||e.prop("href")}d.fn.loadMore=function(n){d(this).each((function(){var a=d(this),i=a.find(".js-load-more--appendable"),r=a.find(".js-load-more--removable"),s=a.find(".js-load-more--button");r.length||(r=s),function(n,a,i,r,s){var c=n.mobius(d.extend({url:t(a),dataType:"json",trigger_next:a,load_next_after:i},s)).data("mobius");n.on("mobius:loading_page",(function(){var e=n.attr("data-exclude-ids"),t=c.options.perPage||6;e&&c.add_param("exclude_ids[]",e.split(",")),t&&c.add_param("per_page",t),a.prop("disabled",!0),a.data("previousHTML",a.html()),a.html(o.default.t("library.load_more.Loading"))})),n.on("mobius:loaded_page",(function(t,n,o){var s=(c.options.responseToHTML||e)(o),l=d(s).hide();i.append(l),l.slideDown(),a.html(a.data("previousHTML")),a.prop("disabled",!1),"has_more"in o&&!o.has_more&&r.remove()}))}(a,s,i,r,n)}))}}();n("Ijdr"),n("ksT7"),n("fpXP"),n("PTfn"),n("fBlF");var u=n("xG9w"),m=(n("+2Rf"),n("+2Rf"));m.fn.option_values=function(e){var t=m(this).first().find("option").map((function(t,n){var a=n.value;return!("function"==typeof e&&!e(a))&&a}));return Object(u.default)(t).without(!1)},m.fn.select_machine=function(e,t){var n={default_control:function(e){e.hide()}};return m(this).each((function(){!function(e,t,n){var a=m(e),i=u.default.map(u.default.keys(t),(function(e){return"#"+e})).join(", ");a.delegate(i,"change",(function(){m(this).trigger("state_change")})),a.delegate(i,"state_change",(function(){var e=m(this),a=e.val();u.default.each(t[e[0].id],(function(e,t){var i,r=m("#"+t),o=r.add(r.prev("label")),s=r.val(),c=u.default.result(e,a);void 0===r.data("options")&&r.data("options",r.find("option")),u.default.isRegExp(c)&&(c=r.option_values((function(e){return e.match(c)}))),u.default.isArray(c)&&(c=u.default.map(c,(function(e){return'[value="'+e+'"]'})).join(", ")),c?(i=m(r.data("options")),u.default.isString(c)&&(i=i.filter(c)),n.include_blank&&(i=m("<option>").add(i)),r.html(i),o.show(),r.val()!==s&&r.trigger("change")):(n.default_control(o),r.trigger("change"))}))}))}(this,e,m.extend(n,t))})),this};var p=n("+2Rf");n("+2Rf");!function(e){e.fn.serialize_without_blank=function(){var t,n=[];return this.find(":input").each((function(){""!==e.trim(this.value)||this.disabled||(n.push(this),this.disabled=!0)})),t=this.serialize(),u.default.each(n,(function(e){e.disabled=!1})),t}}(p);n("W2lQ"),n("qtVb"),n("hqPT"),n("j4ny"),n("/gmP");var h=n("zm9w"),f=n("+2Rf");n("+2Rf");!function(e){function t(t,n){var a;for(this.$elem=t,this.val=0,this.options=e.extend({},{frame_count:10,frame_step:40,frame_duration:30,format_numbers:!0,max_digits:5,keyframes:["","0","1","2","3","4","5","6","7","8","9",","],framesets:null},n),this.val=this.$elem.attr("rel"),this.keyframes=this.options.keyframes,this.framesets=this.options.framesets,this.framesets||this.init_framesets(),a=0;a<this.options.max_digits;a+=1)this.init_digit(a);this.write(this.val,!0)}e.fn.ticker=function(n){return n=n||{},e(this).each((function(){var a=e(this).data("ticker");a||(a=new t(e(this),n),e(this).data("ticker",a))}))},e.extend(t.prototype,{read:function(){return this.val},write:function(t,n){this.val=String(t||""),this.$elem.attr("rel",this.val);var a,i,r,o,s,c,l,d,u=(this.options.format_numbers?h.b.format_number(this.val,{precision:0}):this.val).split(""),m=this.$elem.find(".ticker_digit");for(d=0;d<u.length-m.length;d+=1)this.init_digit(d+m.length);for(m=this.$elem.find(".ticker_digit"),d=0;d<m.length;d+=1){if(i=(a=e(m[d])).html(),r=u[d]?String(u[d]):"",o=e.inArray(r,this.keyframes),s=this.framesets[o][0],c=e.inArray(a.html(),this.keyframes),l=[],a.html(r).data("tween_id",a.data("tween_id")+1),!r||r===i||n)l=l.concat(s);else for(;c!==o;)l=l.concat(this.framesets[c]),c=(c+=1)>=this.keyframes.length?1:c;this.tween(a.data("tween_id"),a,l)}},init_framesets:function(){var e,t;for(this.framesets=[],e=0;e<this.keyframes.length;e+=1)for(this.framesets.push([]),t=0;t<this.options.frame_count;t+=1)this.framesets[e].push(e*this.options.frame_count*this.options.frame_step+t*this.options.frame_step)},init_digit:function(t){var n=e(this.$elem.find(".ticker_digit").get(t));n.length||(n=e('<span class="ticker_digit">&nbsp;</span>').prependTo(this.$elem)),n.data("tween_id",1)},digit_count:function(){return this.$elem.find(".ticker_digit").length},remove_digit:function(e){e.remove(),this.pad_digits()},tween:function(e,t,n){if(n.length){if(t.data("tween_id")!==e)return!1;var a=this;setTimeout((function(){var i=n.shift();t.css({"background-position":"0px "+-1*i+"px"}),a.tween(e,t,n)}),this.options.frame_duration)}}})}(f);n("Mk9X"),n("SiTU"),n("Ck6Y"),n("c48Q"),n("OUkx"),n("ggHp"),n("GrIj"),n("BKXR"),n("COUM"),n("yzew"),n("LtuN"),n("IREc"),n("7O0U"),n("RIhn"),n("POwR"),n("1uyb"),n("NNfo");const g=r.a;t.a=g},KKf6:function(e,t,n){"use strict";var a,i={};(a=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}}(navigator.userAgent)).browser&&(i[a.browser]=!0,i.version=a.version),i.chrome?i.webkit=!0:i.webkit&&(i.safari=!0),t.a=i},KPfJ:function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c}));const a=e=>({type:"USER_INPUT",value:e}),i=e=>({type:"RECAPTCHA_SUBMIT",value:e}),r=(e,t,n,a)=>({type:"SUBMIT_MESSAGE",body:e,creatorId:t,projectId:n,gRecaptchaResponse:a}),o=e=>({type:"SEND_MESSAGE_SUCCESS",response:e}),s=e=>({type:"SEND_MESSAGE_FAIL",errors:e}),c=()=>({type:"CLEAR_INPUT"})},KQqk:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var a=n("iuhU"),i=n("inqH"),r=n("pj8f"),o=n("rMRV"),s=n("hL71"),c=n("q1tI");const l=c.memo(({onResize:t,content:n,editorVersion:l,className:d,...u})=>{c.useEffect(()=>{const t=e;if(t&&t.livequery&&t.livequery.run)try{t.livequery.run()}catch(e){r.Honeybadger.notify(e)}});const m=l===s.a.CkEditor;return c.createElement("div",Object.assign({className:Object(a.b)("rte__content",d,{ck:m,"ck-content":m})},u),c.createElement(i.a,{onResize:t},Object(o.a)(n)))})}).call(this,n("+2Rf"))},KZo6:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return s}));var a=n("/AD1"),i=n("WjF9");function r(){return{user_id:i.a&&i.a.get?i.a.get("id"):null,project_id:a.a&&a.a.get?a.a.get("id"):null}}const o=e=>btoa(`${e.name}: ${e.message}`.substring(0,50)),s=/^file:\/\/|^http:\/\/localhost\/|^https:\/\/www\.optimizelyedit\.com\/|^https:\/\/translate\.googleusercontent\.com\/|^https:\/\/www\.translatoruser-int\.com\//,c=/Baidu|Chrome\/([1-6][0-9]|[7][0-4])|Firefox\/([1-5][0-9]|[6][0-7])\.|Edg|MSIE|SamsungBrowser|SogouMobileBrowser|Windows Phone OS|rv:11.0/,l=()=>!c.test(navigator.userAgent)},KsYZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return h}));var a=n("KQqk"),i=n("mv45"),r=n("94td"),o=n("q1tI"),s=n("5FPU"),c=n("a8OY"),l=n("DI+Y");n("VX74"),n("DE4Y");const d={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FreeformPost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FreeformPost"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"body"}},{kind:"Field",name:{kind:"Name",value:"nativeImages"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}}]}}]}}]};const u=Object(i.c)(e=>{if(!e.data||!e.data.post)return Object(i.d)(e.data.error);const{body:t,nativeImages:n}=e.data.post,a=n?n.filter(e=>e):[];return Object(i.l)({body:t,nativeImages:a})}),m=Object(l.graphql)(d,u),p=e=>{const{body:t,nativeImages:n}=e,i=t||"";return o.createElement("div",{className:"kds-mt-02"},o.createElement(a.a,{content:i}),n.map(e=>o.createElement("img",{key:e.id,src:e.url,alt:"post image"})))},h=Object(i.a)(m,Object(s.a)(()=>({primaryText:Object(r.b)("new_project_update.Were_having_trouble_loading"),secondaryText:Object(r.b)("new_project_update.If_refreshing_this_page")})),c.b)(p)},KvHV:function(e,t,n){"use strict";var a=n("o3IG"),i=n("+2Rf"),r=n.n(i);function o(e,t){const n=new Date;n.setHours(n.getHours()+24),Object(a.c)(e,t,n)}const s=window.matchMedia("(max-width: 999px)"),c=window.matchMedia("(min-width: 1000px)");r()((function(){r()(document).on("mouseover","li.menu-dropdown",(function(){c.matches&&r()(this).find(".menu-submenu").show()})),r()(document).on("mouseout","li.menu-dropdown",(function(){c.matches&&(r()(this).find(".menu-submenu").hide(),r()(document).find("#menu-submenu-close").hide())})),r()(document).on("click","li.menu-dropdown",(function(e){s.matches&&(e.stopPropagation(),r()(document).find(".menu-submenu").hide(),r()(this).find(".menu-submenu").show(),r()(document).find("#menu-submenu-close").show())})),r()(document).on("click","ul.menu-submenu",(function(e){s.matches&&e.stopPropagation()})),r()(document).on("click",(function(){s.matches&&(r()(this).find(".menu-submenu").hide(),r()(this).find("#menu-submenu-close").hide())})),r()(document).on("click",".hit-list li",(function(){var e=r()(this).find("a.target");e.length&&(window.location=e.attr("href"))})),r()(document).on("click",".js-feature-clear-all",(function(){JSON.parse(this.dataset.cookies).forEach(a.a),window.location.reload()})),r()(document).on("click",".js-feature-clear",(function(){Object(a.a)(this.dataset.cookie),window.location.reload()})),r()(document).on("click",".js-feature-toggle",(function(){o(this.dataset.cookie,this.dataset.enabled),window.location.reload()})),r()(document).on("click",".js-experiment-toggle",(function(){o(this.dataset.cookie,this.dataset.variant),window.location.reload()})),r()(document).ready((function(){r()("#feature-search").bind("keydown keypress keyup change",(function(e){var t=e.target.value;r()("#feature-search-data li#feature-search-data-item").hide().filter((function(){return r()(this).text().indexOf(t)>=0})).show()}))}))}))},"L+5T":function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return m}));var a=n("v83y"),i=n("poNw"),r=n("E+oP"),o=n.n(r),s=n("q1tI");const c=new a.CompositeDecorator([{strategy:(e,t,n)=>e.findEntityRanges(e=>{const t=e.getEntity();return null!==t&&"LINK"===n.getEntity(t).getType()},t),component:({children:e,contentState:t,entityKey:n})=>{const{url:a}=t.getEntity(n).getData();return s.createElement("a",{href:a},e)}}]),{convertFromHTML:l}=n("Pgkd"),d=l({htmlToBlock:(e,t)=>{const n=t.parentNode,a=n.getAttribute("data-id");if(n&&n.classList.contains("oembed")){return{type:"atomic",data:{href:n.getAttribute("data-href"),rawHtml:n.innerHTML,type:"OEMBED"}}}if("figure"===e){const e=t.firstElementChild,i=n.getAttribute("data-alt-text"),r=n.getAttribute("data-caption");if(e&&"IMG"===e.nodeName){const t=n.parentNode;return{type:"atomic",data:{alt:i,caption:r,href:t&&"A"===t.nodeName&&t.href?t.href:void 0,id:a,src:e.getAttribute("src"),type:"IMAGE"}}}if(e&&"AUDIO"===e.nodeName){const t=e;return{type:"atomic",data:{id:a,sources:Array.from(t.getElementsByTagName("source")).reduce((e,t)=>{const n=t.getAttribute("type"),a=t.getAttribute("src");return n&&a&&(e[n]=a),e},{}),type:"AUDIO"}}}if(e&&"DIV"===e.nodeName&&(e.className.includes("video-player")||e.className.includes("processing"))&&e.parentNode){return{type:"atomic",data:{id:a,rawHtml:e.parentNode.innerHTML,type:"VIDEO"}}}}},htmlToEntity:(e,t,n)=>{if("a"===e){const e=t;if(e.firstChild&&"DIV"===e.firstChild.nodeName){return"template asset"===e.firstChild.className?null:n("LINK","MUTABLE",{url:e.href})}return n("LINK","MUTABLE",{url:e.href})}}}),u=({content:e="",attachableId:t="",attachableAssoc:n="",storyRteVersion:a="",editorState:i}={})=>({attachableId:t,attachableAssoc:n,currentModal:null,editorState:p(e,i),content:e,storyRteVersion:a,errors:"",key:0,imageAltText:"",imageCaption:"",imageId:null,imageSrc:null,imageUrl:"",showRemoveLink:!1,subjectBlock:null,linkText:null,linkUrl:null,showLoader:!1}),m=(e="",t="",n="",a="",r)=>({story:u({content:e,attachableId:t,attachableAssoc:n,storyRteVersion:a,editorState:r}),imageUploader:{baseUpload:Object(i.a)(),imageUpload:{}}}),p=(e,t)=>t&&!o()(t)?t:""===e.trim()?a.EditorState.createEmpty(c):a.EditorState.createWithContent(d(e),c)},"L/h+":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("q1tI"),i=n("VF4V");const r=({size:e,atoms:t=[],imageUrl:n,alt:r="user avatar",borderColor:o="grey-500",style:s={}})=>{const c=e?["w"+e,"h"+e]:[],l=o?["border","border-"+o]:[],d=Object(i.b)(["avatar","inline-block","align-middle","radius100p"].concat(c).concat(l).concat(t).join(" ")),u={...s,textIndent:"100%",whiteSpace:"nowrap",overflow:"hidden"};return a.createElement("img",{className:d,style:u,src:n,alt:r})}},LKre:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("h4vE"),o=n("itcf");Object(r.a)(".NS_banners__social_prompt",(function(e){var t=e.data("url");t&&i.a.ajax({url:Object(o.a)(t),type:"get",success:function(t){var n=t.remotely_followed_count;n>0&&(e.find(".js-friend-count").html(n),e.removeClass("banner--is-hidden"))}})}))},LTrb:function(e,t,n){"use strict";t.a='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M19 4H5C3.34315 4 2 5.34314 2 7V17C2 18.6569 3.34315 20 5 20H19C20.6569 20 22 18.6569 22 17V7C22 5.34315 20.6569 4 19 4ZM4 7C4 6.44772 4.44772 6 5 6H19C19.5523 6 20 6.44772 20 7V17C20 17.5523 19.5523 18 19 18H5C4.44772 18 4 17.5523 4 17V7ZM8.70711 10.7071C9.09763 10.3166 9.09763 9.68342 8.70711 9.29289C8.31658 8.90237 7.68342 8.90237 7.29289 9.29289L5.29289 11.2929C4.90237 11.6834 4.90237 12.3166 5.29289 12.7071L7.29289 14.7071C7.68342 15.0976 8.31658 15.0976 8.70711 14.7071C9.09763 14.3166 9.09763 13.6834 8.70711 13.2929L7.41421 12L8.70711 10.7071ZM15.2929 14.7071C14.9024 14.3166 14.9024 13.6834 15.2929 13.2929L16.5858 12L15.2929 10.7071C14.9024 10.3166 14.9024 9.68342 15.2929 9.29289C15.6834 8.90237 16.3166 8.90237 16.7071 9.29289L18.7071 11.2929C19.0976 11.6834 19.0976 12.3166 18.7071 12.7071L16.7071 14.7071C16.3166 15.0976 15.6834 15.0976 15.2929 14.7071ZM14.8944 8.44722C15.1414 7.95324 14.9412 7.35257 14.4472 7.10558C13.9532 6.85859 13.3526 7.05881 13.1056 7.55279L9.10557 15.5528C8.85858 16.0468 9.05881 16.6474 9.55278 16.8944C10.0468 17.1414 10.6474 16.9412 10.8944 16.4472L14.8944 8.44722Z" fill="#3C3C3C"/>\n</svg>\n'},LdJi:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("q1tI"),i=n("n6RG");n.d(t,"b",(function(){return i.c}));const r=({children:e,atoms:t=[],full:n=!1,layout:r,id:o})=>{const s=null!=r?r:"float",c=Object(i.c)(i.a[s]),l="float"===s?[c([n?"full":""]),...t].join(" "):[c(),...n?[c(["full"])]:[],...t].join(" ");return a.createElement("div",{className:l,id:o},e)}},Llbi:function(e,t,n){"use strict";n.r(t),n.d(t,"initRewardSidebar",(function(){return u}));var a=n("VX74"),i=n("QMTK"),r=n("aiSh"),o=n("pj8f"),s=n("q1tI"),c=n.n(s),l=n("i8i4"),d=n.n(l);const u=()=>{const e=document.getElementById("react-rewards-sidebar"),t=(null==e?void 0:e.dataset.project_slug)||"",n=Object(r.a)(o.Honeybadger.notify.bind(o.Honeybadger));e&&d.a.render(c.a.createElement(a.ApolloProvider,{client:n},c.a.createElement(i.a,{slug:t,preview:!1})),e)};u()},MHsd:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var a=n("NAv5"),i=n("a1e3"),r=n("2DJ9"),o=n("uT+I"),s=n("EoiL"),c=n("wdXr"),l=n("94td"),d=n("1OuE"),u=n("q1tI"),m=n.n(u),p=n("zm9w"),h=n("cuY2"),f=n.n(h);const g=({display:e,color:t,backgroundURL:n})=>e?m.a.createElement("div",{className:"radius100p mr2 mb2px inline-block valign-middle",style:{width:"1.8rem",height:"1.8rem",minWidth:"1.8rem",backgroundColor:t,backgroundImage:n?`url(${n})`:"",backgroundSize:"350px 350px"}}):m.a.createElement("div",{className:"text-center w3 h3 radius100p mr2 inline-block valign-middle"},m.a.createElement("div",{className:"w2 inline-block valign-middle border-bottom border-dark-grey-400 border2px"}));var _=({index:e,category:t,displayValues:n,hoverChoice:a,setHoverChoice:s,setHoverChoiceValue:c,currencySymbol:d,graphData:h})=>{const[_,b]=Object(u.useState)(!1);return m.a.createElement("div",null,m.a.createElement("div",{role:"button",onClick:()=>{b(!_),_?s(null):(s(t.phase),c(n?t.value:t.percent))},className:(t.phase===a?"bold":"")+" border-top border-grey-400 pt2 pb2 pointer",onMouseEnter:()=>{s(t.phase),c(n?t.value:t.percent)},onMouseLeave:()=>{s(null)}},m.a.createElement("div",{className:"flex justify-between"},m.a.createElement(g,{display:!!h[e],color:i.c[e].color,backgroundURL:i.c[e].file}),m.a.createElement(o.a,{atoms:["flex","flex1","items-center","m0","type-16"]},Object(l.b)("project_build_editor.sections.funding_goal.budgeting_sheets."+t.phase)),m.a.createElement("div",{className:"flex items-center"},m.a.createElement(o.a,{atoms:["m0","pl1","pr3","type-16","text-nowrap"]},n?`${d}${p.b.money(t.value,Object(i.d)(d))}`:(t.percent<1?"< 1":t.percent)+"%"),m.a.createElement("div",{className:"flex items-center justify-center",style:{width:"12px",height:"12px",transform:`rotate(${_?90:0}deg)`,transformOrigin:"center center",transition:"transform 200ms"}},m.a.createElement(r.a,{name:"icon--chevron-right",size:"12"}))))),m.a.createElement(f.a,{duration:200,height:_?"auto":0},m.a.createElement("div",{className:"pl5 pr5"},t.values.map((t,r)=>m.a.createElement("div",{key:""+t.rowNum,className:"flex justify-between border-top border-grey-400 pt2 pb2 "+(t.rowNum===a?"bold":""),onMouseEnter:()=>{s(t.rowNum),c(n?t.value:t.percent)},onMouseLeave:()=>{s(null)}},m.a.createElement(g,{display:!(!h[e]||!h[e].values[r]),color:i.e[e][r%i.e[e].length]}),m.a.createElement(o.a,{atoms:["flex","flex1","m0","clip","clamp-3","type-16","mr2"]},t.name),m.a.createElement(o.a,{atoms:["m0","type-16","text-nowrap"]},n?`${d}${p.b.money(t.value,Object(i.d)(d))}`:(t.percent<1?"< 1":t.percent.toFixed(0))+"%"))))))};const b=l.a.withCommonPrefix("project_build_editor.sections.funding_goal.cost_to_create");function v(e){const t={},n=e.reduce((e,t)=>e+t.value,0);let a=0;for(const i of e.slice().sort((e,t)=>e.value>t.value?1:-1))if(i.phase){if(void 0===t[i.phase]){const e=Object.values(t).length;t[i.phase]={categoryNum:e,phase:i.phase,value:0,values:[],percent:0}}if(i.name&&i.value){const e=parseInt((i.value/n*100).toFixed(0),10);a+=e;const r={name:i.name,phase:i.phase,categoryNum:t[i.phase].categoryNum,value:i.value,percent:e,rowNum:i.rowNum,index:0};t[r.phase].value+=r.value,t[r.phase].percent+=r.percent,t[r.phase].values.push(r)}}const i=y(Object.values(t)),r=100-a;i[0]&&i[0].values[0]&&(i[0].values[0].percent+=r,i[0].percent+=r);for(let e=0;e<i.length;e+=1){i[e].categoryNum=e;for(const t of i[e].values)t.categoryNum=e}return i}function k(e){let t=e.reduce((e,t)=>e+t.value,0),n=e.slice().sort((e,t)=>e.value>t.value?1:-1);n=n.filter((e,a)=>!(n[a].value/t<.008)||(t-=n[a].value,!1));let a=v(n);a.sort((e,t)=>e.value>t.value?1:-1),a=a.filter((e,n)=>!(a[n].value/t<.015)||(t-=a[n].value,!1)),a=y(a);for(let e=0;e<a.length;e+=1){a[e].categoryNum=e;for(const t of a[e].values)t.categoryNum=e}return a}function y(e){e.sort((e,t)=>e.value===t.value?e.phase.localeCompare(t.phase):e.value<t.value?1:-1);for(const t of e)t.values.sort((e,t)=>e.value===t.value?e.name.localeCompare(t.name):e.value<t.value?1:-1);return e}const E=()=>m.a.createElement("div",{className:"flex-column pt8 pb6 max-w100 m-auto type-16"},m.a.createElement(s.a,{atoms:["type-32","text-center","mb5"]},m.a.createElement("div",null,m.a.createElement("div",{className:"cost_to_create_image w5 h5 mr2 inline-block"}),m.a.createElement(b,{i18nKey:".The_cost_to_create"}))),m.a.createElement(o.a,{atoms:["mb5"]},m.a.createElement(b,{i18nKey:".We_offer_project_budgeting_tools_to_support_Kickstarter_creators_in_making_informed_financial_decisions"})),m.a.createElement(o.a,{atoms:["mb5"]},m.a.createElement(b,{i18nKey:".The_main_cost_categories_that_they’re_asked_to_provide_are"})),m.a.createElement(o.a,{atoms:["bold","mb1"]},m.a.createElement(b,{i18nKey:".Funding"})),m.a.createElement(o.a,{atoms:["mb5"]},m.a.createElement(b,{i18nKey:".Pitching_and_gathering_project_campaign_support"})),m.a.createElement(o.a,{atoms:["bold","mb1"]},m.a.createElement(b,{i18nKey:".Making"})),m.a.createElement(o.a,{atoms:["mb5"]},m.a.createElement(b,{i18nKey:".Manufacturing_the_product_finalizing_the_app_printing_the_book"})),m.a.createElement(o.a,{atoms:["bold","mb1"]},m.a.createElement(b,{i18nKey:".Fulfilling"})),m.a.createElement(o.a,{atoms:["mb5"]},m.a.createElement(b,{i18nKey:".Delivering_rewards_to_their_backers"})),m.a.createElement(o.a,{atoms:["bold","mb1"]},m.a.createElement(b,{i18nKey:".Multiple_Other"})),m.a.createElement(o.a,null,m.a.createElement(b,{i18nKey:".Work_spanning_multiple_phases_paying_themselves_for_their_effort"})));t.b=({spreadsheetData:e,displayValues:t,currencySymbol:n,lastUpdatedDate:o,hideToolTip:s})=>{const[p,h]=Object(u.useState)(!1),[f,g]=Object(u.useState)(0),[b,y]=Object(u.useState)(null),[j,w]=Object(u.useState)(null),[S,O]=Object(u.useState)(null),[N,C]=Object(u.useState)(0);let I=N;const{targetRef:x,didIntersect:T}=Object(c.a)({rootMargin:"-125px"});let A;return Object(u.useEffect)(()=>{const t=e.reduce((e,t)=>e+t.value,0);g(t),y(v(e)),w(k(e))},[e]),null===S&&(I=t?f:null),null!=o&&(A=o),m.a.createElement("div",{className:"w100p flex-column"},m.a.createElement("div",{className:"flex relative justify-center w100p border border-grey-400 bg-grey-100"},m.a.createElement("div",{className:"w100p flex-column justify-center pl2 pb4 pr2 pl10-sm pr10-sm"},!s&&p?m.a.createElement(E,null):m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{ref:x,className:"relative flex justify-center items-center h50"},j&&T&&m.a.createElement(i.a,{size:250,categoryData:j,hoverChoice:S,hoverChoiceValue:I,displayValues:t,currencySymbol:n})),b&&j&&b.map((e,a)=>m.a.createElement(_,{index:a,setHoverChoice:O,setHoverChoiceValue:C,hoverChoice:S,key:e.phase,category:e,displayValues:t,currencySymbol:n,graphData:j})),A&&m.a.createElement("div",{className:"text-center mt6 support-500"},m.a.createElement(l.a,{i18nKey:"project_build_editor.sections.funding_goal.cost_to_create.Last_updated",updatedAt:Object(d.a)("LL",Object(a.parse)(A))})))),m.a.createElement("div",{className:"absolute r3 t3"},!s&&m.a.createElement("button",{className:"valign-top bg-transparent",onClick:()=>{h(!p)}},m.a.createElement(r.a,{atoms:["ml1",p?"mr3px":""],name:p?"close":"icon--info",size:p?"14":"20"})))))}},MLrq:function(e,t,n){n("+2Rf"),n("+2Rf");
/*!
 * skrollr core
 *
 * Alexander Prinzhorn - https://github.com/Prinzhorn/skrollr
 *
 * Free to use under terms of MIT license
 */
!function(e,t,n){"use strict";var a,i,r=e.skrollr={get:function(){return M},init:function(e){return M||new N(e)},VERSION:"0.6.21"},o=Object.prototype.hasOwnProperty,s=e.Math,c=e.getComputedStyle,l="touchstart",d="touchmove",u="touchcancel",m="touchend",p=/^(?:input|textarea|button|select)$/i,h=/^\s+|\s+$/g,f=/^data(?:-(_\w+))?(?:-?(-?\d*\.?\d+p?))?(?:-?(start|end|top|center|bottom))?(?:-?(top|center|bottom))?$/,g=/\s*([\w\-\[\]]+)\s*:\s*(.+?)\s*(?:;|$)/gi,_=/^([a-z\-]+)\[(\w+)\]$/,b=/-([a-z])/g,v=function(e,t){return t.toUpperCase()},k=/[\-+]?[\d]*\.?[\d]+/g,y=/\{\?\}/g,E=/rgba?\(\s*-?\d+\s*,\s*-?\d+\s*,\s*-?\d+/g,j=/[a-z\-]+-gradient/g,w="",S="",O={begin:function(){return 0},end:function(){return 1},linear:function(e){return e},quadratic:function(e){return e*e},cubic:function(e){return e*e*e},swing:function(e){return-s.cos(e*s.PI)/2+.5},sqrt:function(e){return s.sqrt(e)},outCubic:function(e){return s.pow(e-1,3)+1},bounce:function(e){var t;if(e<=.5083)t=3;else if(e<=.8489)t=9;else if(e<=.96208)t=27;else{if(!(e<=.99981))return 1;t=91}return 1-s.abs(3*s.cos(e*t*1.028)/t)}};function N(n){if(a=t.documentElement,i=t.body,function(){var e=/^(?:O|Moz|webkit|ms)|(?:-(?:o|moz|webkit|ms)-)/;if(c){var t=c(i,null);for(var n in t)if(w=n.match(e)||+n==n&&t[n].match(e))break;w?"-"===(w=w[0]).slice(0,1)?(S=w,w={"-webkit-":"webkit","-moz-":"Moz","-ms-":"ms","-o-":"O"}[w]):S="-"+w.toLowerCase()+"-":w=S=""}}(),M=this,$=(n=n||{}).constants||{},n.easing)for(var r in n.easing)O[r]=n.easing[r];J=n.edgeStrategy||"set",H={beforerender:n.beforerender,render:n.render},(B=!1!==n.forceHeight)&&(me=n.scale||1),q=n.mobileDeceleration||.004,z=!1!==n.smoothScrolling,G=n.smoothScrollingDuration||200,K={targetTop:M.getScrollTop()},(ke=(n.mobileCheck||function(){return/Android|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent||navigator.vendor||e.opera)})())?((V=t.getElementById("skrollr-body"))&&L(),C(),oe(a,["skrollr","skrollr-mobile"],["no-skrollr"])):oe(a,["skrollr","skrollr-desktop"],["no-skrollr"]),M.refresh(),Q(e,"resize orientationchange",(function(){var e=a.clientWidth,t=a.clientHeight;t===_e&&e===ge||(_e=t,ge=e,be=!0)}));var o=function(){var t=e.requestAnimationFrame||e[w.toLowerCase()+"RequestAnimationFrame"],n=le();return!ke&&t||(t=function(t){var a=le()-n,i=s.max(0,1e3/60-a);return e.setTimeout((function(){n=le(),t()}),i)}),t}();return function e(){I(),Z=o(e)}(),M}N.prototype.refresh=function(e){var n,a,i=!1;for(void 0===e?(i=!0,U=[],ve=0,e=t.getElementsByTagName("*")):e=[].concat(e),n=0,a=e.length;n<a;n++){var r=e[n],o=r,s=[],c=z,l=J;if(r.attributes){for(var d,u,m,p=0,h=r.attributes.length;p<h;p++){var g=r.attributes[p];if("data-anchor-target"!==g.name)if("data-smooth-scrolling"!==g.name)if("data-edge-strategy"!==g.name){var _=g.name.match(f);if(null!==_){var b={props:g.value,element:r};s.push(b);var v=_[1];v&&(b.constant=v.substr(1));var k=_[2];/p$/.test(k)?(b.isPercentage=!0,b.offset=(0|k.slice(0,-1))/100):b.offset=0|k;var y=_[3],E=_[4]||y;y&&"start"!==y&&"end"!==y?(b.mode="relative",b.anchors=[y,E]):(b.mode="absolute","end"===y?b.isEnd=!0:b.isPercentage||(b.offset=b.offset*me))}}else l=g.value;else c="off"!==g.value;else if(null===(o=t.querySelector(g.value)))throw'Unable to find anchor target "'+g.value+'"'}if(s.length)!i&&"___skrollable_id"in r?(m=r.___skrollable_id,d=U[m].styleAttr,u=U[m].classAttr):(m=r.___skrollable_id=ve++,d=r.style.cssText,u=re(r)),U[m]={element:r,styleAttr:d,classAttr:u,anchorTarget:o,keyFrames:s,smoothScrolling:c,edgeStrategy:l},oe(r,["skrollable"],[])}}for(ne(),n=0,a=e.length;n<a;n++){var j=U[e[n].___skrollable_id];void 0!==j&&(x(j),A(j))}return M},N.prototype.relativeToAbsolute=function(e,t,n){var i=a.clientHeight,r=e.getBoundingClientRect(),o=r.top,s=r.bottom-r.top;return"bottom"===t?o-=i:"center"===t&&(o-=i/2),"bottom"===n?o+=s:"center"===n&&(o+=s/2),(o+=M.getScrollTop())+.5|0},N.prototype.animateTo=function(e,t){t=t||{};var n=le(),a=M.getScrollTop();return(Y={startTop:a,topDiff:e-a,targetTop:e,duration:t.duration||1e3,startTime:n,endTime:n+(t.duration||1e3),easing:O[t.easing||"linear"],done:t.done}).topDiff||(Y.done&&Y.done.call(M,!1),Y=void 0),M},N.prototype.stopAnimateTo=function(){Y&&Y.done&&Y.done.call(M,!0),Y=void 0},N.prototype.isAnimatingTo=function(){return!!Y},N.prototype.setScrollTop=function(t,n){return W=!0===n,ke?ye=s.min(s.max(t,0),ue):e.scrollTo(0,t),M},N.prototype.getScrollTop=function(){return ke?ye:e.pageYOffset||a.scrollTop||i.scrollTop||0},N.prototype.getMaxScrollTop=function(){return ue},N.prototype.on=function(e,t){return H[e]=t,M},N.prototype.off=function(e){return delete H[e],M},N.prototype.destroy=function(){(function(){var t=e.cancelAnimationFrame||e[w.toLowerCase()+"CancelAnimationFrame"];return!ke&&t||(t=function(t){return e.clearTimeout(t)}),t})()(Z),te(),oe(a,["no-skrollr"],["skrollr","skrollr-desktop","skrollr-mobile"]);for(var t=0,n=U.length;t<n;t++)F(U[t].element);a.style.overflow=i.style.overflow="auto",a.style.height=i.style.height="auto",V&&r.setStyle(V,"transform","none"),M=void 0,V=void 0,H=void 0,B=void 0,ue=0,me=1,$=void 0,q=void 0,pe="down",he=-1,ge=0,_e=0,be=!1,Y=void 0,z=void 0,G=void 0,K=void 0,W=void 0,ve=0,J=void 0,ke=!1,ye=0,X=void 0};var C=function(){var n,r,o,c,h,f,g,_,b,v,k;Q(a,[l,d,u,m].join(" "),(function(e){var a=e.changedTouches[0];for(c=e.target;3===c.nodeType;)c=c.parentNode;switch(h=a.clientY,f=a.clientX,b=e.timeStamp,p.test(c.tagName)||e.preventDefault(),e.type){case l:n&&n.blur(),M.stopAnimateTo(),n=c,r=g=h,o=f,b;break;case d:p.test(c.tagName)&&t.activeElement!==c&&e.preventDefault(),_=h-g,k=b-v,M.setScrollTop(ye-_,!0),g=h,v=b;break;default:case u:case m:var i=r-h,y=o-f;if(y*y+i*i<49){if(!p.test(n.tagName)){n.focus();var E=t.createEvent("MouseEvents");E.initMouseEvent("click",!0,!0,e.view,1,a.screenX,a.screenY,a.clientX,a.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),n.dispatchEvent(E)}return}n=void 0;var j=_/k;j=s.max(s.min(j,3),-3);var w=s.abs(j/q),S=j*w+.5*q*w*w,O=M.getScrollTop()-S,N=0;O>ue?(N=(ue-O)/S,O=ue):O<0&&(N=-O/S,O=0),w*=1-N,M.animateTo(O+.5|0,{easing:"outCubic",duration:w})}})),e.scrollTo(0,0),a.style.overflow=i.style.overflow="hidden"},I=function(){be&&(be=!1,ne());var e,t,n=M.getScrollTop(),a=le();if(Y)a>=Y.endTime?(n=Y.targetTop,e=Y.done,Y=void 0):(t=Y.easing((a-Y.startTime)/Y.duration),n=Y.startTop+t*Y.topDiff|0),M.setScrollTop(n,!0);else if(!W){K.targetTop-n&&(K={startTop:he,topDiff:n-he,targetTop:n,startTime:fe,endTime:fe+G}),a<=K.endTime&&(t=O.sqrt((a-K.startTime)/G),n=K.startTop+t*K.topDiff|0)}if(ke&&V&&r.setStyle(V,"transform","translate(0, "+-ye+"px) "+X),W||he!==n){W=!1;var i={curTop:n,lastTop:he,maxTop:ue,direction:pe=n>he?"down":n<he?"up":pe};!1!==(H.beforerender&&H.beforerender.call(M,i))&&(!function(e,t){for(var n=0,a=U.length;n<a;n++){var i,s,c=U[n],l=c.element,d=c.smoothScrolling?e:t,u=c.keyFrames,m=d<u[0].frame,p=d>u[u.length-1].frame,h=u[m?0:u.length-1];if(m||p){if(m&&-1===c.edge||p&&1===c.edge)continue;switch(oe(l,[m?"skrollable-before":"skrollable-after"],["skrollable-before","skrollable-between","skrollable-after"]),c.edge=m?-1:1,c.edgeStrategy){case"reset":F(l);continue;case"ease":d=h.frame;break;default:case"set":var f=h.props;for(i in f)o.call(f,i)&&(s=R(f[i].value),r.setStyle(l,i,s));continue}}else 0!==c.edge&&(oe(l,["skrollable","skrollable-between"],["skrollable-before","skrollable-after"]),c.edge=0);for(var g=0,_=u.length-1;g<_;g++)if(d>=u[g].frame&&d<=u[g+1].frame){var b=u[g],v=u[g+1];for(i in b.props)if(o.call(b.props,i)){var k=(d-b.frame)/(v.frame-b.frame);k=b.props[i].easing(k),s=P(b.props[i].value,v.props[i].value,k),s=R(s),r.setStyle(l,i,s)}break}}}(n,M.getScrollTop()),he=n,H.render&&H.render.call(M,i)),e&&e.call(M,!1)}fe=a},x=function(e){for(var t=0,n=e.keyFrames.length;t<n;t++){for(var a,i,r,o,s=e.keyFrames[t],c={};null!==(o=g.exec(s.props));)r=o[1],i=o[2],null!==(a=r.match(_))?(r=a[1],a=a[2]):a="linear",i=i.indexOf("!")?T(i):[i.slice(1)],c[r]={value:i,easing:O[a]};s.props=c}},T=function(e){var t=[];return E.lastIndex=0,e=e.replace(E,(function(e){return e.replace(k,(function(e){return e/255*100+"%"}))})),S&&(j.lastIndex=0,e=e.replace(j,(function(e){return S+e}))),e=e.replace(k,(function(e){return t.push(+e),"{?}"})),t.unshift(e),t},A=function(e){var t,n,a={};for(t=0,n=e.keyFrames.length;t<n;t++)D(e.keyFrames[t],a);for(a={},t=e.keyFrames.length-1;t>=0;t--)D(e.keyFrames[t],a)},D=function(e,t){var n;for(n in t)o.call(e.props,n)||(e.props[n]=t[n]);for(n in e.props)t[n]=e.props[n]},P=function(e,t,n){var a,i=e.length;if(i!==t.length)throw"Can't interpolate between \""+e[0]+'" and "'+t[0]+'"';var r=[e[0]];for(a=1;a<i;a++)r[a]=e[a]+(t[a]-e[a])*n;return r},R=function(e){var t=1;return y.lastIndex=0,e[0].replace(y,(function(){return e[t++]}))},F=function(e,t){for(var n,a,i=0,r=(e=[].concat(e)).length;i<r;i++)a=e[i],(n=U[a.___skrollable_id])&&(t?(a.style.cssText=n.dirtyStyleAttr,oe(a,n.dirtyClassAttr)):(n.dirtyStyleAttr=a.style.cssText,n.dirtyClassAttr=re(a),a.style.cssText=n.styleAttr,oe(a,n.classAttr)))},L=function(){X="translateZ(0)",r.setStyle(V,"transform",X);var e=c(V),t=e.getPropertyValue("transform"),n=e.getPropertyValue(S+"transform");t&&"none"!==t||n&&"none"!==n||(X="")};r.setStyle=function(e,t,n){var a=e.style;if("zIndex"===(t=t.replace(b,v).replace("-","")))isNaN(n)?a[t]=n:a[t]=""+(0|n);else if("float"===t)a.styleFloat=a.cssFloat=n;else try{w&&(a[w+t.slice(0,1).toUpperCase()+t.slice(1)]=n),a[t]=n}catch(e){}};var M,U,V,H,B,$,q,Y,z,G,K,W,J,X,Z,Q=r.addEvent=function(t,n,a){for(var i,r=function(t){return(t=t||e.event).target||(t.target=t.srcElement),t.preventDefault||(t.preventDefault=function(){t.returnValue=!1}),a.call(this,t)},o=0,s=(n=n.split(" ")).length;o<s;o++)i=n[o],t.addEventListener?t.addEventListener(i,a,!1):t.attachEvent("on"+i,r),Ee.push({element:t,name:i,listener:a})},ee=r.removeEvent=function(e,t,n){for(var a=0,i=(t=t.split(" ")).length;a<i;a++)e.removeEventListener?e.removeEventListener(t[a],n,!1):e.detachEvent("on"+t[a],n)},te=function(){for(var e,t=0,n=Ee.length;t<n;t++)e=Ee[t],ee(e.element,e.name,e.listener);Ee=[]},ne=function(){var e=M.getScrollTop();ue=0,B&&!ke&&(i.style.height="auto"),function(){var e,t,n,i,r,o,c,l,d,u,m,p=a.clientHeight,h=ae();for(l=0,d=U.length;l<d;l++)for(t=(e=U[l]).element,n=e.anchorTarget,r=0,o=(i=e.keyFrames).length;r<o;r++)u=(c=i[r]).offset,m=h[c.constant]||0,c.frame=u,c.isPercentage&&(u*=p,c.frame=u),"relative"===c.mode&&(F(t),c.frame=M.relativeToAbsolute(n,c.anchors[0],c.anchors[1])-u,F(t,!0)),c.frame+=m,B&&!c.isEnd&&c.frame>ue&&(ue=c.frame);for(ue=s.max(ue,ie()),l=0,d=U.length;l<d;l++){for(r=0,o=(i=(e=U[l]).keyFrames).length;r<o;r++)m=h[(c=i[r]).constant]||0,c.isEnd&&(c.frame=ue-c.offset+m);e.keyFrames.sort(de)}}(),B&&!ke&&(i.style.height=ue+a.clientHeight+"px"),ke?M.setScrollTop(s.min(M.getScrollTop(),ue)):M.setScrollTop(e,!0),W=!0},ae=function(){var e,t,n=a.clientHeight,i={};for(e in $)"function"==typeof(t=$[e])?t=t.call(M):/p$/.test(t)&&(t=t.slice(0,-1)/100*n),i[e]=t;return i},ie=function(){var e=V&&V.offsetHeight||0;return s.max(e,i.scrollHeight,i.offsetHeight,a.scrollHeight,a.offsetHeight,a.clientHeight)-a.clientHeight},re=function(t){var n="className";return e.SVGElement&&t instanceof e.SVGElement&&(t=t[n],n="baseVal"),t[n]},oe=function(t,n,a){var i="className";if(e.SVGElement&&t instanceof e.SVGElement&&(t=t[i],i="baseVal"),void 0!==a){for(var r=t[i],o=0,s=a.length;o<s;o++)r=ce(r).replace(ce(a[o])," ");r=se(r);for(var c=0,l=n.length;c<l;c++)-1===ce(r).indexOf(ce(n[c]))&&(r+=" "+n[c]);t[i]=se(r)}else t[i]=n},se=function(e){return e.replace(h,"")},ce=function(e){return" "+e+" "},le=Date.now||function(){return+new Date},de=function(e,t){return e.frame-t.frame},ue=0,me=1,pe="down",he=-1,fe=le(),ge=0,_e=0,be=!1,ve=0,ke=!1,ye=0,Ee=[]}(window,document)},MRng:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=(n("g/nJ"),n("2UXI"));i()((function(){var e,t,n,a,o,s=i()(".js-mega-footer");s.length&&(t=0,n=["icon-scissors-1","icon-scissors-2","icon-scissors-3"],a=0,(o=i()("span.scissors",s)).click((function(){e||(e=i()(".js-mega-footer__content").width()/3),t+=1,function e(t){t>9||(o.removeClass(n[a]),(a+=1)===n.length&&(a=0),o.addClass(n[a]),setTimeout((function(){e(t+1)}),100))}(0),o.animate({marginLeft:e*t},1e3,(function(){3===t&&(o.hide(),s.height(s.height()),s.addClass("gone"),i()("html").addClass("gone"),i()(".js-mini-footer").hide(),s.find(".js-mega-footer__content").animate({marginTop:[s.height(),"easeInOutExpo"],opacity:0},1e3,(function(){i()(".js-mega-footer__newsletter-signup").fadeIn()})))}))})),i()(document).on("change",".js-change-language",(function(e){var t=e.target.value,n=i()("body").attr("id");Object(r.d)("Selected Chosen Language",{property:t,context:n}),i()(this).submit()})),i()(document).on("change",".js-change-currency",(function(e){var t=i()(this),n=e.target.value,a=i()("body").attr("id");i()("#currency-modal").modal_dialog({event:e}),i()(".currency-submit").on("click",(function(){Object(r.d)("Selected Chosen Currency",{property:n,context:a}),t.submit()}))})))}))},MTFr:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"h",(function(){return v})),n.d(t,"g",(function(){return k})),n.d(t,"d",(function(){return y})),n.d(t,"c",(function(){return E})),n.d(t,"b",(function(){return w})),n.d(t,"f",(function(){return C})),n.d(t,"e",(function(){return T}));var a=n("qAuv"),i=n("ObC8"),r=n("2nV0"),o=n("lM4U"),s=n("sezs"),c=n("dPds"),l=n("94td"),d=n("/IHD"),u=n("zm9w"),m=n("X+my"),p=n("q1tI"),h=n.n(p),f=n("RBqt"),g=n("qYa2");const _=(e,t,n,a,i)=>h.a.createElement("div",null,h.a.createElement(c.a.HeadingSM,{as:"span",className:"block kds-mb-02"},((e,t)=>h.a.createElement("span",null,h.a.createElement(f.a,{type:"body-100",atoms:["soft-black","book"]},h.a.createElement("span",{className:"hide block-md"},e),h.a.createElement("span",{className:"block hide-md"},t))))(e,t)),h.a.createElement(c.a.BodySM,{as:"p"},n||"",n&&a?", ":"",a||"",i||"")),b=({activeDragCounter:e,iconName:t,maxFileSizeText:n,onDragLeave:a,onDragEnter:r,onDrop:o,onFileSelect:s,theme:c,copyOverrides:l={},fileAccept:u,fileSpecifications:m=""})=>{const{uploadCta:p,uploadCtaMobile:f,validFileTypes:b}=Object(g.d)(l),v=_(p,f,b,n,m),k=h.a.useRef(null);return h.a.createElement("label",{className:"relative pointer w100p h100p",onDragLeave:a,onDragEnter:r,onDrop:o,onDragOver:e=>e.preventDefault()},h.a.createElement("div",{className:Object(d.a)("border-box","flex","flex-column","items-center","justify-center","kds-p-04","kds-gap-06","kds-bg-surface-primary","kds-border","kds-border-dashed","kds-rounded-md","w100p","h100p","relative","text-center")},h.a.createElement(y,{onFileSelect:s,fileAccept:u,ref:k}),h.a.createElement(i.a,{variant:"outlined",atoms:"pointer-events-none"},f),v))},v={bytes:0,contentTypes:[],megabytes:0},k={changeFile:Object(l.b)("uploaders.Change_file"),deleteFile:Object(l.b)("uploaders.Delete_file"),deletingFile:Object(l.b)("uploaders.Deleting_file"),uploadCta:Object(l.b)("uploaders.Select_a_file"),uploadCtaMobile:Object(l.b)("uploaders.Upload_a_file"),feelFreeToMoveOn:Object(l.b)("uploaders.Feel_free_to_move_on_file"),validFileTypes:null},y=Object(p.forwardRef)(({atoms:e=[],onFileSelect:t,tabIndex:n=0,fileAccept:a},i)=>h.a.createElement("input",{accept:a,className:Object(d.a)(["hide",...e]),type:"file",tabIndex:n,onChange:e=>e.target.files&&e.target.files.length>0&&t(e.target.files[0]),ref:i})),E=({onCloseDeleteAssetModal:e=x,onOpenDeleteAssetModal:t=x,displayImageUrl:n,state:a,onDeleteAsset:s,onFileSelect:d,SupplementalComponent:u=null,SupplementalComponentControl:m=null,copyOverrides:f={},previewImageParentAtoms:_=["aspect-ratio","aspect-ratio--16x9"],previewImageAtoms:b=["aspect-ratio--override","kds-rounded-md"]})=>{const{asset:v,isDeleting:k,isDisabled:E,isShowingDeleteAssetModal:j=!1}=a,{changeFile:w,deleteFile:S,deletingFile:O}=Object(g.d)(f),N=Object(p.useRef)(null);return h.a.createElement("div",null,h.a.createElement("div",null,h.a.createElement("div",{className:_.join(" ")},(v||n)&&h.a.createElement("img",{className:b.join(" "),src:n,alt:Object(l.b)("uploaders.Preview_of_your_uploaded_file")})),h.a.createElement("div",{className:"kds-mt-04 flex flex-row kds-gap-x-02 justify-end items-center"},m,h.a.createElement("div",null,h.a.createElement(i.a,{icon:"icon--upload",variant:"outlined",compact:!0,isDisabled:E,onPress:()=>N.current.click(),"aria-label":w}),h.a.createElement(y,{tabIndex:-1,onFileSelect:d,id:"file-upload",ref:N})),h.a.createElement(i.a,{isLoading:k,icon:"icon--trash",variant:"outlined",compact:!0,isDisabled:E,onPress:t,"aria-label":k?O:S})),j&&h.a.createElement(r.a.Modal,{isOpen:!0,onOpenChange:e},h.a.createElement(o.a,{title:Object(l.b)("uploaders.Are_you_sure"),content:h.a.createElement(c.a.BodyMD,{as:"p",className:"center"},"This can’t be undone."),actions:({close:e})=>h.a.createElement(h.a.Fragment,null,h.a.createElement(r.a.PrimaryButton,{variant:"filled/destructive",onPress:()=>{s(),e()}},S))}))),u)},j=({progress:e,theme:t})=>h.a.createElement(C,{progress:e,barAtoms:["bg-"+t["primary-light"]],message:u.b.percent(e,{precision:0})}),w=({isDeleting:e,onFileSelect:t,timeElapsed:n,copyOverrides:a={}})=>{const{feelFreeToMoveOn:i}=Object(g.d)(a),r=Object(p.useRef)(null);let o,d;return n>3e5?(o=Object(l.b)("uploaders.Finalizing"),d=h.a.createElement(l.a,{i18nKey:"uploaders.This_is_taking_longer_than_it_should",tryAgainButton:e?h.a.createElement("div",{className:"flex justify-center kds-pt-04"},h.a.createElement(s.a,{name:"icon--spinner"})):h.a.createElement("label",{className:"pointer kds-text-accent-red inline-block"},h.a.createElement(y,{onFileSelect:t,ref:r}),h.a.createElement(c.a.BodyMD,{as:"span"},Object(l.b)("uploaders.Try_again")))})):n>12e4?(o=Object(l.b)("uploaders.Still_processing"),d=i):(o=Object(l.b)("uploaders.Processing"),d=i),h.a.createElement(C,{barAtoms:["kds-bg-surface-primary","animation-pulse","animation-500"],message:o,secondaryMessage:d})},S=({isDeleting:e,onTryAgain:t})=>h.a.createElement(C,{barAtoms:["kds-bg-danger-bold"],message:h.a.createElement(l.a,{i18nKey:"uploaders.Oh_no_upload_failed",retryButton:e?h.a.createElement("div",{className:"flex justify-center kds-pt-04"},h.a.createElement(s.a,{name:"icon--spinner"})):h.a.createElement("button",{className:"p0 kds-text-accent-red",onClick:t},h.a.createElement(c.a.BodyMD,{as:"span"},Object(l.b)("uploaders.Try_again_question")))})}),O=({errors:e,onUploadReset:t})=>{const n=e.map((e,t)=>h.a.createElement(c.a.BodyMD,{as:"span",key:"uploader-error-"+t},e));return h.a.createElement("div",{className:"w100p h100p kds-p-06 kds-border kds-border-dashed kds-rounded-md border-box flex flex-column items-center"},h.a.createElement("div",{className:"grow1 flex flex-column items-center justify-center"},h.a.createElement(s.a,{name:"icon--error",atoms:"kds-fill-icon-danger kds-mb-02"}),n),h.a.createElement(i.a,{onPress:t},Object(l.b)("uploaders.Okay")))},N=()=>{throw new Error("Implement me!")},C=({progress:e=100,barAtoms:t=[],message:n,secondaryMessage:a,secondaryCTA:r=null})=>{const o=Object(d.a)(e<100&&"bg-grey-400","my2 my4-md w100p"),s=u.b.percent(e/100*100,{precision:0});return h.a.createElement("div",{className:"w100p h100p"},h.a.createElement("div",{className:"flex flex-column items-center justify-center h100p kds-px-04 md:kds-px-08 kds-bg-surface-primary kds-border kds-border-dashed kds-rounded-md"},h.a.createElement(c.a.BodyMD,{as:"p"},n),h.a.createElement("div",{className:o,style:{height:"2px"}},h.a.createElement("div",{className:t.concat(["h100p","transition-all"]).join(" "),style:{width:s}})),a&&h.a.createElement(c.a.BodySM,{as:"span",className:"text-center kds-text-secondary"},a),r&&h.a.createElement(i.a,{onPress:r.action},r.message)))},I=({children:e})=>h.a.createElement(a.a,{height:28,mdHeight:35},e),x=()=>{},T=({UploadSuccess:e=N,FailureState:t=S,UploadingState:n=j,ProcessingState:a=w,EmptyState:i=b,InvalidState:r=O,Layout:o=I})=>({state:s,onDeleteAsset:c,onDragLeave:l,onDragEnter:d,onDrop:u,onFileSelect:p,onUploadReset:f,onCloseDeleteAssetModal:g=x,onOpenDeleteAssetModal:_=x,theme:b=m.a,currentTime:k=Date.now(),uploadLimit:y=v,videoOptions:E={supportsCaptions:!1,onCloseShowingCaptions:x,onOpenShowingCaptions:x,importTrack:x,confirmDeleteCaption:x,updateCaptionSelect:x,captionCreated:x,cancelDeleteCaption:x,captionDeleted:x,videoId:null}})=>{const{activeDragCounter:j,isDeleting:w,progress:S,uploaderStatus:O}=s,N="FAILED"===O,C="PROCESSING"===O,I="SUCCESSFUL"===O,T="UPLOADING"===O,A="INVALID"===O,D="EMPTY"===O||"MISSING"===O,P=null!==s.uploadedAt?k-s.uploadedAt:0;return I?h.a.createElement(e,{state:s,onFileSelect:p,onDeleteAsset:c,onCloseDeleteAssetModal:g,onOpenDeleteAssetModal:_,theme:b,videoOptions:E}):h.a.createElement(o,null,N&&h.a.createElement(t,{isDeleting:w,onTryAgain:c}),T&&h.a.createElement(n,{progress:S,theme:b}),C&&h.a.createElement(a,{isDeleting:w,onFileSelect:p,theme:b,timeElapsed:P}),A&&h.a.createElement(r,{errors:s.errors,onUploadReset:f}),D&&h.a.createElement(i,{activeDragCounter:j,onDragLeave:l,onDragEnter:d,onDrop:u,onFileSelect:p,iconName:"icon--upload",theme:b,uploadLimit:y}))}},Mk9X:function(e,t,n){n("+2Rf");!function(e){function t(t,n){this.$field=t,this.options=e.extend({on_invalid:null,format:"%H:%M %z",am:"am",pm:"pm"},n),this._value=this._current_time_from_field(),this._attach()}e.fn.time_field=function(n){return e(this).each((function(){new t(e(this),n)}))},e.extend(t.prototype,{_attach:function(){var e=this;e.$field.bind("blur",(function(){e._handle_edit()})),this.$field.bind("time_field:set_time",(function(t,n){e.set_time(n)}))},_s_to_time:function(e){if("object"==typeof Date.Parsing){var t=Date.parse(e);return t?t.toString("HH:mm"):this.options.on_invalid}var n,a=e.match(/^\s*(\d\d?)(:(\d\d))?\s*([ap]m?)?\s*$/i),i=!a;if(!i){var r=+a[1]%12,o=+a[3]||0,s=(a[4]||"").match(/p/i);a[4]||(s=+a[1]>=12),+a[1]>23&&(i=!0),+a[1]>12&&a[4]&&(i=!0),o>59&&(i=!0),+a[1]<1&&a[4]&&(i=!0);var c=""+(r+(s?12:0));1===c.length&&(c="0"+c);var l=""+o;1===l.length&&(l="0"+l),n=c+":"+l}return i?this.options.on_invalid:n},_time_to_s:function(t){if("object"==typeof Date.Parsing){var n=Date.parse(t);return n?n.toString("h:mm tt"):this.options.on_invalid}var a=t&&t.match(/(\d\d):(\d\d)/);if(a){var i=this.options.format,r=+a[1],o=+a[2],s=r>=12?this.options.pm:this.options.am,c=""+(r%12?r%12:12),l=""+o;return 1===l.length&&(l="0"+l),e([["%Hh",r],["%H",c],["%M",l],["%z",s]]).each((function(e,t){i=i.replace(t[0],t[1])})),i}return""},_current_time_from_field:function(){return this._s_to_time(this.$field.val())},_reset_field_value:function(){this._value!==this._current_time_from_field()&&this.$field.val(this._time_to_s(this._value))},set_time:function(e){e!==this._value&&(this._value=e,this.$field.trigger("time_field:time_changed",this._value)),this._reset_field_value()},_handle_edit:function(){var e=this._current_time_from_field();this.set_time(e)}})}(n("+2Rf"))},MqPi:function(e,t,n){"use strict";n.d(t,"b",(function(){return o}));var a=n("0fse"),i=n("KPfJ"),r=n("mq2H");const o={modalType:"",opened:!1,modalStack:[]};t.a=(e=o,t)=>{switch(t.type){case"TRACK_MODAL_OPENED":return Object(r.n)(r.d.CTA_CLICKED,{context_cta:r.c.CREATOR_DETAILS}),e;case"PROJECT_MODAL_OPEN":const n={...e,modalType:t.modalType,opened:!0,modalStack:[...e.modalStack,t.modalType]};return t.tracking?Object(a.f)(n,a.a.action(s())):n;case"PROJECT_MODAL_CLOSE":let o={modalStack:e.modalStack.slice(0,-1)};return 1===e.modalStack.length?(o.opened=!1,o.modalType=""):(o.opened=!0,o.modalType=o.modalStack.slice(-1)[0]),Object(a.f)({...e,...o},a.a.action(Object(i.a)()));default:return e}};const s=()=>({type:"TRACK_MODAL_OPENED"})},N83F:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("q1tI"),i=n("ocnG"),r=n("Qbqs");const o=({children:e,direction:t="top",start:n="100%",end:o=0,...s})=>a.createElement(i.a,Object.assign({},s,{transitions:[Object(r.a)(),Object(r.c)({start:n,end:o,direction:t})]}),e)},NOdp:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var a=n("Rfcb"),i=n.n(a),r=n("egyr"),o=n("mEsB"),s=n("ObC8"),c=n("94td"),l=n("1OuE"),d=n("zm9w"),u=n("q1tI"),m=n.n(u),p=n("Ach1"),h=n("DI+Y"),f=n("mv45"),g=n("c7Xp");n("VX74"),n("DE4Y");const _={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CreatorInfo"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"joinedOn"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"biography"}},{kind:"Field",name:{kind:"Name",value:"backingsCount"}},{kind:"Field",name:{kind:"Name",value:"launchedProjects"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}},{kind:"Field",name:{kind:"Name",value:"totalProjectsWeLove"}},{kind:"Field",name:{kind:"Name",value:"totalBackersAcrossProjects"}},{kind:"Field",name:{kind:"Name",value:"imageUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"70"}}]},{kind:"Field",name:{kind:"Name",value:"isFollowing"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}}]}}]};const b=Object(f.c)(e=>{if(e.data&&e.data.error)return Object(f.d)(e.data.error);if(!e.data||!e.data.project)return Object(f.d)();const{creator:t}=e.data.project;return Object(f.l)({creator:t,...e.ownProps})}),v=Object(h.graphql)(_,Object(g.a)(b)),k={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"FollowUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"FollowUserInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"followUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isFollowing"}}]}}]}}]}}]};const y=Object(f.j)(k,e=>({...e.ownProps,onFollowUser:()=>{var t;return(null===(t=e.ownProps.creator)||void 0===t?void 0:t.id)?e.mutate({variables:{input:{id:e.ownProps.creator.id}}}):Promise.resolve(null)}})),E={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnfollowUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnfollowUserInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unfollowUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isFollowing"}}]}}]}}]}}]};const j=Object(f.j)(E,e=>({...e.ownProps,onUnfollowUser:()=>{var t;return(null===(t=e.ownProps.creator)||void 0===t?void 0:t.id)?e.mutate({variables:{input:{id:e.ownProps.creator.id}}}):Promise.resolve(null)}})),w=i()(v,y,j)(e=>{var t;const{creator:n,onBlur:a,onFocus:i,onFollowUser:o,onUnfollowUser:u,slug:h,status:f}=e,g="absolute w40 black bg-white shadow-1 border radius8px border-support-100 p4 b1 l-3",_={minHeight:"28.8rem"},b="creatorInfoTooltip-"+h;if("loading"===f||!n)return m.a.createElement("div",{id:"creatorInfoTooltip-"+h,className:g+" flex items-center justify-center",style:_},m.a.createElement(r.a,null));const v=n.isFollowing?u:o,k=n.isFollowing?Object(c.b)("project_card.Unfollow"):Object(c.b)("project_card.Follow");return m.a.createElement("div",{id:b,onMouseLeave:a,onMouseEnter:i,className:g,style:_},m.a.createElement("div",{className:"flex flex-column justify-around"},m.a.createElement("div",{className:"flex justify-between w100p mb1"},m.a.createElement("a",{href:null==n?void 0:n.url,className:"keyboard-focusable focus-invisible"},m.a.createElement("img",{src:n.imageUrl,alt:"Creator avatar",width:"64",height:"64",className:"radius200px"})),m.a.createElement(s.a,{onPress:()=>{v&&v(),Object(p.c)({creatorId:n.id,isFollowing:n.isFollowing})},atoms:["follow-button","radius8px","self-center"]},k)),m.a.createElement("div",{id:"creatorName",className:"medium type-20"},m.a.createElement("a",{href:null==n?void 0:n.url,className:"keyboard-focusable pointer hover-text-underline type-12 dark-grey-500 hover-border-soft-black"},n.name)),m.a.createElement("div",{id:"joinedOn",className:"mb2 dark-grey-500 medium"},Object(c.b)("project_card.Joined",{date:Object(l.a)("MMM YYYY",new Date(n.joinedOn))})),m.a.createElement("div",{id:"creatorBio",className:"h20 type-13 clamp-3 mb2"},n.biography),m.a.createElement("div",null,m.a.createElement("div",{className:"flex justify-between mb2"},m.a.createElement("div",{id:"projectsWeLove"},m.a.createElement("div",{className:"type-12 dark-grey-500 medium"},Object(c.b)("project_card.Projects_we_love")),m.a.createElement("div",{className:"type-16 medium"},n.totalProjectsWeLove)),m.a.createElement("div",{id:"projectsCreated"},m.a.createElement("div",{className:"type-12 dark-grey-500 medium"},Object(c.b)("project_card.Projects_created")),m.a.createElement("div",{className:"type-16 medium"},(null===(t=n.launchedProjects)||void 0===t?void 0:t.totalCount)||0))),m.a.createElement("div",{className:"flex justify-between"},m.a.createElement("div",{id:"backers"},m.a.createElement("div",{className:"type-12 dark-grey-500 medium"},Object(c.b)("project_card.Backers")),m.a.createElement("div",{className:"type-16 medium"},d.b.format_number(n.totalBackersAcrossProjects,{precision:0}))),m.a.createElement("div",{id:"projectsBacked"},m.a.createElement("div",{className:"type-12 dark-grey-500 medium"},Object(c.b)("project_card.Projects_backed")),m.a.createElement("div",{className:"type-16 medium"},d.b.format_number(n.backingsCount,{precision:0})))))))}),S=({slug:e,children:t,onFollow:n,hide:a})=>{const[i,r]=Object(u.useState)(null),[s,c]=Object(u.useState)(!1);if(a)return t;const l="creatorInfoTooltip-"+e,d=e=>{i&&(clearTimeout(i),r(null)),c(!0)},p=e=>{const t=document.getElementById(l);if(e.currentTarget===t||(null==t?void 0:t.contains(e.currentTarget)))return;const n=window.setTimeout(()=>{c(!1)},250);r(n)};return m.a.createElement("div",{className:"pointer",onMouseEnter:d,onMouseLeave:p,role:"tooltip",style:{width:"4rem",height:"4rem"},onClick:e=>e.stopPropagation()},m.a.createElement(o.a,{placement:"top",labelClasses:"white border-none p2 m0",hideArrow:!0,focusWithin:!0,label:m.a.createElement(w,{slug:e,onBlur:p,onFocus:d,onFollow:n}),labelKey:"creatorInfoTooltip-"+e,open:s},t))}},NP8z:function(e,t,n){"use strict";n.d(t,"e",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return m})),n.d(t,"d",(function(){return p}));var a=n("94td"),i=n("gN63"),r=n("DE4Y");const o=e=>void 0===e?"":Object(i.b)("Reward",e),s=e=>Object(i.a)(Object(i.a)(e)),c=e=>"reward-"+e,l=3,d=e=>!(e.state===r.J.LIVE||e.isInPostCampaignPledgingPhase)||Boolean(e.backing)||e.userWasRemoved||e.isUserCreator,u=(e,t)=>{if(t||e)return e?Object(a.b)("project_page.reward.Cannot_back_project_until_live"):Object(a.b)("project_page.reward.Cannot_back_your_own_project")},m="pt2 pt8-md",p=({project:e,user:t,usdType:n,variant:a,preview:i})=>({backing:null==e?void 0:e.backing,currency:null==e?void 0:e.currency,disableCta:d(e),disableCtaText:u(i,e.isUserCreator),displayConvertAmount:null==e?void 0:e.actions.displayConvertAmount,fxRate:e.fxRate,isUserCreator:null==e?void 0:e.isUserCreator,preview:i,state:null==e?void 0:e.state,usdType:n,user:t,userWasRemoved:null==e?void 0:e.userWasRemoved,variant:a})},NSfo:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));n("SmhT");const a=(e,t,n)=>({type:"TRACKING_TRACK_EVENT",name:e,properties:t,options:n}),i=e=>({type:"BULK_TRACKING_TRACK_EVENT",actions:e})},NjHa:function(e,t,n){"use strict";n.r(t),n.d(t,"backerRewardsInit",(function(){return Gt}));var a={};n.r(a),n.d(a,"loadAsync",(function(){return P})),n.d(a,"startFetchTimer",(function(){return R})),n.d(a,"timerExpired",(function(){return F})),n.d(a,"onLoadSuccess",(function(){return L})),n.d(a,"onLoadFailure",(function(){return M})),n.d(a,"noopAction",(function(){return U}));var i={};n.r(i),n.d(i,"toggleSelect",(function(){return ee})),n.d(i,"onBlur",(function(){return te})),n.d(i,"closeSelect",(function(){return ne})),n.d(i,"changeSelectedIndex",(function(){return ae})),n.d(i,"changeHighlightedIndex",(function(){return ie})),n.d(i,"onKeyDown",(function(){return re})),n.d(i,"onListScroll",(function(){return oe})),n.d(i,"noopAction",(function(){return se})),n.d(i,"selectedValueUpdated",(function(){return ce}));const r=e=>({type:"APPLE_PAY_VENDOR_ERROR",err:e});var o=n("94td"),s=n("gN63"),c=n("I8yn"),l=n("dIzW");const d=e=>Object(s.c)("\n  mutation ($projectId: ID!, $amount: String!, $locationId: String, $rewardId: ID) {\n    createCheckout(input: {\n        projectId: $projectId,\n        amount: $amount,\n        locationId: $locationId,\n        rewardId: $rewardId}) {\n          checkout {\n            id\n          }\n    }\n  }\n",{...e}),u="no reward",m=()=>{document&&(document.body.classList.remove("not-apple-pay-capable"),document.body.classList.add("apple-pay-capable"))};let p;const h=(e,t)=>{let n;try{n=(e=>{const t=e.selectedReward.id,n=t===u?e.projectName+": No reward":e.rewardsList[t].title,a=(e=>{const t=e.toString();return t.includes(".")?t:t.concat(".00")})(e.selectedReward.totalCost);return{countryCode:e.pledgeData.projectCountry,currencyCode:e.pledgeData.projectCurrency,lineItems:[{label:""+(""===n?e.projectName:n),amount:a}],total:{label:`Kickstarter, PBC. (${Object(o.b)("onloads.views.applepay.if_funded")})`,amount:a}}})(e)}catch(e){t((e=>({type:"APPLE_PAY_REQ_FAILURE",err:e}))(e))}return n},f=(e,t,n)=>(a,i)=>{try{Object(l.i)()}catch(e){t((e=>({type:"APPLE_PAY_TRACKING_ERROR",err:e}))(e))}((e,t)=>{const{id:n,shippingLocation:a,totalCost:i}=e.selectedReward,r=a?Object(s.a)(a):void 0;return t({projectId:e.projectId,amount:i.toString(),rewardId:n,locationId:r}).then(e=>{if(e.errors)return Promise.reject(e.errors);return{data:{checkoutURL:`/checkouts/${Object(s.a)(e.data.createCheckout.checkout.id)}/payments`}}})})(e,n).then(t=>((e,t,n,a=fetch)=>{const i={token:e,payment_type:"apple_pay",apple_pay_capable:"1",authenticity_token:n},r={method:"POST",body:JSON.stringify(i),credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json"}};return a(t.data.checkoutURL,r).then(e=>e.json())})(a.token.id,t,e.currentUser.authToken)).then(e=>{((e,t)=>{if(200!==e.status)return Promise.reject(e.data.message).catch(e=>e);t(ApplePaySession.STATUS_SUCCESS),window.location.pathname=""+e.data.thankyou_url.replace(/\?.*$/,"")})(e,i)}).catch(e=>{t((e=>({type:"APPLE_PAY_CHECKOUT_FAILURE",err:e}))(e)),i(ApplePaySession.STATUS_FAILURE)})},g=(e,t)=>{p=Stripe.applePay.buildSession(h(e,t),f(e,t,d),Object(c.a)((e,t)=>e(r(t)),t)),p.oncancel=l.a,Object(l.h)(),p.begin()};var _=n("pj8f"),b=n("0fse");const v=(e={},t)=>{switch(t.type){case"APPLE_PAY_CHECKOUT_FAILURE":case"APPLE_PAY_REQ_FAILURE":case"APPLE_PAY_VENDOR_ERROR":case"APPLE_PAY_TRACKING_ERROR":return k(e,t.err);default:return e}},k=(e,t)=>Object(b.f)(e,b.a.run(y,{args:[t]})),y=e=>{Array.isArray(e)?e.forEach(e=>_.Honeybadger.notify(e)):_.Honeybadger.notify(e)};var E=n("CMmH"),j=n("z+X6");const w=(e,t)=>({type:"ADD_MEMOIZED_SHIPPING_TO_SELECTED_REWARD",...e,namespace:t}),S=e=>({type:"REWARD_TOUCH_FIELD",fieldName:e});var O=n("q1tI"),N=n.n(O),C=n("i8i4"),I=n.n(C),x=n("/IHD");const T=(e,t)=>{let n;return function(){const a=this,i=arguments,r=()=>{e.apply(a,i)};clearTimeout(n),n=setTimeout(r,t)}};var A=n("SmhT"),D=n("4+Ta");const P=(...e)=>({type:"ASYNC_LOAD_INIT",queryArgs:e}),R=e=>({type:"ASYNC_START_TIMER",queryArgs:e}),F=e=>({type:"ASYNC_TIMER_EXPIRED",queryArgs:e}),L=e=>({type:"ASYNC_LOAD_SUCCESS",data:e}),M=e=>({type:"ASYNC_LOAD_FAIL",queryArgs:e}),U=()=>({type:"NOOP"});var V=n("CPM0"),H=n("EoiL"),B=n("T8n5");const $=({active:e,children:t,dispatch:n,doNotPin:a,savedOffset:i,rewardId:r,type:s,onClick:c=(()=>{}),onKeyPress:l=(()=>{})})=>{const d={available:{text:Object(o.b)("project_page.reward.Select_this_reward"),classes:"pledge--available"},backed_live:{text:Object(o.b)("project_page.reward.Manage_your_pledge"),classes:"pledge--backed"},backed_successful:{text:Object(o.b)("project_page.reward.View_your_pledge"),classes:"pledge--backed js-view_your_pledge"}};return N.a.createElement("div",{role:"button",ref:t=>{if(t&&"available"===s&&!i&&t.offsetTop>0)return void setTimeout(()=>n(((e,t)=>({type:"REWARD_SAVE_OFFSET",offsetHeight:t,rewardId:e}))(r,t.offsetTop)),0);if(!window||!t||!e||a)return;const o=document.getElementById("global-header"),c=o&&o.classList.contains("stick")?o.offsetHeight:0,l=document.getElementById("react-project-header"),d=l?l.offsetHeight:820;window.scrollTo(0,i+d-(c+20)),n({type:"REWARD_FREEZE_PIN"})},className:d[s].classes+" hover-group mb3 pointer block text-left",tabIndex:"0",onClick:c,onKeyPress:l},!e&&N.a.createElement("div",{className:"pledge__hover hover-zoomout"},N.a.createElement("div",{className:"pledge__hover-content"},N.a.createElement(B.a,{type:"body-200"},d[s].text))),t)},q=(e,t,n,a)=>{!n&&a&&t&&a.clientHeight>80&&e({type:"REWARD_TRUNCATE_DESCRIPTION"})};var Y=n("lTkF"),z=n("pTxv"),G=n("lHf8"),K=n("2DJ9"),W=n("uT+I"),J=n("RBqt"),X=n("GN4d"),Z=n("Xisl"),Q=n("9jZ4");const ee=()=>({type:"TOGGLE_SELECT"}),te=()=>({type:"ON_BLUR"}),ne=()=>({type:"CLOSE_SELECT"}),ae=(e,t)=>({type:"CHANGE_SELECTED_INDEX",newSelectedIndex:e,trackingId:t}),ie=e=>({type:"CHANGE_HIGHLIGHTED_INDEX",newHighlightedIndex:e}),re=(e,t)=>({type:"ON_KEYDOWN",keyCode:e,options:t}),oe=()=>({type:"ON_LIST_SCROLL"}),se=()=>({type:"NOOP"}),ce=e=>({type:"SELECT_ON_VALUE_UPDATE",value:e});var le=n("udTa"),de=n("2UXI"),ue=n("Tge+");const me=Object(le.a)(0,()=>Promise.resolve()),pe=(e,t)=>{Object(de.d)("Selected Item",{context:e,id:t})},he=()=>{},fe=(e=Object(x.c)())=>{const t=Object(D.b)(e)(i);return{namespace:e,actions:t,reducer:((e,t)=>n=>(a,i)=>{if(i.namespace&&i.namespace!==e)return a;switch(i.type){case"TOGGLE_SELECT":return Object(b.f)({...a,isOpen:!a.isOpen,highlightedIndex:a.currentIndex},b.a.none);case"CLOSE_SELECT":return Object(b.f)({...a,isOpen:!1,isKeySelectionEngaged:!1},b.a.none);case"ON_BLUR":return Object(b.f)({...a,isKeySelectionEngaged:!1},b.a.run(me,{successActionCreator:t.closeSelect}));case"CHANGE_SELECTED_INDEX":const e=Object(ue.b)(a,i.newSelectedIndex),r=e.currentIndex!==a.currentIndex?b.a.run(pe,{args:[n,i.trackingId]}):b.a.none;return Object(b.f)(e,r);case"ON_KEYDOWN":return Object(ue.c)(a,i.keyCode,i.options);case"ON_LIST_SCROLL":return{...a,isKeySelectionEngaged:!1};case"CHANGE_HIGHLIGHTED_INDEX":return{...a,highlightedIndex:i.newHighlightedIndex};case"NOOP":default:return a}})(e,t),Component:_e(t)}},ge={"x-small":{heightSize:"h5",typeSize:"body-100",yPaddingClass:"py1",xPaddingClass:"px2 px3-sm"},small:{heightSize:"h7",typeSize:"body-100",yPaddingClass:"py1",xPaddingClass:"px2 px3-sm"},medium:{heightSize:"h9",typeSize:"subhead-300",yPaddingClass:"py2",xPaddingClass:"px3"}},_e=e=>({state:t,dispatch:n,...a})=>N.a.createElement(be,{state:t,onOptionSelect:(t,a,i,r)=>{r.stopPropagation(),n(e.changeSelectedIndex(t,i)),n(e.selectedValueUpdated(a))},onOptionHover:t=>{n(e.changeHighlightedIndex(t))},onBlur:t=>{setTimeout(((t,n,a)=>{n.contains(a.activeElement)||t(e.onBlur())}).bind(null,n,t.currentTarget,document),0)},onDropdownContainerClick:t=>{t.stopPropagation(),n(e.toggleSelect())},onKeyDown:(t,a,i)=>{const r=i.which,o=[A.c,A.l,A.d,A.b,A.n,...A.h];(r===A.m&&t||o.includes(r))&&(i.preventDefault(),n(e.onKeyDown(r,a)))},onListScroll:()=>{n(e.onListScroll())},hasErrors:a.hasErrors,options:a.options,titleString:a.titleString,placeholder:a.placeholder,size:a.size,toLabel:a.toLabel,toValue:a.toValue,atoms:a.atoms}),be=({state:e,onOptionSelect:t,onOptionHover:n,onBlur:a,onDropdownContainerClick:i,onKeyDown:r,onListScroll:o,hasErrors:s=!1,options:l=[],titleString:d="",placeholder:u="",toLabel:m=Object(Q.i)("label"),toValue:p=Object(Q.i)("value"),size:h="medium",atoms:f=[]})=>{const{isOpen:g,currentIndex:_}=e,{heightSize:b,typeSize:v,yPaddingClass:k,xPaddingClass:y}=ge[h],E=Object(x.a)("absolute","w100p","border","p1","bg-white","mt1","mb10","radius2px","z-dropdown-3","scroll-y","max-h25",v,f,"border-soft-black",!g&&"visually-hide"),j=null!==_?l[_]:null;return N.a.createElement("div",{className:"soft-black"},d&&N.a.createElement("label",{className:"mb2 medium type-13 type-14-md soft-black","aria-hidden":"true"},d),N.a.createElement("div",{role:"listbox","aria-labelledby":"custom-select-heading-label",onBlur:a,onKeyDown:Object(c.a)(r,g,l),className:"relative w100p pointer input-keyboard-focusable-soft-black"},N.a.createElement(ve,{onDropdownContainerClick:i,label:j?m(j):u,color:j?"soft-black":"dark-grey-500",hasErrors:s,heightSize:b,typeSize:v,yPaddingClass:k,xPaddingClasses:y}),N.a.createElement("ul",{onScroll:o,className:E,role:"presentation"},ke({state:e,options:l,isOpen:g,onOptionSelect:t,onOptionHover:n,toValue:p,toLabel:m,typeSize:v,yPaddingClass:k}))))},ve=({color:e,hasErrors:t,heightSize:n,label:a,onDropdownContainerClick:i,typeSize:r,yPaddingClass:s,xPaddingClasses:c})=>{const l=Object(x.a)(["border",t?"border-red-400":"border-grey-500","hover-border-soft-black","transition-all","radius2px",s,c,"bg-white flex","items-center",n,"input-keyboard-focusable-soft-black"]);return N.a.createElement("div",{className:l,onClick:i,"aria-hidden":"true","aria-label":Object(o.b)("components.custom_select.select_an_option"),tabIndex:"0"},N.a.createElement(J.a,{id:"custom-select-heading-label",type:r,atoms:["grow1","text-truncate","pr1","book",e]},a),N.a.createElement(K.a,{name:"delta-down",size:"small",atoms:["shrink0"]}))},ke=({state:e,options:t,onOptionSelect:n,onOptionHover:a,toValue:i,toLabel:r,typeSize:o,yPaddingClass:s,isOpen:l})=>t.map((t,d)=>{const u=e.currentIndex===d,m=e.highlightedIndex===d;return N.a.createElement(ye,{onOptionSelect:Object(c.a)(n,d,t,i(t)),onOptionHover:Object(c.a)(a,d),isKeySelectionEngaged:e.isKeySelectionEngaged,key:d,option:t,isCurrent:u,isHighlighted:m,isOpen:l,toLabel:r,typeSize:o,yPaddingClass:s})}),ye=({option:e,onOptionSelect:t,onOptionHover:n,isKeySelectionEngaged:a,isCurrent:i,isHighlighted:r,isOpen:o,toLabel:s,typeSize:c,yPaddingClass:l})=>{const d=Object(x.a)(["px2 flex items-center transition-all lh3 soft-black"],r?["bg-grey-400"]:[],l);return N.a.createElement("li",{role:"option",tabIndex:o?"0":"-1","aria-selected":i,onClick:t,onMouseEnter:n,className:d,onKeyDown:he,onFocus:he,ref:e=>{e&&e.parentElement&&r&&a&&(e.parentElement.scrollTop=e.offsetTop+e.offsetHeight-e.parentElement.offsetHeight)}},N.a.createElement(J.a,{id:"custom-select-heading-label",type:c,atoms:["mr2"]},s(e)),i&&N.a.createElement("span",{className:"radius100p shrink0 h3 w3 bg-ksr-green-400} inline-flex justify-center items-center"},N.a.createElement(K.a,{name:"check",size:"9",atoms:["relative","fill-white"]})))};var Ee=n("eEls");const je=(e,t,n)=>(a,i)=>{if(i.namespace&&i.namespace!==t)return a;switch(i.type){case"ASYNC_LOAD_INIT":return we(a,{populationQuery:n,queryArgs:i.queryArgs,namespace:i.namespace,startTimer:e.startFetchTimer,onLoadSuccess:e.onLoadSuccess,onLoadFailure:e.onLoadFailure});case"ASYNC_LOAD_SUCCESS":return Se(a);case"ASYNC_LOAD_FAIL":return Oe(a);case"ASYNC_START_TIMER":return Ie(a,i.namespace,i.queryArgs,e.timerExpired);case"ASYNC_TIMER_EXPIRED":return xe(a,e.loadAsync,n,i.queryArgs);default:return a}},we=(e,{populationQuery:t,queryArgs:n,namespace:a,startTimer:i,onLoadSuccess:r,onLoadFailure:o})=>Object(b.f)({...e,loadStatus:"trying"},b.a.list([b.a.run(Ne,{args:[{populationQuery:t,queryArgs:n,onLoadSuccess:r,onLoadFailure:o}],successActionCreator:Ee.b,failActionCreator:Ee.b}),b.a.action(i(a,n))],{batch:!0})),Se=e=>({...e,loadStatus:"loaded"}),Oe=e=>({...e,loadStatus:"unloaded"}),Ne=({populationQuery:e,queryArgs:t,onLoadSuccess:n,onLoadFailure:a})=>e(...t).then(e=>(e.errors&&Promise.reject(e.errors),n(e.data))).catch(e=>(e.map(e=>_.Honeybadger.notify(e)),a(t))),Ce=(e,t,n,a)=>Object(le.a)(a,()=>e(t,n))(t,n),Ie=(e,t,n,a)=>Object(b.f)(e,b.a.run(Ce,{args:[a,t,n,e.fetchTimeout]})),xe=(e,t,n,a)=>{const{loadStatus:i,currentFetchRetries:r,maxFetchRetries:o}=e,s=r+1;return"loaded"===i||o<s?e:Object(b.f)({...e,currentFetchRetries:s},b.a.action(t(n,a)))};var Te=n("CgNg");const Ae=e=>Object(s.c)("\n  query($rewardId: ID!) {\n    reward: node (id: $rewardId) {\n      ... on Reward {\n        shippingRulesExpanded {\n          nodes {\n            id\n            cost {\n              amount\n              symbol\n            }\n            location {\n              id\n              name\n            }\n          }\n        }\n      }\n    }\n  }\n",{rewardId:e});var De=n("8oY9");const Pe={selectedReward:{id:null,totalCost:null,pledgeCost:null,projectMin:0,shippingCost:0,shippingLocation:void 0,shippingRequired:!1,truncated:null,doNotPin:!1},pledgeData:{currencySymbol:"$",defaultPledge:{amount:100,min:10},isRight:!1,isSymbolic:!1},validation:{touched:{},errors:{},fields:["pledgeAmount","pledgeWithNoReward","shippingLocation"],serverErrors:[]}},Re={id:"",backsThis:!1,conversionEstimate:"",title:"",description:"",unavailable:!1,backersCount:"",campaignSuccessful:!1,campaignLive:!1,managePath:"",maxPledge:!1,minPledge:{amount:"",symbol:"",formatted:""},items:[],deliveryDate:"",shippingSummary:"",endsAt:"",limitExists:!1,limit:"",offsetHeight:null,remainingItems:"",shippingRulesStatus:"unloaded",memoizedShippingOption:{}},Fe=(({selectedIndex:e=null,isOpen:t=!1,isKeySelectionEngaged:n=!1}={})=>({isOpen:t,isKeySelectionEngaged:n,currentIndex:e,highlightedIndex:e}))(),Le={titleString:Object(o.b)("project_page.reward.Shipping_destination"),placeholder:Object(o.b)("project_page.reward.Select_a_country"),options:[]},Me={loadStatus:"unloaded",currentFetchRetries:0,maxFetchRetries:3,fetchTimeout:1e3},Ue=({convert:e,errors:t,idForField:n,idForKey:a,label:i,minPledge:r,onBlurField:s,onChange:c,onClick:l,onSelect:d,pledgeData:u,value:m=r.amount})=>{const p=Object(x.a)("new-form__amount",u.isRight&&"new-form__amount--right",u.isSymbolic&&"new-form__amount--symbol"),h=i?Object(o.b)("project_page.reward_form.Pledge_amount"):null,f=Math.floor(+m*u.currentFxRate),g=`${u.currentCurrencySymbol}${f}`;return N.a.createElement(N.a.Fragment,null,N.a.createElement(De.a,{errors:t,id:n,key:"key-"+n,label:h}),N.a.createElement("div",{className:"relative"},N.a.createElement(Te.b,{atoms:p,autoComplete:"off",hasErrors:!!t,id:n,inputAtoms:["new-form__input--numbers"],inputValue:Object(Z.d)(m),name:"name",onBlur:s,onChange:c,onClick:l,onSelect:d}),N.a.createElement("div",{key:a,className:"new-form__currency-box"},N.a.createElement("span",{className:"new-form__currency-box__text"},(({currencySymbol:e,usdSymbol:t})=>"$"===e&&"international"===t?"US$":e)(u)))),!!e&&N.a.createElement(Ye,{key:"currency-"+a,amount:g,atoms:["block text-uppercase type-10 ls1px pt2"]}),N.a.createElement(X.a,{errors:t,name:"name",id:n,key:`key-${name}-${t}`}))},Ve=e=>{return(t=Ae,(e,n=e+"_asyncSelect")=>{const{Component:i,reducer:r}=fe(e),o=Object(D.b)(e)(a);return{Component:({state:e,dispatch:t,...n})=>N.a.createElement(i,Object.assign({state:e,dispatch:t,size:"x-small"},n)),reducers:{[e+"-select"]:r(n),[e+"-async"]:je(o,e,t)},actions:o,namespace:e}})(e);var t},He=()=>N.a.createElement(W.a,{atoms:["mb3"]},N.a.createElement(J.a,{type:"caption-100",color:"white",weight:"bold",atoms:["absolute t0 l3 inline-block py1 px2 bg-blue-500"]},Object(o.b)("project_page.reward.You_selected"))),Be=({reward:e,unavailable:t})=>{const n=!t&&e.campaignLive&&e.endsAt,a=e.campaignLive&&e.limitExists;return N.a.createElement(W.a,{atoms:["mt3"]},n&&N.a.createElement(ze,{end:e.endsAt}),n&&a&&"• ",a&&N.a.createElement(Je,{remaining:e.remainingItems,limit:e.limit}),N.a.createElement(J.a,{type:"caption-100",color:"dark-grey-500",atoms:["block"]},Object(o.b)("project_page.reward.backers_count.other",{formatted_count:e.backersCount})))},$e=({onClick:e,surveys:t})=>N.a.createElement("div",null,N.a.createElement(z.b,{size:"small",theme:"trust",atoms:["mt3"],onClick:e},Object(o.b)("project_page.reward.Backer_report")),N.a.createElement(nt,{surveys:t})),qe=({onClick:e,serverErrors:t=[]})=>N.a.createElement("div",null,!!t.length&&N.a.createElement("ul",{className:"red-500 pt3"},t.map(e=>N.a.createElement("li",{key:e.message},e.message))),N.a.createElement(z.b,{theme:"create",atoms:["mt3 w100p"],onClick:e},Object(o.b)("project_page.reward.Continue"))),Ye=({amount:e,atoms:t})=>N.a.createElement("div",{className:"basis100p"},N.a.createElement(J.a,{color:"dark-grey-500",atoms:t},Object(o.b)("project_page.reward.Estimated_conversion",{amount:e}))),ze=({end:e})=>N.a.createElement("div",{className:"inline pledge__limit ksr_page_timer","data-end_time":e},N.a.createElement("span",{className:"js-num"})," ",N.a.createElement("span",{className:"js-text"})," "),Ge=e=>({atoms:t,info:n})=>N.a.createElement(W.a,{atoms:["basis50p"]},N.a.createElement(J.a,{color:"dark-grey-500",atoms:t},e),N.a.createElement(J.a,{color:"soft-black",atoms:["lh3"]},n)),Ke=Ge(Object(o.b)("project_page.reward.Estimated_delivery")),We=({atoms:e,items:t})=>N.a.createElement("div",null,N.a.createElement(J.a,{color:"dark-grey-500",atoms:e},Object(o.b)("project_page.reward.Includes")),N.a.createElement("ul",{className:"type-14 ml3 soft-black medium mb2 pl2"},t.map((e,t)=>N.a.createElement("li",{key:t,className:"list-disc"},+e.quantity>1?`${e.quantity}x ${e.name}`:e.name)))),Je=({remaining:e,limit:t})=>{const n=Object(o.b)("project_page.reward.rewardremaining_left_of_rewardlimit",{rewardremaining:e,rewardlimit:t});return N.a.createElement(J.a,{color:"red-500",type:"caption-100"},n)},Xe=({atoms:e=[],backed:t,backingAmount:n,continueClick:a,currentTotalCost:i,errors:r,onApplePayClick:s,onBlurField:l,onPledgeValueChange:d,onRewardClick:m,onRewardKeyPress:p,pledgeData:h,selected:f,serverErrors:g})=>{const _=Object(x.a)(e,"pointer block text-left new-form",!f&&!t&&"border-grey-400",f&&"border-dark-grey-400",t?"mb0 pointer border-blue-500":"mb3"),b=Object(c.a)(m,{id:u,minPledge:h.defaultPledge});return N.a.createElement("div",{role:"button",className:_,tabIndex:"0",onClick:b,onKeyPress:Object(c.a)(p,{id:u,minPledge:h.defaultPledge})},t&&N.a.createElement(He,null),N.a.createElement(H.a,{level:2,type:"subhead-300",weight:"normal",color:"soft-black",atoms:["mb3"]},Object(o.b)("project_page.reward.Make_a_pledge_without_a_reward")),N.a.createElement(Ue,{value:t?n:null!==i&&f?i:h.defaultPledge.amount,convert:h.convertCurrency,errors:r,onBlurField:l,onClick:b,onSelect:b,onChange:d,minPledge:h.defaultPledge,pledgeData:h,idForKey:u,idForField:"pledgeWithNoReward"}),f&&!h.applePayCapable&&N.a.createElement(qe,{onClick:Object(c.a)(a,u),serverErrors:g}),f&&h.applePayCapable&&N.a.createElement(et,{applePayClick:Object(c.a)(s,u),otherPaymentClick:Object(c.a)(a,u),serverErrors:g}))},Ze=({reward:e,active:t,onTruncateClick:n=(()=>{}),truncateReward:a=(()=>{}),truncationStatus:i})=>{const r=["block text-uppercase type-10"],s=Object(x.a)(r,"ls1px"),c=Object(x.a)(r,"ls0_5px"),l=t&&"CLOSED"==i,d=t&&"EXPANDED"==i,u=l?Object(o.b)("project_page.reward.Read_more"):Object(o.b)("project_page.reward.Less"),m=Object(x.a)("mb4 relative",l&&"h9 clip"),p=l?"-0.1rem":"-2rem";return N.a.createElement("div",null,N.a.createElement(H.a,{level:2,type:"subhead-300",weight:"normal",color:"soft-black",atoms:["mb3"]},(g=e.maxPledge,_=e.minPledge.formatted,g?Object(o.b)("project_page.reward.Pledge",{amount:_}):Object(o.b)("project_page.reward.Pledge_or_more",{amount:_})),e.convertCurrency&&N.a.createElement(Ye,{amount:e.conversionEstimate,atoms:Object(x.a)(s,"pt1")})),e.title&&N.a.createElement(H.a,{level:3,type:"body-200",weight:"normal",color:"soft-black",atoms:["mb3"]},e.title),N.a.createElement("div",{ref:a,className:m},(l||d)&&N.a.createElement("button",{type:"button",onClick:n,className:"absolute r0 pl6 pr2 type-14 gradient-transparent-to-white-20p",style:{bottom:p,outline:"none"}},u),e.description&&N.a.createElement(B.a,{type:"body-100",color:"dark-grey-500",atoms:["lh3 text-prewrap"]},e.description),!!e.items.length&&N.a.createElement(We,{items:e.items,atoms:s})),N.a.createElement(W.a,{atoms:["flex"]},e.deliveryDate&&N.a.createElement(Ke,{atoms:c,info:(h=e.deliveryDate.format,f=e.deliveryDate.date,N.a.createElement(Y.a,{format:h,date:f}))}),e.shippingSummary&&N.a.createElement(tt,{atoms:c,info:e.shippingSummary})));var h,f,g,_},Qe=({consts:e,currentTotalCost:t,dispatch:n,onApplePayClick:a,onBlurField:i,onClick:r,onPledgeValueChange:o,pledgeData:s,reward:c,selectState:l,ShippingCountryDropdown:d,validator:u,validation:m})=>{const p=u({fields:["shippingLocation"],state:m});return N.a.createElement("div",{className:"mt6 new-form"},e.DISPLAY_SHIPPING&&N.a.createElement("div",{className:"mb3"},N.a.createElement(d,Object.assign({state:l,dispatch:n,hasErrors:p},c.shippingRules)),N.a.createElement(X.a,{name:"shippingLocation",id:c.id,errors:p})),N.a.createElement(Ue,{convert:c.convertCurrency,errors:u({fields:["pledgeAmount"],state:m}),idForField:"pledgeAmount",idForKey:c.id,label:!0,pledgeData:s,minPledge:c.minPledge,onBlurField:i,onChange:o,value:t}),!s.applePayCapable&&N.a.createElement(qe,{onClick:r,serverErrors:m.serverErrors}),s.applePayCapable&&N.a.createElement(et,{applePayClick:a,otherPaymentClick:r,serverErrors:m.serverErrors}))},et=({applePayClick:e,otherPaymentClick:t,serverErrors:n})=>N.a.createElement(N.a.Fragment,null,!!n.length&&N.a.createElement("ul",{className:"red-500 pt3"},n.map(e=>N.a.createElement("li",{key:e.message},e.message))),N.a.createElement("div",{className:"mt3 pledge__applepay js-applepay"},N.a.createElement("button",{className:"btn btn--applepay btn--block",onClick:e},N.a.createElement("span",{className:"btn-text"})),N.a.createElement(z.b,{className:"btn block text-center w100p mt2 bold text-14 dark-grey-500 other-payment-button",onClick:t},Object(o.b)("project_page.reward_form.Other_payment_options"),N.a.createElement(K.a,{name:"icon--arrow-right",size:"12",atoms:["pl2"]}))),N.a.createElement("div",{className:"mt5 text-center"},N.a.createElement(B.a,{type:"caption-100",color:"dark-grey-400",atoms:["bold","mb0"]},Object(o.b)("project_page.reward_form.Kickstarter_is_not_a_store")),N.a.createElement(B.a,{type:"caption-100",color:"dark-grey-400"},Object(o.b)("project_page.reward_form.Its_a_way_to_bring_creative_projects_to_life")),N.a.createElement(G.a,{href:"http://www.kickstarter.com/trust?ref=project_reward",target:"_blank",atoms:["type-12"]},Object(o.b)("project_page.reward_form.Learn_more_about_accountability")))),tt=Ge(Object(o.b)("project_page.reward.Ships_to")),nt=({surveys:e})=>{const t=!!e,n="block text-uppercase type-10 ls0_5px";return N.a.createElement(W.a,{atoms:["mt3 pr3"]},!t&&N.a.createElement(J.a,{atoms:n},Object(o.b)("project_page.reward.No_surveys_sent")),t&&e.map((e,t)=>{const a=!!e.count;return N.a.createElement(W.a,{color:"dark-grey-500",type:"body-100",key:t},N.a.createElement(J.a,{atoms:n},Object(o.b)("project_page.reward.Survey_sent")),N.a.createElement(Y.a,{format:e.format,date:e.date}),a&&N.a.createElement(J.a,null," ","·"," ",Object(o.b)("project_page.reward.responses",{responses:e.count})," "))}))},at=()=>N.a.createElement("div",null,N.a.createElement(J.a,{type:"caption-100",color:"soft-black",weight:"bold",atoms:["inline-block p2 mt3 bg-grey-400"]},Object(o.b)("project_page.reward.Reward_no_longer_available")));var it=n("w/TO"),rt=n("2n5v");const ot=e=>({shipping_country_presence:Object(o.b)("project_page.reward_errors.Please_select_a_shipping_country"),pledge_value_presence:Object(o.b)("project_page.reward_errors.Please_enter_a_pledge_amount"),pledge_value_sufficient:Object(o.b)("project_page.reward_errors.Please_enter_a_pledge_amount_of_at_least",{amount:e})}),st=e=>[Object(rt.h)("pledgeAmount","pledge_value_presence",()=>e.id===u||e.totalCost&&+e.totalCost>0),Object(rt.h)("pledgeAmount","pledge_value_sufficient",()=>e.id===u||e.totalCost&&+e.totalCost>=+e.pledgeCost+e.shippingCost),Object(rt.h)("pledgeWithNoReward","pledge_value_presence",()=>e.id!==u||e.totalCost&&+e.totalCost>0),Object(rt.h)("pledgeWithNoReward","pledge_value_sufficient",()=>e.totalCost&&+e.totalCost>=+e.projectMin),Object(rt.h)("shippingLocation","shipping_country_presence",()=>!e.shippingRequired||!!e.shippingLocation)],ct=e=>(!e.which||e.which===A.c||e.which===A.l)&&(e.which==A.l&&e.preventDefault(),!0),lt="relative px3 pt3 pb6 border",dt=({state:e,dispatch:t,dropdowns:n})=>{const a=({id:e,minPledge:n,shippingEnabled:a,shippingRulesStatus:i},r)=>{if(ct(r)){if(a&&"unloaded"===i){const n=Object(D.a)(e)(P);t(n(Object(s.b)("Reward",e)))}t({type:"REWARD_SET_SELECTED_REWARD",rewardFacts:{id:e,minPledge:n,shippingEnabled:a}})}},i=e=>t((e=>({type:"REWARD_CONTINUE",rewardId:e}))(e)),r=e=>t((e=>({type:"REWARD_REQUEST_REDIRECT",path:e}))(e)),l=e=>t(S(e)),d=Object(c.a)((e,t)=>e(((e,t)=>({type:"REWARD_APPLE_PAY",dispatch:e,rewardId:t}))(e,t)),t),u=T(l,750),m=(e,n)=>{t({type:"REWARD_NEW_PLEDGE_VALUE",newValue:n}),u(e)},p=e.reward.rewardsList[e.reward.rewardsListOrder[0]],h=!p||p.isCreator||p.campaignSuccessful||!p.campaignLive||e.reward.backedReward.length>0,f=!!e.reward.backedReward.length,g=!!e.reward.unavailableRewardsListOrder.length;return N.a.createElement("div",null,N.a.createElement(H.a,{atoms:["normal mb3 mb7-sm mobile-hide"]},Object(o.b)("project_page.reward.Support")),f&&N.a.createElement(mt,{state:e.reward,backedRewardArray:e.reward.backedReward,onRedirectClick:r}),!h&&N.a.createElement(ht,{state:e.reward,onApplePayClick:d,onContinueClick:i,onPledgeValueChange:m,onRewardSelect:a,onValidateField:l}),h&&N.a.createElement(pt,{state:e,onRedirectClick:r}),!h&&N.a.createElement(ut,{state:e,dispatch:t,dropdowns:n,onApplePayClick:d,onContinueClick:i,onPledgeValueChange:m,onRewardSelect:a,onValidateField:l}),g&&N.a.createElement(ft,{state:e}))},ut=({state:e,dispatch:t,dropdowns:n,onApplePayClick:a,onContinueClick:i,onPledgeValueChange:r,onRewardSelect:o,onValidateField:s})=>e.reward.rewardsListOrder.map(l=>{const d=e.reward.rewardsList[l],u=l==e.reward.selectedReward.id,m=u?"border-dark-grey-400":"border-grey-400",p=u&&e.reward.selectedReward.truncated;return N.a.createElement($,{active:u,dispatch:t,doNotPin:e.reward.selectedReward.doNotPin,savedOffset:d.offsetHeight,rewardId:l,type:"available",onClick:Object(c.a)(o,d),onKeyPress:Object(c.a)(o,d),key:"hover-"+l},N.a.createElement(gt,{key:l,reward:d,dispatch:t,state:e.reward,activeReward:u,atoms:Object(x.a)(lt,"pointer",m),onApplePayClick:a,onBlurField:Object(c.a)(s,"pledgeAmount"),onContinueClick:i,onPledgeValueChange:Object(c.a)(r,"pledgeAmount"),onTruncateClick:()=>t({type:"REWARD_TRUNCATION_TOGGLE"}),ShippingCountryDropdown:n[l],selectState:e.shippingSelects[l+"-select"],truncationStatus:p}))}),mt=({state:e,backedRewardArray:t,onRedirectClick:n})=>t.map(t=>{const a=(e,t)=>{ct(t)&&!e.campaignSuccessful&&n(e.managePath)},i=t.campaignSuccessful?"backed_successful":"backed_live";return t.id===u?N.a.createElement($,{type:i,onClick:Object(c.a)(a,t),onKeyPress:Object(c.a)(a,t),key:"hover-"+t.id},N.a.createElement(ht,{state:e,backed:!0,backingAmount:t.backingAmount})):N.a.createElement($,{type:i,onClick:Object(c.a)(a,t),onKeyPress:Object(c.a)(a,t),key:"hover-"+t.id},N.a.createElement(_t,{key:t.id,reward:t,atoms:Object(x.a)(lt,"pointer border-blue-500")}))}),pt=({state:e,onRedirectClick:t})=>e.reward.rewardsListOrder.map(n=>{const a=e.reward.rewardsList[n];return N.a.createElement(bt,{key:n,atoms:Object(x.a)(lt,"border-grey-400 mb3"),reward:a,backerReportClick:Object(c.a)(t,a.reportPath)})}),ht=({backed:e,backingAmount:t,state:n,onApplePayClick:a=(()=>{}),onContinueClick:i=(()=>{}),onPledgeValueChange:r=(()=>{}),onRewardSelect:o=(()=>{}),onValidateField:s=(()=>{})})=>{const l=`\n    ${n.pledgeData.currencySymbol}\n    ${n.pledgeData.defaultPledge.min}`;return N.a.createElement(Xe,{atoms:Object(x.a)(lt),backed:e,backingAmount:t,continueClick:i,currentTotalCost:n.selectedReward.totalCost,errors:Object(it.c)(ot(l))({fields:["pledgeWithNoReward"],state:n.validation}),onBlurField:Object(c.a)(s,"pledgeWithNoReward"),onApplePayClick:a,onPledgeValueChange:Object(c.a)(r,"pledgeWithNoReward"),onRewardClick:o,onRewardKeyPress:o,pledgeData:n.pledgeData,selected:n.selectedReward.id===u,serverErrors:n.validation.serverErrors})},ft=({state:e})=>N.a.createElement("div",null,N.a.createElement(H.a,{weight:"normal"},Object(o.b)("projects.rewards_list_experiment.All_gone")),e.reward.unavailableRewardsListOrder.map(t=>{const n=e.reward.unavailableRewardsList[t];return N.a.createElement(vt,{key:t,reward:n,atoms:Object(x.a)("bg-grey-100 border-grey-400 mb3",lt)})})),gt=({atoms:e=[],reward:t,dispatch:n,activeReward:a,truncationStatus:i,ShippingCountryDropdown:r,selectState:o,state:s,onApplePayClick:l,onBlurField:d,onContinueClick:u,onPledgeValueChange:m,onTruncateClick:p})=>{const h=a,f=h&&t.shippingEnabled,g=`\n    ${t.minPledge.symbol}\n    ${+s.selectedReward.pledgeCost+s.selectedReward.shippingCost}\n  `,_=Object(it.c)(ot(g)),b=Object(c.a)(q,n,h,i);return N.a.createElement("div",{className:Object(x.a)(e)},N.a.createElement(Ze,{active:h,onTruncateClick:p,reward:t,truncateReward:b,truncationStatus:i}),N.a.createElement(Be,{reward:t}),N.a.createElement(V.a,{enter:"slide-down",leave:"slide-up",durationLeave:150,durationAppear:300,open:h},h&&N.a.createElement(Qe,{consts:{DISPLAY_SHIPPING:f},reward:t,selectState:o,dispatch:n,currentTotalCost:s.selectedReward.totalCost,onApplePayClick:Object(c.a)(l,t.id),onBlurField:d,onClick:Object(c.a)(u,t.id),onPledgeValueChange:m,pledgeData:s.pledgeData,ShippingCountryDropdown:r,validator:_,validation:s.validation})))},_t=({atoms:e,reward:t})=>{const n=t.campaignSuccessful,a=t.unavailable;return N.a.createElement("div",{className:Object(x.a)(e)},N.a.createElement(He,null),N.a.createElement(Ze,{reward:t}),a&&N.a.createElement(at,null),N.a.createElement(Be,{reward:t}),n&&N.a.createElement(nt,{surveys:t.surveys}))},bt=({atoms:e,backerReportClick:t,reward:n})=>{const a=n.campaignSuccessful,i=n.isCreator,r=+n.backersCount>0;return N.a.createElement("div",{className:Object(x.a)("cursor-default",e)},N.a.createElement(Ze,{reward:n}),N.a.createElement(Be,{reward:n}),a&&i&&r&&N.a.createElement($e,{surveys:n.creatorSurveyData,onClick:t}))},vt=({atoms:e,reward:t})=>N.a.createElement("div",{className:Object(x.a)(e)},N.a.createElement(Ze,{reward:t}),N.a.createElement(at,null),N.a.createElement(Be,{reward:t,unavailable:!0}));var kt=n("MgNI"),yt=n("n+nq");const Et=(e,t,n)=>{if(!Array.isArray(n))return{rewardsList:{},rewardsListOrder:[]};return{rewardsList:n.reduce((n,a)=>(n[a.id]={...e,...a,shippingRules:t},n),{}),rewardsListOrder:n.sort((e,t)=>+e.minPledge.amount-t.minPledge.amount).map(e=>e.id)}},jt=()=>{const e=document.getElementById("watch-project-modal");return kt.maybe.fromNullable(e).chain(e=>JSON.parse(e.dataset.watch_project)).project_id},wt=()=>{if(!window.current_checkout)return null;return{location:kt.maybe.fromNullable(window.current_checkout.data.location_id).getOrElse(null),authToken:Object(yt.b)(document)}},St=e=>{const t=JSON.parse(e.availableRewards),n=JSON.parse(e.unavailableRewards),a=JSON.parse(e.backedReward),i=JSON.parse(e.pledgeData),{shippingReducers:r,shippingDropdowns:o,shippingStates:s}=(e=>{if(!Array.isArray(e))return{shippingDropdowns:{},shippingReducers:{},shippingStates:{}};return e.reduce((e,t)=>{const n=t.id,{reducers:a,Component:i}=Ve(n);return e.shippingDropdowns[n]=i,e.shippingReducers=Object.assign({},e.shippingReducers,{...a}),e.shippingStates=Object.assign({},e.shippingStates,{[n+"-async"]:Me,[n+"-select"]:Fe}),e},{shippingDropdowns:{},shippingReducers:{},shippingStates:{}})})(t),{rewardsList:c,rewardsListOrder:l}=Et(Re,Le,t),{rewardsList:d,rewardsListOrder:u}=Et(Re,Le,n);return{hydratedState:{reward:{...Pe,backedReward:a,rewardsList:c,rewardsListOrder:l,unavailableRewardsList:d,unavailableRewardsListOrder:u,currentUser:wt(),projectName:window.current_project?kt.maybe.fromNullable(window.current_project.data.name).getOrElse(null):null,projectId:jt(),pledgeData:i,selectedReward:{...Pe.selectedReward,projectMin:i.defaultPledge.min}},shippingSelects:s},shippingReducers:r,shippingDropdowns:o}};var Ot=n("NSfo");const Nt=(e,t)=>{switch(t.type){case"ASYNC_LOAD_SUCCESS":return Pt(e,t.data);case"SELECT_ON_VALUE_UPDATE":return Vt(e,t);case"ON_BLUR":return Mt(e,t);case"APPLE_PAY_CHECKOUT_FAILURE":case"APPLE_PAY_REQ_FAILURE":case"APPLE_PAY_VENDOR_ERROR":return At(e);case"ADD_MEMOIZED_SHIPPING_TO_SELECTED_REWARD":return Tt(e,t);case"REWARD_APPLE_PAY":return Rt(e,t.dispatch,Object(c.a)(st,e.selectedReward));case"REWARD_CHECKOUT_FAILURE":return Ct(e,t.err);case"REWARD_CONTINUE":return Ft(e,Object(c.a)(st,e.selectedReward));case"REWARD_REQUEST_REDIRECT":return Lt(e,t.path);case"REWARD_NEW_PLEDGE_VALUE":return{...e,selectedReward:{...e.selectedReward,totalCost:t.newValue}};case"REWARD_SAVE_OFFSET":return{...e,rewardsList:{...e.rewardsList,[t.rewardId]:{...e.rewardsList[t.rewardId],offsetHeight:t.offsetHeight}}};case"REWARD_SET_SELECTED_REWARD":return Ut(e,t.rewardFacts);case"REWARD_TOUCH_FIELD":return{...e,validation:Object(b.c)(Object(rt.c)(e.validation,t.fieldName,Object(c.a)(st,e.selectedReward)))};case"REWARD_TRUNCATE_DESCRIPTION":return{...e,selectedReward:{...e.selectedReward,truncated:"CLOSED"}};case"REWARD_TRUNCATION_TOGGLE":const n="CLOSED"===e.selectedReward.truncated?"EXPANDED":"CLOSED";return{...e,selectedReward:{...e.selectedReward,truncated:n}};case"REWARD_UPDATE_APPLE_PAY":return Dt(e,t);case"REWARD_FREEZE_PIN":return{...e,selectedReward:{...e.selectedReward,doNotPin:!0}};case"NOOP":default:return e}},Ct=(e,t)=>({...e,validation:{...e.validation,serverErrors:t}}),It=(e,t)=>(+Object(Z.c)(e)||0)+(+Object(Z.c)(t)||0),xt=e=>{window.location.href=window.location.pathname.replace(location.pathname,e)},Tt=(e,t)=>{const n=Object(b.c)(Vt(e,t)),a=Object(D.a)(t.namespace)(ae)(t.userLocationIndex,"Selected from user location");return Object(b.f)(n,b.a.list([b.a.action(S("shippingLocation")),b.a.action(a)],{batch:!0}))},At=e=>Ct(e,[{message:"We're sorry. Something went wrong with Apple Pay. Please try another payment option or try again."}]),Dt=(e,t)=>{const n={...e,pledgeData:{...e.pledgeData,applePayCapable:t.newValue}};return t.newValue?Object(b.f)(n,b.a.run(m)):n},Pt=(e,t)=>{const{reward:{shippingRulesExpanded:{nodes:n}}}=t,a=n.map(t=>{const n=t.cost.symbol||e.pledgeData.currencySymbol,a=+t.cost.amount>0?`(+ ${n}${Math.round(+t.cost.amount)})`:"";return{label:`${t.location.name} ${a}`,value:+t.cost.amount,shippingLocation:t.location.id}}),i=e.selectedReward.id;let r={...e,rewardsList:{...e.rewardsList,[i]:{...e.rewardsList[i],shippingRulesStatus:"loaded",shippingRules:{...e.rewardsList[i].shippingRules,options:a}}}};const o=a.findIndex(t=>Object(s.a)(t.shippingLocation)==e.currentUser.location);if(o>-1){const t=a[o].value,n=It(e.selectedReward.pledgeCost,t);r={...r,selectedReward:{...r.selectedReward,shippingLocation:a[o].shippingLocation,shippingCost:t,totalCost:n},rewardsList:{...r.rewardsList,[i]:{...r.rewardsList[i],memoizedShippingOption:{value:a[o],userLocationIndex:o}}}}}const c=Object(D.a)(i)(ae)(o,"Selected from user location");return Object(b.f)(r,b.a.action(c))},Rt=(e,t,n)=>Object(rt.f)(n)?Object(b.f)(e,b.a.run(g,{args:[e,t],successActionCreator:Ee.b,failActionCreator:e=>r(e)})):{...e,validation:Object(b.c)(Object(rt.b)(e.validation,n))},Ft=(e,t)=>Object(rt.f)(t)?Object(b.f)(e,b.a.list([b.a.run(Ht,{args:[e],successActionCreator:Ee.b,failActionCreator:Ee.b}),b.a.action(Object(Ot.b)("Checkout Reward Continue Click"))],{batch:!0})):{...e,validation:Object(b.c)(Object(rt.b)(e.validation,t))},Lt=(e,t)=>Object(b.f)(e,b.a.run(xt,{args:[t]})),Mt=(e,t)=>t.namespace&&t.namespace===e.selectedReward.id?Object(b.f)(e,b.a.action(S("shippingLocation"))):e,Ut=(e,{minPledge:t,id:n,shippingEnabled:a})=>{if(n===e.selectedReward.id)return e;const i=a,r=t.amount,o=It(r,0),s={...e,selectedReward:{...e.selectedReward,id:n,pledgeCost:r,shippingRequired:i,totalCost:o,shippingCost:0,shippingLocation:null,truncated:null,doNotPin:!1},validation:{...e.validation,touched:{},errors:{},serverErrors:[]}},c=e.rewardsList[n]?e.rewardsList[n].shippingRulesStatus:null,l=e.rewardsList[n]?e.rewardsList[n].memoizedShippingOption:null,d=i&&"loaded"===c?b.a.list([b.a.action(Object(Ot.b)("Checkout Reward Click")),b.a.action(w(l,n))],{batch:!0}):b.a.action(Object(Ot.b)("Checkout Reward Click"));return Object(b.f)(s,d)},Vt=(e,t)=>{const{id:n,pledgeCost:a,totalCost:i}=e.selectedReward,{namespace:r,value:{shippingLocation:o,value:s}}=t;if(r!==n)return e;const c=It(a,s),l=c>i?c:i;return Object(b.f)({...e,selectedReward:{...e.selectedReward,shippingCost:s,totalCost:l,shippingLocation:o}},b.a.action(S("shippingLocation")))},Ht=e=>{const{id:t,shippingLocation:n,totalCost:a}=e.selectedReward,i=n?Object(s.a)(n):void 0,r=e.projectId,o=a.toString();return d({projectId:r,amount:o,rewardId:t,locationId:i}).then(t=>{if(t.errors)return Promise.reject(t.errors);const n=Object(s.a)(t.data.createCheckout.checkout.id),a=e.currentUser?`/checkouts/${n}/payments/new?clicked_reward=true`:`/checkouts/${n}/guest?clicked_reward=true`;return xt(a),{type:"NOOP"}}).catch(e=>(e.forEach(e=>_.Honeybadger.notify(e)),(e=>({type:"REWARD_CHECKOUT_FAILURE",err:e}))(e)))};let Bt,$t;const qt=({state:e,dispatch:t,dropdowns:n})=>N.a.createElement(dt,{state:e,dispatch:t,dropdowns:n}),Yt=(e,t)=>{if(void 0===e.reward.pledgeData.applePayCapable&&"undefined"!=typeof Stripe){const e=void 0!==window.STRIPE_PUBLISHABLE_KEY,a=((e,t)=>!!(e&&t&&void 0!==e.current_user&&void 0!==e.current_project&&void 0!==e.apple_pay_countries&&"live"===e.current_project.get("state")&&!/\/retry$/.test(e.location.pathname)&&"pledges_edit"!==document.body.id&&e.apple_pay_countries.indexOf(e.current_project.get("country"))>=0))(window,e);n=e=>t({type:"REWARD_UPDATE_APPLE_PAY",newValue:e}),a&&"undefined"!=typeof Stripe?(Stripe.setPublishableKey(window.STRIPE_PUBLISHABLE_KEY),Stripe.applePay.checkAvailability(((e,t)=>n=>n?e():t())(()=>n(!0),()=>n(!1)))):n(!1)}var n},zt=()=>{const e=document.getElementById("react-backer-rewards");$t=$t||St(e.dataset);const{hydratedState:t,shippingReducers:n,shippingDropdowns:a}=$t,i=Object(b.b)({applePay:v,reward:Nt,shippingSelects:Object(b.b)(Object.assign({},n)),tracking:E.a});Bt=Bt||Object(j.a)(i,t,"Project Page Backer Rewards"),I.a.render(N.a.createElement(qt,{state:Bt.getState(),dispatch:Bt.dispatch,dropdowns:a}),e,Yt.bind(null,Bt.getState(),Bt.dispatch))},Gt=()=>{document.getElementById("react-backer-rewards")&&(zt(),Bt.subscribe(zt))};Gt()},NxQb:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t=window.enabled_features)=>("string"==typeof t&&(t=JSON.parse(t)),!(!t||!t[e]))},Nz1K:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));const a=e=>{const t=null==e?void 0:e.includes("soundcloud"),n=document.createElement("div"),a='<div class="text-center clip mb5">'+(t?'<style class="embedly-css">\n        .soundcloud .card {\n          max-height: 250px;\n        }\n        .soundcloud .embedly-card iframe.embedly-card {\n          max-height: 600px;\n        }\n        .card iframe[title~=SoundCloud] {\n          height: unset;\n        }\n      </style>':"")+(t?'<div class="soundcloud">':"")+`<a href="${e}" class="embedly-card" data-card-key="${window.embedlyApiKey}" data-card-controls="0" data-card-width="100%"></a>`+(t?"</div>":"")+"</div>";return n.innerHTML=a,n},i=e=>{const t=document.createElement("div");return t.innerHTML=e,Array.prototype.slice.call(t.querySelectorAll(".oembed")).forEach(e=>{const t=e;e.parentNode&&e.parentNode.replaceChild(a(t.dataset.href).firstChild,e)}),t.innerHTML}},O1L0:function(e,t,n){"use strict";var a=n("KHPI"),i=n("h4vE"),r=n("0VSk");n("Q5rT");Object(i.a)(".NS-forms_categorization_field",(function(e){e.each((function(){var e=Object(a.a)(this),t=e.find(".template"),n=e.find("ol.selected");n.find("li").each((function(){var e,t;e=Object(a.a)(this),t=Object(a.a)('<a class="remove" href="#">'+r.default.t("onloads.views.forms.categorization_field.remove")+"</a>"),e.append(t)})),n.on("click","a.remove",(function(e){var t=Object(a.a)(this).closest("li"),n=t.find(".destroy");e.preventDefault(),t.fadeOut((function(){n.length?n.val("1"):t.remove()}))})),e.find(".new a").on("click",(function(e){e.preventDefault(),n.append(t.clone_form_template())}))}))}))},"O9a+":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("2DJ9"),i=n("q1tI"),r=n.n(i);const o=({isWatched:e,onClick:t,watchCopy:n})=>r.a.createElement("button",{onClick:t,className:"f5 navy-light medium"},r.a.createElement(a.a,{name:"icon--bookmark-outline",size:"small",atoms:["mr1 relative t-1_6 r-1_3"].concat(e?["fill-celebrate-500"]:["fill-support-500"])}),r.a.createElement("span",{className:e?"celebrate-500":"soft-black"},n))},OJn5:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("rzNZ"),i=n("g1y3"),r=n("z+X6"),o=n("sett"),s=n("q1tI");const c=(e,t)=>"__RESET_EDITOR_STATE__"===t.type?t.resetState:Object(i.d)(e,t);class l extends s.Component{constructor(e){super(e),this.store=void 0,this.unsubscribe=void 0,this.previousValue=void 0,this.handleBlur=()=>{const e=this.store.getState(),t=this.props.newEditor?e.story.content:(e=>{const t=e.story.editorState;return Object(a.a)(t.getCurrentContent(),Object(i.b)(t))})(e);this.previousValue=t,this.props.onBlur(t,e.story.editorState),this.forceUpdate(()=>{t!==this.props.value&&this.reset()})},this.dispatch=e=>{this.props.disabled||(this.store.dispatch(e),this.handleBlur())};const t=Object(i.c)(e.value,e.attachableId,e.attachableAssoc,e.storyRteVersion,e.editorState);this.store=Object(r.a)(c,t,"Rich Editor")}reset(){const e=Object(i.c)(this.props.value,this.props.attachableId);this.store.dispatch({type:"__RESET_EDITOR_STATE__",resetState:e}),this.forceUpdate()}componentDidMount(){this.unsubscribe=this.store.subscribe(()=>this.forceUpdate())}componentWillUnmount(){"function"==typeof this.unsubscribe&&this.unsubscribe()}componentDidUpdate(e){(e.attachableId!==this.props.attachableId||e.value!==this.props.value&&this.previousValue!==this.props.value)&&this.reset()}render(){return s.createElement("div",{className:"mb1 type-16"},s.createElement(o.b,{dispatch:this.dispatch,state:this.store.getState(),placeholder:this.props.placeholder,hasErrors:this.props.hasErrors,hasWarnings:this.props.hasWarnings,ToolBar:this.props.ToolBar,tracking:this.props.tracking,checkForPossiblePII:this.props.checkForPossiblePII}))}}},OT5S:function(e,t,n){n("+2Rf");var a=n("+2Rf");a.fn.composed=function(e,t){var n=a(this);return void 0===n.data("topics")&&n.data("topics",{}),(n.data("topics")[e]||[]).reduce((function(e,t){return t.call(a,e)}),t)},a.fn.composable=function(e,t){var n=a(this);return void 0===n.data("topics")&&n.data("topics",{}),n.data("topics")[e]||(n.data("topics")[e]=[]),n.data("topics")[e].push(t),[e,t]}},OUkx:function(e,t,n){"use strict";var a=n("xG9w"),i=n("+2Rf");n("+2Rf");!function(e){e.fn.whenNear=function(t,n){const i=e(window),r=t||0;let o=this;function s(){const t=a.default.filter(o,(function(t){const n=e(t);if(n.is(":hidden"))return;const a=i.scrollTop(),o=a+i.height(),s=n.offset().top;return s+n.height()>=a-r&&s<=o+r}));o=o.not(t),a.default.each(t,n)}return i.on("scroll.whenNear resize.whenNear",a.default.throttle(s,25)),s(),this}}(i)},ObC8:function(e,t,n){"use strict";var a=n("gyzc");n.d(t,"a",(function(){return a.a}))},Oj9A:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("h4vE");Object(r.a)("#NS_discover__sorts",(function(e){e.find("li > a").on("click",(function(t){var n=i()(this),a=n.closest("li");e.find(".ksr-green-500").removeClass("ksr-green-500").addClass("black"),n.addClass("ksr-green-500").removeClass("black"),i()(document).trigger("discovery:sorts:changed",a.data("sort")),e.trigger("ksr_popover:close"),t.preventDefault()})),i()(document).on("discovery:sentence:changed",(function(t,n){e.find(".ksr-green-500").removeClass("ksr-green-500").addClass("black"),e.find('li[data-sort="'+(n.sort||"magic")+'"] a').addClass("ksr-green-500").removeClass("black")})),i()(document).on("discovery:sorts:load_sample",(function(t,n){e.find(".selected").removeClass(),n.sort?e.find('li[data-sort="'+n.sort+'"] a').addClass("ksr-green-500").removeClass("black"):e.find('li[data-sort="magic"] a').addClass("ksr-green-500").removeClass("black")}))}))},"Owp+":function(e,t,n){"use strict";n.d(t,"c",(function(){return i}));n("VX74");var a=n("DE4Y");n.d(t,"a",(function(){return a.F})),n.d(t,"b",(function(){return a.J}));const i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ViewPost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"me"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isKsrAdmin"}}]}},{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"publishedAt"}},{kind:"Field",name:{kind:"Name",value:"pinnedAt"}},{kind:"Field",name:{kind:"Name",value:"number"}},{kind:"Field",name:{kind:"Name",value:"actions"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"publish"}},{kind:"Field",name:{kind:"Name",value:"destroy"}},{kind:"Field",name:{kind:"Name",value:"update"}},{kind:"Field",name:{kind:"Name",value:"read"}},{kind:"Field",name:{kind:"Name",value:"edit"}},{kind:"Field",name:{kind:"Name",value:"pin"}}]}},{kind:"Field",name:{kind:"Name",value:"author"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"imageUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"120"}}]}]}},{kind:"Field",name:{kind:"Name",value:"authorRole"}},{kind:"Field",name:{kind:"Name",value:"project"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"state"}},{kind:"Field",name:{kind:"Name",value:"prelaunchActivated"}}]}},{kind:"Field",name:{kind:"Name",value:"isPublic"}},{kind:"Field",name:{kind:"Name",value:"isLiked"}},{kind:"Field",name:{kind:"Name",value:"likesCount"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CreatorInterview"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commentsCount"},arguments:[{kind:"Argument",name:{kind:"Name",value:"withReplies"},value:{kind:"BooleanValue",value:!0}}]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FreeformPost"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commentsCount"},arguments:[{kind:"Argument",name:{kind:"Name",value:"withReplies"},value:{kind:"BooleanValue",value:!0}}]}]}},{kind:"Field",name:{kind:"Name",value:"timeLeftToEdit"}},{kind:"Field",name:{kind:"Name",value:"nextPost"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"previousPost"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]}}]}},P0CJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>new Date(e).toISOString().replace("Z","")},PK0a:function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));n("VX74");var a=n("DE4Y");n.d(t,"a",(function(){return a.J})),n.d(t,"c",(function(){return a.Y}));const i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Rewards"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"usdType"}},{kind:"Field",name:{kind:"Name",value:"me"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isCreator"}},{kind:"Field",name:{kind:"Name",value:"chosenCurrency"}},{kind:"Field",name:{kind:"Name",value:"location"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"country"}},{kind:"Field",name:{kind:"Name",value:"countryName"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"fxRate"}},{kind:"Field",name:{kind:"Name",value:"currency"}},{kind:"Field",name:{kind:"Name",value:"minPledge"}},{kind:"Field",name:{kind:"Name",value:"userWasRemoved"}},{kind:"Field",name:{kind:"Name",value:"isUserCreator"}},{kind:"Field",name:{kind:"Name",value:"state"}},{kind:"Field",name:{kind:"Name",value:"backing"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"reward"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"originalOrUpgradedReward"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",alias:{kind:"Name",value:"backingDetailsPageUrl"},name:{kind:"Name",value:"backingDetailsPageRoute"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"path"}},{kind:"Argument",name:{kind:"Name",value:"tab"},value:{kind:"EnumValue",value:"details"}}]}]}},{kind:"Field",name:{kind:"Name",value:"actions"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayConvertAmount"}}]}},{kind:"Field",name:{kind:"Name",value:"isInPostCampaignPledgingPhase"}},{kind:"Field",name:{kind:"Name",value:"rewards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"sort"},value:{kind:"BooleanValue",value:!0}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RewardDetails"}},{kind:"Field",name:{kind:"Name",value:"displayableAddons"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"backerReportUrl"}},{kind:"Field",name:{kind:"Name",value:"available"}},{kind:"Field",name:{kind:"Name",value:"featured"}},{kind:"Field",name:{kind:"Name",value:"shippingEnabled"}},{kind:"Field",name:{kind:"Name",value:"convertedAmount"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"}},{kind:"Field",name:{kind:"Name",value:"currency"}},{kind:"Field",name:{kind:"Name",value:"symbol"}}]}},{kind:"Field",name:{kind:"Name",value:"backerImages"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"3"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"120"}}]},{kind:"Field",name:{kind:"Name",value:"altText"}}]}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"image"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"600"}}]},{kind:"Field",name:{kind:"Name",value:"altText"}}]}}]}}]}}]}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"RewardDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Reward"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currency"}},{kind:"Field",name:{kind:"Name",value:"amount"}},{kind:"Field",name:{kind:"Name",value:"symbol"}}]}},{kind:"Field",name:{kind:"Name",value:"backersCount"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"estimatedDeliveryOn"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isMaxPledge"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"quantity"}},{kind:"Field",name:{kind:"Name",value:"position"}},{kind:"Field",name:{kind:"Name",value:"node"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"limit"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"image"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"600"}}]},{kind:"Field",name:{kind:"Name",value:"altText"}}]}},{kind:"Field",name:{kind:"Name",value:"remainingQuantity"}},{kind:"Field",name:{kind:"Name",value:"shippingSummary"}},{kind:"Field",name:{kind:"Name",value:"shippingPreference"}},{kind:"Field",name:{kind:"Name",value:"startsAt"}},{kind:"Field",name:{kind:"Name",value:"endsAt"}},{kind:"Field",name:{kind:"Name",value:"allowedAddons"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"displayableAddons"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"audienceData"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"secret"}}]}}]}}]}},PTfn:function(e,t,n){var a=n("+2Rf");n("+2Rf");!function(e){var t={};e.publish=function(){var n=Array.prototype.slice.call(arguments),a=n.shift();t[a]&&e.each(t[a],(function(){this.apply(e,n)}))},e.subscribe=function(e,n){return t[e]||(t[e]=[]),t[e].push(n),[e,n]},e.unsubscribe=function(){var n=arguments[0];t[n]&&e.each(t[n],(function(e){this===arguments[1]&&t[n].splice(e,1)}))}}(a)},PXbY:function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));n("VX74");var a=n("DE4Y");n.d(t,"a",(function(){return a.n})),n.d(t,"c",(function(){return a.S}));const i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"RewardSelectInfo"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentCurrency"}},{kind:"Field",name:{kind:"Name",value:"usdType"}},{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"currency"}},{kind:"Field",name:{kind:"Name",value:"defaultPledge"}},{kind:"Field",name:{kind:"Name",value:"fxRate"}},{kind:"Field",name:{kind:"Name",value:"deadlineAt"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"actions"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayConvertAmount"}}]}},{kind:"Field",name:{kind:"Name",value:"isInPostCampaignPledgingPhase"}},{kind:"Field",name:{kind:"Name",value:"isPledgeOverTimeAllowed"}},{kind:"Field",name:{kind:"Name",value:"pledgeOverTimeCollectionPlanChargeExplanation"}},{kind:"Field",name:{kind:"Name",value:"pledgeOverTimeMinimumExplanation"}},{kind:"Field",name:{kind:"Name",value:"pledgeOverTimeCollectionPlanShortPitch"}},{kind:"Field",name:{kind:"Name",value:"pledgeOverTimeWarning"}},{kind:"Field",name:{kind:"Name",value:"pledgeOverTimeWarningExplanation"}},{kind:"Field",name:{kind:"Name",value:"pledgeOverTimeCollectionPlanChargeExplanation"}},{kind:"Field",name:{kind:"Name",value:"pledgeOverTimeMinimumExplanation"}},{kind:"Field",name:{kind:"Name",value:"pledgeOverTimeCollectionPlanShortPitch"}},{kind:"Field",name:{kind:"Name",value:"pledgeOverTimeCollectionPlanChargedAsNPayments"}},{kind:"Field",name:{kind:"Name",value:"addOns"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RewardSelectInfoReward"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"rewards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"sort"},value:{kind:"BooleanValue",value:!0}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"RewardSelectInfoReward"}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"RewardSelectInfoReward"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Reward"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"amount"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currency"}},{kind:"Field",name:{kind:"Name",value:"amount"}},{kind:"Field",name:{kind:"Name",value:"symbol"}}]}},{kind:"Field",name:{kind:"Name",value:"available"}},{kind:"Field",name:{kind:"Name",value:"backersCount"}},{kind:"Field",name:{kind:"Name",value:"remainingQuantity"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"limitPerBacker"}},{kind:"Field",name:{kind:"Name",value:"limit"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"image"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"600"}}]},{kind:"Field",name:{kind:"Name",value:"altText"}}]}},{kind:"Field",name:{kind:"Name",value:"estimatedDeliveryOn"}},{kind:"Field",name:{kind:"Name",value:"shippingPreference"}},{kind:"Field",name:{kind:"Name",value:"shippingSummary"}},{kind:"Field",name:{kind:"Name",value:"startsAt"}},{kind:"Field",name:{kind:"Name",value:"endsAt"}},{kind:"Field",name:{kind:"Name",value:"isMaxPledge"}},{kind:"Field",name:{kind:"Name",value:"simpleShippingRulesExpanded"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cost"}},{kind:"Field",name:{kind:"Name",value:"estimatedMin"}},{kind:"Field",name:{kind:"Name",value:"estimatedMax"}},{kind:"Field",name:{kind:"Name",value:"locationId"}},{kind:"Field",name:{kind:"Name",value:"locationName"}}]}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Items"}}]}},{kind:"Field",name:{kind:"Name",value:"allowedAddons"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AddOns"}}]}},{kind:"Field",name:{kind:"Name",value:"postCampaignPledgingEnabled"}},{kind:"Field",name:{kind:"Name",value:"audienceData"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"secret"}}]}},{kind:"Field",name:{kind:"Name",value:"featured"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"AddOn"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Reward"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"AddOns"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RewardConnection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AddOn"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Items"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"RewardItemsConnection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"quantity"}},{kind:"Field",name:{kind:"Name",value:"position"}},{kind:"Field",name:{kind:"Name",value:"node"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}}]}}]}}]}}]}},PhMr:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,...t)=>n=>n[e](...t)},Pmti:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);i()((function(){i()(document).on("click",".js-click_select",(function(e){var t=document.createRange(),n=window.getSelection();t.setStartBefore(this.firstChild),t.setEndAfter(this.lastChild),n.removeAllRanges(),n.addRange(t),e.preventDefault()}))}))},Q4Yj:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("xG9w");const i={interpolate:/\{\{(.+?)\}\}/g};function r(e,t){return a.default.template(e,i)(t)}},QMTK:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var a=n("mv45"),i=n("eEls"),r=n("a8OY"),o=n("q1tI"),s=n.n(o),c=n("EoiL"),l=n("zSSS"),d=n("NP8z"),u=n("XXIi"),m=n("FXnB");const p=({rewardGroups:e,ctaProps:t,minPledge:n,preview:a,isInPostCampaignPledgingPhase:i})=>s.a.createElement("div",{className:"hide-rewards-sidebar"},s.a.createElement(m.a,Object.assign({},t,{isInPostCampaignPledgingPhase:i,preview:a,backedWithNoReward:Boolean(t.backing&&!t.backing.reward),variant:u.a.CampaignTab,minPledge:n})),e.map(([e,n])=>s.a.createElement("div",{key:e,className:"flex flex-column w50-lg"},s.a.createElement(c.a,{type:"subhead-500",weight:"normal",color:"support-700"},e),n.map(((e,t)=>n=>{var a,i;const r=Object(d.e)(null===(a=e.backing)||void 0===a||null===(i=a.reward)||void 0===i?void 0:i.id)===n.id;return s.a.createElement("li",{key:n.id,className:"mb3"},s.a.createElement(l.b,{backedByMe:r,ctaProps:e,isInPostCampaignPledgingPhase:t,reward:n,compact:!0}))})(t,i)))));var h=n("DI+Y"),f=n("c7Xp"),g=n("WEJ0"),_=n("PK0a");const b=Object(a.c)(e=>{if(e.data&&e.data.error)return Object(a.d)(e.data.error);if(!e.data||!e.data.project)return Object(a.d)();const{usdType:t,project:{minPledge:n,rewards:i,isInPostCampaignPledgingPhase:r}}=e.data;return Object(a.l)({rewardGroups:Object(g.a)(e.data.project.backing,i),minPledge:n,isInPostCampaignPledgingPhase:r,ctaProps:Object(d.d)({project:e.data.project,usdType:t||_.c.domestic,user:e.data.me,variant:u.a.CampaignTab,preview:e.ownProps.preview})})}),v=Object(h.graphql)(_.b,Object(f.a)(b)),k=Object(i.a)(v,r.b)(e=>Object(a.i)(e)?s.a.createElement(p,{ctaProps:e.ctaProps,minPledge:e.minPledge,preview:e.preview||!1,rewardGroups:e.rewardGroups,isInPostCampaignPledgingPhase:e.isInPostCampaignPledgingPhase}):null)},QUDP:function(e,t,n){"use strict";n.r(t),n.d(t,"renderFulfillmentStatusSelectorInModal",(function(){return u}));var a=n("VX74"),i=n("aiSh"),r=n("pj8f"),o=n("q1tI"),s=n.n(o),c=n("i8i4"),l=n.n(c),d=n("UDgH");const u=e=>{const t=document.getElementById("react-fulfillment-select-"+e),n=null==t?void 0:t.dataset.fulfillment_status,o=(null==t?void 0:t.dataset.project_id)||"";if(e&&t){const c=Object(i.a)(r.Honeybadger.notify.bind(r.Honeybadger));l.a.render(s.a.createElement(a.ApolloProvider,{client:c},s.a.createElement(d.a,{backingIds:[e],projectId:o,currentStatus:n})),t)}}},Qbqs:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r}));const a=({start:e=0,end:t=1}={})=>({entering:{opacity:e},entered:{opacity:t},exiting:{opacity:e},exited:{opacity:e}}),i=({start:e=0,end:t=1}={})=>({entering:{transform:`scale(${e})`},entered:{transform:`scale(${t})`},exiting:{transform:`scale(${e})`},exited:{transform:`scale(${e})`}}),r=({start:e="100%",end:t=0,direction:n="top"}={})=>{let a;"top"===n||"bottom"===n?a="Y":"left"!==n&&"right"!==n||(a="X");const i=`translate${a}(${"top"===n||"left"===n?"-":""}${e})`;return{entering:{transform:i},entered:{transform:`translate${a}(${t})`},exiting:{transform:i},exited:{transform:i}}}},QfO9:function(e,t,n){"use strict";var a=n("ese3"),i=n("GRmu"),r=n("+2Rf"),o=n.n(r);o()(document).on("click",".js-facebook-login, a.facebook-link",(function(e){const t=o()(this);e.preventDefault(),"undefined"!=typeof FB?FB.login((function(e){e.authResponse&&o.a.post(t.attr("href"),{fbsr:e.authResponse.signedRequest}).done((function(e){e.data&&Object(a.a)(e.data,window.location.href)?window.location.reload(!0):e.data?window.location=e.data:e.flash&&(o.a.isArray(e.flash)&&o.a.isArray(e.flash[0])?Object(i.a)(o.a.map(e.flash,(function(e){return e[e.length-1]}))):e.flash&&Object(i.a)(e.flash))}))}),{scope:"email,public_profile"}):Object(i.a)({error:"Sorry, we weren't able to connect to Facebook"})}))},"Qin/":function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var a=n("sEfC"),i=n.n(a),r=n("pTxv"),o=n("2DJ9"),s=n("mq2H"),c=n("wdXr"),l=n("94td"),d=n("TIPN"),u=n("kQ6V"),m=n("/IHD"),p=n("pe0Q"),h=n("O9a+"),f=n("Y0SK"),g=n("+2Rf"),_=n.n(g),b=n("q1tI"),v=n.n(b),k=n("mEsB"),y=n("55Ip");const E=({url:e,className:t,dataContent:n,name:a,onClick:i})=>v.a.createElement("a",{href:e,className:t,"data-content":n,onClick:i},a),j=({url:e,onClick:t,className:n,name:a})=>v.a.createElement(y.c,{to:e,onClick:t,className:n},a),w=({containerClasses:e,url:t,anchorClasses:n,dataContent:a,name:i,onClick:r,count:o,Component:s})=>v.a.createElement("div",{className:e},v.a.createElement("div",null,v.a.createElement(s,{url:t,onClick:r,className:n,name:i,dataContent:a}),void 0!==o&&v.a.createElement("sup",{className:"ml1 valign-super ksr-green-500 type-10"},o))),S=({atoms:e,isActive:t,jsLoadClass:n,skipNavItemClass:a,...i})=>v.a.createElement(w,Object.assign({containerClasses:Object(m.a)(e,!a&&"px4 py2 navItem",t&&"is-active"),anchorClasses:Object(m.a)("text-decoration-none hover-ksr-green-500 type-14 soft-black js-load-project-content",n)},i)),O=({atoms:e,isActive:t,...n})=>v.a.createElement(w,Object.assign({containerClasses:Object(m.a)(e,"subItem",t&&"is-active"),anchorClasses:"type-13 dark-grey-500 js-load-project-content js-load-project-description pointer"},n)),N=({config:e,LinkComponent:t,isActiveSection:n,handleActiveSectionChange:a,handleActiveSubSectionChange:i,shouldRenderSubItems:r})=>v.a.createElement(v.a.Fragment,null,Object.values(e).map(e=>{const{atoms:o,count:s,id:c,url:d,name:u,jsLoadClass:m,subItems:p,skipNavItemClass:h,shouldRender:f,isLocked:g}=e;return!1===f?null:g?v.a.createElement(k.a,{key:c,label:Object(l.b)("project_page.Unlocks_after_launch")},v.a.createElement("div",{className:"px4 py2 o30p not-allowed border-bottom"},u)):v.a.createElement(v.a.Fragment,{key:c},v.a.createElement(S,{key:c,Component:t,atoms:o,id:c,isActive:n(c),url:d,dataContent:c,jsLoadClass:m,name:u,onClick:()=>a(c,u),skipNavItemClass:h,count:s}),p&&r&&v.a.createElement("div",{className:"border-bottom border-grey-400"},p.map(e=>{const{atoms:a,id:r,url:o,trackingContext:s,name:c}=e;return v.a.createElement(O,{Component:t,key:r,atoms:a,id:r,isActive:n(r),url:o,onClick:e=>{e.preventDefault(),window.location.hash=r,i(r,c,s)},name:c})})))}));var C=n("l2NB");const I=e=>{const[t,n]=Object(b.useState)(!1),{pid:a,dispatch:i,state:r,watchProjectData:l,stickyTopAtom:g,usesRouter:_,navigationConfig:k,showRemindMe:y}=e,w=r.activeSection&&"updates".includes(r.activeSection.id),S=r.activeSection&&Object(f.c)(r.activeSection.id),O=w||S,{targetRef:I,isIntersecting:T}=Object(c.a)({threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]}),A=Object(m.a)("p1 fixed z9 w100p bg-white border-bottom border-gray-500  ",g);return v.a.createElement("div",{className:"hide-lg type-14 medium"},v.a.createElement("div",{ref:I},v.a.createElement("div",{id:"stickyNav",className:!T&&Object(f.b)(I.current)?"":"hide"},v.a.createElement("div",{className:"NS_projects__header_nav"},r&&r.activeSection&&v.a.createElement("div",{className:A},v.a.createElement("button",{className:"w55p-sm w100p text-left",onClick:()=>n(!0)},v.a.createElement("div",{className:"pointer p1 inline-block"},v.a.createElement(o.a,{name:"icon--campaign-outline",size:"medium",atoms:["mx1"]}),v.a.createElement("div",{className:"inline-block ml1 h3 type-13 medium text-uppercase bold valign-text-top"},r&&r.activeSection&&r.activeSection.name))),v.a.createElement("div",{className:"project-nav__buttons hide block-sm right w40p-sm mr3 text-right"},v.a.createElement(x,Object.assign({},e,{atoms:["mr3"]})),y&&v.a.createElement("div",{className:"inline-block"},v.a.createElement(p.a,{pid:a,initialIsWatched:l.isWatching},v.a.createElement(h.a,null))))),O&&v.a.createElement("div",{className:"fixed hide-sm b0 l0 r6 z9 p2"},v.a.createElement(x,Object.assign({},e,{atoms:["bottom","radius4px","w100p"]}))),v.a.createElement("div",{className:""+(t?"":"hide")},v.a.createElement("div",{className:"sidenav fixed l0 z-campaign-mobile-nav-drawer-3 "+g},v.a.createElement("div",{className:"p2 text-right"},v.a.createElement("button",{onClick:()=>n(!1),"aria-label":"close"},v.a.createElement(o.a,{name:"icon--cross",size:"medium",atoms:["right","bold","pointer","p1"]}))),v.a.createElement(N,{shouldRenderSubItems:S||!1,config:k,LinkComponent:_?j:E,isActiveSection:e=>void 0!==r.activeSection&&r.activeSection.id===e,handleActiveSectionChange:(e,t)=>{i(Object(C.a)({activeSection:{id:e,name:t}})),n(!1)},handleActiveSubSectionChange:(e,t)=>{Object(s.n)(s.d.CTA_CLICKED,{context_cta:s.c.RISKS,context_location:"side_nav"}),i(Object(C.a)({activeSection:{id:e,name:t,forceScroll:!0}})),Object(d.b)(e,Object(u.a)(["project-nav","admin-nav-wrap"])()||0,300),n(!1)}})))))))},x=({basePath:e,managePledge:t,backThisProject:n,atoms:a})=>v.a.createElement(v.a.Fragment,null,n&&v.a.createElement(r.b,{href:e+"pledge/new?clicked_reward=false",theme:"support",onClick:i()(()=>{const e=_()(".is-active.js-analytics-section[data-analytics]").data("analytics");return Object(s.n)(s.d.CTA_CLICKED,{context_cta:s.c.PLEDGE_INITIATE,context_location:"sticky_nav",context_section:e}),!0},400,{leading:!0,trailing:!1}),atoms:a},v.a.createElement(l.a,{i18nKey:"project_page.campaign_nav.Back_this_project"})),t&&v.a.createElement(r.b,{href:e+"pledge?clicked_reward=false",atoms:a,theme:"support"},v.a.createElement(l.a,{i18nKey:"project_page.campaign_nav.Manage_your_pledge"})))},QrAi:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=(n("RIhn"),n("1OuE"));i()(".js-adjust-time").livequery((function(){var e=i()(this);e.text(Object(r.a)(e.data("format"),e.attr("datetime"))),e.removeClass("invisible-if-js")}))},R3y7:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o}));const a=e=>({type:"INITIATE_WATCHING_UPDATE",project:e}),i=(e=null)=>({type:"WATCHING_UPDATE",successCallbackFn:e}),r=(e,t)=>({type:"WATCHING_UPDATE_SUCCESS",isWatching:e,pid:t}),o=()=>({type:"NOOP"})},RBqt:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("8Np1"),i=n("q1tI");const r=e=>i.createElement(a.a,Object.assign({},e,{tag:"span"}),e.children)},RK67:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return o}));const a="COMPONENT_ERROR",i="CUSTOM_ERROR",r=(e,t,n)=>({type:a,error:e,info:t,tags:n}),o=(e,t)=>({type:i,error:e,tags:t})},RWo0:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("94td");const i=e=>{const{isWatching:t,projectIsLaunched:n,projectCanRemind:i}=e;return t?Object(a.b)("project_page.back_and_star.Saved"):n?n&&i?Object(a.b)("project_page.back_and_star.Remind_me"):Object(a.b)("project_page.back_and_star.Save"):Object(a.b)("project_page.back_and_star.Notify_me_on_launch")}},RnbG:function(e,t,n){var a,i,r;r=function(){"use strict";var e,t,n=["webkit","Moz","ms","O"],a={};function i(e,t){var n,a=document.createElement(e||"div");for(n in t)a[n]=t[n];return a}function r(e){for(var t=1,n=arguments.length;t<n;t++)e.appendChild(arguments[t]);return e}function o(n,i,r,o){var s=["opacity",i,~~(100*n),r,o].join("-"),c=.01+r/o*100,l=Math.max(1-(1-n)/i*(100-c),n),d=e.substring(0,e.indexOf("Animation")).toLowerCase(),u=d&&"-"+d+"-"||"";return a[s]||(t.insertRule("@"+u+"keyframes "+s+"{0%{opacity:"+l+"}"+c+"%{opacity:"+n+"}"+(c+.01)+"%{opacity:1}"+(c+i)%100+"%{opacity:"+n+"}100%{opacity:"+l+"}}",t.cssRules.length),a[s]=1),s}function s(e,t){var a,i,r=e.style;if(void 0!==r[t=t.charAt(0).toUpperCase()+t.slice(1)])return t;for(i=0;i<n.length;i++)if(void 0!==r[a=n[i]+t])return a}function c(e,t){for(var n in t)e.style[s(e,n)||n]=t[n];return e}function l(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)void 0===e[a]&&(e[a]=n[a])}return e}function d(e,t){return"string"==typeof e?e:e[t%e.length]}var u,m={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",opacity:1/4,rotate:0,direction:1,speed:1,trail:100,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};function p(e){this.opts=l(e||{},p.defaults,m)}if(p.defaults={},l(p.prototype,{spin:function(t){this.stop();var n=this,a=n.opts,r=n.el=i(null,{className:a.className});if(c(r,{position:a.position,width:0,zIndex:a.zIndex,left:a.left,top:a.top}),t&&t.insertBefore(r,t.firstChild||null),r.setAttribute("role","progressbar"),n.lines(r,n.opts),!e){var o,s=0,l=(a.lines-1)*(1-a.direction)/2,d=a.fps,u=d/a.speed,m=(1-a.opacity)/(u*a.trail/100),p=u/a.lines;!function e(){s++;for(var t=0;t<a.lines;t++)o=Math.max(1-(s+(a.lines-t)*p)%u*m,a.opacity),n.opacity(r,t*a.direction+l,o,a);n.timeout=n.el&&setTimeout(e,~~(1e3/d))}()}return n},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=void 0),this},lines:function(t,n){var a,s=0,l=(n.lines-1)*(1-n.direction)/2;function u(e,t){return c(i(),{position:"absolute",width:n.scale*(n.length+n.width)+"px",height:n.scale*n.width+"px",background:e,boxShadow:t,transformOrigin:"left",transform:"rotate("+~~(360/n.lines*s+n.rotate)+"deg) translate("+n.scale*n.radius+"px,0)",borderRadius:(n.corners*n.scale*n.width>>1)+"px"})}for(;s<n.lines;s++)a=c(i(),{position:"absolute",top:1+~(n.scale*n.width/2)+"px",transform:n.hwaccel?"translate3d(0,0,0)":"",opacity:n.opacity,animation:e&&o(n.opacity,n.trail,l+s*n.direction,n.lines)+" "+1/n.speed+"s linear infinite"}),n.shadow&&r(a,c(u("#000","0 0 4px #000"),{top:"2px"})),r(t,r(a,u(d(n.color,s),"0 0 1px rgba(0,0,0,.1)")));return t},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}}),"undefined"!=typeof document){u=i("style",{type:"text/css"}),r(document.getElementsByTagName("head")[0],u),t=u.sheet||u.styleSheet;var h=c(i("group"),{behavior:"url(#default#VML)"});!s(h,"transform")&&h.adj?function(){function e(e,t){return i("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}t.addRule(".spin-vml","behavior:url(#default#VML)"),p.prototype.lines=function(t,n){var a=n.scale*(n.length+n.width),i=2*n.scale*a;function o(){return c(e("group",{coordsize:i+" "+i,coordorigin:-a+" "+-a}),{width:i,height:i})}var s,l=-(n.width+n.length)*n.scale*2+"px",u=c(o(),{position:"absolute",top:l,left:l});function m(t,i,s){r(u,r(c(o(),{rotation:360/n.lines*t+"deg",left:~~i}),r(c(e("roundrect",{arcsize:n.corners}),{width:a,height:n.scale*n.width,left:n.scale*n.radius,top:-n.scale*n.width>>1,filter:s}),e("fill",{color:d(n.color,t),opacity:n.opacity}),e("stroke",{opacity:0}))))}if(n.shadow)for(s=1;s<=n.lines;s++)m(s,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(s=1;s<=n.lines;s++)m(s);return r(t,u)},p.prototype.opacity=function(e,t,n,a){var i=e.firstChild;a=a.shadow&&a.lines||0,i&&t+a<i.childNodes.length&&(i=(i=(i=i.childNodes[t+a])&&i.firstChild)&&i.firstChild)&&(i.opacity=n)}}():e=s(h,"animation")}return p},e.exports?e.exports=r():void 0===(i="function"==typeof(a=r)?a.call(t,n,t,e):a)||(e.exports=i)},RwCH:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("94td"),i=n("q1tI"),r=n.n(i),o=n("3ZBc");const s={like:Object(a.b)("project_card.More_like_this"),dislike:Object(a.b)("project_card.Less_like_this")},c=({isActive:e,onClick:t,interaction:n})=>r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"hide-lg"},r.a.createElement(o.a,{interaction:n,isActive:e,hasBorder:!0,onClick:t,size:"large"})),r.a.createElement("div",{className:"hide block-lg mb1"},r.a.createElement(o.a,{interaction:n,isActive:e,hasShadow:!0,onClick:t,tooltipLabel:s[n]})))},S1QU:function(e,t,n){"use strict";var a=n("60hy"),i=n("2UXI");const r=Object(a.a)(window.current_checkout);r&&r.on_change(e=>{e.reward&&Object(i.d)("Checkout Reward Changed")}),window.current_checkout=r,t.a=r},SKdt:function(e,t,n){"use strict";var a=n("eEls"),i=n("JC/v"),r=n("PhMr"),o=n("MgNI");const s=Object(a.a)(e=>e.reduce((e,t)=>({...e,[t]:!0}),{}),e=>o.maybe.fromNullable(e).chain(Object(i.a)("className")).map(Object(r.a)("split",/\s+/)).getOrElse([]))(document.querySelector("body"));t.a=s},SdBH:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("lX80"),i=n("LdJi"),r=n("f/gE"),o=n("q1tI"),s=n.n(o);const c=({children:e,colProps:t,divProps:n,gridProps:o,renderGrid:c=!1})=>c?s.a.createElement("div",n,s.a.createElement(i.a,o,s.a.createElement(r.a,null,s.a.createElement(a.a,t,e)))):s.a.createElement(s.a.Fragment,null,e)},Sdzn:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));const a=(e,t,n="id")=>e.map(e=>e[n]!==t[n]?e:{...e,...t}),i=(e,t)=>t+1===e.length,r=e=>e.sort(()=>Math.random()-.5)},SiTU:function(e,t,n){var a=n("+2Rf");n("+2Rf");!function(e){e.support.transitionEvent=function(){return void 0!==window.TransitionEvent}}(a)},SmhT:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"g",(function(){return s})),n.d(t,"k",(function(){return c})),n.d(t,"l",(function(){return l})),n.d(t,"m",(function(){return d})),n.d(t,"n",(function(){return u})),n.d(t,"i",(function(){return m})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return h})),n.d(t,"h",(function(){return f})),n.d(t,"o",(function(){return g})),n.d(t,"j",(function(){return _}));const a=8,i=40,r=13,o=27,s=37,c=39,l=32,d=9,u=38,m=2,p=74,h=75,f=[65,66,67,68,69,70,71,72,73,p,h,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],g=e=>e>=66&&e<=90,_=[18,91,93,17,i,r,o,s,c,16,d,u,91,92,93,17,224]},T3Mw:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return s}));var a=n("q1tI"),i=n("UujG");const r=["h7","lh3","border-box"],o={placeholder:[...r],active:[...r],disabled:["border-grey-400","bg-grey-100"],enabled:["border-focused-within-ksr-green-500","hover-border-ksr-green-500"]},s=({atoms:e,...t})=>a.createElement(i.a,Object.assign({atoms:{...o,...e}},t))},T8n5:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("8Np1"),i=n("/IHD"),r=n("hPy8"),o=n("q1tI");const s=e=>o.createElement(r.c,null,t=>o.createElement(a.a,Object.assign({},e,{atoms:Object(i.b)(e.atoms,t.body.atoms),tag:"p"}),e.children))},TIPN:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c}));const a=(e={})=>{const t=document.getElementsByClassName("js-site-nav-container")[0],n=document.getElementsByClassName("js-admin-nav-wrap")[0],a=(t&&t.clientHeight||0)+(n&&n.clientHeight||0);return i({offset:a,...e})},i=({element:e=document.scrollingElement||document.body,to:t=0,duration:n=1e3,easing:a="easeInOutQuad",offset:i=0})=>{const o=e.scrollTop,s=t-o-i;let c;return new Promise(t=>{const i=l=>{c||(c=l);const d=(l-c)/n,u=Math.max(0,Math.min(1,d));e.scrollTop=o+r[a](u)*s,u<1?window.requestAnimationFrame(i):t()};window.requestAnimationFrame(i)})},r={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>e*(2-e),easeInOutQuad:e=>e<.5?2*e*e:(4-2*e)*e-1,easeInCubic:e=>e*e*e,easeOutCubic:e=>--e*e*e+1,easeInOutCubic:e=>e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1,easeInQuart:e=>e*e*e*e,easeOutQuart:e=>1- --e*e*e*e,easeInOutQuart:e=>e<.5?8*e*e*e*e:1-8*--e*e*e*e,easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>1+--e*e*e*e*e,easeInOutQuint:e=>e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e},o=(e=200)=>{i({to:0,duration:e})},s=(e,t=0,n=300)=>{const a=document.getElementById(e);if(a){const e=a.getBoundingClientRect().top,r=window.pageYOffset||document.documentElement.scrollTop;i({to:e+r,offset:t,duration:n})}},c=({ref:e,offset:t=0,duration:n})=>{if(e&&e.current){const a=e.current.getBoundingClientRect().top,r=window.pageYOffset||document.documentElement.scrollTop;i({to:a+r+1,offset:t,duration:n})}}},"TO/6":function(e,t,n){"use strict";n.r(t);var a=n("xG9w"),i=n("GRmu"),r=n("0VSk"),o=n("2UXI"),s=n("yQm5"),c=n.n(s),l=(n("q+rZ"),n("/AD1")),d=(n("+2Rf"),n("+2Rf"));d.fn.ksr_uploader=function(e){function t(t,n,a){return d.pollster(t,(function(t){return!!t.image_src&&(n.find(".success img.preview").attr("src",t.image_src).removeAttr("data-status_url"),d(".js-subs-preview").removeClass("o0p"),n.removeClass("encoding"),a.trigger("ksr_uploader:uploaded",[t]),e.after_encode&&e.after_encode(),!0)}),{delay:5e3})}return e=e||{},d(this).each((function(){var n,s,u=d(this),m=new RegExp(window.location.host+"|^/"),p=!u.attr("url").match(m),h=p?a.default.map(u.data("params"),(e,t)=>({name:t,value:e})):[{name:"new_style",value:!0}],f=u.siblings(".progress"),g=u.parent(),_=g.parent(),b=u.closest("form"),v=_.find(".success img.preview"),k=b.find("input[type=submit]"),y=k.map((function(){return d(this).val()})).get(),E=!1;function j(e){E=e,u.data("uploading",e)}function w(e){var a=e,i=b.find(".success");if("string"==typeof a)try{a=d.parseJSON(a)||{}}catch(e){a={}}j(!1),a.image_src&&i.find("img.preview").attr("src",a.image_src),a.id&&i.find("input.asset_id").val(a.id),v.attr("data-status_url",a.status_url),u.trigger("file_added",[a]),k.val((function(e){return y[e]})),_.removeClass("uploading"),_.addClass("has_file"),d(".js-subs-percentage").addClass("hide"),d(".js-subs-preview").addClass("o0p"),d(".js-subs-uploader-icon").addClass("hide"),a.status_url?n=t(a.status_url,_,u):u.trigger("ksr_uploader:uploaded",[a])}function S(e,t,n){var a=d.map(t.messages,(function(e){return e})),i=b.find(".js-asset-upload").attr("class");void 0===i&&(i=b.closest(".js-asset-upload").attr("class")),d.each(a,(function(t,a){Object(o.d)(e,{project_pid:l.a.data.id,type:n.type,file_size:n.size,context:i,error_description:a})}))}u.siblings("label").hide(),u.fileupload({dataType:"text",dropZone:g,pasteZone:null,url:u.attr("url"),type:"POST",replaceFileInput:!1,add:function(e,t){t.files[0].size<1?t.files=[]:(n&&n.stop(),s=t.submit(),j(!0),f.removeClass("finished"),_.addClass("uploading"),u.trigger("file_queued"),window.onbeforeunload=function(){if(E)return r.default.t("library.ksr_uploader.Your_upload_has_not_completed_yet_Click_Stay")})},submit:function(e,t){p?h.push({name:"success_action_redirect",value:d.support.xhrFormDataFileUpload?"":c()().path("/iframe_upload_catcher.html").fragment("").toString()}):h.push({name:"authenticity_token",value:d('meta[name="csrf-token"]').attr("content")}),t.formData=h},done:function(t,n){p?function(t){if("function"==typeof e.remote_upload_success)return void e.remote_upload_success.apply(u,arguments);var n=t.files[0];d.ajax({url:u.data("assetPath"),data:{file_name:encodeURIComponent(n.name),content_type:n.type,updated_at:(n.lastModifiedDate||new Date).getTime(),file_size:n.size,s3_key:a.default.findWhere(h,{name:"key"}).value},type:"POST",success:function(e){w(e)},error:function(){b.trigger("ksr_file_upload:reset"),j(!1),Object(i.a)({error:r.default.t("library.ksr_uploader.Could_not_upload_this_file")}),_.removeClass("uploading"),void 0!==l.a&&0===l.a.get("launched_at")&&S("Errored Project Asset Upload",t,n)}})}(n):w(n.result)},progress:function(e,t){var n=parseInt(t.loaded/t.total*100,10);f.find(".bar").css("width",n+"%"),f.find(".percentage").text(n+"%"),d(".js-subs-percentage").text(n+"%"),100===n&&(f.addClass("finished"),f.find(".percentage").text(r.default.t("library.ksr_uploader.Processing")),k.val(r.default.t("library.ksr_uploader.Processing_please_wait")),d(".js-subs-percentage").text("Processing..."))},fail:function(e,t){u.trigger("error"),b.trigger("ksr_file_upload:reset"),j(!1),Object(i.a)({error:r.default.t("library.ksr_uploader.There_was_an_error_with_this_file_Please_try_a_different")}),k.val((function(e){return y[e]})),_.removeClass("uploading"),void 0!==l.a&&0===l.a.get("launched_at")&&S("Failed Project Asset Upload",t,t.files[0])}}),v.data("status_url")&&(n=t(v.data("status_url"),_,u),v.removeAttr("status_url")),g.on("pollster:stop",(function(){n&&n.stop()})),g.on("ksr_file_upload:cancel cancel",(function(){s&&s.abort(),b.trigger("ksr_file_upload:reset"),u.trigger("error"),j(!1)})),g.on("destroy",(function(){g.trigger("ksr_file_upload:cancel")})),g.on("resize",(function(){g.find("object").attr("width",g.outerWidth()).attr("height",g.outerHeight())}))}))}},"Tge+":function(e,t,n){"use strict";n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return v})),n.d(t,"b",(function(){return k})),n.d(t,"c",(function(){return y})),n.d(t,"a",(function(){return O}));var a=n("q1tI"),i=n.n(a),r=n("0fse"),o=n("SmhT"),s=n("eEls"),c=n("udTa"),l=n("/IHD"),d=n("2DJ9"),u=n("2UXI"),m=n("RBqt"),p=n("94td");const h=(e=null)=>({isOpen:!1,currentIndex:e,highlightedIndex:e,isKeySelectionEngaged:!1}),f=()=>({type:"TOGGLE_SELECT"}),g=({currentTarget:e})=>({type:"ON_BLUR",currentTarget:e}),_=(e,t,n)=>({type:"CHANGE_SELECTED_INDEX",e:e,newSelectedIndex:t,trackingId:n}),b=e=>({type:"CHANGE_HIGHLIGHTED_INDEX",newHighlightedIndex:e}),v=e=>(t=h(),n)=>{switch(n.type){case"TOGGLE_SELECT":return Object(r.f)({...t,isOpen:!t.isOpen,highlightedIndex:t.currentIndex},r.a.none);case"CLOSE_SELECT":return Object(r.f)({...t,isOpen:!1},r.a.none);case"ON_BLUR":return Object(r.f)(t,r.a.run(S,{args:[n.currentTarget]}));case"CHANGE_SELECTED_INDEX":const a=k(t,n.newSelectedIndex),i=a.currentIndex!==t.currentIndex?r.a.run(E,{args:[e,n.trackingId]}):r.a.none;return Object(r.f)(a,r.a.list([r.a.run(j,{args:[n.e]}),i],{batch:!0}));case"ON_KEYDOWN":return Object(r.f)(t,r.a.action(w(n.e,t.isOpen,n.options)));case"ON_VALID_KEYDOWN":return y(t,n.keyCode,n.options);case"CHANGE_HIGHLIGHTED_INDEX":return{...t,highlightedIndex:n.newHighlightedIndex};case"NOOP":default:return t}},k=(e,t=e.highlightedIndex)=>t!==e.currentIndex?{...e,currentIndex:t,isOpen:!1,isKeySelectionEngaged:!1}:{...e,isOpen:!1,isKeySelectionEngaged:!1},y=(e,t,n)=>{if(Object(o.o)(t)){const a=n.findIndex(e=>e.label.charAt(0).toUpperCase().charCodeAt(0)==t);return{...e,currentIndex:a,highlightedIndex:a,isKeySelectionEngaged:!0}}switch(t){case o.l:return e.isOpen?k(e):{...e,isOpen:!0};case o.c:return e.isOpen?k(e):{...e};case o.d:return{...e,isOpen:!1,highlightedIndex:e.currentIndex,isKeySelectionEngaged:!1};case o.n:const t=e.highlightedIndex-1,a=0,i=Math.max(t,a);return{...e,highlightedIndex:i,isKeySelectionEngaged:!0};case o.b:const r=n.length-1,s=e.highlightedIndex+1,c=Math.min(s,r);return{...e,highlightedIndex:c,isKeySelectionEngaged:!0};default:return e}},E=(e,t)=>{Object(u.d)("Selected Item",{context:e,id:t})},j=e=>{e.stopPropagation()},w=(e,t,n)=>{const a=[o.c,o.l,o.d,o.b,o.n,...o.h];return e.which===o.m&&t?(e.preventDefault(),{type:"NOOP"}):a.includes(e.which)?(e.preventDefault(),((e,t)=>({type:"ON_VALID_KEYDOWN",keyCode:e,options:t}))(e.which,n)):{type:"NOOP"}},S=Object(c.a)(0,e=>e.contains(document.activeElement)?{type:"NOOP"}:{type:"CLOSE_SELECT"}),O=({atoms:e=[],placeholder:t,state:n,onStateChange:a,onBlur:r,options:o,small:c,titleString:d,toLabel:u,toId:m,hasErrors:p=!1,shadow:h=!0})=>{const{isOpen:v,currentIndex:k,highlightedIndex:y}=n,E=c?"h7":"h9",j=c?"body-100":"subhead-300",w=c?"py1":"py2",S=c?"px2 px3-sm":"px3",O=Object(l.a)("absolute","w100p","shadow-3","border","shadow-card","scroll-y","max-h50","p1","bg-white","mt1","mb10","radius2px","z-dropdown-3","border-box",j,e,"border-soft-black",!v&&"visually-hide"),I=null!==k?o[k]:null,x=o.map((e,t)=>{const n=k===t,r=y===t;return i.a.createElement(C,{key:t,onOptionSelect:Object(s.a)(a,_),onOptionHover:Object(s.a)(a,b),option:e,index:t,isCurrent:n,isHighlighted:r,isOpen:v,toLabel:u,toId:m,typeSize:j,yPaddingClass:w})}),T=Object(s.a)(a,g,e=>(r&&r(),e));return i.a.createElement("div",{className:"navy-700"},d&&i.a.createElement("label",{className:"type-13 type-14-md medium mb2 soft-black","aria-hidden":"true"},d),i.a.createElement("div",{role:"listbox","aria-labelledby":"custom-select-heading-label",onBlur:T,onKeyDown:Object(s.a)(a,e=>((e,t)=>({type:"ON_KEYDOWN",options:e,e:t}))(o,e)),className:"relative w100p pointer input-keyboard-focusable-soft-black"},i.a.createElement(N,{onDropdownContainerClick:Object(s.a)(a,f),label:I?u(I):t,color:I?"soft-black":"dark-grey-500",heightSize:E,shadow:h,typeSize:j,yPaddingClass:w,xPaddingClasses:S,hasErrors:p}),i.a.createElement("ul",{className:O,role:"presentation"},x)))},N=({color:e,heightSize:t,hasErrors:n,label:a,onDropdownContainerClick:r,shadow:o,typeSize:s,yPaddingClass:c,xPaddingClasses:u})=>{const h=o?"border-transparent":"border-grey-400",f=Object(l.a)(o&&"shadow-hover","border",n?"border-red-400":h,"hover-border-soft-black","transition-all","radius2px",c,u,"bg-white flex","items-center",o&&"shadow-2",t,"input-keyboard-focusable-soft-black");return i.a.createElement("div",{className:f,onClick:r,"aria-hidden":"true","aria-label":Object(p.b)("components.custom_select.select_an_option"),tabIndex:"0"},i.a.createElement(m.a,{id:"custom-select-heading-label",type:s,atoms:["grow1","text-truncate","pr1","book",e]},a),i.a.createElement(d.a,{name:"delta-down",size:"10",atoms:["shrink0"]}))},C=({option:e,index:t,isOpen:n,onOptionSelect:a,onOptionHover:r,isCurrent:o,isHighlighted:s,toLabel:c,toId:l,typeSize:u,yPaddingClass:p})=>{const h=["px2 flex items-center transition-all lh3 soft-black"].concat(s?["bg-grey-400"]:[]).concat([p]).join(" ");return i.a.createElement("li",{role:"option",tabIndex:n?"0":"-1","aria-selected":o,onClick:n=>a(n,t,l(e)),onMouseOver:()=>r(t),className:h,onKeyDown:()=>{},onFocus:()=>{}},i.a.createElement(m.a,{id:"custom-select-heading-label",type:u,atoms:["mr2"]},c(e)),o&&i.a.createElement("span",{className:"radius100p shrink0 h3 w3 bg-ksr-green-400 inline-flex justify-center items-center"},i.a.createElement(d.a,{name:"check",size:"9",atoms:["relative","fill-white"]})))}},Tmao:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n("cxMJ"),i=n("8Exb"),r=n("dPds"),o=n("94td"),s=n("ZCIj"),c=n("q1tI"),l=n.n(c);const d=({isCreator:e})=>e&&null===s.b.getItem("creator_tab_displayed_name")?l.a.createElement(a.a,{title:Object(o.b)("project_creator.Creators_notice_title"),"aria-label":Object(o.b)("project_creator.Creator_displayed_name_notice_accesilibility_label"),persistent:!0,atoms:"kds-mb-04"},l.a.createElement(r.a.BodyMD,{as:"p",className:"kds-mb-01"},l.a.createElement(o.a,{i18nKey:"project_creator.Displayed_name_notice_text",helpCenterLink:l.a.createElement(i.a,{href:"https://help.kickstarter.com/hc/articles/115005126954",target:"_blank"},Object(o.b)("project_creator.Learn_more_link"))}))):null},Tuxz:function(e,t,n){var a=n("+2Rf");n("+2Rf");!function(e){var t=e("meta[name=csrf-token]").attr("content"),n=e("meta[name=csrf-param]").attr("content");e(document).on("click","a[data-method]",(function(a){var i=e(this),r=i.prop("href"),o=i.data("method"),s=i.prop("target"),c=e('<form method="post" action="'+r+'"></form>'),l='<input name="_method" value="'+o+'" type="hidden" />';void 0!==n&&void 0!==t&&(l+='<input name="'+n+'" value="'+t+'" type="hidden" />'),s&&c.prop("target",s),c.hide().append(l).appendTo("body"),c[0].submit(),a.preventDefault()})),t&&e.ajaxPrefilter((function(e,n,a){e.crossDomain||a.setRequestHeader("X-CSRF-Token",t)}))}(a)},U5Hm:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));const a=Object.freeze({LG:1024,MD:794,SM:599}),i=()=>{if("object"==typeof window)return window.innerWidth>a.LG?"lg":window.innerWidth>a.MD?"md":window.innerWidth>a.SM?"sm":"xs"}},U6FK:function(e,t,n){"use strict";var a=n("h4vE"),i=n("mq2H"),r=n("v+Hr"),o=n("SmhT"),s=n("DQv1"),c=n("2UXI"),l=n("0VSk"),d=n("+2Rf"),u=n.n(d),m=n("xG9w"),p=n("yQm5"),h=n.n(p);Object(a.a)("#NS__discover_advanced_sentence",(function(e){var t=e.find("form"),n=e.find(".js-sentence"),a=e.find(".js-filter.js-filter-search"),d=e.find(".js-filter.js-filter-category"),p=e.find(".js-filter.js-filter-recommended"),f=e.find(".js-filter.js-filter-staff_picks"),g=e.find(".js-filter.js-filter-starred"),_=e.find(".js-filter.js-filter-backed"),b=e.find(".js-filter.js-filter-social"),v=e.find(".js-filter.js-filter-tag"),k=e.find(".js-filter.js-filter-state"),y=e.find(".js-filter.js-filter-goal"),E=e.find(".js-filter.js-filter-pledged"),j=e.find(".js-filter.js-filter-raised"),w=e.find(".js-filter.js-filter-location"),S=e.find(".js-filter.js-filter-sorts"),O=e.find(".js-close"),N=u()(".js-sentence-container"),C=u()(".js-category-hero");function I(e,t){return t=t||{},u()('<span class="'+m.default.compact(m.default.flatten(["display-none inline-block-sm mr2",t.classes])).join(" ")+'">'+e+"</span>")}function x(e,t){return u()('<span class="block inline-block-sm"></span>').append(e).append(t)}function T(e){const n="en"===l.default.locale;var i,r=u()("<div></div>"),o=[],s=[];if((e=e||A()).state=e.state||"all",e.term=u.a.trim(e.term||""),r.append(I(l.default.t("onloads.views.discover.sentence.Show_me"))),"all"===e.state&&0===e.term.length?(r.append(d),r.append(I(l.default.t("onloads.views.discover.sentence.projects"))),d.find("option:first").data("alt-label",l.default.t("onloads.views.discover.sentence.all"))):("all"!==e.state&&r.append(k),e.term.length>0&&r.append(a),r.append(I(l.default.t("onloads.views.discover.sentence.projects_in"))),r.append(d),d.find("option:first").data("alt-label",l.default.t("onloads.views.discover.sentence.All_Categories"))),e.category_id&&parseInt(e.category_id,10)>0?(d.hasClass("js-filter")||d.addClass("selected"),d.find("select").ksr_val(e.category_id),d.find(".js-filter-arrow").addClass("display-none").removeClass("inline-block"),d.find(".js-filter-delete").removeClass("display-none").addClass("inline-block")):(d.hasClass("js-filter")||d.removeClass("selected"),d.find("select").ksr_val(""),d.find(".js-filter-arrow").removeClass("display-none").addClass("inline-block"),d.find(".js-filter-delete").addClass("display-none").removeClass("inline-block")),k.find("select").ksr_val(e.state),a.find("input").val(e.term),a.find(".term").text(e.term),e.woe_id&&parseInt(e.woe_id,10)>0?(w.hasClass("js-filter")||w.addClass("selected"),w.find("select").ksr_val(e.woe_id),w.find(".js-filter-arrow").addClass("display-none").removeClass("inline-block"),w.find(".js-filter-delete").removeClass("display-none").addClass("inline-block"),r.append(x(I(l.default.t("onloads.views.discover.sentence.from")),w))):"distance"!==e.sort&&(w.hasClass("js-filter")||w.removeClass("selected"),w.find("select").ksr_val("0"),w.find(".js-filter-arrow").removeClass("display-none").addClass("inline-block"),w.find(".js-filter-delete").addClass("display-none").removeClass("inline-block"),n?r.append(x(I(l.default.t("onloads.views.discover.sentence.on")),w)):r.append(w)),e.tag_id>0&&(v.find("select").ksr_val(e.tag_id),r.append(x(I(l.default.t("onloads.views.discover.sentence.tagged_with")),v))),e.recommended&&o.push(p),e.staff_picks&&o.push(f),e.social?o.push(b):b.find("select").ksr_val("1"),e.starred?o.push(g):g.find("select").ksr_val("1"),e.backed?o.push(_):_.find("select").ksr_val("1"),(o=m.default.compact(o)).length>0&&(n&&(i=r,function(e){return e===_||e===g}(o[0])?i.append(I(l.default.t("onloads.views.discover.sentence.that"))):i.append(I(l.default.t("onloads.views.discover.sentence.that_are")))),r.append(o)),m.default.isUndefined(e.pledged)||m.default.isNull(e.pledged)||""===e.pledged||(E.find("select").ksr_val(e.pledged),s.push(E)),m.default.isUndefined(e.goal)||m.default.isNull(e.goal)||""===e.goal||(y.find("select").ksr_val(e.goal),s.push(y)),m.default.isUndefined(e.raised)||m.default.isNull(e.raised)||""===e.raised||(j.find("select").ksr_val(e.raised),s.push(j)),s.length>0){const e=n?l.default.t("onloads.views.discover.sentence.with"):"";r.append(x(I(e),s))}S.find("select").ksr_val(e.sort),"distance"===e.sort?r.append(x(S)):r.append(x(I(l.default.t("onloads.views.discover.sentence.sorted_by")),S)),t.children().detach(),t.empty(),t.html(r)}function A(){var e=h()("?"+t.serialize()).query(!0);return e.category_id=e.category_id&&parseInt(e.category_id,10),e.tag_id=e.tag_id&&parseInt(e.tag_id,10),e.woe_id=e.woe_id&&parseInt(e.woe_id,10),e}function D(e){!function(e){var t,n,a,o;if("category_id"===(null==e?void 0:e.param)&&"remove"===(null==e?void 0:e.action)&&(null===(t=window.ksr_track_properties)||void 0===t||(null===(n=t.discover)||void 0===n||delete n.discover_category_name),null===(a=window.ksr_track_properties)||void 0===a||(null===(o=a.discover)||void 0===o||delete o.discover_subcategory_name)),e.action&&"remove"===e.action)return;if("category_id"===(null==e?void 0:e.param)&&"change"===(null==e?void 0:e.action)&&Object(i.b)(e.category),"sort"===(null==e?void 0:e.param)&&"change"===(null==e?void 0:e.action)){const t=h()().query(!0).ref;return void Object(i.n)(i.d.CTA_CLICKED,{context_cta:i.c.DISCOVER_SORT,context_type:Object(i.l)(e.sort),context_location:void 0===t?"discover_advanced":Object(r.c)(t)})}const s=e.category,c=e.changed?e.changed:e.param,l=Object(i.k)(),d=s?Object(i.j)({...s,type:"category"}):Object(i.i)(c);Object(i.n)(i.d.CTA_CLICKED,{context_cta:i.c.DISCOVER_FILTER,context_location:"discover_advanced",context_type:d},l)}(e);var t={discover_interaction_param:e.param,discover_interaction_action:e.action,discover_interaction_value:e.value};m.default.extend(t,Object(c.c)("discover",A()))}u()(document).on("discovery:filters:term_changed",(function(e,n){u.a.trim(n.term).length&&a.closest(t).length?a.find("input").val(n.term).siblings(".term").text(n.term):T(m.default.extend(A(),{term:n.term}))})),u()(document).on("discovery:categories:changed",(function(e,t){d.find("select").ksr_val(t.id||0),T(),u()(document).trigger("discovery:sentence:changed",A()),D({param:"category_id",action:"change",category:t})})),u()(document).on("discovery:locations:changed",(function(e,t){w.find("select").ksr_val(t.id||0),T(),u()(document).trigger("discovery:sentence:changed",A()),D({param:"woe_id",action:"change"})})),u()(document).on("discovery:sorts:changed",(function(e,t){S.find("select").ksr_val(t),T(),u()(document).trigger("discovery:sentence:changed",A()),D({param:"sort",action:"change",sort:t})})),u()(document).on("discovery:locations:updated",(function(e,t){w.find("select").children().remove(),w.find("select").append(Object(s.a)("discover/_location_options",t)),w.find("select").ksr_val(t.id)})),u()(document).on("discovery:filters:changed",(function(e,t){T(m.default.extend(A(),t)),u()(document).trigger("discovery:sentence:changed",A()),D({param:"term",action:"change",changed:t.changedFilter})})),e.find("#filters").on("click",(function(e){e.preventDefault()})),e.on("change","select",(function(){var e=u()(this);T(),u()(document).trigger("discovery:sentence:changed",A()),D({param:e.attr("name"),action:"change",value:e.val()})})),e.on("click",".js-filter-delete",(function(e){var t=u()(this);t.closest(".js-filter").detach(),T(),u()(document).trigger("discovery:sentence:changed",A()),D({param:t.siblings("input,select").attr("name"),action:"remove"}),e.preventDefault()})),e.on("keypress cut paste input blur",".search span[contenteditable], .js-filter-search span[contenteditable]",(function(e){var t=u()(this),n=t.siblings("input"),a=u.a.trim(t.text()||"");"blur"===e.type||"focusout"===e.type?(T(),D({param:n.attr("name"),value:n.val(),action:"change"})):"keypress"!==e.type||e.keyCode!==o.c&&e.keyCode!==o.m?(n.val(a),u()(document).trigger("discovery:sentence:term_changed",A())):(t.blur(),e.preventDefault())})),e.find(".term").on("focus",(function(){a.removeClass("shadow-2 border-transparent").addClass("border-dark-grey-500")})).on("blur",(function(){a.addClass("shadow-2 border-transparent").removeClass("border-dark-grey-500")})),u()(document).on("discovery:sentence:changed",(function(){N.is(":visible")&&O.hide()})),u()(document).on("discovery:sentence:load_sample",(function(e,t){T(t),u()(document).trigger("discovery:sentence:changed",A())})),u()(document).on("discovery:sentence:update_params",(function(e,t){var n=m.default.extend(A(),t);T(n),u()(document).trigger("discovery:sentence:changed",n)})),u()(document).on("discovery:sentence:show_sentence",(function(){e.css({height:C.outerHeight()}),setTimeout((function(){e.addClass("transition-all-bezier"),N.removeClass("hide"),e.css({height:n.outerHeight()})}),1),setTimeout((function(){e.removeClass("transition-all-bezier"),e.css({height:"auto"}),N.aria_set_visible()}),1e3),O.hide()})),T()}))},U98V:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("+2Rf"),i=n.n(a);const r=e=>{((e,t)=>{const n=i()(e).find("#"+t);!i()(e).find("iframe").length&&(n.length&&(n.empty(),window.grecaptcha.ready((function(){window.grecaptcha.render(t,{sitekey:window.recaptcha_v2_site_key})}))))})(e,"g-recaptcha-container-v2"),((e,t,n)=>{const a=i()(e).find("#"+t);a.length&&window.grecaptcha.ready((function(){return a.empty(),window.grecaptcha.execute(window.recaptcha_v3_site_key,{action:n}).then((function(e){a[0].value=e})),!0}))})(e,"g-recaptcha-response-v3","send_message")}},UDgH:function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return _}));var a=n("ZCHx"),i=n("mv45"),r=n("94td"),o=n("GRmu"),s=n("a8OY"),c=n("q1tI"),l=n.n(c),d=(n("VX74"),n("DE4Y"));const u={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SetFulfillmentStatus"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SetBackingFulfillmentStatusesInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"setBackingFulfillmentStatuses"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatedBackingCount"}}]}}]}}]};const m={[d.w.delayed]:Object(r.b)("backer_report.fulfillment_status.delayed"),[d.w.in_progress]:Object(r.b)("backer_report.fulfillment_status.in_progress"),[d.w.not_started]:Object(r.b)("backer_report.fulfillment_status.unfulfilled"),[d.w.shipped]:Object(r.b)("backer_report.fulfillment_status.shipped")};var p=n("DI+Y");const h=Object(i.b)(e=>({onSet:t=>e.mutate({variables:{input:{newFulfillmentStatus:t,projectId:e.ownProps.projectId,backingIds:e.ownProps.backingIds}}}).then(e=>{var t;return Boolean(e&&e.data&&(null===(t=e.data.setBackingFulfillmentStatuses)||void 0===t?void 0:t.updatedBackingCount))||!1}).catch(()=>!1)})),f=Object(p.graphql)(u,h),g=()=>[d.w.not_started,d.w.in_progress,d.w.shipped,d.w.delayed].map(e=>({label:m[e],value:e})),_=Object(i.a)(f,s.b)(e=>{const{currentStatus:t,onSet:n}=e,[i,s]=Object(c.useState)(t),[d,u]=Object(c.useState)(!1);return l.a.createElement(a.a,{options:g(),selectedValue:i,onChange:e=>{n(e).then(t=>{t?s(e):(u(!0),Object(o.a)({error:Object(r.b)("global.error.Something_went_wrong")}))})},placeholder:Object(r.b)("backer_report.backer_report_table.Select"),hasErrors:d})})},UNyc:function(e,t,n){"use strict";n.d(t,"a",(function(){return le}));var a=n("2DJ9"),i=n("ObC8"),r=n("94td"),o=n("c7Xp"),s=n("2UXI"),c=n("q1tI"),l=n.n(c),d=n("gN63");var u=n("tr1H"),m=n("pj8f");const p={context:{tags:u.a.SYSINT}},h=(e,t)=>{m.Honeybadger.notify(e+JSON.stringify(t),p)},f=()=>{var e;const t=document.createElement("a");return t.href=null===(e=window.current_project.data.urls)||void 0===e?void 0:e.web.project,encodeURIComponent(t.pathname)},g=e=>"project_page.flagging."+e,_=e=>Object(r.b)(g(e)),b=l.a.createElement("a",{target:"blank",href:"/rules?ref=project-page-report"},_("Our_rules")),v=l.a.createElement("a",{target:"blank",href:"/rules/prohibited?ref=project-page-report"},_("Prohibited_items")),k=l.a.createElement("a",{target:"blank",href:"/help/community?ref=project-page-report"},_("Community_guidelines")),y=l.a.createElement("a",{target:"blank",href:"/help/copyright?ref=project-page-report"},_("Copyright_policy")),E=l.a.createElement("a",{target:"blank",href:"/help/trademark?ref=project-page-report"},_("Trademark_policy")),j=(_("Here"),({isSelected:e})=>{const t=["radius100p","shrink0","h4","w4","inline-flex","justify-center","items-center",e?"bg-ksr-green-700":"bg-grey-500"].join(" ");return l.a.createElement("span",{className:t},l.a.createElement(a.a,{name:"check",size:"12",atoms:["relative","fill-white"]}))});var w=n("SmhT"),S=n("RBqt"),O=n("/IHD");const N=({id:e,name:t,option:n,isSelected:a,onChange:i,onClick:r,onKeyDown:o,hoverable:s,groupIsUnselected:c})=>{const{expandedComponent:d,label:u,value:m,subheader:p}=n,h=c||a,f=p&&!a,g=d&&a,_=["border","border-grey-400","border","no-outline","mb1","transition-300","radius2px",s?"hover-border-ksr-green-700":""].join(" "),b=l.a.createElement("div",{className:Object(O.a)(_),"aria-checked":a,role:"radio"},l.a.createElement("label",{htmlFor:e,className:"flex p2 pointer",tabIndex:"0",onKeyDown:o},l.a.createElement("div",{zindex:"1",role:"radio","aria-checked":a},l.a.createElement("input",{type:"radio",name:t,id:e,value:m,className:"super-hide",onChange:i,onClick:r,checked:a,"aria-checked":a}),l.a.createElement("div",{className:"mr2"},l.a.createElement(j,{isSelected:a}))),l.a.createElement("div",{className:"grow1"},l.a.createElement(S.a,{type:"body-100",color:"soft-black",atoms:["block"],weight:"regular"},u),f&&l.a.createElement(S.a,{type:"caption-200",color:"dark-grey-500",weight:"regular"},p))),g&&l.a.createElement("div",{className:"border-grey-400 p2"},d));return l.a.createElement("div",null,h&&b)},C=[w.l,w.c];class I extends l.a.Component{constructor(e){super(e),this.handleStateChange=e=>{this.setState(()=>({selectedOptionIndex:e,hoverable:!this.state.hoverable}))},this.handleChange=(e,t,n)=>{this.handleStateChange(n)},this.handleToggle=(e,t)=>{e.target&&e.target.focus();const n=null!=t&&t===this.state.selectedOptionIndex?null:t;this.handleStateChange(n)},this.handleClick=(e,t,n)=>{this.handleToggle(e,n)},this.handleKeyDown=(e,t,n)=>{if(e.target===e.currentTarget&&C.includes(e.keyCode))switch(e.keyCode){case w.l:case w.c:this.handleToggle(e,n);default:return null}},this.render=()=>{const e=null===this.state.selectedOptionIndex,t=this.options.map((t,n)=>{const a=this.state.selectedOptionIndex===n,i=`${this.id}-radio-option-${n}`;return l.a.createElement(N,{isSelected:a,groupIsUnselected:e,onChange:e=>this.handleChange(e,t,n),onClick:e=>this.handleClick(e,t,n),onKeyDown:e=>this.handleKeyDown(e,t,n),option:t,hoverable:this.state.hoverable,key:i,id:i,name:this.id})});return l.a.createElement("div",{id:this.id,role:"radiogroup"},t)},this.id=e.id,this.options=e.options,this.state={selectedOptionIndex:null,hoverable:!0}}}var x=n("pTxv"),T=n("DRAL");class A extends l.a.Component{constructor(...e){super(...e),this.state={details:"",link:"",flaggingFormStatus:"flagging unsubmitted"},this.handleTextAreaChange=e=>{e.persist(),this.setState(()=>({details:e.target.value}))},this.handleLinkChange=e=>{e.persist(),this.setState(()=>({link:e.target.value}))},this.formatDetails=e=>""==e?null:e.substring(0,6e4),this.getFormData=()=>{const{link:e,details:t}=this.state;return{link:""!==e?e:null,details:this.formatDetails(t),kind:this.props.kind}},this.handleFormFailure=e=>{h("Submit for project flagging (aka project reporting) status failed: ",e),this.setState(()=>({flaggingFormStatus:"flagging failed"}))},this.handleSuccess=()=>{this.props.onSuccess(this.props.isPostFundingIssue)},this.handleFormResponse=e=>{e.errors||null===e.data.createFlagging.flagging.kind?this.handleFormFailure(e):(this.setState(()=>({flaggingFormStatus:"flagging created"})),this.handleSuccess())},this.handleFormSubmit=()=>{this.setState(()=>({flaggingFormStatus:"flagging submitted"})),Object(T.b)(this.getFormData(),Object(o.b)()).then(e=>{this.handleFormResponse(e)}).catch(e=>{this.handleFormFailure(e)})},this.textAreaAreDisabled=()=>"flagging submitted"===this.state.flaggingFormStatus||"flagging created"===this.state.flaggingFormStatus,this.detailsAreaIsValid=()=>""!==this.state.details,this.componentWillUnmount=()=>{document.removeEventListener("click",this.handleFormSubmit),document.removeEventListener("change",this.handleTextAreaChange),document.removeEventListener("change",this.handleLinkChange)},this.detailsArea=()=>l.a.createElement("textarea",{id:"project-report-details",role:"textbox","aria-multiline":"true",onChange:this.handleTextAreaChange,value:this.state.details,className:"textarea mb2 p2 text-10",rows:this.props.detailsRows,disabled:this.textAreaAreDisabled(),placeholder:this.props.detailsPlaceholder}),this.linkAreaIsValid=()=>""!==this.state.link,this.linkArea=()=>l.a.createElement("textarea",{id:"project-report-link",role:"textbox",onChange:this.handleLinkChange,value:this.state.link,className:"textarea text-10",rows:this.props.linkRows,disabled:this.textAreaAreDisabled(),placeholder:this.props.linkPlaceholder}),this.submitButtonIsDisabled=()=>!(!this.props.requireDetails||this.detailsAreaIsValid())||!(!this.props.requireLink||this.linkAreaIsValid()),this.submitButtonDefaultState=()=>l.a.createElement(x.b,{theme:"trust",id:"project-report-submit",disabled:this.submitButtonIsDisabled(),onClick:this.handleFormSubmit},_("Report_project_submit")),this.submitButtonLoadingState=()=>l.a.createElement("div",null,l.a.createElement(a.a,{size:"large",name:"icon--circle-loader",atoms:["ml1"]}),l.a.createElement("em",{className:"ml2 dark-grey-300"},_("Submitting"))),this.submitButtonFailedState=()=>l.a.createElement("p",{className:"red ml1"},_("Flagging_failed_message")),this.submitButtonCreatedState=()=>l.a.createElement("div",null),this.submitButton=()=>{switch(this.state.flaggingFormStatus){case"flagging submitted":return this.submitButtonLoadingState();case"flagging failed":return this.submitButtonFailedState();case"flagging created":return this.submitButtonCreatedState();default:return this.submitButtonDefaultState()}},this.render=()=>l.a.createElement("div",{role:"form"},l.a.createElement("div",{className:"field mt2"},this.props.collectDetails&&this.detailsArea(),this.props.collectLink&&this.linkArea(),this.submitButton()))}}A.defaultProps={collectLink:!1,collectDetails:!0,detailsRows:"4",linkRows:"1",detailsPlaceholder:_("Please_tell_us_more"),linkPlaceholder:_("Please_provide_us_with_a_link"),requireDetails:!0,requireLink:!1,kind:null,onSuccess:null,isPostFundingIssue:!1};const D={VICES_DRUGS:"VICES_DRUGS",VICES_ALCOHOL:"VICES_ALCOHOL",VICES_WEAPONS:"VICES_WEAPONS",HEALTH_CLAIMS:"HEALTH_CLAIMS",HEALTH_REGULATIONS:"HEALTH_REGULATIONS",HEALTH_GMOS:"HEALTH_GMOS",HEALTH_LIVE_ANIMALS:"HEALTH_LIVE_ANIMALS",HEALTH_ENERGY_FOOD_AND_DRINK:"HEALTH_ENERGY_FOOD_AND_DRINK",FINANCIAL_CONTESTS_COUPONS:"FINANCIAL_CONTESTS_COUPONS",FINANCIAL_SERVICES:"FINANCIAL_SERVICES",FINANCIAL_POLITICAL_DONATIONS:"FINANCIAL_POLITICAL_DONATIONS",OFFENSIVE_CONTENT_HATE:"OFFENSIVE_CONTENT_HATE",OFFENSIVE_CONTENT_PORN:"OFFENSIVE_CONTENT_PORN",RESALE_RESELLING:"RESELLING",RESALE_PLAGIARISM:"PLAGIARISM",RESALE_COPYRIGHT:"COPYRIGHT",PROTOTYPE_MISREPRESENTATION:"PROTOTYPE_MISREPRESENTATION",UNDISCLOSED_AI_USE:"UNDISCLOSED_AI_USE",MISREP_SUPPORT_IMPERSONATION:"MISREP_SUPPORT_IMPERSONATION",MISREP_SUPPORT_OUTSTANDING_FULFILLMENT:"MISREP_SUPPORT_OUTSTANDING_FULFILLMENT",MISREP_SUPPORT_SUSPICIOUS_PLEDGING:"MISREP_SUPPORT_SUSPICIOUS_PLEDGING",MISREP_SUPPORT_OTHER:"MISREP_SUPPORT_OTHER",NOT_PROJECT_CHARITY:"NOT_PROJECT_CHARITY",NOT_PROJECT_STUNT:"NOT_PROJECT_STUNT_OR_HOAX",NOT_PROJECT_OTHER:"NOT_PROJECT_OTHER",NOT_PROJECT_PERSONAL_OR_BUSINESS_EXPENSE:"NOT_PROJECT_PERSONAL_EXPENSES",NOT_PROJECT_BAREBONES:"NOT_PROJECT_BAREBONES",GUIDELINES_VIOLATION_SPAM:"GUIDELINES_SPAM",GUIDELINES_VIOLATION_ABUSE:"GUIDELINES_ABUSE",POST_FUNDING_ISSUES_YES_UNSATISFIED:"POST_FUNDING_REWARD_NOT_AS_DESCRIBED",POST_FUNDING_ISSUES_YES_DELAYED:"POST_FUNDING_REWARD_DELAYED",POST_FUNDING_ISSUES_NO_NEVER_RECEIVED:"POST_FUNDING_SHIPPED_NEVER_RECEIVED",POST_FUNDING_ISSUES_NO_SELLING_ELSEWHERE:"POST_FUNDING_CREATOR_SELLING_ELSEWHERE",POST_FUNDING_ISSUES_NO_CREATOR_UNCOMMUNICATIVE:"POST_FUNDING_CREATOR_UNCOMMUNICATIVE",POST_FUNDING_ISSUES_NO_CREATOR_POOR_UPDATES:"POST_FUNDING_CREATOR_INAPPROPRIATE",POST_FUNDING_ISSUES_NO_SUSPICIOUS_BEHAVIOR:"POST_FUNDING_SUSPICIOUS_THIRD_PARTY"},P=({kind:e,onSuccess:t})=>l.a.createElement(A,{kind:e,onSuccess:t,detailsRows:"9",detailsPlaceholder:_("prohibited_items_form.placeholder")}),R=({onSuccess:e})=>[{label:_("prohibited_items_form.drugs_or_weapons.items.drugs_tobacco_vapes.item"),subheader:_("prohibited_items_form.drugs_or_weapons.items.drugs_tobacco_vapes.example"),value:D.VICES_DRUGS,expandedComponent:l.a.createElement(P,{kind:D.VICES_DRUGS,onSuccess:e})},{label:_("prohibited_items_form.drugs_or_weapons.items.alcohol_as_a_reward.item"),subheader:_("prohibited_items_form.drugs_or_weapons.items.alcohol_as_a_reward.example"),value:D.VICES_ALCOHOL,expandedComponent:l.a.createElement(P,{kind:D.VICES_ALCOHOL,onSuccess:e})},{label:_("prohibited_items_form.drugs_or_weapons.items.weapons_replicas.item"),subheader:_("prohibited_items_form.drugs_or_weapons.items.weapons_replicas.example"),value:D.VICES_ALCOHOL,expandedComponent:l.a.createElement(P,{kind:D.VICES_ALCOHOL,onSuccess:e})}],F=({onSuccess:e})=>[{label:_("prohibited_items_form.health_claims.items.claims_to_cure.item"),subheader:_("prohibited_items_form.health_claims.items.claims_to_cure.example"),value:D.HEALTH_CLAIMS,expandedComponent:l.a.createElement(P,{kind:D.HEALTH_CLAIMS,onSuccess:e})},{label:_("prohibited_items_form.health_claims.items.illegal_items.item"),subheader:_("prohibited_items_form.health_claims.items.illegal_items.example"),value:D.HEALTH_REGULATIONS,expandedComponent:l.a.createElement(P,{kind:D.HEALTH_REGULATIONS,onSuccess:e})},{label:_("prohibited_items_form.health_claims.items.gmo.item"),subheader:_("prohibited_items_form.health_claims.items.gmo.example"),value:D.HEALTH_GMO,expandedComponent:l.a.createElement(P,{kind:D.HEALTH_GMO,onSuccess:e})},{label:_("prohibited_items_form.health_claims.items.live_animals.item"),subheader:_("prohibited_items_form.health_claims.items.live_animals.example"),value:D.HEALTH_LIVE_ANIMALS,expandedComponent:l.a.createElement(P,{kind:D.HEALTH_LIVE_ANIMALS,onSuccess:e})},{label:_("prohibited_items_form.health_claims.items.energy_food_and_drink.item"),subheader:_("prohibited_items_form.health_claims.items.energy_food_and_drink.example"),value:D.HEALTH_ENERGY_FOOD_AND_DRINK,expandedComponent:l.a.createElement(P,{kind:D.HEALTH_ENERGY_FOOD_AND_DRINK,onSuccess:e})}],L=({onSuccess:e})=>[{label:_("prohibited_items_form.financial.items.contests.item"),subheader:_("prohibited_items_form.financial.items.contests.example"),value:D.FINANCIAL_CONTESTS_COUPONS,expandedComponent:l.a.createElement(P,{kind:D.FINANCIAL_CONTESTS_COUPONS,onSuccess:e})},{label:_("prohibited_items_form.financial.items.services.item"),subheader:_("prohibited_items_form.financial.items.services.example"),value:D.FINANCIAL_SERVICES,expandedComponent:l.a.createElement(P,{kind:D.FINANCIAL_SERVICES,onSuccess:e})},{label:_("prohibited_items_form.financial.items.political.item"),subheader:_("prohibited_items_form.financial.items.political.example"),value:D.FINANCIAL_POLITICAL_DONATIONS,expandedComponent:l.a.createElement(P,{kind:D.FINANCIAL_POLITICAL_DONATIONS,onSuccess:e})}],M=({onSuccess:e})=>[{label:_("prohibited_items_form.innappropriate_content.items.offensive.item"),subheader:_("prohibited_items_form.innappropriate_content.items.offensive.example"),value:D.OFFENSIVE_CONTENT_HATE,expandedComponent:l.a.createElement(P,{kind:D.OFFENSIVE_CONTENT_HATE,onSuccess:e})},{label:_("prohibited_items_form.innappropriate_content.items.pornography.item"),subheader:_("prohibited_items_form.innappropriate_content.items.pornography.example"),value:D.OFFENSIVE_CONTENT_PORN,expandedComponent:l.a.createElement(P,{kind:D.OFFENSIVE_CONTENT_PORN,onSuccess:e})}],U=({onSuccess:e})=>[{label:_("prohibited_items_form.drugs_or_weapons.header"),value:"drugs_or_weapons",expandedComponent:l.a.createElement(I,{id:"project-flagging-prohibited-items-drugs-or-weapons-radio-group",options:R({onSuccess:e})})},{label:_("prohibited_items_form.health_claims.header"),value:"health",expandedComponent:l.a.createElement(I,{id:"project-flagging-prohibited-items-health-claims-radio-group",options:F({onSuccess:e})})},{label:_("prohibited_items_form.financial.header"),value:"financial",expandedComponent:l.a.createElement(I,{id:"project-flagging-prohibited-items-financial-radio-group",options:L({onSuccess:e})})},{label:_("prohibited_items_form.innappropriate_content.header"),value:"innappropriate",expandedComponent:l.a.createElement(I,{id:"project-flagging-prohibited-items-innappropriate-content-radio-group",options:M({onSuccess:e})})}],V=({onSuccess:e})=>l.a.createElement(I,{id:"project-flagging-prohibited-items-radio-group",options:U({onSuccess:e})}),H=({kind:e,onSuccess:t,placeholder:n})=>l.a.createElement(A,{kind:e,onSuccess:t,detailsRows:"5",detailsPlaceholder:n}),B=({onSuccess:e})=>[{label:_("misrep_support_form.impersonation"),value:D.MISREP_SUPPORT_IMPERSONATION,expandedComponent:l.a.createElement(H,{kind:D.MISREP_SUPPORT_IMPERSONATION,placeholder:_("misrep_support_form.impersonation_placeholder"),onSuccess:e})},{label:_("misrep_support_form.outstanding_fulfillment"),value:D.MISREP_SUPPORT_OUTSTANDING_FULFILLMENT,expandedComponent:l.a.createElement(H,{kind:D.MISREP_SUPPORT_OUTSTANDING_FULFILLMENT,placeholder:_("misrep_support_form.outstanding_fulfillment_placeholder"),onSuccess:e})},{label:_("misrep_support_form.suspicious_pledging"),value:D.MISREP_SUPPORT_SUSPICIOUS_PLEDGING,expandedComponent:l.a.createElement(H,{kind:D.MISREP_SUPPORT_SUSPICIOUS_PLEDGING,placeholder:_("misrep_support_form.suspicious_pledging_placeholder"),onSuccess:e})},{label:_("misrep_support_form.other"),value:D.MISREP_SUPPORT_OTHER,expandedComponent:l.a.createElement(H,{kind:D.MISREP_SUPPORT_OTHER,placeholder:_("misrep_support_form.other_placeholder"),onSuccess:e})}],$=({onSuccess:e})=>l.a.createElement(I,{id:"project-flagging-misrep-support-radio-group",options:B({onSuccess:e})}),q=({onSuccess:e})=>l.a.createElement(A,{id:"project-flagging-false-claims-radio-group",kind:D.PROTOTYPE_MISREPRESENTATION,onSuccess:e,detailsPlaceholder:_("false_claims_form.placeholder"),collectLink:!1,detailsRows:"6"}),Y=({kind:e,onSuccess:t,placeholder:n})=>l.a.createElement(A,{kind:e,onSuccess:t,detailsPlaceholder:n,detailsRows:"5"}),z=({onSuccess:e})=>[{label:_("not_project_form.charity"),value:D.NOT_PROJECT_CHARITY,expandedComponent:l.a.createElement(Y,{kind:D.NOT_PROJECT_CHARITY,placeholder:_("not_project_form.charity_placeholder"),onSuccess:e})},{label:_("not_project_form.stunt"),value:D.NOT_PROJECT_STUNT,expandedComponent:l.a.createElement(Y,{kind:D.NOT_PROJECT_STUNT,placeholder:_("not_project_form.stunt_placeholder"),onSuccess:e})},{label:_("not_project_form.personal_or_business_expense"),value:D.NOT_PROJECT_PERSONAL_OR_BUSINESS_EXPENSE,expandedComponent:l.a.createElement(Y,{kind:D.NOT_PROJECT_PERSONAL_OR_BUSINESS_EXPENSE,placeholder:_("not_project_form.personal_or_business_expense_placeholder"),onSuccess:e})},{label:_("not_project_form.barebones"),value:D.NOT_PROJECT_BAREBONES,expandedComponent:l.a.createElement(Y,{kind:D.NOT_PROJECT_BAREBONES,placeholder:_("not_project_form.barebones_placeholder"),onSuccess:e})},{label:_("not_project_form.other"),value:D.NOT_PROJECT_OTHER,expandedComponent:l.a.createElement(Y,{kind:D.NOT_PROJECT_OTHER,placeholder:_("not_project_form.other_placeholder"),onSuccess:e})}],G=({onSuccess:e})=>l.a.createElement(I,{id:"project-flagging-not-project-radio-group",options:z({onSuccess:e})}),K=({kind:e,placeholder:t,detailsRows:n,onSuccess:a})=>l.a.createElement(A,{kind:e,detailsRows:n,onSuccess:a,collectLink:!1,detailsPlaceholder:t}),W=({onSuccess:e})=>[{label:_("resale_form.reselling"),value:D.RESALE_RESELLING,expandedComponent:l.a.createElement(K,{kind:D.RESALE_RESELLING,onSuccess:e,placeholder:_("resale_form.reselling_placeholder"),detailsRows:"9"})},{label:_("resale_form.plagiarism"),value:D.RESALE_PLAGIARISM,expandedComponent:l.a.createElement(K,{kind:D.RESALE_PLAGIARISM,onSuccess:e,placeholder:_("resale_form.plagiarism_placeholder"),detailsRows:"9"})},{label:_("resale_form.copyright"),value:D.RESALE_COPYRIGHT,expandedComponent:l.a.createElement("div",null,l.a.createElement("p",null,l.a.createElement(r.a,{i18nKey:g("intellect_prop_form.expanded"),copyrightPolicyLink:y,trademarkPolicyLink:E,atoms:["type-13"]})))}],J=({onSuccess:e})=>l.a.createElement(I,{id:"project-flagging-resale-radio-group",options:W({onSuccess:e})}),X=({onSuccess:e})=>l.a.createElement(A,{id:"undisclosed-ai-use-form",kind:D.UNDISCLOSED_AI_USE,onSuccess:e,detailsPlaceholder:_("undisclosed_ai_use_form.placeholder"),collectLink:!1,detailsRows:"6"}),Z=({onSuccess:e})=>[{label:_("rules_form.prohibited_items"),subheader:l.a.createElement(r.a,{i18nKey:g("prohibited_items_form.preface"),prohibitedItemsLink:v}),value:"PROHIBITED_ITEMS",expandedComponent:l.a.createElement(V,{onSuccess:e})},{label:_("rules_form.undisclosed_ai_use"),subheader:_("undisclosed_ai_use_form.preface"),value:"UNDISCLOSED_AI_USE",expandedComponent:l.a.createElement(X,{onSuccess:e})},{label:_("rules_form.resale"),subheader:_("resale_form.preface"),value:"RESALE",expandedComponent:l.a.createElement(J,{onSuccess:e})},{label:_("rules_form.false_claims"),subheader:_("false_claims_form.preface"),value:"FALSE_CLAIMS",expandedComponent:l.a.createElement(q,{onSuccess:e})},{label:_("rules_form.misrep_support"),subheader:_("misrep_support_form.preface"),value:"MISREP_SUPPORT",expandedComponent:l.a.createElement($,{onSuccess:e})},{label:_("rules_form.not_project"),subheader:_("not_project_form.preface"),value:"NOT_PROJECT",expandedComponent:l.a.createElement(G,{onSuccess:e})}],Q=({onSuccess:e})=>l.a.createElement(I,{id:"project-flagging-rules-radio-group",options:Z({onSuccess:e})}),ee=({onSuccess:e})=>[{label:_("community_guidelines_form.spam"),subheader:_("community_guidelines_form.spam_example"),value:D.GUIDELINES_VIOLATION_SPAM,expandedComponent:l.a.createElement(A,{kind:D.GUIDELINES_VIOLATION_SPAM,onSuccess:e,collectLink:!1,detailsRows:"8",detailsPlaceholder:_("community_guidelines_form.placeholder")})},{label:_("community_guidelines_form.abuse"),subheader:_("community_guidelines_form.abuse_example"),value:D.GUIDELINES_VIOLATION_ABUSE,expandedComponent:l.a.createElement(A,{kind:D.GUIDELINES_VIOLATION_ABUSE,onSuccess:e,collectLink:!1,detailsRows:"8",detailsPlaceholder:_("community_guidelines_form.placeholder")})}],te=({onSuccess:e})=>l.a.createElement(I,{id:"project-flagging-community-guidelines-radio-group",options:ee({onSuccess:e})}),ne=({kind:e,onSuccess:t,placeholder:n})=>l.a.createElement(A,{kind:e,onSuccess:t,isPostFundingIssue:!0,detailsPlaceholder:n,detailsRows:"9"}),ae=({onSuccess:e})=>[{label:_("post_funding_issues_form.yes_unsatisfied"),value:D.POST_FUNDING_ISSUES_YES_UNSATISFIED,expandedComponent:l.a.createElement(ne,{kind:D.POST_FUNDING_ISSUES_YES_UNSATISFIED,onSuccess:e,placeholder:_("post_funding_issues_form.yes_unsatisfied_placeholder")})},{label:_("post_funding_issues_form.yes_delayed"),value:D.POST_FUNDING_ISSUES_YES_DELAYED,expandedComponent:l.a.createElement(ne,{kind:D.POST_FUNDING_ISSUES_YES_DELAYED,onSuccess:e,placeholder:_("post_funding_issues_form.yes_delayed_placeholder")})}],ie=({onSuccess:e})=>[{label:_("post_funding_issues_form.no_never_received"),value:D.POST_FUNDING_ISSUES_NO_NEVER_RECEIVED,expandedComponent:l.a.createElement(ne,{kind:D.POST_FUNDING_ISSUES_NO_NEVER_RECEIVED,onSuccess:e,placeholder:_("post_funding_issues_form.no_placeholder")})},{label:_("post_funding_issues_form.no_selling_elsewhere"),value:D.POST_FUNDING_ISSUES_NO_SELLING_ELSEWHERE,expandedComponent:l.a.createElement(ne,{kind:D.POST_FUNDING_ISSUES_NO_SELLING_ELSEWHERE,onSuccess:e,placeholder:_("post_funding_issues_form.no_placeholder")})},{label:_("post_funding_issues_form.no_creator_uncommunicative"),value:D.POST_FUNDING_ISSUES_NO_CREATOR_UNCOMMUNICATIVE,expandedComponent:l.a.createElement(ne,{kind:D.POST_FUNDING_ISSUES_NO_CREATOR_UNCOMMUNICATIVE,onSuccess:e,placeholder:_("post_funding_issues_form.no_placeholder")})},{label:_("post_funding_issues_form.no_creator_poor_updates"),value:D.POST_FUNDING_ISSUES_NO_CREATOR_POOR_UPDATES,expandedComponent:l.a.createElement(ne,{kind:D.POST_FUNDING_ISSUES_NO_CREATOR_POOR_UPDATES,onSuccess:e,placeholder:_("post_funding_issues_form.no_placeholder")})},{label:_("post_funding_issues_form.no_suspicious_behavior"),value:D.POST_FUNDING_ISSUES_NO_SUSPICIOUS_BEHAVIOR,expandedComponent:l.a.createElement(ne,{kind:D.POST_FUNDING_ISSUES_NO_SUSPICIOUS_BEHAVIOR,onSuccess:e,placeholder:_("post_funding_issues_form.no_placeholder")})}],re=({onSuccess:e})=>[{label:_("post_funding_issues_form.yes_issue"),value:"post_funding_issues_recieved_reward",expandedComponent:l.a.createElement(I,{id:"project-flagging-post-funding-issues-recieved-reward-radio-group",options:ae({onSuccess:e})})},{label:_("post_funding_issues_form.no_issue"),value:"post_funding_issues_did_not_recieve_reward",expandedComponent:l.a.createElement(I,{id:"project-flagging-post-funding-issues-did-not-recieve-reward-radio-group",options:ie({onSuccess:e})})}],oe=({onSuccess:e})=>l.a.createElement("div",null,l.a.createElement("div",{className:"mb1 text-11"},l.a.createElement("span",null,_("post_funding_issues_form.prompt"))),l.a.createElement(I,{id:"project-flagging-post-funding-issues-radio-group",options:re({onSuccess:e})})),se=({showPostFundingOption:e,onSuccess:t})=>{let n=[];return e&&(n=[{label:_("post_funding_issues_form.header"),subheader:_("post_funding_issues_form.body"),value:"post-funding",expandedComponent:l.a.createElement(oe,{onSuccess:t})}]),[...n,{label:l.a.createElement(r.a,{i18nKey:g("Our_rules_label_heading"),ourRulesLink:b}),subheader:l.a.createElement(r.a,{i18nKey:g("Our_rules_label_body"),prohibitedItemsLink:v}),value:"rules",expandedComponent:l.a.createElement(Q,{onSuccess:t})},{label:_("community_guidelines_form.header"),subheader:l.a.createElement(r.a,{i18nKey:g("community_guidelines_form.preface"),communityGuidelinesLink:k}),value:"guidelines",expandedComponent:l.a.createElement(te,{onSuccess:t})},{label:_("intellect_prop_form.header"),subheader:_("intellect_prop_form.body"),value:"ip",expandedComponent:l.a.createElement("div",null,l.a.createElement("p",null,l.a.createElement(r.a,{i18nKey:g("intellect_prop_form.expanded"),copyrightPolicyLink:y,trademarkPolicyLink:E,atoms:["type-13"]})))}]},ce=({showPostFundingOption:e,onSuccess:t})=>l.a.createElement(I,{id:"project-flagging-radio-group",options:se({showPostFundingOption:e,onSuccess:t})});class le extends l.a.Component{constructor(...e){super(...e),this.state={flaggingStatus:"unknown",hasBackedProject:!1,projectState:"LIVE",isPostFundingIssue:!1},this.componentWillUnmount=()=>{document.removeEventListener("click",this.handleFormSubmit)},this.handleSuccess=e=>{this.setState(()=>({flaggingStatus:"flagging_successful",isPostFundingIssue:e}))},this.handleFormFailure=e=>{h("Fetch for project flagging (aka project reporting) status failed: ",e),this.setState(()=>({flaggingStatus:"flagging_fetch_failed"}))},this.handleFormSubmit=()=>{var e,t;this.setState(()=>({flaggingStatus:"fetching_flagging"})),(e=window.current_project.data.slug,t=Object(o.b)(),Object(d.c)("\n  query($projectSlug: String!) {\n    project(slug: $projectSlug) {\n      backing {\n        id\n      }\n      flagging {\n        kind\n      }\n      state\n    }\n  }\n",{projectSlug:e},{projectShareToken:t})).then(e=>{this.handleFormResponse(e)}).catch(e=>{this.handleFormFailure(e)})},this.handleFormResponse=e=>{if(e.errors)this.handleFormFailure(e);else if(null==e.data.project)this.handleFormFailure(e);else{const{backing:t,flagging:n,state:a}=e.data.project,i=!!t,r=n?"user_has_flagged":"user_has_not_flagged";this.setState(()=>({flaggingStatus:r,hasBackedProject:i,projectState:a}))}},this.clickProps=()=>window.current_user?{onPress:this.handleFormSubmit}:{href:`/login?then=${f()}#report-this-project`},this.showPostFundingOption=()=>{return e=this.state.hasBackedProject,t=this.state.projectState,e&&"SUCCESSFUL"===t;var e,t},this.statusUserHasFlaggedProject=()=>l.a.createElement("div",{className:"flex"},l.a.createElement("div",{className:"pr2"},l.a.createElement(j,{isSelected:!0})),l.a.createElement("div",{className:"flex1"},l.a.createElement(r.a,{i18nKey:g("Already_flagged"),ourRulesLink:l.a.createElement("a",{target:"blank",href:"/rules"},_("Our_rules")),communityGuidelinesLink:k}))),this.statusUnknown=()=>l.a.createElement(i.a.AsLink,Object.assign({id:"report-this-project-button",variant:"outlined"},this.clickProps()),_("Report_project")),this.statusFetching=()=>l.a.createElement("div",null,l.a.createElement(a.a,{size:"large",name:"icon--circle-loader"})),this.statusFetchingFailed=()=>l.a.createElement("div",{className:"red"},_("Fetch_flagging_failed_message")),this.statusFlaggingSuccess=()=>{let e=this.state.isPostFundingIssue?_("Flagging_success_post_funding_message"):_("Flagging_success_message");return l.a.createElement("div",{className:"flex"},l.a.createElement("div",{className:"pr2"},l.a.createElement(j,{isSelected:!0})),l.a.createElement("div",{id:"flagging-success-message",className:"flex1"},e))},this.statusUnknownError=()=>l.a.createElement("div",{id:"flagging-unknown-error-message"},_("Unknown_error")),this.statusUserHasNotFlaggedProject=()=>(Object(s.d)("Started Project Report"),l.a.createElement(ce,{showPostFundingOption:this.showPostFundingOption(),onSuccess:this.handleSuccess})),this.statusCurrent=()=>{switch(this.state.flaggingStatus){case"user_has_flagged":return this.statusUserHasFlaggedProject();case"user_has_not_flagged":return this.statusUserHasNotFlaggedProject();case"unknown":return this.statusUnknown();case"fetching_flagging":return this.statusFetching();case"flagging_successful":return this.statusFlaggingSuccess();case"flagging_fetch_failed":return this.statusFetchingFailed();default:return this.statusUnknownError()}},this.render=()=>l.a.createElement("div",{id:"report-this-project"},this.statusCurrent())}}},URF7:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("94td"),i=n("q1tI"),r=n.n(i);const o=({shouldRender:e})=>e?r.a.createElement("div",{className:"bg-trust-500 pt1 px2 z4 ml-1 mt-1 absolute"},r.a.createElement("p",{className:"white mb1"},Object(a.b)("project_page.reward.Your_selection"))):null},UUNB:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("q1tI");const i=e=>{const[t,n]=Object(a.useState)(!1),i=t=>{t.which===e&&n(!0)},r=t=>{t.which===e&&n(!1)};return Object(a.useEffect)(()=>(window.addEventListener("keydown",i),window.addEventListener("keyup",r),()=>{window.removeEventListener("keydown",i),window.removeEventListener("keyup",r)}),[]),t}},UlFT:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("q1tI"),i=n.n(a),r=n("czyi"),o=n("sezs"),s=n("c5x8");const c=e=>i.a.createElement(r.a,Object(s.a)(e,"kds-switch"),i.a.createElement("span",{className:"kds-switch__track"},i.a.createElement(o.a,{atoms:"kds-switch__thumb",name:"icon--check",size:"sm"})),i.a.createElement("span",{className:"kds-switch__label"},e.children));c.View=function({state:e,...t}){return i.a.createElement("span",{inert:""},i.a.createElement(c,Object.assign({},Object(s.a)(t,"kds-switch"),{"data-state":e})))}},UujG:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return d}));var a=n("2DJ9"),i=n("94td"),r=n("/IHD"),o=n("q1tI");function s(e,t,n,a){return e.map(e=>({label:t(e).toString(),value:n(e).toString(),disabled:a?a(e):void 0}))}const c=Object(r.a)("o0p","absolute","t0","l0","b0","r0","w100p","h100p","z1"),l=Object(r.a)("relative","border","border-grey-400","p2");class d extends o.Component{render(){const{id:e,options:t,selectedValue:n,onBlur:s,onChange:d=(()=>{}),placeholder:u,hasErrors:m,required:p,disabled:h,clearable:f,withDropdownIcon:g=!0,name:_=""}=this.props,b={placeholder:[],active:[],disabled:[],enabled:[],...this.props.atoms};if(0===t.length)return null;const v=u?o.createElement("option",{"aria-selected":!1,disabled:!0,value:""},u):null,k=t.filter(e=>e.value===n),y=k.length?k[0].label:u,E=k.length?k[0].selectedItemPreview&&k[0].selectedItemPreview():void 0,j=u===y?b.placeholder:b.active,w=Object(r.a)(l,j,m&&"border-red-400",h?b.disabled:b.enabled),S=Object(r.a)(c,h?"cursor-default":"pointer",m&&"has-errors");return o.createElement("div",{className:w},o.createElement("label",null,E,y,f&&n&&o.createElement("button",{"aria-label":Object(i.b)("components.simple_select.clear_value"),className:"z5 absolute r5 t1 b0 my-auto",type:"button",onClick:e=>{e.preventDefault(),d("")}},o.createElement(a.a,{name:"icon--cross",size:"14"})),g&&!h&&o.createElement(a.a,{atoms:["absolute r2 t0 b0 my-auto"],name:"icon--delta-down",size:"14"}),o.createElement("select",{id:e,onBlur:s,required:p,value:n,disabled:h,className:S,onChange:e=>d(e.target.value),name:_},v,t.map((e,t)=>o.createElement("option",{"aria-selected":e.value===n,disabled:e.disabled,value:e.value,key:t},e.label)))))}}},UvgG:function(e,t,n){"use strict";n.d(t,"g",(function(){return b})),n.d(t,"e",(function(){return v})),n.d(t,"f",(function(){return k})),n.d(t,"k",(function(){return y})),n.d(t,"l",(function(){return E})),n.d(t,"c",(function(){return j})),n.d(t,"a",(function(){return w})),n.d(t,"i",(function(){return S})),n.d(t,"j",(function(){return O})),n.d(t,"b",(function(){return N})),n.d(t,"h",(function(){return C})),n.d(t,"d",(function(){return I}));var a=n("Puqe"),i=n.n(a),r=n("DT56"),o=n.n(r),s=n("yHON"),c=n.n(s),l=n("pj8f"),d=n("ECYc"),u=n("qn6j"),m=n("1OuE"),p=n("g84z"),h=n("arGM"),f=n("xk4V"),g=n.n(f),_=n("YToL");const b=e=>e&&0!==Object.keys(e).length,v=(e=window.location.href,t=window.location.pathname)=>{const n=Object(p.a)(e),a=i()(n,"comment");return Object(h.e)(t,a)},k=(e=window.location.href)=>Object(h.e)("/login",{ref:"comments",then:e}),y=e=>[...e].sort((e,t)=>o()(e.createdAt,t.createdAt)),E=e=>[...e].sort((e,t)=>c()(e.node.pinnedAt,t.node.pinnedAt)||c()(e.node.createdAt,t.node.createdAt)),j=(e,t)=>({__typename:"Mutation",createComment:{__typename:"PostCommentPayload",comment:{id:`${_.e}-${g()()}`,body:e.body,createdAt:Math.round(Date.now()/1e3)-1,author:{...t.me,__typename:"User"},authorBadges:[],hasFlaggings:!1,canReport:!1,canPin:!1,deletedAuthor:!1,deleted:!1,canDelete:!1,sustained:!1,authorCanceledPledge:!1,removedPerGuidelines:!1,authorBacking:null,parentId:t.parentId||null,pinnedAt:null,replies:t.parentId?null:{__typename:"CommentReplyConnection",totalCount:0,nodes:[],pageInfo:{__typename:"PageInfo",startCursor:null,hasPreviousPage:!1,endCursor:null,hasNextPage:!1}},__typename:"Comment"}}}),w=e=>(t,{fetchMoreResult:n})=>{if(!n)return t;const a=e?[...t.commentable.comments.edges,...n.commentable.comments.edges]:[...n.commentable.comments.edges,...t.commentable.comments.edges],i=e?{...t.commentable.comments.pageInfo,hasNextPage:n.commentable.comments.pageInfo.hasNextPage,endCursor:n.commentable.comments.pageInfo.endCursor}:{...t.commentable.comments.pageInfo,hasPreviousPage:n.commentable.comments.pageInfo.hasPreviousPage,startCursor:n.commentable.comments.pageInfo.startCursor};return{...n,commentable:{...t.commentable,comments:{...n.commentable.comments,edges:a,pageInfo:i}}}},S=e=>(t,{id:n,replyCursor:a,existingReplies:i})=>{const r=Date.now();return e.query({query:t,variables:{replyCursor:a,id:n}}).then(async e=>(Object(d.a)(u.a.TIME,_.d.LOAD_PREVIOUS_REPLIES_TIME,Date.now()-r),{...e.data.node.replies,nodes:[...i.nodes,...e.data.node.replies.nodes]})).catch(e=>{l.Honeybadger.notify(JSON.stringify(e))})},O=e=>async()=>{Object(d.a)(u.a.INCREMENT,_.d.LOAD_PREVIOUS_REPLIES),e.toggleRepliesLoading();try{const t=await e.onLoadMoreReplies(e.client)(e.query,{id:e.commentId,replyCursor:e.replyCursor,existingReplies:e.replies});return e.toggleRepliesLoading(),t}catch(t){e.toggleRepliesLoading()}},N=(e,t,n)=>(a,i,r,o)=>s=>({onClick:o({commentId:n,client:e,query:t,replyCursor:s.pageInfo.startCursor,replySize:s.totalCount,toggleRepliesLoading:i,onLoadMoreReplies:r,replies:s}),loadingStatus:a,totalCount:s.totalCount,showingCount:s.nodes.length,hasMorePages:s.pageInfo.hasPreviousPage}),C=()=>new Promise(e=>e()),I=e=>"number"!=typeof e||e<0?null:Object(m.b)("LLL z",e)},"VA/9":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("mv45");n("VX74"),n("DE4Y");const i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateUserSettings"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateUserSettingInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateUserSetting"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"user"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uid"}},{kind:"Field",name:{kind:"Name",value:"canSeeConfirmWatchModal"}},{kind:"Field",name:{kind:"Name",value:"canSeeConfirmSignalModal"}},{kind:"Field",name:{kind:"Name",value:"isEmailVerified"}}]}}]};const r=Object(a.j)(i,e=>({userMetadata:e.ownProps.userMetadata,updateUserSetting:t=>e.mutate({variables:{input:{setting:t}}}),onCloseModal:e.ownProps.onCloseModal}))},VF4V:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s}));var a=n("iuhU"),i=n("q1tI"),r=n.n(i);const o=e=>Object(a.b)(e,"do-not-visually-track");function s({as:e,className:t,...n}){const a=e||"span";return r.a.createElement(a,Object.assign({className:o(t)},n))}},VG4z:function(e,t,n){"use strict";t.a='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M17 2H5C3.34315 2 2 3.34314 2 5V14C2 15.6569 3.34315 17 5 17H12C12.5523 17 13 16.5523 13 16C13 15.4477 12.5523 15 12 15H7.49201L12.1957 11.7662C12.593 11.4931 13.1285 11.5423 13.4694 11.8831L14.2933 12.7071C14.4809 12.8946 14.7352 13 15.0004 13C15.8913 13 16.3375 11.9229 15.7075 11.2929L14.2954 9.88074C13.6137 9.19901 12.5426 9.10067 11.7481 9.64687L4.43356 14.6756C4.37668 14.7147 4.2987 14.7162 4.2528 14.6646C4.09554 14.4879 4 14.2551 4 14V5C4 4.44771 4.44772 4 5 4H17C17.5523 4 18 4.44772 18 5V12C18 12.5523 18.4477 13 19 13C19.5523 13 20 12.5523 20 12V5C20 3.34314 18.6569 2 17 2ZM10 8C10 9.10457 9.10457 10 8 10C6.89543 10 6 9.10457 6 8C6 6.89543 6.89543 6 8 6C9.10457 6 10 6.89543 10 8ZM15 16C15 15.4477 15.4477 15 16 15H21C21.5523 15 22 15.4477 22 16C22 16.5523 21.5523 17 21 17H16C15.4477 17 15 16.5523 15 16ZM16 19C15.4477 19 15 19.4477 15 20C15 20.5523 15.4477 21 16 21H19C19.5523 21 20 20.5523 20 20C20 19.4477 19.5523 19 19 19H16Z" fill="#3C3C3C"/>\n</svg>\n'},VJVG:function(e,t,n){"use strict";var a=n("94td"),i=n("/IHD"),r=n("q1tI"),o=n.n(r),s=n("wSuE"),c=n("YToL"),l=n("DI+Y"),d=n("UYTu");var u=d.a`
  mutation deleteComment($id: ID!) {
    deleteComment(input: { id: $id }) {
      commentable {
        commentsCount
      }
    }
  }
`,m=n("GRmu"),p=n("pj8f"),h=n("tr1H"),f=n("2DJ9"),g=n("egyr"),_=n("mEsB");var b=({onClick:e,loading:t})=>t?o.a.createElement(g.a,{size:"medium"}):o.a.createElement(_.a,{label:Object(a.b)("project_page.comments.Delete"),placement:"top",focusWithin:!0},o.a.createElement("button",{"data-test-id":"delete-comment",className:"keyboard-focusable",onClick:e},o.a.createElement(f.a,{name:"trash"}))),v=n("CKbS");class k extends r.Component{constructor(e){super(e),this.toggleLoading=()=>{this.setState(e=>({loading:!e.loading}))},this.onDeleteClick=()=>(this.toggleLoading(),this.props.mutate({variables:{id:this.props.id},refetchQueries:[{query:v.b,variables:{id:this.props.id}}]}).then(()=>{this.toggleLoading()}).catch(e=>{this.toggleLoading(),Object(m.a)({error:Object(a.b)("project_page.comments.Unable_to_delete")}),p.Honeybadger.notify(JSON.stringify(e),{context:{tags:h.a.PROCOMM}})})),this.state={loading:!1}}render(){return o.a.createElement(b,{onClick:this.onDeleteClick,loading:this.state.loading})}}var y=k,E=Object(l.graphql)(u)(y),j=n("aQhD"),w=n("lHf8");const S=({interactionsVisible:e,children:t,iconName:n="ellipsis"})=>{const[a,i]=Object(r.useState)(!1),s=o.a.useRef(null),c=e=>{var t;(null==s||null===(t=s.current)||void 0===t?void 0:t.contains(e.target))||i(!1)};return Object(r.useEffect)(()=>(document.addEventListener("mousedown",c,!0),()=>{document.removeEventListener("mousedown",c,!0)}),[]),o.a.createElement("div",{className:"relative",ref:s},o.a.createElement(j.a,{open:a||e,duration:300},o.a.createElement("button",{onClick:()=>i(!a),className:"bg-white white radius100p block flex flex-column items-center justify-center no-outline",style:{width:"25px",height:"25px"}},o.a.createElement(f.a,{name:"icon--"+n,size:"medium",atoms:["fill-support-500"]}))),a&&o.a.createElement("div",{className:"shadow-low absolute t5 r0 bg-white z10"},t))},O=({items:e})=>{const t=e.map((t,n)=>{const a="function"==typeof t.linkOrFunction?{onClick:t.linkOrFunction}:{href:t.linkOrFunction,target:"_blank"};return o.a.createElement(o.a.Fragment,{key:n},o.a.createElement("div",{className:"flex p1 items-center"},t.iconName&&o.a.createElement(f.a,{name:"icon--"+t.iconName,size:"medium",atoms:["mr1"]}),t.disabled?t.label:o.a.createElement(w.a,Object.assign({color:"soft-black",atoms:["inline-block"]},a),t.label)),n<e.length-1&&o.a.createElement("div",{className:"border-bottom border-support-300"}))});return o.a.createElement(o.a.Fragment,null,t)};var N=n("c7Xp"),C=n("pTxv");class I extends o.a.Component{constructor(e){super(e),this.onSubmit=()=>this.props.mutate({variables:{contentId:this.props.contentId,kind:this.props.kind},refetchQueries:[{query:v.b,variables:{id:this.props.contentId}}]}).then(()=>{this.props.closeModal(),Object(m.a)({success:Object(a.b)("project_page.comments.Our_Trust_and_Safety_team_will_review_this_comment")})}).catch(e=>{this.props.closeModal(),Object(m.a)({error:Object(a.b)("project_page.comments.Report_comment_error")}),p.Honeybadger.notify(JSON.stringify(e),{context:{tags:h.a.PROCOMM}})})}render(){return o.a.createElement(C.b,{disabled:this.props.disabled,theme:"support",onClick:this.onSubmit},Object(a.b)("project_page.comments.Report_comment"))}}var x=I,T=n("DRAL"),A=Object(d.a)(T.a),D=Object(l.graphql)(A)(x,Object(N.a)()),P=n("dDCb"),R=n("WSTq"),F=n("SmhT");const L=[F.l,F.c];var M=({onClose:e,contentId:t})=>{const[n,i]=Object(r.useState)(""),s=!n.length;return o.a.createElement(R.a,{size:"small",onClose:e,headerCopy:Object(a.b)("project_page.comments.Why_are_you_reporting_this_comment")},o.a.createElement("div",{className:"text-center"},o.a.createElement("div",{className:"mb4"},Object.keys(c.b).map(e=>{const t=c.b[e];return o.a.createElement("div",{className:"pointer flex mr4",role:"radio",key:"comment-flagging-reason-"+t,"aria-checked":n===e,onClick:()=>i(e),onKeyDown:e=>((e,t)=>{if(e.preventDefault(),e.target===e.currentTarget&&L.includes(e.keyCode))switch(e.keyCode){case F.l:case F.c:t(e.target.dataset.reason);default:return null}})(e,i),tabIndex:0,"data-reason":e},o.a.createElement("input",{className:"super-hide",type:"radio",checked:n===e,"aria-checked":n===e,value:e,onChange:e=>i(e.target.value)}),o.a.createElement(P.a,{isSelected:n===e}),o.a.createElement("label",{className:"mb3"},o.a.createElement("div",{className:"ksr-green-700 bold mr1 type-16 text-left"},Object(a.b)("project_page.comments.Report_reason_"+t)),o.a.createElement("div",{className:"type-13 text-left"},Object(a.b)("project_page.comments.Report_info_"+t))))})),o.a.createElement(D,{contentId:t,closeModal:e,kind:n,disabled:s}),o.a.createElement("div",{className:"type-12 support-400 text-center mt4"},Object(a.b)("project_page.comments.Reported_comments_remain_hidden_while_under_review")),o.a.createElement("div",{className:"type-12 support-400 text-center"},Object(a.b)("project_page.comments.Only_the_author_can_see_them"))))},U=n("v9JK"),V=n("gN63");n("VX74"),n("DE4Y");const H={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ToggleCommentPin"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ToggleCommentPinInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"toggleCommentPin"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"comment"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pinnedAt"}}]}}]}}]}}]};var B=e=>{const{commentId:t,pinnedAt:n,closeModal:i,refetch:r}=e,s=n?Object(a.b)("project_page.comments.Unpin_this_comment"):Object(a.b)("project_page.comments.Pin_this_comment"),c=o.a.createElement("div",{className:"ml9 mb3"},n?Object(a.b)("project_page.comments.Youll_no_longer_see_it_at_the_top_of_your_comment_section"):o.a.createElement("div",null,Object(a.b)("project_page.comments.Youll_see_it_at_the_top_of_your_comment_section"))),l=n?Object(a.b)("project_page.comments.Yes_unpin_it"):Object(a.b)("project_page.comments.Yes_pin_it");return o.a.createElement(U.a,{size:"small",onClose:i,headerCopy:s,secondaryCloseCopy:Object(a.b)("overlay_modal.cancel")},c,o.a.createElement("button",{className:"bttn-primary theme--support bttn-medium w100p",onClick:()=>{var e;(e={commentId:t,pinned:!n},Object(V.c)(H,{input:e})).then(e=>{var t;i(),(null===(t=e.errors)||void 0===t?void 0:t.length)&&Object(m.a)({error:e.errors[0].message})}).then(()=>{r()})}},l))};const $=({reportStatus:e})=>{let t;switch(e){case q.sustained:t=o.a.createElement("div",{className:"min-w35 text-left pr1"},o.a.createElement("div",{className:"flex"},o.a.createElement("span",null,o.a.createElement(f.a,{name:"icon--alert",size:"15",atoms:["relative mr1 icon-disabled"]})),o.a.createElement("span",{className:"dark-grey-400"},o.a.createElement("div",null,Object(a.b)("project_page.comments.Reported")),o.a.createElement("div",null,Object(a.b)("project_page.comments.Sustained")))));break;case q.reported:t=o.a.createElement("div",{className:"min-w35 text-left"},o.a.createElement(f.a,{name:"icon--alert",size:"15",atoms:["relative mr1 icon-disabled"]}),o.a.createElement("span",{className:"dark-grey-400"},Object(a.b)("project_page.comments.Reported")));break;default:t=o.a.createElement("div",{className:"min-w35 text-left"},o.a.createElement(f.a,{name:"icon--alert",size:"15",atoms:["relative mr1"]}),Object(a.b)("project_page.comments.Report_comment"))}return o.a.createElement(o.a.Fragment,null,t)};let q=function(e){return e.sustained="sustained",e.reported="reported",e.reportable="reportable",e}({});var Y=e=>{const{pinnedAt:t,canPin:n,canReport:i,commentId:s,hasFlaggings:c,sustained:l,refetch:d}=e,[u,m]=Object(r.useState)(!1),[p,h]=Object(r.useState)(!1),g=t?Object(a.b)("project_page.comments.Unpin_comment"):Object(a.b)("project_page.comments.Pin_comment"),_=l?q.sustained:c?q.reported:q.reportable,b={label:o.a.createElement("div",{className:"min-w35 text-left"},o.a.createElement(f.a,{name:"icon--pin",size:"15",atoms:["relative mr1"]}),o.a.createElement("span",{className:"keep-all type-14"},g)),linkOrFunction:()=>m(!0)},v={label:o.a.createElement($,{reportStatus:_}),disabled:_!==q.reportable,linkOrFunction:()=>h(!0)},k=[i?v:null,n?b:null].filter(e=>!!e);return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"mr1"},o.a.createElement(S,{interactionsVisible:k.length>0,children:o.a.createElement(O,{items:k})})),u&&o.a.createElement(B,{commentId:s,pinnedAt:t,closeModal:()=>m(!1),refetch:d}),p&&o.a.createElement(M,{onClose:()=>{h(!1)},contentId:s}))},z=n("Sdzn");var G=({body:e,deleted:t,hideContent:n})=>{const s=e.split(/(?:\r\n|\n)/g);return t?o.a.createElement("p",{className:"dark-grey-500"},e,o.a.createElement("span",null," "),o.a.createElement(a.a,{i18nKey:"project_page.comments.Learn_more_about_comment_guidelines",guidelinesLink:o.a.createElement("a",{className:"bold soft-black",href:"/help/community"},Object(a.b)("project_page.comments.guidelines"))})):n?o.a.createElement(a.a,{i18nKey:"project_page.comments.this_user_has_been_blocked"}):o.a.createElement(r.Fragment,null,s.map((e,t)=>{const n=Object(i.a)("data-comment-text","type-14",Object(z.a)(s,t)?"mb0":"mb2");return o.a.createElement("p",{key:t,className:n},e)}))},K=n("6Oeb");var W=({suppressed:e,deleted:t,body:n,selectedText:a,hideContent:i})=>o.a.createElement("div",{className:"flex"},e&&o.a.createElement(f.a,{name:"info",size:"16",atoms:["fill-dark-grey-500","mr1","relative","t3px"]}),o.a.createElement("div",{className:"w100p"},a&&o.a.createElement(K.a,{body:a}),o.a.createElement(G,{body:n,deleted:t,hideContent:i}))),J=n("mv45"),X=n("7xcP"),Z=n("L/h+"),Q=n("EoiL"),ee=n("1OuE"),te=n("zm9w"),ne=n("uBwy");const ae=e=>e&&null!==e.amount&&null!==e.currency?te.b.money(e.amount,{precision:0,currency:e.currency}):o.a.createElement(ne.a,null),ie=({id:e,hasFlaggings:t,removalRequestIsNonissue:n,backerName:i,backerImage:r,backingsCount:s,backingUrl:c,rewardsAmount:l,shippingAmount:d,shippingSummary:u,amount:m,bonusAmount:p,pledgedAt:h,reward:g,addOns:_})=>{const b=Boolean(p&&"0.0"!==p.amount),v=g?ae(l):Object(a.b)("backing_info.No_reward");return o.a.createElement("div",{className:"px1"},o.a.createElement("div",{className:"border-bottom flex items-center pb5"},o.a.createElement(Z.a,{imageUrl:r,size:6,atoms:["mr2"]}),o.a.createElement("div",null,o.a.createElement(Q.a,{level:2,type:"subhead-500",weight:"normal",atoms:["mb0"]},i),o.a.createElement("div",{className:"flex items-center"},o.a.createElement(f.a,{name:"icon--small-k",size:"medium",atoms:["fill-soft-black","mr1"]}),o.a.createElement("span",null,s>0?Object(a.b)("backing_info.Projects_backed",{count:s}):"")))),o.a.createElement("div",null,o.a.createElement("div",{id:"amount-section",className:"pb3 mt3 border-bottom flex justify-between"},o.a.createElement("div",{className:"w25p"},Object(a.b)("backing_info.Amounts")),o.a.createElement("div",{className:"w50p"},o.a.createElement("div",null,Object(a.b)("backing_info.Pledge")),u&&o.a.createElement("div",null,u),b&&o.a.createElement("div",null,Object(a.b)("backing_info.Bonus")),o.a.createElement("div",{className:"mt2"},"Total")),o.a.createElement("div",{className:"text-right w25p"},o.a.createElement("div",null,v),u&&o.a.createElement("div",null,ae(d)),b&&o.a.createElement("div",null,ae(p)),o.a.createElement("div",{className:"mt2"},ae(m)))),g&&o.a.createElement("div",{id:"reward-section",className:"pb3 mt3 border-bottom flex justify-between"},o.a.createElement("div",{className:"w25p"},Object(a.b)("backing_info.Reward")),o.a.createElement("div",{className:"w50p"},o.a.createElement("div",null,g.name),_&&_.length>0&&o.a.createElement("div",{className:"mt1"},_.map((e,t)=>o.a.createElement("div",{key:t,className:"ml2"},o.a.createElement("span",{className:"mr2"},"+"),e.name)))),o.a.createElement("div",{className:"text-right w25p"},g&&o.a.createElement("div",null,"x1"),_&&_.length>0&&o.a.createElement("div",{className:"mt1"},_.map((e,t)=>o.a.createElement("div",{key:t,className:"ml2"},"x"+e.quantity))))),o.a.createElement("div",{id:"pledged-at-section",className:"pb3 mt3 flex justify-between"},o.a.createElement("div",{className:"w25p"},Object(a.b)("backing_info.Pledge_date")),o.a.createElement("div",{className:"w50p left"},o.a.createElement("div",null,h&&Object(ee.b)("LL",h))),o.a.createElement("div",{className:"w25p"})),o.a.createElement("div",null,o.a.createElement("div",{className:"right ml2"},o.a.createElement(X.a,{backingId:e,hasFlagging:t,removalRequestIsNonissue:n})),o.a.createElement("div",null,c&&o.a.createElement("div",{className:"right"},o.a.createElement(C.c,{href:c,target:"_blank"},Object(a.b)("backing_info.View_pledge")))))))},re=({backerName:e,backerImage:t,backingUrl:n,errored:i})=>o.a.createElement("div",{className:"px1"},o.a.createElement("div",{className:"border-bottom flex items-center pb5"},o.a.createElement(Z.a,{imageUrl:t,size:6,atoms:["mr2"]}),o.a.createElement("div",null,o.a.createElement(Q.a,{level:2,type:"subhead-500",weight:"normal"},e))),o.a.createElement("div",{className:"py11 flex flex-column items-center"},i?o.a.createElement(o.a.Fragment,null,o.a.createElement(f.a,{size:"36",name:"icon--alert"}),o.a.createElement("p",{className:"pt6"},Object(a.b)("backing_info.We_couldnt_load_this"))):o.a.createElement(g.a,{size:"48"})),n&&o.a.createElement("div",{className:"right"},o.a.createElement(C.c,{href:n,target:"_blank"},Object(a.b)("backing_info.View_pledge")))),oe=({errored:e,loading:t,preloadedData:n,backing:a,onClose:i})=>o.a.createElement(R.a,{size:"large",onClose:i},(t||e)&&n?o.a.createElement(re,Object.assign({},n,{errored:e})):o.a.createElement(ie,a)),se={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BackingInfo"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"backing"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"backingUrl"}},{kind:"Field",name:{kind:"Name",value:"removalRequestIsNonissue"}},{kind:"Field",name:{kind:"Name",value:"hasFlaggings"}},{kind:"Field",name:{kind:"Name",value:"pledgedOn"}},{kind:"Field",name:{kind:"Name",value:"shippingSummary"}},{kind:"Field",name:{kind:"Name",value:"shippingAmount"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"}},{kind:"Field",name:{kind:"Name",value:"currency"}}]}},{kind:"Field",name:{kind:"Name",value:"rewardsAmount"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"}},{kind:"Field",name:{kind:"Name",value:"currency"}}]}},{kind:"Field",name:{kind:"Name",value:"bonusAmount"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"}},{kind:"Field",name:{kind:"Name",value:"currency"}}]}},{kind:"Field",name:{kind:"Name",value:"amount"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"}},{kind:"Field",name:{kind:"Name",value:"currency"}}]}},{kind:"Field",name:{kind:"Name",value:"reward"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"addOnsWithQuantity"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"quantity"}}]}},{kind:"Field",name:{kind:"Name",value:"backer"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"imageUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"200"}}]},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"backingsCount"}}]}}]}}]}}]};const ce=Object(J.c)(e=>{var t,n,a,i,r;if(!(null==e||null===(t=e.data)||void 0===t?void 0:t.backing))return Object(J.d)();const o=e.data.backing,s=null==o||null===(n=o.addOnsWithQuantity)||void 0===n?void 0:n.map(e=>e&&e.name?{name:e.name,quantity:e.quantity}:null);return Object(J.l)({backing:{id:null==o?void 0:o.id,hasFlaggings:null==o?void 0:o.hasFlaggings,removalRequestIsNonissue:null==o?void 0:o.removalRequestIsNonissue,backerName:(null==o||null===(a=o.backer)||void 0===a?void 0:a.name)||"",backerImage:(null==o||null===(i=o.backer)||void 0===i?void 0:i.imageUrl)||"",backingUrl:null==o?void 0:o.backingUrl,backingsCount:(null==o||null===(r=o.backer)||void 0===r?void 0:r.backingsCount)||0,amount:null==o?void 0:o.amount,rewardsAmount:null==o?void 0:o.rewardsAmount,shippingAmount:null==o?void 0:o.shippingAmount,bonusAmount:null==o?void 0:o.bonusAmount,shippingSummary:null==o?void 0:o.shippingSummary,pledgedAt:null==o?void 0:o.pledgedOn,reward:(c=null==o?void 0:o.reward,c&&c.name?{name:c.name}:null),addOns:s||[]}});var c}),le=Object(l.graphql)(se,ce)(e=>{const t={...e,loading:!Object(J.i)(e),errored:Object(J.g)(e)};return o.a.createElement(oe,t)});var de=n("wpot"),ue=n("VF4V");const me={[c.g.CREATOR]:{text:Object(a.b)("project_page.comments.Creator"),classes:"bg-ksr-green-700 white px1 type-14 mr1"},[c.g.COLLABORATOR]:{text:Object(a.b)("project_page.comments.Collaborator"),classes:"bg-ksr-green-700 o50p white o0p px1 type-14 mr1"},[c.g.SUPERBACKER]:{text:Object(a.b)("project_page.comments.Superbacker"),classes:"apricot-600 type-14 mr1"}};var pe=n("fQhN"),he=n("UvgG");var fe=({text:e,classes:t})=>o.a.createElement("span",{className:t},e);const ge=e=>{const{commentId:t,pinnedAt:n,refetch:i}=e,[s,c]=Object(r.useState)(!1);return o.a.createElement("div",{className:"w100p text-right mb-3-md"},o.a.createElement(w.a,{color:"conferences-blue",atoms:["create-700"],onClick:()=>{c(!0)}},o.a.createElement(f.a,{name:"icon--pin",size:"15",atoms:["relative mr1 fill-create-700"]}),Object(a.b)("project_page.comments.Pinned")),s&&o.a.createElement(B,{commentId:t,pinnedAt:n,closeModal:()=>c(!1),refetch:i}))},_e=({author:e,authorBacking:t})=>{const[n,a]=Object(r.useState)(!1),i={backerName:e.name,backingUrl:null==t?void 0:t.backingUrl,backerImage:e.imageUrl},s=(null==t?void 0:t.id)&&Object(V.a)(null==t?void 0:t.id);return s?o.a.createElement(o.a.Fragment,null,o.a.createElement(w.a,{color:"soft-black",onClick:()=>a(!0),target:"_blank"},o.a.createElement(ue.a,null,e.name)),n&&o.a.createElement(le,{id:s,preloadedData:i,onClose:()=>a(!1)})):(null==t?void 0:t.backingUrl)?o.a.createElement(w.a,{color:"soft-black",href:null==t?void 0:t.backingUrl,target:"_blank"},o.a.createElement(ue.a,null,e.name)):o.a.createElement(ue.a,null,e.name)};var be=({author:e,authorBacking:t,authorBadges:n,today:i=new Date,createdAt:r,commentPath:s,tooltip:c,pinnedAt:l,commentId:d,refetch:u})=>{const m=Object(de.a)(i,1e3*r);return o.a.createElement(o.a.Fragment,null,l&&o.a.createElement(ge,{commentId:d,pinnedAt:l,refetch:u}),o.a.createElement("div",{className:"flex mb3 justify-between"},o.a.createElement("div",{className:"flex"},e.isBlocked?o.a.createElement("div",{className:"avatar inline-block align-middle radius100p w6 h6 border border-grey-500 mr2 do-not-visually-track"}):o.a.createElement(Z.a,{imageUrl:e.imageUrl,size:6,atoms:["mr2"]}),o.a.createElement("div",null,o.a.createElement("span",{className:"mr2"},e.isBlocked?o.a.createElement(a.a,{i18nKey:"project_page.comments.blocked_user_name"}):o.a.createElement(_e,{author:e,authorBacking:t})),o.a.createElement(pe.a,null,o.a.createElement("span",null,n.map((e,t)=>o.a.createElement(fe,Object.assign({key:t},me[e]))))),o.a.createElement("a",{href:s,className:"comment-link",onClick:e=>{e.preventDefault(),window.history.replaceState(null,"",s)}},o.a.createElement("time",{className:"block dark-grey-400 type-12",dateTime:r,title:Object(he.d)(r)},m)))),c&&o.a.createElement(_.a,{placement:"top",label:c,style:{textAlign:"center"}},o.a.createElement("span",null,o.a.createElement(f.a,{name:"icon--info",size:"16"})))))};var ve=({body:e,deleted:t})=>o.a.createElement("div",{className:"flex"},o.a.createElement(f.a,{name:"info",size:"16",atoms:["fill-dark-grey-500","mr1","relative","t3px"]}),o.a.createElement("div",{className:"w100p"},o.a.createElement("p",{className:"type-14 dark-grey-500"},t?o.a.createElement(o.a.Fragment,null,e,o.a.createElement("span",null," "),o.a.createElement(w.a,{href:"/help/community",color:"black-blue"},Object(a.b)("project_page.comments.Read_our_community_guidelines"))):o.a.createElement(a.a,{i18nKey:"project_page.comments.This_comment_is_under_review",guidelinesLink:o.a.createElement(w.a,{href:"/help/community",color:"black-blue"},Object(a.b)("project_page.comments.Kickstarters_Community_Guidelines"))}))));t.a=Object(s.hot)(({id:e,body:t,author:n,authorBacking:r,me:s,createdAt:l,authorBadges:d,canReport:u,canDelete:m,canPin:p,hasFlaggings:h,sustained:f,deletedAuthor:g,deleted:_,pinnedAt:b,commentPath:v,isActive:k,setRef:y,children:j,refetch:w})=>{const S=_||g;S&&(u=!1);const O=s.id==n.id,N=h&&!f&&!O,C=new RegExp(c.e).test(e)?"o50p":"o100p",I=k?"bg-apricot-400":"bg-white",x=c.a;let T=null;if(t&&t.includes(x)){const e=t.split(x);T=e[0],t=e[1]}const A=T?Object(a.b)("project_page.comments.This_is_a_quoted_comment"):null;return o.a.createElement("div",{ref:y,className:`border-box relative break-word border border-grey-400 px3 pt3 pb2 ${C} transition-all transition-delay-1000 ${I}`},c.f.some(e=>d.includes(e))&&o.a.createElement("span",{className:(d.includes(c.g.CREATOR)?"bg-ksr-green-700":d.includes(c.g.COLLABORATOR)?"bg-ksr-green-700 o50p":void 0)+" w1 t0 b0 l0 absolute test-authority_bar"}),o.a.createElement(be,{author:n,authorBacking:r,authorBadges:d,commentPath:v,createdAt:l,tooltip:A,pinnedAt:b,commentId:e,refetch:w}),N?o.a.createElement(ve,{body:t,deleted:_}):o.a.createElement(o.a.Fragment,null,o.a.createElement(W,{body:t,selectedText:T,suppressed:S,deleted:_,hideContent:n.isBlocked}),o.a.createElement("div",{className:"flex justify-end"},(p||u)&&o.a.createElement(Y,{pinnedAt:b,canPin:p,canReport:u,commentId:e,hasFlaggings:h,sustained:f,refetch:w}),j,m&&o.a.createElement("div",{className:Object(i.a)("flex","justify-center",u&&"mr2")},o.a.createElement(E,{id:e})))))})},"VTv/":function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("h4vE");n("c48Q"),n("RIhn");Object(r.a)(".js-asset-uploads",(function(e){var t=e.find(".js-asset-uploads--tracks");e.on("ksr_uploader:uploaded",(function(e,n){var a=i()(this).data("subtitles-path");a&&0!==t.length&&(t.empty(),i.a.ajax({url:a,method:"GET",data:{captionable_id:n.id,captionable_type:n.type}}).success((function(e){t.html(e.html)})))})),e.on("ksr_uploader:remove",(function(){t.empty()}))})),i()(".js-asset-uploads--tracks").livequery((function(){i()(this).videoTracksEditor()}))},VeZw:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);n("RIhn");function r(e){var t=e.find(".js-block-user").data("is-blocking"),n=e.find(".js-follow-user");t?n.addClass("hidden"):n.removeClass("hidden")}i()(".js-social-actions").livequery((function(){var e=i()(this);r(e),e.on("ksr:block_user ksr:unblock_user",(function(){e.find(".js-follow-user").trigger("ksr:set_to_follow"),r(e)}))}))},ViW2:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("h4vE"),o=n("GRmu"),s=n("0VSk"),c=n("2UXI");n("nra7");Object(r.a)("#credit_cards_new",(function(e){var t,n=e.find(".js-new-card-form"),a=e.find(".js-credit-card-choice"),r=e.find(".js-edit-ccs"),l=s.default.t("onloads.views.credit_cards.new.This_card_will_not_be_shown_again"),d=s.default.t("onloads.views.credit_cards.new.Edit_credit_cards"),u=s.default.t("onloads.views.credit_cards.new.Cancel"),m=s.default.t("onloads.views.credit_cards.new.Looks_like_something_went_wrong");a.on("click",".js-remove-cc-btn",(function(e){t=i()(e.delegateTarget)})),i()(document).on("click",".js-yes-remove-btn",(function(e){e.preventDefault();var r=i()(this).attr("href");i.a.getJSON(r,(function(){(i()(".modal_dialog").trigger("close.modal_dialog"),t.remove(),Object(o.a)({success:l}),i()(".js-credit-card-choice").length)?a.find(".js-credit-card-info").first().click():(i()(".js-stored-card-form").html(n),n.show())})).fail((function(){i()(".modal_dialog").trigger("close.modal_dialog"),Object(o.a)({error:m})}))})),r.on("click",(function(e){e.preventDefault(),a.find(".js-remove-cc-btn").toggle(),r.toggleClass("js-editing-inactive"),r.hasClass("js-editing-inactive")?(i()(this).text(d),Object(c.d)("Collapsed Edit Payment Sources Form")):(i()(this).text(u),Object(c.d)("Expanded Edit Payment Sources Form"))}))})),Object(r.a)("#old_build_payments_form",(function(){var e,t;0===i()("#react-payments-form").length&&(e=i()("#new_card_form").find("form"),t=i()(".selected input.card_toggle"),i()("#credit_card_form .errored").not(".hide").length&&(t=i()("#new-card input.card_toggle")),t.length||(t=i()("input.card_toggle:first")),i()(document).on("change click","input.card_toggle",(function(t){t.preventDefault();var n,a=i()(this),r=i()("#new_card_form");a.is("input.card_toggle")||(a=a.find("input.card_toggle")),(n=i()("input.card_toggle").not(a)).prop("checked",!1),a.prop("checked",!0),n.closest(".payment_option").removeClass("selected"),a.closest(".payment_option").addClass("selected"),a.closest("#new-card").length?(r.slideDown(400),e=r.find("form")):(r.slideUp(400),e=a.closest("form"))})),i()(document).on("click",".js-pledge-submit",(function(t){t.preventDefault(),i()(".payment_option.selected").find(".account_toggle.radio").length?e=i()("#sepa-account-info"):i()(".js-credit-card-choice").length||(e=i()("#new_card_form").find("form")),e.submit()})),t.prop("checked",!0).trigger("change"))}));var l=n("0sfg"),d=n.n(l);Object(r.a)("#new-sepa-account",(function(e){if(i()("#react-payments-form").length>0)return;const t={account_name_presence:s.default.t("sepa.errors.account_name_presence"),account_number_presence:s.default.t("sepa.errors.account_number_presence"),account_number_invalid:s.default.t("sepa.errors.account_number_invalid"),account_terms_accepted:s.default.t("sepa.errors.account_terms"),unknown_error:s.default.t("onloads.views.credit_cards.form.Embarrassing_unknown_error_occurred"),stripe_timeout:s.default.t("onloads.views.credit_cards.form.Embarrassing_processing_your_pledge")},n=e.find("#new_sepa_account_form"),a=n.find(".errored"),r=i()("#saving-layer"),o=n.data("public-key"),l=n.find(":input"),u=n.find("input[name=sepa_account_name]"),m=n.find("input[name=sepa_account_number]"),p=n.find("input[name=sepa_accept_terms]"),h=n.find("input[name=reusable]"),f=n.data("checkout-reward-id"),g=n.data("checkout-id"),_=""===n.data("checkout-is-guest"),b=(e,t)=>{Object(c.d)("Checkout Error",{type:e,context:t,checkout_reward_id:f,checkout_id:g,checkout_is_guest:_})},v=(e,n)=>{const a=i()(n),r=a.data("error");t.hasOwnProperty(r)&&(b(r),a.closest("li").addClass("invalid").find(".js-error-message").removeClass("hide h0").addClass("block mb1").text(t[r]))},k=(e,t)=>{i()(t).data("error",null).closest("li").removeClass("invalid").find(".js-error-message").removeClass("block mb1").addClass("hide h0")};u.validates_presence({error:"account_name_presence"}),m.validates_presence({error:"account_number_presence"}).validates_custom(e=>0===e.indexOf("DE")&&d.a.isValid(e),{error:"account_number_invalid"}),p.validates_custom(()=>p.is(":checked"),{error:"account_terms_accepted"}),l.on("paste keyup cut change input click",e=>{setTimeout((function(){i()(e.target).validate()}),0)}).on("blur",e=>i()(e.target).each(v)).on("validate:valid",e=>i()(e.target).each(k)).on("validate:invalid",(e,t)=>i()(e.target).data("error",t));const y=i()("#js-stripe_form"),E=y.find("input[name=stripe_card_id]"),j=y.find("input[name=payment_type]"),w=y.find("input[name=reusable]");e.on("click",".sepa-terms__toggle",(function(e){e.preventDefault(),i()(".sepa-terms__mandate").toggleClass("sepa-terms__mandate--expanded")})),n.on("submit",(function(e){if(e.preventDefault(),!n.validate())return void l.each(v);a.hide(),r.show();const t=setTimeout((function(){r.removeClass("spinning").find(".modal_dialog_body").html(s.default.t("onloads.views.credit_cards.form.Well_this_is_embarrassing_Processing_your_pledge")),b("stripe_timeout")}),3e4);Stripe.setPublishableKey(o),Stripe.source.create({currency:"eur",sepa_debit:{iban:m.val()},owner:{name:u.val()},type:"sepa_debit"},(e,n)=>{clearTimeout(t),r.hide(),S(n)})}));const S=e=>{e.error?(a.html(e.error.message),a.show(),b("stripe_token",e.error.message)):(j.val("bank_account"),E.val(e.id),w.val(h.val()),y.submit())};i()(document).on("change click","input.account_toggle",(function(){i()(this).closest(".payment_option").addClass("selected");var e=i()("input.card_toggle");e.closest(".payment_option").removeClass("selected"),e.prop("checked",!1),n.slideDown(400,"easeOutQuad"),i()("#new_card_form").slideUp(400,"easeOutQuad")})),i()(document).on("change click","input.card_toggle",(function(){i()("input.account_toggle").prop("checked",!1),i()("input.account_toggle").closest(".payment_option").removeClass("selected"),n.slideUp(400,"easeOutQuad")}))}))},W2lQ:function(e,t,n){"use strict";n("bxGQ");var a=n("+2Rf");n("+2Rf");!function(e){function t(t){this.$container=e(t),this.embed()}e.fn.sound_player=function(){return e(this).each((function(){var n=e(this).data("ksr_video");n||(n=new t(e(this)),e(this).data("sound_player",n))}))},e.extend(t.prototype,{embed:function(t){var n="v"+parseInt(1e8*Math.random(),10),a=this;this.$container.find("span").attr("id",n),swfobject.embedSWF("https://d3mlfyygrfdi2i.cloudfront.net/321f/kickplayer.swf",n,this.$container.width(),this.$container.height(),"9.0.115","https://d3mlfyygrfdi2i.cloudfront.net/7b65/expressInstall.swf",{displayheight:this.$container.height(),file:encodeURI(this.$container.attr("data-file")),backcolor:"000000",screencolor:"000000",controlbar:"bottom","controlbar.idlehide":"false",autostart:t,audioonly:!0,skin:"https://d3mlfyygrfdi2i.cloudfront.net/cc3a/kickskin.swf"},{allowscriptaccess:"always",wmode:"opaque",menu:"false"},{id:"sound_player_"+n,class:"ksr_player",name:"sound_player_"+n},(function(n){if(n.success)a.jwplayer=jwplayer(n.ref);else{var i=e("<audio />",{src:a.$container.attr("data-file"),controls:!0,autoplay:t});a.$container.html(i),a.$audio=i}})),this.initialized=!0}})}(a)},W2vU:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("DzJC"),i=n.n(a),r=n("q1tI");const o=(e=0)=>{const t="object"==typeof window,[n,a]=Object(r.useState)(window.innerWidth);return Object(r.useEffect)(()=>{const n=e?i()(()=>a(window.innerWidth),e):()=>a(window.innerWidth);return t&&window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[e]),n}},WEJ0:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return p}));var a=n("xXH7"),i=n.n(a),r=n("mq2H"),o=n("94td"),s=n("NxQb"),c=n("NP8z");const l=e=>{var t,n;return{...e,id:Object(c.e)(e.id),items:(n=e.items,null===n||null===n.edges?[]:n.edges.map(e=>{if(!(null==e?void 0:e.node))return;const{node:{id:t,name:n,image:a},quantity:i}=e;return{id:t,name:n,image:a,quantity:i}}).filter(Boolean)),displayableAddons:(null===(t=e.displayableAddons)||void 0===t?void 0:t.nodes)||[]}},d=e=>e&&e.nodes?e.nodes.filter(e=>null!==e).map(l):[],u=(e,t)=>{Object(r.n)(r.d.CTA_CLICKED,{context_page:r.e.PROJECT,context_cta:e,context_location:"rewards_list",context_section:t})},m=e=>(e=>e.sort((e,t)=>Number(t.audienceData.secret)-Number(e.audienceData.secret)))((e=>Object(s.a)("featured_rewards_2025")?e.sort((e,t)=>Number(t.featured)-Number(e.featured)):e)(e)),p=(e,t)=>i()(d,(e=>t=>{const n=t.reduce((t,n)=>{var a;return Object(c.e)(null==e||null===(a=e.originalOrUpgradedReward)||void 0===a?void 0:a.id)===n.id?t.backed.push(n):n.available?t.available.push(n):t.unavailable.push(n),t},{backed:[],available:[],unavailable:[]});return[[Object(o.b)("rewards.Your_selection"),n.backed],[Object(o.b)("rewards.Available_rewards"),m(n.available)],[Object(o.b)("rewards.All_gone"),n.unavailable]].filter(([e,t])=>t&&t.length>0)})(e))(t)},WJbx:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("0VSk"),o=n("ZCIj");i()((function(){var e,t=i()(".NS_layouts__user_dropdown"),n=!1,a=!1;function s(){t.find("#menu-me-backed").length&&t.find(".user-dropdown").addClass("backer"),t.find("#menu-me-created").length&&t.find(".user-dropdown").addClass("creator")}function c(e){var n=t.find("#menu-me-children");o.b.setItem("user_dropdown_backer_creator_columns_html",e),n.children(".NS_layouts__user_dropdown_backer_creator_columns").remove(),n.append(e),s()}function l(e){a||(a=i.a.ajax({url:t.data("user_dropdown_backer_creator_columns_path"),type:"get",dataType:"html",data:{i18n:r.default.enabled},beforeSend:function(e){e.setRequestHeader("Accept","text/javascript, */*")},success:function(e){c(e),n=!0},complete:function(){e&&e(),a=!1}}))}(e=o.b.getItem("user_dropdown_backer_creator_columns_html"))&&(c(e),n=!0),s(),i()(".js-user-menu-tab").on("user_dropdown:open",(function(){var e=i()(this);n?e.addClass("selected"):l((function(){e.addClass("selected")}))})),i()(".js-user-menu-tab, .js-user-menu-tab > a").one("click",(function(){l()})),i()(document).on("user_dropdown:refresh_from_remote",(function(){l()})),i()("body").is(".just_logged_out")&&o.b.removeItem("user_dropdown_backer_creator_columns_html")}))},WSTq:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n("iuhU"),i=n("/kEZ"),r=n.n(i),o=n("2DJ9"),s=n("lX80"),c=n("LdJi"),l=n("f/gE"),d=n("94td"),u=n("SmhT"),m=n("/IHD"),p=n("z0kN"),h=n("q1tI"),f=n.n(h);class g extends h.Component{constructor(...e){super(...e),this.onEscape=({keyCode:e})=>{const{onClose:t}=this.props;e===u.d&&t()},this.toggleClipClass=()=>{this.props.clipOnMobileOnly||(document.body.classList.toggle("clip"),document.documentElement.classList.toggle("clip"))}}componentDidMount(){this.props.hideClosing||document.addEventListener("keydown",this.onEscape),this.toggleClipClass()}componentWillUnmount(){this.props.hideClosing||document.removeEventListener("keydown",this.onEscape),this.toggleClipClass()}render(){const{atoms:e,children:t,closeIconClasses:n,headerCopy:i,subHeaderCopy:s,onClose:c,secondaryCloseCopy:l,secondaryCloseFn:u,size:g,viewportHeight:_="70",grabFocus:v,bgColor:k="bg-white",overlayColor:y="bg-grey-100_95",clipOnMobileOnly:E=!1,animationClasses:j=[],animationId:w="",closeIconColor:S="fill-navy-500",hideClosing:O=!1,bgElement:N,autoscroll:C=!0}=this.props,I="fullScreen"===g?"absolute t5 r8 pointer block py0 bg-transparent":"absolute t0 r-5 pointer hide block-sm py0 bg-transparent",x=E?"clip visible-sm":"clip",T="fullScreen"===g?`shadow-low  p4 h100vh ${C?"auto-scroll-y":""} ${C?x:""}`:`shadow-low p4 max-h${_}vh ${C?"auto-scroll-y":""} ${C?x:""}`,A=Object(m.a)("w100p m-auto pointer-events-auto relative",j,e);return f.a.createElement("div",{className:"fixed t0 b0 l0 r0 z-modal-3"},"fullScreen"!==g&&f.a.createElement("div",{onClick:O?void 0:c,role:"presentation",className:`absolute w100p h100p ${y} z1`}),f.a.createElement(b,{size:g},f.a.createElement(r.a,{className:"relative",role:"dialog","aria-label":i||"Modal",focusTrapOptions:{clickOutsideDeactivates:!0,initialFocus:v?"#focus-grabber":""}},f.a.createElement("div",{className:"z2 flex relative flex-column pointer-events-none h100vh"},f.a.createElement("div",{id:w,className:A},v&&f.a.createElement("div",{id:"focus-grabber"}),f.a.createElement("div",{className:"relative"},f.a.createElement("div",{className:`${k} ${C?"clip":""} absolute l0 r0 t0 b0 z-1`},N),f.a.createElement("div",{className:T},i&&f.a.createElement("h1",{id:Object(p.b)(i),className:`type-18 medium black ${s?"mb2":"mb4"} center`},i),s,h.Children.map(t,e=>e))),"fullScreen"!==g&&!O&&f.a.createElement("div",{className:"pt1 pt4-md text-center"},f.a.createElement("button",{id:"modal-secondary-close",className:"pointer text-underline type-14 navy-600 bg-transparent",onClick:u||c},l)),!O&&f.a.createElement("button",{onClick:c,className:I,id:"modal-primary-close"},f.a.createElement(o.a,{name:"x",label:Object(d.b)("overlay_modal.close"),atoms:[Object(a.b)(S,n)]})))))))}}g.defaultProps={secondaryCloseCopy:Object(d.b)("overlay_modal.close"),grabFocus:!0};const _={large:{smWidth:8,lgWidth:6},small:{smWidth:5,lgWidth:4},fullScreen:{smWidth:12,lgWidth:12}},b=e=>{const{size:t,children:n}=e;return"number"==typeof t?f.a.createElement("div",{className:"m-auto",style:{width:t+"px",maxWidth:"88%"}},n):f.a.createElement(c.a,{full:!0,atoms:["absolute","w100p"]},f.a.createElement(l.a,null,f.a.createElement(s.a,Object.assign({center:!0},_[t]),n)))}},WbKZ:function(e,t,n){"use strict";n("2sRD"),n("+2Rf");!function(e){function t(t,n){this.$field=t,this.$calendar=void 0,this.options=e.extend({calendar:{},position:"right"},n),this._in_manual_edit=!1,this._blurs_to_ignore=-1,this._attach()}e.fn.datetime_picker_field=function(n){return this.each((function(){new t(e(this),n)}))},e.extend(t.prototype,{_attach:function(){var e=this;this.$field.focus((function(){e._in_time_field=!1,e._ensure_calendar()})),this.$field.blur((function(){e._hide_calendar_or_refocus(),e._blurs_to_ignore-=1})),e.$field.bind("keypress cut paste input",(function(){e._handle_edit()}))},_ensure_calendar:function(){if(this.$calendar)return this.$calendar;var t=this,n=e("<div></div>"),a=e.extend({selected_date:this.get_selected_datetime()},this.options.calendar);return this.options.class_name?n.addClass(this.options.class_name):(n.css("position","absolute"),n.css("z-index",1e3)),"bottom"===this.options.position?(n.css("left",this.$field.offset().left),n.css("top",this.$field.offset().top+this.$field.outerHeight()+20)):(n.css("left",this.$field.offset().left+this.$field.width()+20),n.css("top",this.$field.offset().top)),n.hide(),this._get_surrounding_element().append(n),n.calendar_date_picker(a),n.mousedown((function(){t._in_time_field=!1,t._blurs_to_ignore+=1})),n.find("label").mousedown((function(e){t._in_time_field=!0,t._blurs_to_ignore+=1,e.stopPropagation()})),n.find("input").blur((function(){t._hide_calendar_or_refocus(),t._blurs_to_ignore-=1})),t._blurs_to_ignore=0,n.bind("calendar_date_picker:date_selected",(function(e,n){if(!t._in_manual_edit){var a=t.options.format_callback(n);a!==t.$field.val()&&(t.$field.val(a),t.$field.trigger("input"),t.options.calendar.time_text||(t._hide_calendar(),t._focus_next()))}})),n.find(".time input").bind("keydown",(function(n){13===n.keyCode&&(e(this).blur(),t._hide_calendar())})),this.$calendar=n,n.fadeIn(),this.options.open_calendar_callback&&this.options.open_calendar_callback(),this.$calendar},_hide_calendar:function(){this.$calendar&&(this.$calendar.fadeOut((function(){e(this).remove()})),this.$calendar=void 0,this.options.close_calendar_callback&&this.options.close_calendar_callback())},_focus_next:function(){var e=this.$field.parents("form:eq(0)").find(":input"),t=e.index(this.$field);t>-1&&t+1<e.length&&e.eq(t+1).focus()},_reformat_value:function(){this.$field.val(this.options.format_callback(this.get_selected_datetime()))},_hide_calendar_or_refocus:function(){var e=this;this._blurs_to_ignore<=0?(this._hide_calendar(),this._reformat_value()):window.setTimeout((function(){e._in_time_field?e.$calendar&&e.$calendar.length&&e.$calendar.find("input").focus():e.$field.focus()}))},_handle_edit:function(){this._in_manual_edit=!0,this.$calendar&&this.$calendar.trigger("calendar_date_picker:select_date",this.get_selected_datetime()),this._in_manual_edit=!1},get_selected_datetime:function(){var e=this.$field.val();return this.options.parse_callback(e)},_get_surrounding_element:function(){return this.options.surrounding_element?e(this.options.surrounding_element):e("body")}})}(n("+2Rf"))},WiXe:function(e,t,n){var a=n("+2Rf");n("+2Rf");!function(e){"use strict";e.extend({tablesorter:new function(){var t=this;function n(){var e=arguments.length>1?Array.prototype.slice.call(arguments):arguments[0];"undefined"!=typeof console&&void 0!==console.log?console.log(e):alert(e)}function a(e,t){n(e+" ("+((new Date).getTime()-t.getTime())+"ms)")}function i(e){for(var t in e)return!1;return!0}function r(t,n,a){if(!n)return"";var i=t.config,r=i.textExtraction,o="";return o="simple"===r?i.supportsTextContent?n.textContent:e(n).text():"function"==typeof r?r(n,t,a):"object"==typeof r&&r.hasOwnProperty(a)?r[a](n,t,a):i.supportsTextContent?n.textContent:e(n).text(),e.trim(o)}function o(e,a,i,o){for(var s,c=t.parsers.length,l=!1,d="",u=!0;""===d&&u;)a[++i]?(d=r(e,l=a[i].cells[o],o),e.config.debug&&n("Checking if value was empty on row "+i+", column: "+o+': "'+d+'"')):u=!1;for(;--c>=0;)if((s=t.parsers[c])&&"text"!==s.id&&s.is&&s.is(d,e,l))return s;return t.getParserById("text")}function s(e){var i,r,s,c,l,d,u,m,p=e.config,h=p.$tbodies=p.$table.children("tbody:not(."+p.cssInfoBlock+")"),f="";if(0===h.length)return p.debug?n("*Empty table!* Not building a parser cache"):"";if(p.debug&&(m=new Date,n("Detecting parsers for each column")),(i=h[0].rows)[0])for(r=[],s=i[0].cells.length,c=0;c<s;c++)l=(l=p.$headers.filter(":not([colspan])")).add(p.$headers.filter('[colspan="1"]')).filter('[data-column="'+c+'"]:last'),d=p.headers[c],u=t.getParserById(t.getData(l,d,"sorter")),p.empties[c]=t.getData(l,d,"empty")||p.emptyTo||(p.emptyToBottom?"bottom":"top"),p.strings[c]=t.getData(l,d,"string")||p.stringTo||"max",u||(u=o(e,i,-1,c)),p.debug&&(f+="column:"+c+"; parser:"+u.id+"; string:"+p.strings[c]+"; empty: "+p.empties[c]+"\n"),r.push(u);p.debug&&(n(f),a("Completed detecting parsers",m)),p.parsers=r}function c(i){var o,s,c,l,d,u,m,p,h,f,g=i.tBodies,_=i.config,b=_.parsers,v=[];if(_.cache={},!b)return _.debug?n("*Empty table!* Not building a cache"):"";for(_.debug&&(f=new Date),_.showProcessing&&t.isProcessing(i,!0),m=0;m<g.length;m++)if(_.cache[m]={row:[],normalized:[]},!e(g[m]).hasClass(_.cssInfoBlock)){for(o=g[m]&&g[m].rows.length||0,s=g[m].rows[0]&&g[m].rows[0].cells.length||0,d=0;d<o;++d)if(h=[],(p=e(g[m].rows[d])).hasClass(_.cssChildRow))_.cache[m].row[_.cache[m].row.length-1]=_.cache[m].row[_.cache[m].row.length-1].add(p);else{for(_.cache[m].row.push(p),u=0;u<s;++u)c=r(i,p[0].cells[u],u),l=b[u].format(c,i,p[0].cells[u],u),h.push(l),"numeric"===(b[u].type||"").toLowerCase()&&(v[u]=Math.max(Math.abs(l)||0,v[u]||0));h.push(_.cache[m].normalized.length),_.cache[m].normalized.push(h)}_.cache[m].colMax=v}_.showProcessing&&t.isProcessing(i),_.debug&&a("Building cache for "+o+" rows",f)}function l(n,r){var o,s,c,l,d,u,m,p,h,f,g,_,b=n.config,v=b.widgetOptions,k=n.tBodies,y=[],E=b.cache;if(!i(E)){for(b.debug&&(_=new Date),h=0;h<k.length;h++)if((d=e(k[h])).length&&!d.hasClass(b.cssInfoBlock)){for(u=t.processTbody(n,d,!0),o=E[h].row,l=(c=(s=E[h].normalized).length)?s[0].length-1:0,m=0;m<c;m++)if(g=s[m][l],y.push(o[g]),!b.appender||b.pager&&(!b.pager.removeRows||!v.pager_removeRows)&&!b.pager.ajax)for(f=o[g].length,p=0;p<f;p++)u.append(o[g][p]);t.processTbody(n,u,!1)}b.appender&&b.appender(n,y),b.debug&&a("Rebuilt table",_),r||b.appender||t.applyWidget(n),e(n).trigger("sortEnd",n),e(n).trigger("updateComplete",n)}}function d(e){return/^d/i.test(e)||1===e}function u(i){var r,o,s,c,l,u,m,h=function(t){var n,a,i,r,o,s,c,l,d,u,m,p,h=[],f={},g=0,_=e(t).find("thead:eq(0), tfoot").children("tr");for(n=0;n<_.length;n++)for(s=_[n].cells,a=0;a<s.length;a++){for(l=(c=(o=s[a]).parentNode.rowIndex)+"-"+o.cellIndex,d=o.rowSpan||1,u=o.colSpan||1,void 0===h[c]&&(h[c]=[]),i=0;i<h[c].length+1;i++)if(void 0===h[c][i]){m=i;break}for(f[l]=m,g=Math.max(m,g),e(o).attr({"data-column":m}),i=c;i<c+d;i++)for(void 0===h[i]&&(h[i]=[]),p=h[i],r=m;r<m+u;r++)p[r]="x"}return t.config.columns=g+1,f}(i),f=i.config;f.headerList=[],f.headerContent=[],f.debug&&(m=new Date),c=f.cssIcon?'<i class="'+f.cssIcon+" "+t.css.icon+'"></i>':"",f.$headers=e(i).find(f.selectorHeaders).each((function(n){o=e(this),r=f.headers[n],f.headerContent[n]=e(this).html(),l=f.headerTemplate.replace(/\{content\}/g,e(this).html()).replace(/\{icon\}/g,c),f.onRenderTemplate&&(s=f.onRenderTemplate.apply(o,[n,l]))&&"string"==typeof s&&(l=s),e(this).html('<div class="tablesorter-header-inner">'+l+"</div>"),f.onRenderHeader&&f.onRenderHeader.apply(o,[n]),this.column=h[this.parentNode.rowIndex+"-"+this.cellIndex],this.order=d(t.getData(o,r,"sortInitialOrder")||f.sortInitialOrder)?[1,0,2]:[0,1,2],this.count=-1,this.lockedOrder=!1,void 0!==(u=t.getData(o,r,"lockedOrder")||!1)&&!1!==u&&(this.order=this.lockedOrder=d(u)?[1,1,1]:[0,0,0]),o.addClass(t.css.header+" "+f.cssHeader),f.headerList[n]=this,o.parent().addClass(t.css.headerRow+" "+f.cssHeaderRow),o.attr("tabindex",0)})),p(i),f.debug&&(a("Built headers:",m),n(f.$headers))}function m(e,t,n){var a=e.config;a.$table.find(a.selectorRemove).remove(),s(e),c(e),b(a.$table,t,n)}function p(n){var a,i=n.config;i.$headers.each((function(n,r){a="false"===t.getData(r,i.headers[n],"sorter"),r.sortDisabled=a,e(r)[a?"addClass":"removeClass"]("sorter-false")}))}function h(n){var a,i,r,o,s=n.config,c=s.sortList,l=[t.css.sortAsc+" "+s.cssAsc,t.css.sortDesc+" "+s.cssDesc],d=e(n).find("tfoot tr").children().removeClass(l.join(" "));for(s.$headers.removeClass(l.join(" ")),o=c.length,i=0;i<o;i++)if(2!==c[i][1]&&(a=s.$headers.not(".sorter-false").filter('[data-column="'+c[i][0]+'"]'+(1===o?":last":""))).length)for(r=0;r<a.length;r++)a[r].sortDisabled||(a.eq(r).addClass(l[c[i][1]]),d.length&&d.filter('[data-column="'+c[i][0]+'"]').eq(r).addClass(l[c[i][1]]))}function f(e,t){return e&&e[t]&&e[t].type||""}function g(e){var n,r,o,s,c,l,d,u,m,p,h,g,_,b=0,v=e.config,k=v.textSorter||"",y=v.sortList,E=y.length,j=e.tBodies.length;if(!v.serverSideSorting&&!i(v.cache)){for(v.debug&&(p=new Date),r=0;r<j;r++)l=v.cache[r].colMax,(d=v.cache[r].normalized).length,m=d&&d[0]?d[0].length-1:0,d.sort((function(a,i){for(n=0;n<E;n++){if(c=y[n][0],u=y[n][1],g=(b=0===u)?a:i,_=b?i:a,o=v.string[v.empties[c]||v.emptyTo],""===g[c]&&0!==o)return("boolean"==typeof o?o?-1:1:o||1)*(b?1:-1);if(""===_[c]&&0!==o)return("boolean"==typeof o?o?1:-1:-o||-1)*(b?1:-1);if((s=/n/i.test(f(v.parsers,c)))&&v.strings[c]?(s="boolean"==typeof v.string[v.strings[c]]?(b?1:-1)*(v.string[v.strings[c]]?-1:1):v.strings[c]&&v.string[v.strings[c]]||0,h=v.numberSorter?v.numberSorter(g[c],_[c],b,l[c],e):t.sortNumeric(g[c],_[c],s,l[c])):h="function"==typeof k?k(g[c],_[c],b,c,e):"object"==typeof k&&k.hasOwnProperty(c)?k[c](g[c],_[c],b,c,e):t.sortNatural(g[c],_[c]),h)return h}return a[m]-i[m]}));v.debug&&a("Sorting on "+y.toString()+" and dir "+u+" time",p)}}function _(e,t){var n=e[0].config;n.pager&&!n.pager.ajax&&e.trigger("updateComplete"),"function"==typeof t&&t(e[0])}function b(e,t,n){!1===t||e[0].isProcessing?_(e,n):e.trigger("sorton",[e[0].config.sortList,function(){_(e,n)}])}function v(n){var a,o,d=n.config,f=d.$table;d.$headers.find(d.selectorSort).add(d.$headers.filter(d.selectorSort)).unbind("mousedown.tablesorter mouseup.tablesorter sort.tablesorter keypress.tablesorter").bind("mousedown.tablesorter mouseup.tablesorter sort.tablesorter keypress.tablesorter",(function(a,r){if(!(1!==(a.which||a.button)&&!/sort|keypress/.test(a.type)||"keypress"===a.type&&13!==a.which||"mouseup"===a.type&&!0!==r&&(new Date).getTime()-o>250)){if("mousedown"===a.type)return o=(new Date).getTime(),"INPUT"===a.target.tagName?"":!d.cancelSelection;d.delayInit&&i(d.cache)&&c(n);var s=(/TH|TD/.test(this.tagName)?e(this):e(this).parents("th, td").filter(":first"))[0];s.sortDisabled||function(n,a,i){var r,o,s,c,d,u=n.config,m=!i[u.sortMultiSortKey],p=e(n);if(p.trigger("sortStart",n),a.count=i[u.sortResetKey]?2:(a.count+1)%(u.sortReset?3:2),u.sortRestart&&(o=a,u.$headers.each((function(){this===o||!m&&e(this).is("."+t.css.sortDesc+",."+t.css.sortAsc)||(this.count=-1)}))),o=a.column,m){if(u.sortList=[],null!==u.sortForce)for(r=u.sortForce,s=0;s<r.length;s++)r[s][0]!==o&&u.sortList.push(r[s]);if((c=a.order[a.count])<2&&(u.sortList.push([o,c]),a.colSpan>1))for(s=1;s<a.colSpan;s++)u.sortList.push([o+s,c])}else if(u.sortAppend&&u.sortList.length>1&&t.isValueInArray(u.sortAppend[0][0],u.sortList)&&u.sortList.pop(),t.isValueInArray(o,u.sortList))for(s=0;s<u.sortList.length;s++)d=u.sortList[s],c=u.$headers[d[0]],d[0]===o&&(d[1]=c.order[a.count],2===d[1]&&(u.sortList.splice(s,1),c.count=-1));else if((c=a.order[a.count])<2&&(u.sortList.push([o,c]),a.colSpan>1))for(s=1;s<a.colSpan;s++)u.sortList.push([o+s,c]);if(null!==u.sortAppend)for(r=u.sortAppend,s=0;s<r.length;s++)r[s][0]!==o&&u.sortList.push(r[s]);p.trigger("sortBegin",n),setTimeout((function(){h(n),g(n),l(n)}),1)}(n,s,a)}})),d.cancelSelection&&d.$headers.attr("unselectable","on").bind("selectstart",!1).css({"user-select":"none",MozUserSelect:"none"}),f.unbind("sortReset update updateRows updateCell updateAll addRows sorton appendCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave ".split(" ").join(".tablesorter ")).bind("sortReset.tablesorter",(function(e){e.stopPropagation(),d.sortList=[],h(n),g(n),l(n)})).bind("updateAll.tablesorter",(function(e,a,i){e.stopPropagation(),t.refreshWidgets(n,!0,!0),t.restoreHeaders(n),u(n),v(n),m(n,a,i)})).bind("update.tablesorter updateRows.tablesorter",(function(e,t,a){e.stopPropagation(),p(n),m(n,t,a)})).bind("updateCell.tablesorter",(function(t,a,i,o){t.stopPropagation(),f.find(d.selectorRemove).remove();var s,c,l,u=f.find("tbody"),m=u.index(e(a).parents("tbody").filter(":first")),p=e(a).parents("tr").filter(":first");a=e(a)[0],u.length&&m>=0&&(c=u.eq(m).find("tr").index(p),l=a.cellIndex,s=d.cache[m].normalized[c].length-1,d.cache[m].row[n.config.cache[m].normalized[c][s]]=p,d.cache[m].normalized[c][l]=d.parsers[l].format(r(n,a,l),n,a,l),b(f,i,o))})).bind("addRows.tablesorter",(function(e,t,i,o){e.stopPropagation();var c,l=t.filter("tr").length,u=[],m=t[0].cells.length,p=f.find("tbody").index(t.parents("tbody").filter(":first"));for(d.parsers||s(n),c=0;c<l;c++){for(a=0;a<m;a++)u[a]=d.parsers[a].format(r(n,t[c].cells[a],a),n,t[c].cells[a],a);u.push(d.cache[p].row.length),d.cache[p].row.push([t[c]]),d.cache[p].normalized.push(u),u=[]}b(f,i,o)})).bind("sorton.tablesorter",(function(t,a,r,o){var s=n.config;t.stopPropagation(),f.trigger("sortStart",this),function(t,n){var a,i,r,o=t.config,s=n||o.sortList;o.sortList=[],e.each(s,(function(t,n){a=[parseInt(n[0],10),parseInt(n[1],10)],(r=o.$headers[a[0]])&&(o.sortList.push(a),i=e.inArray(a[1],r.order),r.count=i>=0?i:a[1]%(o.sortReset?3:2))}))}(n,a),h(n),s.delayInit&&i(s.cache)&&c(n),f.trigger("sortBegin",this),g(n),l(n,o),"function"==typeof r&&r(n)})).bind("appendCache.tablesorter",(function(e,t,a){e.stopPropagation(),l(n,a),"function"==typeof t&&t(n)})).bind("applyWidgetId.tablesorter",(function(e,a){e.stopPropagation(),t.getWidgetById(a).format(n,d,d.widgetOptions)})).bind("applyWidgets.tablesorter",(function(e,a){e.stopPropagation(),t.applyWidget(n,a)})).bind("refreshWidgets.tablesorter",(function(e,a,i){e.stopPropagation(),t.refreshWidgets(n,a,i)})).bind("destroy.tablesorter",(function(e,a,i){e.stopPropagation(),t.destroy(n,a,i)}))}t.version="2.13.3",t.parsers=[],t.widgets=[],t.defaults={theme:"default",widthFixed:!1,showProcessing:!1,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:!0,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:!0,delayInit:!1,serverSideSorting:!1,headers:{},ignoreCase:!0,sortForce:null,sortList:[],sortAppend:null,sortInitialOrder:"asc",sortLocaleCompare:!1,sortReset:!1,sortRestart:!1,emptyTo:"bottom",stringTo:"max",textExtraction:"simple",textSorter:null,numberSorter:null,widgets:[],widgetOptions:{zebra:["even","odd"]},initWidgets:!0,initialized:null,tableClass:"",cssAsc:"",cssDesc:"",cssHeader:"",cssHeaderRow:"",cssProcessing:"",cssChildRow:"tablesorter-childRow",cssIcon:"tablesorter-icon",cssInfoBlock:"tablesorter-infoOnly",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:!1,headerList:[],empties:{},strings:{},parsers:[]},t.css={table:"tablesorter",childRow:"tablesorter-childRow",header:"tablesorter-header",headerRow:"tablesorter-headerRow",icon:"tablesorter-icon",info:"tablesorter-infoOnly",processing:"tablesorter-processing",sortAsc:"tablesorter-headerAsc",sortDesc:"tablesorter-headerDesc"},t.log=n,t.benchmark=a,t.construct=function(n){return this.each((function(){var a=e.extend(!0,{},t.defaults,n);!this.hasInitialized&&t.buildTable&&"TABLE"!==this.tagName&&t.buildTable(this,a),t.setup(this,a)}))},t.setup=function(a,i){if(!a||!a.tHead||0===a.tBodies.length||!0===a.hasInitialized)return i.debug?n("stopping initialization! No table, thead, tbody or tablesorter has already been initialized"):"";var r,o="",l=e(a),d=e.metadata;a.hasInitialized=!1,a.isProcessing=!0,a.config=i,e.data(a,"tablesorter",i),i.debug&&e.data(a,"startoveralltimer",new Date),i.supportsTextContent="x"===e("<span>x</span>")[0].textContent,i.supportsDataObject=((r=e.fn.jquery.split("."))[0]=parseInt(r[0],10),r[0]>1||1===r[0]&&parseInt(r[1],10)>=4),i.string={max:1,min:-1,"max+":1,"max-":-1,zero:0,none:0,null:0,top:!0,bottom:!1},/tablesorter\-/.test(l.attr("class"))||(o=""!==i.theme?" tablesorter-"+i.theme:""),i.$table=l.addClass(t.css.table+" "+i.tableClass+o),i.$tbodies=l.children("tbody:not(."+i.cssInfoBlock+")"),i.widgetInit={},u(a),function(t){if(t.config.widthFixed&&0===e(t).find("colgroup").length){var n=e("<colgroup>"),a=e(t).width();e(t.tBodies[0]).find("tr:first").children("td:visible").each((function(){n.append(e("<col>").css("width",parseInt(e(this).width()/a*1e3,10)/10+"%"))})),e(t).prepend(n)}}(a),s(a),i.delayInit||c(a),v(a),i.supportsDataObject&&void 0!==l.data().sortlist?i.sortList=l.data().sortlist:d&&l.metadata()&&l.metadata().sortlist&&(i.sortList=l.metadata().sortlist),t.applyWidget(a,!0),i.sortList.length>0?l.trigger("sorton",[i.sortList,{},!i.initWidgets]):i.initWidgets&&t.applyWidget(a),i.showProcessing&&l.unbind("sortBegin.tablesorter sortEnd.tablesorter").bind("sortBegin.tablesorter sortEnd.tablesorter",(function(e){t.isProcessing(a,"sortBegin"===e.type)})),a.hasInitialized=!0,a.isProcessing=!1,i.debug&&t.benchmark("Overall initialization time",e.data(a,"startoveralltimer")),l.trigger("tablesorter-initialized",a),"function"==typeof i.initialized&&i.initialized(a)},t.isProcessing=function(n,a,i){var r=(n=e(n))[0].config,o=i||n.find("."+t.css.header);a?(r.sortList.length>0&&(o=o.filter((function(){return!this.sortDisabled&&t.isValueInArray(parseFloat(e(this).attr("data-column")),r.sortList)}))),o.addClass(t.css.processing+" "+r.cssProcessing)):o.removeClass(t.css.processing+" "+r.cssProcessing)},t.processTbody=function(t,n,a){var i;if(a)return t.isProcessing=!0,n.before('<span class="tablesorter-savemyplace"/>'),i=e.fn.detach?n.detach():n.remove();i=e(t).find("span.tablesorter-savemyplace"),n.insertAfter(i),i.remove(),t.isProcessing=!1},t.clearTableBody=function(t){e(t)[0].config.$tbodies.empty()},t.restoreHeaders=function(t){var n=t.config;n.$table.find(n.selectorHeaders).each((function(t){e(this).find(".tablesorter-header-inner").length&&e(this).html(n.headerContent[t])}))},t.destroy=function(n,a,i){if((n=e(n)[0]).hasInitialized){t.refreshWidgets(n,!0,!0);var r=e(n),o=n.config,s=r.find("thead:first"),c=s.find("tr."+t.css.headerRow).removeClass(t.css.headerRow+" "+o.cssHeaderRow),l=r.find("tfoot:first > tr").children("th, td");s.find("tr").not(c).remove(),r.removeData("tablesorter").unbind("sortReset update updateAll updateRows updateCell addRows sorton appendCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave keypress sortBegin sortEnd ".split(" ").join(".tablesorter ")),o.$headers.add(l).removeClass([t.css.header,o.cssHeader,o.cssAsc,o.cssDesc,t.css.sortAsc,t.css.sortDesc].join(" ")).removeAttr("data-column"),c.find(o.selectorSort).unbind("mousedown.tablesorter mouseup.tablesorter keypress.tablesorter"),t.restoreHeaders(n),!1!==a&&r.removeClass(t.css.table+" "+o.tableClass+" tablesorter-"+o.theme),n.hasInitialized=!1,"function"==typeof i&&i(n)}},t.regex={chunk:/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,hex:/^0x[0-9a-f]+$/i},t.sortNatural=function(e,n){if(e===n)return 0;var a,i,r,o,s,c,l,d,u=t.regex;if(u.hex.test(n)){if((i=parseInt(e.match(u.hex),16))<(o=parseInt(n.match(u.hex),16)))return-1;if(i>o)return 1}for(a=e.replace(u.chunk,"\\0$1\\0").replace(/\\0$/,"").replace(/^\\0/,"").split("\\0"),r=n.replace(u.chunk,"\\0$1\\0").replace(/\\0$/,"").replace(/^\\0/,"").split("\\0"),d=Math.max(a.length,r.length),l=0;l<d;l++){if(s=isNaN(a[l])?a[l]||0:parseFloat(a[l])||0,c=isNaN(r[l])?r[l]||0:parseFloat(r[l])||0,isNaN(s)!==isNaN(c))return isNaN(s)?1:-1;if(typeof s!=typeof c&&(s+="",c+=""),s<c)return-1;if(s>c)return 1}return 0},t.sortText=function(e,t){return e>t?1:e<t?-1:0},t.getTextValue=function(e,t,n){if(n){var a,i=e?e.length:0,r=n+t;for(a=0;a<i;a++)r+=e.charCodeAt(a);return t*r}return 0},t.sortNumeric=function(e,n,a,i){return e===n?0:(isNaN(e)&&(e=t.getTextValue(e,a,i)),isNaN(n)&&(n=t.getTextValue(n,a,i)),e-n)},t.characterEquivalents={a:"áàâãäąå",A:"ÁÀÂÃÄĄÅ",c:"çćč",C:"ÇĆČ",e:"éèêëěę",E:"ÉÈÊËĚĘ",i:"íìİîïı",I:"ÍÌİÎÏ",o:"óòôõö",O:"ÓÒÔÕÖ",ss:"ß",SS:"ẞ",u:"úùûüů",U:"ÚÙÛÜŮ"},t.replaceAccents=function(e){var n,a="[",i=t.characterEquivalents;if(!t.characterRegex){for(n in t.characterRegexArray={},i)"string"==typeof n&&(a+=i[n],t.characterRegexArray[n]=new RegExp("["+i[n]+"]","g"));t.characterRegex=new RegExp(a+"]")}if(t.characterRegex.test(e))for(n in i)"string"==typeof n&&(e=e.replace(t.characterRegexArray[n],n));return e},t.isValueInArray=function(e,t){var n,a=t.length;for(n=0;n<a;n++)if(t[n][0]===e)return!0;return!1},t.addParser=function(e){var n,a=t.parsers.length,i=!0;for(n=0;n<a;n++)t.parsers[n].id.toLowerCase()===e.id.toLowerCase()&&(i=!1);i&&t.parsers.push(e)},t.getParserById=function(e){var n,a=t.parsers.length;for(n=0;n<a;n++)if(t.parsers[n].id.toLowerCase()===e.toString().toLowerCase())return t.parsers[n];return!1},t.addWidget=function(e){t.widgets.push(e)},t.getWidgetById=function(e){var n,a,i=t.widgets.length;for(n=0;n<i;n++)if((a=t.widgets[n])&&a.hasOwnProperty("id")&&a.id.toLowerCase()===e.toLowerCase())return a},t.applyWidget=function(n,i){var r,o,s,c=(n=e(n)[0]).config,l=c.widgetOptions,d=[];c.debug&&(r=new Date),c.widgets.length&&(c.widgets=e.grep(c.widgets,(function(t,n){return e.inArray(t,c.widgets)===n})),e.each(c.widgets||[],(function(e,n){(s=t.getWidgetById(n))&&s.id&&(s.priority||(s.priority=10),d[e]=s)})),d.sort((function(e,t){return e.priority<t.priority?-1:e.priority===t.priority?0:1})),e.each(d,(function(t,a){a&&(!i&&c.widgetInit[a.id]||(a.hasOwnProperty("options")&&(l=n.config.widgetOptions=e.extend(!0,{},a.options,l),c.widgetInit[a.id]=!0),a.hasOwnProperty("init")&&a.init(n,a,c,l)),!i&&a.hasOwnProperty("format")&&a.format(n,c,l,!1))}))),c.debug&&(o=c.widgets.length,a("Completed "+(!0===i?"initializing ":"applying ")+o+" widget"+(1!==o?"s":""),r))},t.refreshWidgets=function(a,i,r){var o,s=(a=e(a)[0]).config,c=s.widgets,l=t.widgets,d=l.length;for(o=0;o<d;o++)l[o]&&l[o].id&&(i||e.inArray(l[o].id,c)<0)&&(s.debug&&n("Refeshing widgets: Removing "+l[o].id),l[o].hasOwnProperty("remove")&&(l[o].remove(a,s,s.widgetOptions),s.widgetInit[l[o].id]=!1));!0!==r&&t.applyWidget(a,i)},t.getData=function(t,n,a){var i,r,o="",s=e(t);return s.length?(i=!!e.metadata&&s.metadata(),r=" "+(s.attr("class")||""),void 0!==s.data(a)||void 0!==s.data(a.toLowerCase())?o+=s.data(a)||s.data(a.toLowerCase()):i&&void 0!==i[a]?o+=i[a]:n&&void 0!==n[a]?o+=n[a]:" "!==r&&r.match(" "+a+"-")&&(o=r.match(new RegExp("\\s"+a+"-([\\w-]+)"))[1]||""),e.trim(o)):""},t.formatFloat=function(t,n){return"string"!=typeof t||""===t?t:(t=(n&&n.config?!1!==n.config.usNumberFormat:void 0===n||n)?t.replace(/,/g,""):t.replace(/[\s|\.]/g,"").replace(/,/g,"."),/^\s*\([.\d]+\)/.test(t)&&(t=t.replace(/^\s*\(([.\d]+)\)/,"-$1")),a=parseFloat(t),isNaN(a)?e.trim(t):a);var a},t.isDigit=function(e){return!isNaN(e)||/^[\-+(]?\d+[)]?$/.test(e.toString().replace(/[,.'"\s]/g,""))}}});var t=e.tablesorter;e.fn.extend({tablesorter:t.construct}),t.addParser({id:"text",is:function(){return!0},format:function(n,a){var i=a.config;return n&&(n=e.trim(i.ignoreCase?n.toLocaleLowerCase():n),n=i.sortLocaleCompare?t.replaceAccents(n):n),n},type:"text"}),t.addParser({id:"digit",is:function(e){return t.isDigit(e)},format:function(n,a){var i=t.formatFloat((n||"").replace(/[^\w,. \-()]/g,""),a);return n&&"number"==typeof i?i:n?e.trim(n&&a.config.ignoreCase?n.toLocaleLowerCase():n):n},type:"numeric"}),t.addParser({id:"currency",is:function(e){return/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/.test((e||"").replace(/[,. ]/g,""))},format:function(n,a){var i=t.formatFloat((n||"").replace(/[^\w,. \-()]/g,""),a);return n&&"number"==typeof i?i:n?e.trim(n&&a.config.ignoreCase?n.toLocaleLowerCase():n):n},type:"numeric"}),t.addParser({id:"ipAddress",is:function(e){return/^\d{1,3}[\.]\d{1,3}[\.]\d{1,3}[\.]\d{1,3}$/.test(e)},format:function(e,n){var a,i=e?e.split("."):"",r="",o=i.length;for(a=0;a<o;a++)r+=("00"+i[a]).slice(-3);return e?t.formatFloat(r,n):e},type:"numeric"}),t.addParser({id:"url",is:function(e){return/^(https?|ftp|file):\/\//.test(e)},format:function(t){return t?e.trim(t.replace(/(https?|ftp|file):\/\//,"")):t},type:"text"}),t.addParser({id:"isoDate",is:function(e){return/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}/.test(e)},format:function(e,n){return e?t.formatFloat(""!==e&&new Date(e.replace(/-/g,"/")).getTime()||"",n):e},type:"numeric"}),t.addParser({id:"percent",is:function(e){return/(\d\s*?%|%\s*?\d)/.test(e)&&e.length<15},format:function(e,n){return e?t.formatFloat(e.replace(/%/g,""),n):e},type:"numeric"}),t.addParser({id:"usLongDate",is:function(e){return/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i.test(e)||/^\d{1,2}\s+[A-Z]{3,10}\s+\d{4}/i.test(e)},format:function(e,n){return e?t.formatFloat(new Date(e.replace(/(\S)([AP]M)$/i,"$1 $2")).getTime()||"",n):e},type:"numeric"}),t.addParser({id:"shortDate",is:function(e){return/(^\d{1,2}[\/\s]\d{1,2}[\/\s]\d{4})|(^\d{4}[\/\s]\d{1,2}[\/\s]\d{1,2})/.test((e||"").replace(/\s+/g," ").replace(/[\-.,]/g,"/"))},format:function(e,n,a,i){if(e){var r=n.config,o=r.headerList[i],s=o.dateFormat||t.getData(o,r.headers[i],"dateFormat")||r.dateFormat;e=e.replace(/\s+/g," ").replace(/[\-.,]/g,"/"),"mmddyyyy"===s?e=e.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$1/$2"):"ddmmyyyy"===s?e=e.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$2/$1"):"yyyymmdd"===s&&(e=e.replace(/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/,"$1/$2/$3"))}return e?t.formatFloat(new Date(e).getTime()||"",n):e},type:"numeric"}),t.addParser({id:"time",is:function(e){return/^(([0-2]?\d:[0-5]\d)|([0-1]?\d:[0-5]\d\s?([AP]M)))$/i.test(e)},format:function(e,n){return e?t.formatFloat(new Date("2000/01/01 "+e.replace(/(\S)([AP]M)$/i,"$1 $2")).getTime()||"",n):e},type:"numeric"}),t.addParser({id:"metadata",is:function(){return!1},format:function(t,n,a){var i=n.config,r=i.parserMetadataName?i.parserMetadataName:"sortValue";return e(a).metadata()[r]},type:"numeric"}),t.addWidget({id:"zebra",priority:90,format:function(n,a,i){var r,o,s,c,l,d,u=new RegExp(a.cssChildRow,"i"),m=a.$tbodies;for(a.debug&&(l=new Date),d=0;d<m.length;d++)(r=m.eq(d)).children("tr").length>1&&(s=0,r.children("tr:visible").each((function(){o=e(this),u.test(this.className)||s++,c=s%2==0,o.removeClass(i.zebra[c?1:0]).addClass(i.zebra[c?0:1])})));a.debug&&t.benchmark("Applying Zebra widget",l)},remove:function(t,n,a){var i,r,o=n.$tbodies,s=(a.zebra||["even","odd"]).join(" ");for(i=0;i<o.length;i++)(r=e.tablesorter.processTbody(t,o.eq(i),!0)).children().removeClass(s),e.tablesorter.processTbody(t,r,!1)}})}(a)},WjF9:function(e,t,n){"use strict";var a=n("60hy");const i=Object(a.c)(window.current_user);window.current_user=i,t.a=i},"Wjt+":function(e,t,n){"use strict";var a=n("h4vE");Object(a.a)("body#survey_responses_edit_address",(function(e){e.find(".back").click((function(e){e.preventDefault(),window.history.go(-1)}))}))},Wp1a:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("q1tI"),i=n.n(a);const r=e=>({state:t,forField:n,className:a="kds-text-accent-red error-messages"})=>{const r=("string"==typeof n?[n]:n).filter(e=>!(!t.touched[e]||!t.errors[e])).map(e=>t.errors[e]).reduce((e,t)=>e.concat(t),[]);if(0===r.length)return null;return i.a.createElement("ul",{className:a},r.map(t=>{return i.a.createElement("li",{key:t},e[n=t]||n);var n}))}},Wwun:function(e,t,n){"use strict";var a=n("/kEZ"),i=n.n(a);n.d(t,"a",(function(){return i.a}))},"Wx/y":function(e,t,n){"use strict";t.a='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M12 4C11.4477 4 11 4.44772 11 5V11H5C4.44772 11 4 11.4477 4 12C4 12.5523 4.44772 13 5 13H11V19C11 19.5523 11.4477 20 12 20C12.5523 20 13 19.5523 13 19V13H19C19.5523 13 20 12.5523 20 12C20 11.4477 19.5523 11 19 11H13V5C13 4.44772 12.5523 4 12 4Z" fill="#3C3C3C"/>\n</svg>\n'},"X+my":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={name:"support","primary-light":"soft-black","primary-dark":"black","primary-accent":"ksr-green-400"}},X5dd:function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return h})),n.d(t,"f",(function(){return f}));var a=n("mq2H"),i=n("+2Rf"),r=n.n(i);function o(t){var n;const a=r()("body").find(".js-search_term input"),i=r()("body").find(".js-featured"),o=i.find(".js-staff_picks"),s=i.find(".js-recommended"),m=i.find(".js-starred"),p=i.find(".js-social"),h=i.find(".js-backed"),f=r()("body").find(".js-states"),g=r()("body").find(".js-goals"),_=r()("body").find(".js-pledged"),b=r()("body").find(".js-raised"),v=r()("body").find(".js-filter.js-filter-sorts"),k=null===(n=e('select[name="backed"] option:selected'))||void 0===n?void 0:n.val(),y={discover_search_term:a.val(),discover_project_state:f.find("select").val(),discover_amount_goal:l(g.find("select").val()),discover_amount_pledged:d(_.find("select").val()),discover_percent_raised:c(b.find("select").val()),discover_recommended:s.find("a").is(".ksr-green-500"),discover_pwl:o.find("a").is(".ksr-green-500"),discover_watched:m.find("a").is(".ksr-green-500"),discover_social:p.find("a").is(".ksr-green-500"),discover_backed:h.find("a").is(".ksr-green-500")&&"1"===k,discover_sort:u(v.find("select").val())};var E,j,w;(function(e){Object.keys(e).forEach(t=>{const n=e[t];null!=n&&""!==n&&!1!==n||delete e[t]})}(y),y.discover_backed)||(null===(E=window)||void 0===E||(null===(j=E.ksr_track_properties)||void 0===j||(null===(w=j.discover)||void 0===w||delete w.discover_backed)));return y}function s(t){if(t)return"category"===t.type?(n={isParentCategory:t.isParentCategory,parent_name:t.parent_name})&&!0===n.isParentCategory?"category_name":n&&!1===n.isParentCategory||n&&n.parent_name?"subcategory_name":"category_name":"collection"===t.type?function(e){switch(e){case"recommended-for-you":return"recommended";case"projects-we-love":return"pwl";case"trending":return"popular";case"nearly-funded":return"ending_soon";case"just-launched":return"newest";case"upcoming-projects":return"project_state";case"following":return"social";case"saved":return"watched";case"projects-near-you":return"distance";case"everything":return"all";default:return""}}(t.selected_link):"section"===t.type?p(t.selected_link):t.id&&"string"===e.type(t.id)?p(t.id):"tag"===t.type?"tag":"";var n}function c(e){switch(parseInt(e,10)){case 0:return"under_75";case 1:return"75_to_99";case 2:return"100";default:return null}}function l(e){switch(parseInt(e,10)){case 0:return"under_1k";case 1:return"1k_to_10k";case 2:return"10k_to_100k";case 3:return"100k_1m";case 4:return"over_1m";default:return null}}function d(e){switch(parseInt(e,10)){case 0:return"under_1k";case 1:return"1k_to_10k";case 2:return"10k_to_100k";case 3:return"100k_1m";case 4:return"over_1m";default:return null}}function u(e){switch(e){case"magic":return"magic";case"distance":return"distance";case"ending_date":case"end_date":return"ending_soon";case"popularity":return"popular";case"most_backed":return"most_backed";case"most_funded":return"most_funded";case"newest":return"newest";default:return null}}function m(e){switch(e){case"js-staff_picks":case"staff_picks":case"projects-we-love":return"pwl";case"js-starred":case"starred":return"watched";case"js-social":case"social":return"social";case"js-backed":case"backed":return"backed";case"recommended":case"js-recommended":return"recommended";case"term":return"search_term";case"state":return"project_state";case"pledged":return"amount_pledged";case"goal":return"amount_goal";case"raised":return"percent_raised";case"woe_id":return"location";default:return null}}function p(e){switch(e){case"arts":return"arts";case"comics-illustration":return"comics_illustration";case"design-tech":return"design_tech";case"film":return"film";case"food-craft":return"food_craft";case"games":return"games";case"music":return"music";case"publishing":return"publishing";default:return""}}function h(e){switch(e){case"recommended-for-you":case"projects-we-love":case"upcoming-projects":case"saved":case"everything":case"following":return a.c.DISCOVER_FILTER;case"trending":case"projects-near-you":case"nearly-funded":case"just-launched":return a.c.DISCOVER_SORT;case"arts":case"comics-illustration":case"design-tech":case"film":case"food-craft":case"games":case"music":case"publishing":return a.c.SECTION;default:return a.c.DISCOVER_FILTER}}function f(e){let t,n;e.parent_name?(t=e.parent_name,n=e.analytics_name):(t=e.analytics_name,n=e.analytics_name),Object(a.p)("discover",{discover_category_name:t,discover_subcategory_name:n})}}).call(this,n("+2Rf"))},XCVW:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);n("uAMZ");i()((function(){i()(document).tipsy({gravity:"s",html:!0,live:"a.tip",fade:!0}),i()(document).tipsy({gravity:"n",html:!0,live:".tipsy_n",fade:!0}),i()(document).tipsy({gravity:"s",html:!0,live:".tipsy_s",fade:!0}),i()(document).tipsy({gravity:"se",html:!0,live:".tipsy_se",fade:!0})}))},XLBa:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a,i=n("+2Rf"),r=n.n(i),o=n("xG9w"),s=n("zm9w");function c(e,t){if(o.default.isArray(e)){var n=Object(o.default)(e).map((function(e){return function(e,t){var n,a;return n=Object(o.default)(e).map((function(e,n){var i=!1;return n.match(/^\!/)&&(i=!0,n=n.replace(/^\!/,"")),o.default.isArray(e)||(e=[e]),e=Object(o.default)(e).map((function(e){return e+""})),a=Object(o.default)(e).include(t[n]+""),i?!a:a})),Object(o.default)(n).inject((function(e,t){return e||t}),n[0])}(e,t)}));return Object(o.default)(n).inject((function(e,t){return e&&t}),n[0])}}a={number:function(e){return e={precision:0,...e},s.b.format_number(e.value,o.default.omit(e,"format","value"))},distance_date:function(e){return s.b.time_ago_in_words(e.value)}};const l=function(e){var t,n=e.data("format");t=(n=e.data("format"))&&"function"==typeof a[n]?a[n](e.data()):e.data("value"),e.html(t)};function d(e,t,n){r()(e).find("."+t+n.id).each((function(e,t){!function(e,t){var n,a,i="",o=r()(e),s=o.data("conditions"),u=o.attr("itemprop");void 0!==u?i=u.match(/\[(\w*)\]/)[1]:o.data("attr")&&(i=o.data("attr")),void 0!==s?("string"==typeof s&&(s=JSON.parse(s)),n=(a=c(s,t))?JSON.parse(o.data("render")):"",o.data("evaluation")!==a&&(o.html(n),o.data("evaluation",a),n.length&&d(o,"Project",t))):void 0!==i&&void 0!==t[i]&&(o.data("value",t[i]),o.attr("data-value",t[i]),l(o))}(t,n)}))}const u=function(e,t){d(document,e,t)};function m(e){this.template=e,this.conditions=[]}function p(e){var t;return"string"==typeof e&&((t={})[e]=!0,e=t),e}m.prototype.if=function(e){return this.condition("and",!0,e),this},m.prototype.and=m.prototype.if,m.prototype.if_not=function(e){return this.condition("and",!1,e),this},m.prototype.unless=m.prototype.if_not,m.prototype.and_not=m.prototype.if_not,m.prototype.or=function(e){return this.condition("or",!0,e),this},m.prototype.or_not=function(e){return this.condition("or",!1,e),this},m.prototype.then=function(){var e=this;return function(){return function(t,n){return e.value=n(t),e.html()}}},m.prototype.condition=function(e,t,n){var a,i;return o.default.isObject(n)||((a={})[n]=!0,n=a),!1===t&&o.default.each(Object(o.default)(n).keys(),(function(e){n["!"+e]=n[e],delete n[e]})),"or"===e?(i=p(this.conditions[this.conditions.length-1]),n=p(n),this.conditions[this.conditions.length-1]=r.a.extend(!0,i,n)):"and"===e&&this.conditions.push(n),this},m.prototype.evaluation=function(){return void 0===this.cached_evaluation&&(this.cached_evaluation=c(this.conditions,this.template.proxy)),this.cached_evaluation},m.prototype.content=function(){return this.evaluation()?this.value:""},m.prototype.html=function(){var e=r()("<data>");return e.attr(this.html_options()),e.html(this.content()),e[0].outerHTML},m.prototype.html_options=function(){return{class:this.template.class_name,"data-conditions":JSON.stringify(this.conditions),"data-render":JSON.stringify(this.value),"data-evaluation":c}}},XM0S:function(e,t,n){"use strict";var a=n("+DSo");Error;t.a=(e,t,n={})=>{let i=Object(a.c)(e,t,n);var r;return void 0===i&&(i=Object(a.d)(t),console.warn("I18n key is missing: ",t)),"string"==typeof i&&(r=n,i=i.replace(a.a,(function(e,t){return null==r[t]?e:r[t]})).replace(a.b,(function(e,t){return null==r[t]?e:r[t]}))),i}},XXIi:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("DE4Y");let a=function(e){return e.CampaignTab="campaign_tab",e.RewardsTab="rewards_tab",e}({})},XbX9:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("mq2H"),i=n("v+Hr");const r=e=>{Object(a.n)(a.d.CTA_CLICKED,{context_cta:a.c.WATCH_PROJECT,context_page:Object(i.d)(window.location),context_type:e?a.a.WATCH:a.a.UNWATCH})}},XfPQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var a=n("L/h+"),i=n("daZV"),r=n("2nV0"),o=n("lM4U"),s=n("mv45"),c=n("94td"),l=n("a8OY"),d=n("vtU4"),u=n("q1tI"),m=n("mwIZ"),p=n.n(m),h=n("DI+Y");n("VX74"),n("DE4Y");const f={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostLikers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"me"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isLiked"}},{kind:"Field",name:{kind:"Name",value:"fans"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"}},{kind:"Field",name:{kind:"Name",value:"node"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"imageUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"72"}}]}]}}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"endCursor"}},{kind:"Field",name:{kind:"Name",value:"hasNextPage"}}]}}]}}]}}]}}]};const g=(e,t)=>{const n=t.fetchMoreResult;return null===n.post||null===n.post.fans||null===n.post.fans.edges?e:{...n,post:{...n.post,fans:{...n.post.fans,edges:[...p()(e,"post.fans.edges",[]),...p()(n,"post.fans.edges",[])],pageInfo:n.post.fans.pageInfo}}}},_=Object(s.c)(e=>{if(!e.data||!e.data.post)return Object(s.d)(e.data.error);const{fetchMore:t,post:n,me:a}=e.data,{fans:i}=n,r=i&&i.edges||[],o=i&&i.pageInfo.endCursor,c=r.map(e=>e&&e.node).map(e=>({id:e?e.id:"",name:e?e.name:"",slug:e?e.slug:"",imageUrl:e?e.imageUrl:""})).reduce((e,t)=>a&&n.isLiked&&t.id===a.id?[t,...e.filter(e=>e.id!==t.id)]:[...e,t],[]);return Object(s.l)({likers:c,hasNextPage:!!i&&i.pageInfo.hasNextPage,totalLikers:i?i.totalCount:0,isFetchingMore:e.data.loading,likersShowing:c.length,onFetchMore:()=>t({variables:{id:e.ownProps.id,cursor:o},query:f,updateQuery:g})})}),b=Object(h.graphql)(f,_),v=e=>u.createElement(r.a.Modal,{isOpen:!0,onClose:e.onClose},u.createElement(o.a,{content:u.createElement(k,{id:e.id}),title:Object(c.b)("project_updates.Likes")})),k=Object(s.a)(b,l.b)(e=>u.createElement("div",{className:"flex flex-column kds-gap-02"},e.likers.map((e,t)=>u.createElement("a",{key:t,href:d.b.USER_PROFILE.url(e.slug),className:"post-liker keyboard-focusable soft-black flex items-center",style:{minWidth:"200px"}},u.createElement("div",{className:"shrink0"},u.createElement(a.a,{size:6,imageUrl:e.imageUrl})),u.createElement("span",{className:"post-liker__name type-16 pl2"},e.name))),u.createElement(i.a,{buttonI18nKey:"project_updates.Load_more",remainingI18nKey:"project_updates.Showing_x_of_y_likers",totalCount:e.totalLikers,showingCount:e.likersShowing,pageSize:100,onClick:e.onFetchMore,loading:e.isFetchingMore,hasMorePages:e.hasNextPage,atoms:["kds-pt-03"]})))},Xisl:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return u})),n.d(t,"g",(function(){return m})),n.d(t,"f",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"e",(function(){return f}));var a=n("J2iB"),i=n.n(a),r=n("MgNI"),o=n("zm9w"),s=n("riAN");const c=e=>{if("number"!=typeof(t=e)&&!/^\d+$/.test(t)){const t=/(\d)+/g;return r.maybe.fromNullable(e.toString().match(t)).map(e=>e.join("")).getOrElse("")}var t;return e},l=e=>{if("number"!=typeof(t=e)&&!/^(\d|\.)+$/.test(t)){const t=/(\d|\.)+/g;return r.maybe.fromNullable(e.toString().match(t)).map(e=>e.join("")).getOrElse("")}var t;return e};d=s.i;var d;s.i;const u=["BIF","CLP","DJF","GNF","JPY","KMF","KRW","MGA","PYG","RWF","UGX","VND","VUV","XAF","XOF","XPF"],m=e=>u.includes(e),p=(e,t)=>i()(e)?null:u.includes(t)?e:e/100,h=(e,t)=>null===e?null:u.includes(t)?e:100*e,f=(e,t)=>{const n=p(e,t);return null===n?"--":o.b.money(n,{currency:t,precision:u.includes(t)?0:2})};new RegExp(`[${Object.values(o.a).join("")}]`,"g")},Xl3R:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));let a=function(e){return e.ACCEPT_RULES="accept_rules",e.ACCOUNT_MENU="account_menu",e.ADD_ONS_CONTINUE="add_ons_continue",e.ADDRESS_SELECT_INITIATE="address_select_initiate",e.ADDRESS_CREATE_INITIATE="address_create_initiate",e.ADVANCED_ANALYTICS="advanced_analytics",e.ADVANCED_DASHBOARD="advanced_dashboard",e.APPLY_TO_ALL_PROJECTS="apply_to_all_projects",e.BACKER_REPORT="backer_report",e.BANNER="banner",e.BUILD="build",e.BUILD_CAMPAIGN="build_campaign",e.CAMPAIGN_DETAILS="campaign_details",e.CANCEL_CREATE="cancel_create",e.CANCEL_REMOVE="cancel_remove",e.CKE_ONBOARING_OPENED="cke_onboaring_opened",e.CKE_ONBOARING_DISMISSED="cke_onboaring_dismissed",e.CLOSE="close",e.COLLABORATORS="collaborators",e.CONFIRM_SELECTION="confirm_selection",e.CONFIRM_APPLY_TO_ALL_PROJECTS="confirm_apply_to_all_projects",e.CONFIRM_REMOVE="confirm_remove",e.CREATE="create",e.CREATE_UPDATE="create_update",e.CREATOR_DASHBOARD="creator_dashboard",e.CREATOR_DETAILS="creator_details",e.CREATOR_FAQ="creator_faq",e.CREATOR_HANDBOOK="creator_handbook",e.CREATOR_MENU_CLOSE="creator_menu_closed",e.CREATOR_MENU_OPEN="creator_menu_open",e.DEMOGRAPHIC_SURVEY="demographic_survey",e.DEVELOPMENT_MILESTONE="development_milestone",e.DID_YOU_MEAN="did_you_mean",e.DISCOVER="discover",e.DISCOVER_FILTER="discover_filter",e.DISCOVER_SORT="discover_sort",e.EASYSHIP_SIGN_UP="easyship_sign_up",e.EDIT="edit",e.EXTERNAL="external",e.FOLLOW_USER="follow_user",e.FORGOT_PASSWORD="forgot_password",e.FULFILLMENT="fulfillment",e.FULFILLMENT_RESOURCES="fulfillment_resources",e.HELP="help",e.I_UNDERSTAND_ADDRESS_COULD_NOT_BE_APPLIED="I_understand_address_could_not_be_applied",e.LEARN_MORE="learn_more",e.LOG_IN_INITIATE="log_in_initiate",e.LOG_IN_OR_SIGN_UP="log_in_or_sign_up",e.LOG_IN_SUBMIT="log_in_submit",e.MESSAGES="messages",e.OPEN_PREVIEW_MODAL="open_preview_modal",e.OPTION_SELECTED="option_selected",e.PAYOUTS="payouts",e.PLEDGE_DETAILS="pledge_details",e.PLEDGE_EDIT="pledge_edit",e.PLEDGE_INITIATE="pledge_initiate",e.PLEDGE_REDEMPTION="pledge_redemption",e.PLEDGE_SUBMIT="pledge_submit",e.PROFILE_ABOUT="profile_about",e.PROFILE_BACKER="profile_backer",e.PROFILE_CREATED="profile_created",e.PROFILE_COMMENTS="profile_comments",e.PROJECT="project",e.PROJECT_NOTICE="project_notice",e.QR_CODE="qr_code",e.REMOVE="remove",e.REPORT_EXPORT_SUBMIT="report_export_submit",e.REWARD_CONTINUE="reward_continue",e.REWARD_DETAILS="reward_details",e.REWARD_CANCEL="reward_cancel",e.REWARD_SURVEYS="reward_surveys",e.RISKS="risks",e.SAVE="save",e.SEARCH="search",e.SECTION="section",e.SEND_SURVEY_CANCEL="send_survey_cancel",e.SEND_SURVEY_INITIATE="send_survey_initiate",e.SEND_SURVEY_SUBMIT="send_survey_submit",e.SET_AS_DEFAULT="set_as_default",e.SIGN_UP_SUBMIT="sign_up_submit",e.SOF_CANCEL="sof_cancel",e.SOF_DISMISS="sof_dismiss",e.SOF_SAVE="sof_save",e.SOF_MANAGE_REWARDS="sof_manage_rewards",e.SOF_END_ALL_REWARDS="sof_end_all_rewards",e.SOF_UPDATE="sof_update",e.SUBMIT_SURVEY="submit_survey",e.SUPPORT="support",e.SURVEY_INITIATE="survey_initiate",e.SURVEY_EDIT="survey_edit",e.SURVEY_CREATE="survey_create",e.SURVEY_BACKER_QUESTIONS_DELETE="survey_backer_question_delete",e.SURVEY_BACKER_QUESTIONS_SAVE="survey_backer_questions_save",e.SURVEY_ITEM_CUSTOMIZATION_CREATE="survey_item_customization_create",e.SURVEY_ITEM_QUESTIONS_CREATE="survey_item_questions_create",e.SURVEY_ITEM_QUESTIONS_CANCEL="survey_item_questions_cancel",e.SURVEY_ITEM_QUESTIONS_EDIT="survey_item_questions_edit",e.SURVEY_ITEM_QUESTIONS_SAVE="survey_item_questions_save",e.SURVEY_ITEM_VARIANT_CREATE="survey_item_variant_create",e.SURVEY_LOCK_ADDRESSES_INITIATE="survey_lock_addresses_initiate",e.SURVEY_LOCK_ADDRESSES_SUBMIT="survey_lock_addresses_submit",e.SURVEY_LOCK_ADDRESSES_CANCEL="survey_lock_addresses_cancel",e.SURVEY_VIEW_RESULTS="survey_view_results",e.SURVEY_VIEW_SKU_QUANTITIES="survey_view_sku_quantities",e.TIPS_BLOG="tips_blog",e.UPDATES="updates",e.USE_OF_AI="use_of_ai",e.USER_MENU="user_menu",e.WATCH_PROJECT="watch_project",e}({})},"Xr/1":function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);n("1uyb");i()((function(){i()(document).on("click",".js-read_more",(function(e){var t=i()(this).closest(".js-read_more_context"),n=t.find(".js-less"),a=t.find(".js-more");n.addClass("hide"),n.find(".video-player").trigger("ksr_video:pause"),a.removeClass("hide"),i.a.scrollTo(t),e.preventDefault()})),i()(document).on("click",".js-read_less",(function(e){var t=i()(this).closest(".js-read_more_context"),n=t.find(".js-less"),a=t.find(".js-more");n.removeClass("hide"),a.addClass("hide"),a.find(".video-player").trigger("ksr_video:pause"),i.a.scrollTo(t),e.preventDefault()}))}))},Xt0b:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("GRmu"),o=n("0VSk");n("RIhn");i()("form.requires-confirmation","submit").livequery((function(e){var t=i()(this);i()(this).find("input.confirmation").is(":checked")||(setTimeout((function(){t.removeClass("submitting-non-ajax")}),100),Object(r.a)({error:o.default.t("onloads.initializers.form_requires_confirmation.Please_accept_the_Rules")}),e.preventDefault())}))},Y0SK:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"d",(function(){return u}));var a=n("Z0cm"),i=n.n(a),r=n("g84z"),o=n("arGM");const s=(e,t)=>{const n=Object(r.a)(window.location.search),a=Object.keys(n).length>0?Object(o.c)(n):"";return[[e.replace(/\/$/,""),(e=>e.replace(/^\//,""))(t)].join("/"),a].join("")},c=e=>{let t="";return t=Array.from(document.querySelectorAll("h3.page-anchor")).reduce((e,t)=>`${e} ${t.id}`,""),Boolean(e&&("description story risks-and-challenges environmental-commitments project-budget "+t).includes(e))},l=e=>{if(!e)return!1;const t=window.pageYOffset||document.documentElement.scrollTop,n=e.getBoundingClientRect(),a=n.top+t+n.height;return window.scrollY>a},d=(e,t)=>i()(t.renderPath)?t.renderPath.map(t=>`${e}${t}`):`${e}${t.renderPath||t.path}`;function u(){return window.showNewCampaignNav}},YEaP:function(e,t,n){"use strict";var a={pageX:function(e){return e.originalEvent&&e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageX:e.pageX}};t.a=a},YEan:function(e,t,n){"use strict";n.d(t,"a",(function(){return ee})),n.d(t,"b",(function(){return re}));var a=n("iuhU"),i=n("lX80"),r=n("LdJi"),o=n("f/gE"),s=n("daZV"),c=n("94td"),l=n("NxQb"),d=n("uBBe"),u=n("5j0V"),m=n("q1tI"),p=n.n(m),h=n("mwIZ"),f=n.n(h),g=n("tr1H"),_=n("mv45"),b=n("pj8f"),v=n("1OuE"),k=n("zm9w"),y=n("2DJ9"),E=n("ObC8"),j=n("TIPN"),w=n("gN63"),S=n("Owp+"),O=n("55Ip"),N=n("af5E"),C=n("vtU4"),I=n("7Rpo"),x=n("KsYZ"),T=n("y4o6"),A=n("2Lb1"),D=n("FEsz"),P=n("2NEC"),R=n("SdBH"),F=n("sezs"),L=n("dPds"),M=n("zjD3");const U=e=>m.createElement("div",{className:"flex kds-gap-04"},m.createElement("span",{className:"flex kds-gap-02"},m.createElement(F.a,{name:"icon--chat",atoms:"kds-fill-icon-subtle"}),m.createElement(L.a.BodyMD,{as:"span",className:"kds-text-secondary"},Object(M.a)(e.commentsCount,""))),m.createElement("span",{className:"flex kds-gap-02"},m.createElement(F.a,{name:"icon--heart-filled",atoms:"kds-fill-icon-subtle"}),m.createElement(L.a.BodyMD,{as:"span",className:"kds-text-secondary"},Object(M.a)(e.likesCount,""))));var V=n("SSiF"),H=n.n(V);const B=e=>{const[t,n]=H()();return m.createElement("div",{className:"truncated-post-body clip relative"},t,e.children,n.height>=240&&m.createElement("div",{className:"gradient-transparent-to-white-vertical h20 z1 absolute b0 l0 r0"}))};class $ extends m.Component{renderPost(){return m.createElement(A.a,{atoms:Object(a.b)(this.props.isPinned&&"kds-drop-shadow-lg"),surface:!0,header:m.createElement(P.a,{title:this.props.title,sequence:this.props.sequence,publishedAt:this.props.publishedAt,authorAvatarUrl:this.props.authorAvatarUrl,authorName:this.props.authorName,authorRole:this.props.authorRole,isPublic:this.props.isPublic,PinningUI:m.createElement(T.a,{canPin:this.props.canPin,relayId:this.props.id,type:this.props.type,trackingContext:"feed post",isPinned:this.props.isPinned,onRefetch:this.props.onRefetch,onPinCompletion:()=>{this.props.isPinned&&Object(j.b)("project-post-interface",100)}})}),body:m.createElement(D.a,{canRead:this.props.canRead,isLoggedIn:this.props.isLoggedIn,isProjectLive:this.props.isProjectLive,pledgeLink:C.b.PROJECT_PLEDGE.url(this.props.projectCreator,this.props.projectSlug),loginLink:C.b.VIEW_POST.url(this.props.projectCreator,this.props.projectSlug,Object(w.a)(this.props.id))},m.createElement(B,null,m.createElement(m.Fragment,null,this.props.type===N.a.CreatorInterview&&m.createElement(I.a,{answers:this.props.answers}),this.props.type===N.a.FreeformPost&&m.createElement(x.a,{body:this.props.body,nativeImages:this.props.nativeImages}),m.createElement("div",{className:"absolute z1 t0 l0 r0 b0"})))),footer:m.createElement("div",{className:(this.props.canRead?"mt1":"mt4")+" flex justify-between items-baseline"},m.createElement(U,{commentsCount:this.props.commentsCount,likesCount:this.props.likesCount}),this.props.canRead&&m.createElement(E.a,{variant:"outlined",icon:"icon--chevron-right",iconAfter:!0},Object(c.b)("project_updates.Read_more")))})}renderInnerWrapper(){return m.createElement("div",{className:Object(a.b)(!this.props.isPinned&&"expanding-post")},this.renderPost())}renderLinkedPost(){const e=C.b.VIEW_POST.url(this.props.projectCreator,this.props.projectSlug,Object(w.a)(this.props.id)),t=Object(a.b)("truncated-post soft-black",!this.props.noLayout&&["block"]);return this.props.canRead?window.isNativeAppRequest||this.props.noLayout?m.createElement("a",{href:e,className:t},this.renderInnerWrapper()):m.createElement(O.b,{to:e,className:t},this.renderInnerWrapper()):m.createElement("div",{className:t},this.renderInnerWrapper())}render(){const{icon:e,color:t}=(e=>{switch(e){case S.a.FreeformPost:return{icon:"icon--update-freeform-round",color:"dark-grey-500"};case S.a.CreatorInterview:return{icon:"icon--update-qa-round",color:"dark-grey-500"};default:return{icon:"",color:"dark-grey-500"}}})(this.props.type);return m.createElement(R.a,{colProps:{width:12,mdWidth:8,mdOffset:2,atoms:"mb6"},renderGrid:!this.props.noLayout},m.createElement("div",{className:"relative"},m.createElement("div",{"data-test-id":"project-post-container",className:"absolute t10 t8-md l0 flex items-center justify-center z1",style:{transform:"translateX(-50%)"}},m.createElement("div",{className:"w3 w6-md h3 h6-md radius100p bg-white absolute t1 l1 z0"}),m.createElement(y.a,{name:e,atoms:[`fill-${t} relative z1 w5 w8-md h5 h8-md`]})),this.renderLinkedPost()))}}var q=n("dkkr"),Y=n("t1f3");const z=e=>{const t={position:"absolute",width:"185px"};return m.createElement(r.a,null,m.createElement(o.a,null,m.createElement(i.a,{width:12,mdWidth:8,mdOffset:2,atoms:["mb6"]},m.createElement("div",{className:"relative clip"},m.createElement("div",{style:{...t,...e.discPosition}},m.createElement(Y.a,{name:"yellow-disc",width:185})),m.createElement("div",{style:{...t,...e.cubePosition}},m.createElement(Y.a,{name:"coral-cube",width:185})),m.createElement("div",{style:{...t,...e.cylinderPosition}},m.createElement(Y.a,{name:"coral-hollow-cylinder",width:185})),m.createElement("div",{style:{height:"28rem"},className:"flex justify-center items-center text-center white "+e.bgColor},m.createElement("div",{className:"flex flex-column items-center justify-center h100p"},m.createElement("div",{className:"type-16 type-24-sm bold pb1"},e.header),e.subHeader&&m.createElement("div",{className:"type-11 type-14-sm pb1"},e.subHeader),m.createElement("div",{className:"type-11 type-14-sm text-uppercase"},e.date)))))))},G=e=>m.createElement(z,{date:e.date,bgColor:"bg-ksr10-green",header:Object(c.b)("project_updates.Project_funds_successfully"),subHeader:e.subheader,discPosition:{top:"69%",left:"20%"},cubePosition:{top:"-28%",left:"76%"},cylinderPosition:{top:"-33%",left:"-3%"}}),K=e=>m.createElement(z,{date:e.date,bgColor:"bg-ksr10-blue",header:Object(c.b)("project_updates.Project_ends"),discPosition:{top:"-36%",left:"50%"},cubePosition:{top:"69%",left:"83%"},cylinderPosition:{top:"71%",left:"-3%"}}),W=e=>m.createElement(z,{date:e.date,bgColor:"bg-dark-grey-500",header:Object(c.b)("project_updates.Project_is_canceled"),discPosition:{top:"69%",left:"20%"},cubePosition:{top:"-28%",left:"82%"},cylinderPosition:{top:"-33%",left:"-3%"}}),J=e=>m.createElement(z,{date:e.date,bgColor:"bg-ksr10-green",header:Object(c.b)("project_updates.Project_launches"),discPosition:{top:"72%",left:"50%"},cubePosition:{top:"-28%",left:"-9%"},cylinderPosition:{top:"-28%",left:"83%"}});var X=n("a8OY");const Z=e=>{const t={id:e.id,type:e.type,title:e.title,publishedAt:e.publishedAt,isPinned:Boolean(e.pinnedAt),sequence:e.number,authorRole:e.authorRole,authorName:e.author.name,authorAvatarUrl:e.author.imageUrl,likesCount:e.likesCount,isPublic:e.isPublic,canRead:e.actions.read,canPin:e.actions.pin,commentsCount:e.commentsCount};return e.type===N.a.CreatorInterview?{...t,answers:e.answers.nodes}:e.type===N.a.FreeformPost?{...t,body:e.body,nativeImages:e.nativeImages}:t},Q=(e,t)=>{const n=t.fetchMoreResult;return null===n.project||null===n.project.timeline||null===n.project.timeline.edges?e:{...n,project:{...n.project,timeline:{...n.project.timeline,edges:[...f()(e,"project.timeline.edges",[]),...f()(n,"project.timeline.edges",[])],pageInfo:n.project.timeline.pageInfo}}}},ee=(te=e=>{const t=e.noLayout?m.Fragment:"div";return m.createElement(t,e.noLayout?{}:{className:Object(a.b)("bg-grey-100","py6")},Object(l.a)("project_update_requests")&&!e.noLayout&&e.canUserRequestUpdate&&m.createElement(r.a,null,m.createElement(o.a,null,m.createElement(i.a,{width:12,mdWidth:8,mdOffset:2},m.createElement(d.a,{projectId:e.projectId,className:"mb6",location:u.b.updates})))),e.events.map(({Component:e,data:t},n)=>m.createElement(e,Object.assign({key:n},t))),m.createElement(R.a,{renderGrid:!e.noLayout},m.createElement(s.a,{buttonI18nKey:"project_updates.Load_more",remainingI18nKey:"project_updates.Showing_x_of_y_updates",totalCount:e.totalEvents,showingCount:e.eventsShowing,pageSize:5,onClick:e.onFetchMore,loading:e.isFetchingMore,hasMorePages:e.hasNextPage,atoms:["py6","w25p-md","m-auto","theme--support"]})))},e=>{const{data:t,loading:n,error:a,fetchMore:i,refetch:r}=Object(N.d)({variables:{projectSlug:e.projectSlug,cursor:null}});if(a)return b.Honeybadger.notify(a.message,{context:{tags:g.a.POST_UPDATES},__RATE_LIMIT__:1}),p.a.createElement(q.b,{primaryText:Object(c.b)("project_updates.Were_having_trouble_loading_updates"),secondaryText:Object(c.b)("project_updates.If_refreshing_this_page")});if(!(null==t?void 0:t.project)||n)return p.a.createElement(X.a,null);const{project:o,me:s}=t,{timeline:l,canUserRequestUpdate:d}=o,u=l&&l.edges||[],m=l&&l.pageInfo.endCursor,h=u.map(e=>e&&e.node).map(t=>{if(!t)return;const n=Object(v.b)("LL",t.timestamp);switch(t.type){case"launch":return{Component:J,data:{date:n}};case"cancellation":return{Component:W,data:{date:n}};case"failure":return{Component:K,data:{date:n}};case"success":{if(!t.data)return{Component:G,data:{date:n}};const{backersCount:e,latePledgeBackersCount:a,latePledgePledged:i,pledged:r}=t.data,o=e-a,s=Number(r.amount)-Number(i.amount);return{Component:G,data:{date:n,subheader:Object(c.b)("project_updates.x_backers_pledged_y",{count:o,pledgedAmount:k.b.money(s,{currency:r.currency||"",precision:0}),formattedBackerCount:k.b.format_number(o,{precision:0})})}}}case"update":return{Component:$,data:{...Z(t.data),isProjectLive:o.state===N.c.LIVE,projectCreator:e.projectCreator,projectSlug:e.projectSlug,isLoggedIn:Boolean(s&&s.id),onRefetch:r,noLayout:e.noLayout||!1}};default:return null}}),f=Object(_.l)({projectId:o.id,events:h,hasNextPage:!!l&&l.pageInfo.hasNextPage,totalEvents:l?l.totalCount:0,isFetchingMore:n,canUserRequestUpdate:d,eventsShowing:h.length,onFetchMore:()=>i({variables:{projectSlug:o.slug,cursor:m},query:N.b,updateQuery:Q})});return p.a.createElement(te,Object.assign({},e,f))});var te;const ne=({message:e})=>m.createElement("div",{className:"text-center my10 alert type-24"},e),ae=()=>m.createElement("div",{className:"bg-grey-100"},m.createElement(r.a,null,m.createElement(o.a,null,m.createElement(i.a,{width:12,mdWidth:8,mdOffset:2},m.createElement(ne,{message:ie()}))))),ie=()=>m.createElement(c.a,{i18nKey:"project_updates.Were_unable_to_load_project_updates_right_now"}),re=e=>Object(l.a)("show_posts_feed")?m.createElement(ee,e):m.createElement(ae,null)},YHJg:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);n("RIhn");i()("span.character_counter").livequery((function(){var e=i()(this);i()(document).on("keyup",e.attr("rel"),(function(){e.html(parseInt(i()(this).attr("maxlength"),10)-i()(this).val().length)}))}))},YToL:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"g",(function(){return i})),n.d(t,"f",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"b",(function(){return l}));const a={COMMENTS:25,REPLIES:3},i={CREATOR:"creator",COLLABORATOR:"collaborator",BACKER:"backer",KSR_ADMIN:"ksr admin",SUPERBACKER:"superbacker"},r=[i.CREATOR,i.COLLABORATOR],o="|--:)--;)--:D--XD--|",s={REPLY_FORM_OPENED:"comments_reply_form_opened",LOAD_MORE_COMMENTS:"comments_load_more_comments_clicked",LOAD_PREVIOUS_REPLIES:"comments_load_previous_replies_clicked",LOAD_MORE_COMMENTS_TIME:"comments_load_more_comments_time",LOAD_PREVIOUS_REPLIES_TIME:"comments_load_previous_replies_time",SHOW_NEWER_COMMENTS_LOAD:"comments_show_newer_load"},c="temp-comment",l={COMMENT_ABUSE:"comment-abuse",COMMENT_DOXXING:"comment-doxxing",COMMENT_SPAM:"comment-spam",COMMENT_OFFTOPIC:"comment-offtopic"}},YW8a:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);n("6Tov"),n("RIhn");i()((function(){i()(".js-lazy-image").livequery((function(){i()(this).unveil(500,(function(){var e=i()('<div class="loader-dots loader-dots--mega loader-dots--inline loader-dots--overlay" />').css("visibility","hidden");i()(this).after(e);var t={x:i()(this).offset().left+this.clientWidth/2-e.width()/2,y:i()(this).offset().top+this.clientHeight/2-e.height()/2};e.css("top",parseInt(t.y)+"px").css("left",parseInt(t.x)+"px").css("visibility","visible"),i()(this).load(()=>e.remove())}))}))}))},Yl26:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("ZCIj");i()((function(){["history","banner_canada_projects_animated","banner_canada_hide","banner_iphone_animated","banner_iphone_hide","banner_social_animated","banner_social_hide","banner_stripe_build_transition_hide","banner_verified_identity_hide","banner_yir_animated","ppjun2016","yir_banner_hide","yir_launch_banner","yir_takeover_hide","history_v1","video_mode_projects_seen","video_mode_seen"].forEach((function(e){r.b.removeItem(e)})),r.b.getItem("dismiss_post_funding_onboarding")&&r.b.setItem("dismiss_spotlight_onboarding","true"),r.b.removeItem("dismiss_post_funding_onboarding")}))},Ylt3:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("xG9w"),o=n("h4vE"),s=n("SKdt"),c=n("SmhT");Object(o.a)("#NS_discover__filters",(function(e){var t,n,a,o,l,d,u,m,p,h,f,g,_=e.find(".tags");function b(){e.trigger("ksr_popover:close"),i()(document).trigger("discovery:filters:changed",v())}function v(e=null){var n={};if(n.term=t.val(),n.state=m.find("select").val(),n.goal=p.find("select").val(),n.pledged=h.find("select").val(),n.raised=f.find("select").val(),n.recommended=o.find("a").is(".ksr-green-500"),n.staff_picks=a.find("a").is(".ksr-green-500"),n.starred=l.find("a").is(".ksr-green-500"),n.social=d.find("a").is(".ksr-green-500"),n.backed=u.find("a").is(".ksr-green-500"),e&&e.attr("name"))return n.changedFilter=e.attr("name"),n;if(e&&e.context){const t=i()(e.context).parent();t&&(n.changedFilter=t.attr("class").split(" ")[0])}return n}function k(e){t.val(e.term);var n={recommended:o,staff_picks:a,starred:l,social:d,backed:u};r.default.forEach(n,(function(t,n){e[n]?t.find("a").addClass("ksr-green-500").removeClass("black"):t.find("a").removeClass("ksr-green-500").addClass("black")})),_.find(".selected").removeClass("selected"),_.find("#tag_"+(e.tag_id||0)).addClass("selected"),m.find("select").ksr_val(e.state||""),p.find("select").ksr_val(e.goal||""),h.find("select").ksr_val(e.pledged||""),f.find("select").ksr_val(e.raised||"")}t=e.find(".js-search_term input"),n=e.find(".js-featured"),a=n.find(".js-staff_picks"),o=n.find(".js-recommended"),l=n.find(".js-starred"),d=n.find(".js-social"),u=n.find(".js-backed"),m=e.find(".js-states"),p=e.find(".js-goals"),h=e.find(".js-pledged"),f=e.find(".js-raised"),t.on("cut paste input keydown",(function(t){t.keyCode===c.c?b():-1===r.default.indexOf(c.j,t.keyCode)&&(i()(document).trigger("discovery:filters:term_changed",v()),e.trigger("ksr_popover:reposition"))})),e.find(".js-search_term_button").on("click",(function(){b()})).on("keydown",(function(e){e.keyCode!==c.c&&e.keyCode!==c.l||b()})),n.find("li > a").on("click",(function(t){var n=i()(this);n.toggleClass("ksr-green-500").toggleClass("black"),i()(document).trigger("discovery:filters:changed",v(n)),e.trigger("ksr_popover:reposition"),t.preventDefault()})),_.find("li > a").on("click",(function(t){var n=i()(this),a=n.closest("li");a.siblings(".selected").removeClass("selected"),a.toggleClass("selected"),i()(document).trigger("discovery:filters:changed",v(n)),e.trigger("ksr_popover:reposition"),t.preventDefault()})),e.find("select").on("change",(function(){i()(document).trigger("discovery:filters:changed",v(i()(this))),e.trigger("ksr_popover:reposition")})),i()(document).on("discovery:sentence:changed",(function(e,t){k(t)})),i()(document).on("discovery:sentence:term_changed",(function(e,n){t.val(n.term)})),i()(document).on("discovery:filters:load_sample",(function(e,t){k({tag_id:(t.tag||{}).id})})),e.on("ksr_popover:opened",(function(){g=t.val()||"",s.a["not-touchable"]&&t.focus()})),e.on("ksr_popover:closed",(function(){var n=t.val()||"";i.a.trim(n)!==i.a.trim(g)&&(i()(document).trigger("discovery:filters:changed",v()),e.trigger("ksr_popover:reposition"))}))}))},Z0n9:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return g}));var a=n("EJsP"),i=n("AKNS");class r extends a.a{static get requires(){return[i.c]}init(){const e=this.editor,t=e.plugins.get("BalloonToolbar");t.on("show",n=>{var a,i;let r=null===(a=e.model.document.selection)||void 0===a||null===(i=a.getFirstPosition())||void 0===i?void 0:i.parent;for(;r&&"caption"!==r.name;)r=r.parent;r&&(n.stop(),t.hide())})}}var o=n("yRkb"),s=n("lutk"),c=n("6mVB"),l=n("d8sA"),d=n("94td"),u=n("gN63");const m=Object(d.b)("uploaders.Oh_no_upload_failed",{retryButton:Object(d.b)("uploaders.Try_again")}),p=(e,t)=>new Promise(async(n,a)=>{var i,r,o,s;const l=await Object(c.a)(e,t);"failed"===(null===(i=l.data)||void 0===i||null===(r=i.photoForEditor)||void 0===r?void 0:r.status)?a():(null===(o=l.data)||void 0===o||null===(s=o.photoForEditor)||void 0===s?void 0:s.fingerprint)?n(l):setTimeout(()=>n(p(e,t)),1e3)});class h{constructor(e,t){this.config=void 0,this.loader=void 0,this.loader=e,this.config=t}upload(){return(async({loader:e,attachableId:t,attachableAssoc:n,onUploadStart:a,onUploadComplete:i})=>(a&&a(),new Promise(async(a,r)=>{const o=await e.file,{params:c,s3_upload_url:d}=await Object(l.b)(),h=Object(l.a)(o,c),f=new XMLHttpRequest,g=()=>{r(m)};f.open("POST",d),f.onload=async()=>{if(204===f.status){try{var e,r,d,m,h,_;const[i,f]=await Promise.all([Object(s.a)(t,n)({s3Key:c.key,fileName:encodeURIComponent(o.name),contentType:o.type,updatedAt:(o.lastModifiedDate||new Date).getTime(),fileSize:o.size}),Object(l.c)(o)]);if(!(null==i||null===(e=i.data)||void 0===e||null===(r=e.upload)||void 0===r||null===(d=r.image)||void 0===d?void 0:d.id))return void g();const b=await p(null==i||null===(m=i.data)||void 0===m||null===(h=m.upload)||void 0===h||null===(_=h.image)||void 0===_?void 0:_.id,f);if(!b)return void g();a({urls:{default:b.data.photoForEditor.url},dataId:Object(u.a)(b.data.photoForEditor.id)})}catch(e){g()}i&&i()}},f.addEventListener("error",g),f.addEventListener("abort",g),f.addEventListener("error",g),f&&f.upload&&(f.upload.onprogress=t=>{if(t.lengthComputable){const n=t.loaded/t.total*100;e.total=t.total,e.uploaded=n}}),f.send(h)})))({loader:this.loader,...this.config})}}const f=(e,t)=>{e.conversion.for("downcast").add(e=>{e.on("attribute:"+t,(e,n,a)=>{if(!a.consumable.consume(n.item,e.name))return;const i=a.writer,r=a.mapper.toViewElement(n.item),o=null==r?void 0:r.getChild(0);o&&(null!==n.attributeNewValue?i.setAttribute(t,n.attributeNewValue,o):i.removeAttribute(t,o))})})};class g extends a.a{static get requires(){return[o.b]}static get pluginName(){return"S3Upload"}init(){const e=this.editor,t=e.config.get("s3Upload");if(!t)return void console.warn("\n        If you are using the S3Upload config with the rich text editor, an UploadAdpaterConfig must be supplied.\n        If not, uploaded images will fail to save.\n      ");e.plugins.get("FileRepository").createUploadAdapter=e=>new h(e,t),e.model.schema.extend("imageBlock",{allowAttributes:["data-id","class"]}),f(e,"data-id"),f(e,"class");e.plugins.get("ImageUploadEditing").on("uploadComplete",(t,{data:n,imageElement:a})=>{e.model.change(e=>{e.setAttribute("data-id",n.dataId,a),e.setAttribute("class","template asset",a)})})}}},Z4QI:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n("yTGw"),i=n("q1tI"),r=n.n(i);function o(e="",t=-1){const n=e.length;return-1===t?""+n:`${n}/${t}`}var s=n("relC"),c=n("sezs"),l=n("ZT9a"),d=n("1PrN"),u=n("Kbzc"),m=n("luUu"),p=n("ObC8"),h=n("tODT"),f=n("c5x8");function g({atoms:e,icon:t,prefix:n,suffix:c,actionIcon:p,onAction:h,showCharacterCount:_,type:b,size:v,rows:k,dir:y,cols:E=v,autoCapitalize:j,autoHeight:w=!1,...S}){const O=void 0===k||k<=0,N=r.a.useRef(null),C=r.a.useRef(null),{onChange:I,characterCount:x}=function(e=!1,t){var n,a;const r=null!=t?t:Object(i.useRef)(null),[s,c]=Object(i.useState)(null);Object(i.useEffect)(()=>{const{value:t,maxLength:n}=r.current||{};e||c(o(t,n))},[null===(n=r.current)||void 0===n?void 0:n.value,null===(a=r.current)||void 0===a?void 0:a.maxLength]);const l=Object(i.useCallback)(t=>{var n;e||c(o(t,null===(n=r.current)||void 0===n?void 0:n.maxLength))},[]);return{inputRef:r,characterCount:s,onChange:l}}(!_,O?N:C),T="number"===b?{type:b,max:S.maxValue,min:S.minValue,step:S.step}:{};return r.a.createElement(s.a,Object.assign({as:d.a},Object(l.a)(S,{className:Object(f.b)(e,{className:"kds-text-field"}),onChange:I}),{status:_&&r.a.createElement("span",{"data-testid":"character count"},x)}),r.a.createElement(g.InputGroup,{icon:t,prefix:n,suffix:c,actionIcon:p,onAction:h},r.a.createElement(a.b.Control,{asChild:!0},O?r.a.createElement(u.a,Object.assign({key:"input",ref:N,type:b},T,{className:"kds-input-group__control",dir:y,autoCapitalize:j,size:v,"aria-label":S["aria-label"],"aria-labelledby":S["aria-labelledby"],style:(null!=v?v:0)>0?{"--_size":v}:void 0})):r.a.createElement(m.a,{key:"input",ref:C,rows:k,cols:E,autoCapitalize:j,className:"kds-input-group__control",dir:y,"aria-label":S["aria-label"],"aria-labelledby":S["aria-labelledby"],style:w?{fieldSizing:"content",minHeight:(null!=k?k:4)+"lh"}:{}}))))}g.InputGroup=({icon:e,prefix:t,suffix:n,actionIcon:a,onAction:i,isDisabled:o,isReadOnly:s,children:l,...d})=>r.a.createElement(h.a,d,e&&r.a.createElement(c.a,{"data-testid":"icon",name:e,atoms:["kds-text-field__icon"]}),t&&r.a.createElement("span",{"data-testid":"prefix",className:"kds-text-field__prefix"},t),l,n&&r.a.createElement("span",null,n),a&&i&&r.a.createElement(p.a,{"data-testid":"action",atoms:"kds-text-field__action",variant:s||o?"outlined":"borderless",icon:a,onPress:i}))},ZCHx:function(e,t,n){"use strict";var a=n("UujG");n.d(t,"b",(function(){return a.b}));var i=n("T3Mw");n.d(t,"a",(function(){return i.a}))},ZCIj:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));const a={};const i=(()=>{if(!window)return!1;if(void 0!==window.__KSR_LOCAL_STORAGE_SUPPORTED__)return window.__KSR_LOCAL_STORAGE_SUPPORTED__;if(void 0===window.localStorage)return!1;try{const e=window.localStorage,t="__KSR_storagetest__";return e.setItem(t,"1"),e.removeItem(t),window.__KSR_LOCAL_STORAGE_SUPPORTED__=!0,!0}catch(e){return window.__KSR_LOCAL_STORAGE_SUPPORTED__=!1,!1}})()?new class{constructor(){this.isPersisted=!0,this.getItem=window.localStorage.getItem.bind(window.localStorage),this.setItem=window.localStorage.setItem.bind(window.localStorage),this.removeItem=window.localStorage.removeItem.bind(window.localStorage),this.key=window.localStorage.key.bind(window.localStorage),this.clear=window.localStorage.clear.bind(window.localStorage)}get length(){return window.localStorage.length}}:new class{constructor(){this.isPersisted=!1,this.cache=void 0,this.cache="undefined"!=typeof window?(void 0===window.__KSR_IN_MEMORY_STORAGE_CACHE__&&(window.__KSR_IN_MEMORY_STORAGE_CACHE__=a),window.__KSR_IN_MEMORY_STORAGE_CACHE__):a}getItem(e){return e in this.cache?this.cache[e]:null}setItem(e,t){this.cache[e]=String(t)}removeItem(e){delete this.cache[e]}key(e){const t=Object.keys(this.cache);return e in t?t[e]:null}clear(){Object.keys(this.cache).forEach(e=>{delete this.cache[e]})}get length(){return Object.keys(this.cache).length}};t.b=i},ZCQN:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);n("OUkx"),n("RIhn");i()((function(){i()(".js-lazy-video").livequery((function(){const e=this,t=i()(this);t.whenNear(500,(function(){e.src=t.data("src")}))}))}))},ZCb5:function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return _}));var a=n("b8Ld"),i=n("v83y"),r=n("2pL9"),o=n("2DJ9"),s=n("94td"),c=n("kZzg"),l=n("/IHD"),d=n("q1tI"),u=n.n(d),m=n("bvYH"),p=n("1uWx"),h=n("kKlT"),f=n("E2Se");const g=[f.b.Bold,f.b.Italic,f.b.Header,f.b.List,f.b.Link,f.b.Image,f.b.Video,f.b.Audio,f.b.Header2,f.b.Header3,f.b.Quote],_=e=>{const{atoms:t=[],editorState:n,dispatch:c,controls:d=g,showRemoveLink:_,isSticky:b=!0,tracking:v,topMargin:k,setCurrentModal:y,headerDropdownEnabled:E}=e,j=n.getCurrentInlineStyle(),w=n.getSelection(),S=n.getCurrentContent().getBlockForKey(w.getStartKey()).getType(),O=e=>c(Object(m.p)(i.RichUtils.toggleInlineStyle(n,e))),N=e=>c(Object(m.p)(i.RichUtils.toggleBlockType(n,e))),C=e=>{v&&"function"==typeof v.editorToolClicked&&v.editorToolClicked(e)},I=Object(l.a)("z1 bg-white border-bottom border-grey-400 flex items-center px3 scroll-x visible-x-sm",b&&"stick border-bottom",k,...t),x={[p.n.style.toString()]:{...p.n,component:p.m,atoms:Object(l.a)("")},[p.h.style.toString()]:{...p.h,component:p.g,atoms:Object(l.a)("h1")},[p.d.style.toString()]:{...p.d,component:p.c,atoms:Object(l.a)("h2")},[p.f.style.toString()]:{...p.f,component:p.e,atoms:Object(l.a)("h3")},[p.p.style.toString()]:{...p.p,component:p.o,atoms:Object(l.a)("blockquote")}},T=Object.keys(x).includes(S)?x[S]:x.unstyled,A=u.a.createElement(r.a,{atoms:["h100p","w100p"],label:({isMenuOpen:e,onCloseMenu:t,onOpenMenu:n})=>u.a.createElement("div",{className:"h100p flex justify-between items-center",onClick:e?t:n,role:"button"},T&&u.a.createElement("span",{className:"pr6 bold type-14"},T.label),u.a.createElement(o.a,{atoms:["pb1px"],name:"icon--delta-down",size:"15"})),dropdown:()=>u.a.createElement("ul",{className:"w100p absolute bg-white w163px flex flex-column items-start border-box",style:{boxShadow:"0px 12px 16px rgba(0, 0, 0, 0.12)"}},Object.values(x).map((e,t,n)=>{const a=e.component;return u.a.createElement("li",{key:"header-dropdown-"+e.id,className:Object(l.a)("flex1 w100p border-support-300 border-left border-right border-top hover-bg-support-100 px3",t===n.length-1&&"border-bottom")},u.a.createElement(a,{isActive:S===e.style,onClick:()=>{N(e.style)},headerDropdownEnabled:E}))}))});return u.a.createElement("div",{className:I},E?u.a.createElement("div",{className:"justify-start flex items-center h10 min-w28"},A):d.includes(f.b.Header)&&u.a.createElement(p.g,{isActive:S===p.h.style,onClick:()=>{N(p.h.style),C("Header")}}),d.includes(f.b.List)&&u.a.createElement(p.k,{isActive:S===p.l.style,onClick:()=>{N(p.l.style),C("Unordered_List")}}),d.includes(f.b.Bold)&&u.a.createElement(p.a,{isActive:j.has(p.b.style),onClick:()=>{O(p.b.style),C("Strong")}}),d.includes(f.b.Italic)&&u.a.createElement(p.i,{isActive:j.has(p.j.style),onClick:()=>{O(p.j.style),C("Emphasis")}}),d.includes(f.b.Link)&&u.a.createElement(a.a,{isActive:_,onMouseDown:e=>{e.preventDefault(),Object(h.c)(c,n,y,v)},toolTip:Object(s.b)("rich_editor.Add_link"),icon:f.d.icon,toolId:f.d.id}),_&&u.a.createElement(a.a,{onMouseDown:e=>{e.preventDefault(),c(Object(m.i)()),C("Unlink")},toolTip:Object(s.b)("rich_editor.Remove_link"),icon:f.e.icon,isActive:!0,toolId:f.e.id}),d.includes(f.b.Image)&&u.a.createElement(a.a,{icon:f.c.icon,toolId:f.c.id,toolTip:Object(s.b)("rich_editor.Add_image"),onMouseDown:e=>{e.preventDefault(),c(Object(m.e)()),y("IMAGE"),C("Image")}}),d.includes(f.b.Video)&&u.a.createElement(a.a,{icon:f.f.icon,toolId:f.f.id,toolTip:Object(s.b)("rich_editor.Add_video"),onMouseDown:e=>{e.preventDefault(),y("VIDEO"),C("Asset_Video")}}),d.includes(f.b.Audio)&&u.a.createElement(a.a,{icon:f.a.icon,toolId:f.a.id,toolTip:Object(s.b)("rich_editor.Add_audio"),onMouseDown:e=>{e.preventDefault(),y("AUDIO"),C("Asset_Audio")}}))},b=e=>{const t=Object(c.a)(),n=Object(l.a)(!e.topMargin&&(t?"t10 t4-lg":!t&&"t0"),"z-toolbar-3");return u.a.createElement(_,Object.assign({},e,{isSticky:!0,atoms:[n]}))}},ZY8h:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("qcI4"),o=n("GRmu"),s=n("0VSk"),c=n("yQm5"),l=n.n(c),d=(n("RIhn"),n("/AD1"));i()(".js-could-have-comments").length&&i()(".load_new_comments").livequery((function(){var e,t,n,a,c=i()(".load_new_comments");function u(e){void 0===e&&(e={}),(e.comments_count||d.a.get("comments_count"))-(e.comments_loaded||d.a.get("comments_loaded"))>0?c.show():c.hide()}function m(e,t){var n,a=i()(this),r=new l.a(this.href).removeQuery("cursor").addQuery({cursor:e});"asc"===t&&r.addQuery({direction:t}),n=r.toString(),i.a.ajax({url:n,beforeSend:function(){a.addClass("loading")},complete:function(){a.removeClass("loading")},success:function(e){var n="asc"===t?"prepend":"append";"asc"===t&&d.a.set("comments_loaded",e.comments_count),d.a.set("comments_count",e.comments_count),i()("ol.list-comments ol.comments:first")[n](e.comments)},error:function(){Object(o.a)({error:s.default.t("onloads.views.comments.list.Sorry_we_couldnt_load_comments_just_now")})}})}c.length&&(e=c.find("a"),t=i()(".Project"+d.a.get("id")+'[itemprop="Project[comments_count]"]'),n=(n=i.a.trim(t.text())).replace(/\D/g,""),d.a.set("comments_count",parseInt(n,10)),i()(".latest_comment").livequery((function(){a||(a=!0,d.a.on_change("comments_count",u),d.a.on_change("comments_loaded",u)),d.a.set("comments_loaded",d.a.get("comments_count")),u()})),i()(".earliest_comment").livequery((function(){i()("a.older_comments").hide()})),i()(".comment").livequery((function(){var e,t=i()(this).find('[itemprop="Comment[created_at]"]'),n={};t.each((function(t,a){var r,o=i()(a);if(!o.attr("itemprop"))return;if(!(r=o.attr("itemprop").match(/Comment\[(\w+)\]/)))return;const s=o.data("value");n[r[1]]=s.match(/^"/)?JSON.parse(s):s,e||(e=o.attr("class").match(/Comment(\d+)/)[1])})),(r.d.find(e)||new r.d({id:e})).set(n)})),e.click((function(e){if(!i()(this).hasClass(".loading")){e.preventDefault();var t=i()(".comments li:first");d.a.get("comments_count")-d.a.get("comments_loaded")>50?window.location.href=window.location.href:m.call(this,t.attr("id").match(/\d+/)[0],"asc")}})),i()(document).on("click",".older_comments",(function(e){e.preventDefault();var t=i()(".comments li:last");!i()(this).hasClass(".loading")&&t.length&&m.call(this,t.attr("id").match(/\d+/)[0],"desc")})),i()(".comment-moderation, .backer_info","ol.list-comments").livequery((function(){i()(this).removeClass("hidden")})),i()(document).on("submit","ol.list-comments form.delete_comment",(function(e){e.preventDefault();var t=i()(this),n=t.closest(".comment");i.a.ajax({url:t.attr("action"),dataType:"json",type:"delete",success:function(){n.hide(),i()("#project-edit-nav .preview .count").text((function(e,t){return parseInt(t,10)-1})),i()(".NS_comments__comment").length||i()(".project_preview_comments").removeClass("has_comments")}})})))}))},Zkg7:function(e,t,n){"use strict";var a=n("yUSt");n.d(t,"b",(function(){return a}));var i=n("tODT");n.d(t,"a",(function(){return i.a}))},a1e3:function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return m})),n.d(t,"e",(function(){return p})),n.d(t,"a",(function(){return k}));var a=n("VphZ"),i=n("MHsd"),r=n("zm9w"),o=n("q1tI"),s=n.n(o),c=n("YSVl"),l=n.n(c);const d=e=>({precision:0,currency:e});function u(e,t,n){const a=[],r=l()(n);for(let n=0;n<e;n+=1)for(let e=0;e<t;e+=1)a.push({value:20*r()+3,phase:"Phase "+n,description:"",name:"random",rowNum:parseInt(`${n}000${e}`,10)});return Object(i.a)(a)}const m=[{name:"bg1",color:"#059968",file:"https://i.kickstarter.com/xglb1yux-hatch_light_green_pattern_overlays_20190901.png?fit=scale-down&origin=static&width=1000&sig=clgJlzhY3k416hIJWrLOR2MdAEuRyBIYLy5Q4Y0qGuE%3D"},{name:"bg2",color:"#71A0FF",file:"https://i.kickstarter.com/qm5rth84-dot_line_white_2_pattern_overlays_20190901.png?origin=static&sig=X4u8yLPJQSLFYyFAWhfks%2Bb0l7JvccL9Ns4mZ%2BdcX%2Fs%3D"},{name:"bg3",color:"#a3a3a3",file:"https://i.kickstarter.com/2pgrzep-scattered_dots_black_pattern_overlays_20190901.png?fit=scale-down&origin=static&width=1000&sig=7dYAvrHvJlUMrHNcRby2NfD16BbES28QnocyMYhS%2BjU%3D"},{name:"bg4",color:"#37d893",file:"https://i.kickstarter.com/l9o3ber7-grid_dark_green_pattern_overlays_20190901.png?fit=scale-down&origin=static&width=1000&sig=w1sAH2Z8b0%2Bm44c8oN%2BES4hwspBpkhrrhc1YpFJSPyQ%3D"},{name:"bg5",color:"#464646",file:"https://i.kickstarter.com/v0js8b2e-dot_line_white_pattern_overlays_20190901.png?fit=scale-down&origin=static&width=1000&sig=j1%2Biz4vH2TtOn5EX0sEl2Xque0oEBcJupM5qVbNe8CM%3D"}],p=[["#33ad7e","#00664b","#003322"],["#5555FF","#3B3BCC","#00007D"],["#cccccc","#999999","#848484"],["#c7f5df","#73e5ae","#00b771"],["#919191","#666666","#191919"]],h=a.e().value(e=>e.value).sort(null),f=a.e().value(e=>e.value).sort(null).value(e=>e.value),g=a.a().innerRadius(50*.699).outerRadius(43.8).padAngle(.06).padRadius(42.5),_=a.a().innerRadius(46.2).outerRadius(50).padAngle(.06).padRadius(42.5);function b(e){const t=a.d({startAngle:0,endAngle:0},e);return e=>String(g(t(e)))}function v(e){const t=a.d({startAngle:e.data.parentAngle,endAngle:e.data.parentAngle},{...e,startAngle:e.startAngle+(e.data.startingAngle?0:-.03),endAngle:e.endAngle+(e.data.endingAngle?0:.03)});return e=>String(_(t(e)))}const k=({size:e=150,categoryData:t,hoverChoice:n,hoverChoiceValue:i,displayValues:c,currencySymbol:l})=>{const u=Object(o.useRef)(null);return Object(o.useEffect)(()=>{const n=t.reduce((e,t)=>e.concat(t.values.map((e,t)=>({...e,index:t}))),[]),r=h(t),o=n.map(e=>({...e,parentAngle:r[e.categoryNum].endAngle}));let s=-1;for(let e=0;e<o.length;e+=1)e===o.length-1&&(o[e].endingAngle=!0),o[e].categoryNum!==s&&(o[e].startingAngle=!0,s=o[e].categoryNum,o[e-1]&&(o[e-1].endingAngle=!0));const d=f(o),g=a.f(u.current).append("g").attr("transform",`translate(${e/2}, ${e/2}) scale(${e/100}, ${e/100})`),_=g.append("defs");for(const t of m)_.append("pattern").attr("id",t.name).attr("width",1).attr("height",1).attr("patternUnits","objectBoundingBox").append("image").attr("class","bgimage").attr("x",0).attr("y",0).attr("width",100/e*400).attr("height",100/e*400).attr("href",t.file);g.selectAll("path.innerArc").data(r).join(e=>e.append("path").attr("class",(e,t)=>"innerArc innerArc"+t).attr("fill",({data:e})=>m[e.categoryNum].color).style("opacity",1).style("transition","opacity 100ms ease-in-out")).transition().ease(a.b).duration(1e3).attrTween("d",b),g.selectAll("innerArcTexture").data(r).join(e=>e.append("path").attr("class","innerArcTexture").attr("fill",(e,t)=>`url(#${m[t].name})`)).transition().ease(a.b).duration(1e3).attrTween("d",b),g.selectAll("path.outerArc").data(d).join(e=>e.append("path").attr("class","outerArc").attr("fill",({data:e},t)=>p[e.categoryNum][e.index%p[e.categoryNum].length]).style("opacity",1).style("transition","opacity 70ms ease-in-out")).transition().delay(700).ease(a.c).duration(1e3).attrTween("d",v);if(i){const t=n.reduce((e,t)=>e+t.value,0),a=g.append("text").attr("text-anchor","middle").attr("x",-1).attr("y",3).attr("width",e).attr("height",e).attr("font-size",8).style("opacity",0).text(`${l}${t}`),i=a.node();i&&a.attr("font-size",Math.min(8,52/i.getComputedTextLength()*8)),c&&a.style("opacity",1)}},[]),Object(o.useEffect)(()=>{const e=a.f(u.current);e.selectAll("path").style("opacity",({data:e})=>e.phase!==n&&e.rowNum!==n&&n?.1:1),i?c&&l?e.select("text").text(`${l}${r.b.money(i,d(l))}`):e.select("text").text(i+"%"):e.select("text").text("")},[n,c]),s.a.createElement("svg",{width:e,height:e,viewBox:`0 0 ${e} ${e}`,preserveAspectRatio:"xMinYMid",ref:u})}},a8OY:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var a=n("egyr"),i=n("mv45"),r=n("q1tI");const o=()=>r.createElement("div",{className:"text-center py6"},r.createElement(a.a,{size:"large"})),s=e=>t=>Object(i.h)(t)?r.createElement(o,null):r.createElement(e,t)},a9CO:function(e,t,n){"use strict";var a=n("KKf6"),i=n("+2Rf");n("+2Rf");i.browser=a.a},aNAf:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("o3IG");function i(){return Object(a.b)("ios_mp_distinct_id")||Object(a.b)("vis")||Object(a.c)("vis",[Math.floor(1e20*Math.random()).toString(16).slice(0,16),Math.floor(1e20*Math.random()).toString(16).slice(0,16),Math.floor(1e20*Math.random()).toString(16).slice(0,16)].join("-")+"v1",new Date(2025,12,31),"/")}},aQhD:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("q1tI"),i=n("ocnG"),r=n("Qbqs");const o=({children:e,start:t=0,end:n=1,...o})=>a.createElement(i.a,Object.assign({},o,{transitions:[Object(r.a)({start:t,end:n})]}),e)},aT40:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));n("J2iB"),n("q1tI");const a=e=>"function"==typeof e,i=e=>"key"in e&&"parentKey"in e&&"value"in e&&"children"in e&&4===Object.keys(e).length},aTUb:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("q1tI");const i=(e=!1)=>{const[t,n]=Object(a.useState)(e);return[t,e=>n(t=>null!=e?e:!t),()=>n(!0),()=>n(!1)]}},aYzK:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n("VX74"),n("DE4Y");const a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FetchProjectSignalAndWatchStatus"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pid"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pid"},value:{kind:"Variable",name:{kind:"Name",value:"pid"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"project"}}]}},{kind:"Field",name:{kind:"Name",value:"me"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"user"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"project"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Project"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"pid"}},{kind:"Field",name:{kind:"Name",value:"isDisliked"}},{kind:"Field",name:{kind:"Name",value:"isLiked"}},{kind:"Field",name:{kind:"Name",value:"isWatched"}},{kind:"Field",name:{kind:"Name",value:"isWatchable"}},{kind:"Field",name:{kind:"Name",value:"isLaunched"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uid"}},{kind:"Field",name:{kind:"Name",value:"canSeeConfirmWatchModal"}},{kind:"Field",name:{kind:"Name",value:"canSeeConfirmSignalModal"}},{kind:"Field",name:{kind:"Name",value:"isEmailVerified"}}]}}]}},aaNh:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("2DJ9"),i=n("T8n5"),r=n("3ZBc"),o=n("q1tI"),s=n.n(o);const c=({isWatched:e,watchCopy:t,onClick:n})=>s.a.createElement(s.a.Fragment,null,s.a.createElement("button",{className:"hide-lg",onClick:n},s.a.createElement("div",{className:"flex justify-start items-center px2 min-w20 border-box radius4px border border1px border-"+(e?"celebrate-500":"support-300"),style:{height:"40px"}},s.a.createElement(a.a,{name:"icon--bookmark-outline",size:"medium",atoms:["fill-"+(e?"celebrate-500":"support-500")]}),s.a.createElement(i.a,{type:"body-100",color:e?"celebrate-500":"soft-black",atoms:["m0","pl2"]},t))),s.a.createElement("div",{className:"hide block-lg mb1"},s.a.createElement(r.a,{hasShadow:!0,interaction:"watch",isActive:e,onClick:n,tooltipLabel:t})))},af5E:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return s}));var a=n("VX74"),i=n("DE4Y");n.d(t,"a",(function(){return i.F})),n.d(t,"c",(function(){return i.J}));const r={},o={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PostsFeed"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectSlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"me"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isKsrAdmin"}}]}},{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"projectSlug"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"state"}},{kind:"Field",name:{kind:"Name",value:"canUserRequestUpdate"}},{kind:"Field",name:{kind:"Name",value:"timeline"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"10"}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasNextPage"}},{kind:"Field",name:{kind:"Name",value:"endCursor"}}]}},{kind:"Field",name:{kind:"Name",value:"edges"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"timestamp"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Project"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"goal"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currency"}},{kind:"Field",name:{kind:"Name",value:"amount"}}]}},{kind:"Field",name:{kind:"Name",value:"pledged"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currency"}},{kind:"Field",name:{kind:"Name",value:"amount"}}]}},{kind:"Field",name:{kind:"Name",value:"latePledgePledged"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currency"}},{kind:"Field",name:{kind:"Name",value:"amount"}}]}},{kind:"Field",name:{kind:"Name",value:"backersCount"}},{kind:"Field",name:{kind:"Name",value:"latePledgeBackersCount"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Postable"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"publishedAt"}},{kind:"Field",name:{kind:"Name",value:"pinnedAt"}},{kind:"Field",name:{kind:"Name",value:"number"}},{kind:"Field",name:{kind:"Name",value:"actions"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"read"}},{kind:"Field",name:{kind:"Name",value:"pin"}}]}},{kind:"Field",name:{kind:"Name",value:"author"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"imageUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"120"}}]}]}},{kind:"Field",name:{kind:"Name",value:"authorRole"}},{kind:"Field",name:{kind:"Name",value:"isPublic"}},{kind:"Field",name:{kind:"Name",value:"likesCount"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CreatorInterview"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commentsCount"},arguments:[{kind:"Argument",name:{kind:"Name",value:"withReplies"},value:{kind:"BooleanValue",value:!0}}]},{kind:"Field",name:{kind:"Name",value:"answers"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"body"}},{kind:"Field",name:{kind:"Name",value:"question"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"body"}}]}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FreeformPost"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"commentsCount"},arguments:[{kind:"Argument",name:{kind:"Name",value:"withReplies"},value:{kind:"BooleanValue",value:!0}}]},{kind:"Field",name:{kind:"Name",value:"body"}},{kind:"Field",name:{kind:"Name",value:"nativeImages"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}}]}}]}}]}}]}}]}}]}}]}}]};function s(e){const t={...r,...e};return a.useQuery(o,t)}},aiSh:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return p}));var a=n("VX74"),i=n("KQNa"),r=n("n+nq"),o=n("HuS5"),s=n("UYTu"),c=n("0pZ2"),l=n("pj8f");const d=e=>Object(o.a)(({graphQLErrors:t,networkError:n})=>{Array.isArray(t)&&t.forEach(t=>{const n=new Error(t.message);e(n,"GraphQL Error")}),void 0!==n&&console.error("GraphQL Network Error:",n)}),u=(e,t=25)=>{const n=new a.ApolloLink((e,t)=>{const{headers:n={},projectShareToken:a}=e.getContext();return a&&e.setContext({headers:{...n,"Project-Share-Token":a}}),t?t(e):null});return new a.ApolloClient({uri:"/graph",cache:new a.InMemoryCache({possibleTypes:c}),link:Object(a.from)([d(e||l.Honeybadger.notify.bind(l.Honeybadger)),n,new i.a({uri:"/graph",batchMax:5,batchInterval:20,credentials:"same-origin",headers:{"X-CSRF-Token":Object(r.b)(document)}})]),queryDeduplication:!0,connectToDevTools:!1})},m=((e,t)=>{const n=new a.ApolloLink(()=>null),i=new a.InMemoryCache;return i.writeQuery({query:e,data:t}),new a.ApolloClient({link:n,cache:i})})(s.a`
  query {
    me {
      id
    }
  }
`,{me:{__typename:"User",id:"123"}}),p=()=>u(l.Honeybadger.notify.bind(l.Honeybadger))},arGM:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"g",(function(){return u})),n.d(t,"f",(function(){return m})),n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"d",(function(){return f})),n.d(t,"h",(function(){return g}));var a=n("eEls"),i=n("g84z"),r=n("z0kN");const o=e=>Object.keys(e).filter(t=>s(e[t])).map(t=>Array.isArray(e[t])?e[t].filter(s).map(e=>[t+"[]",e].map(encodeURIComponent).join("=")).join("&"):[t,e[t]].map(encodeURIComponent).join("=")).sort().join("&"),s=e=>Array.isArray(e)?e.length>0:null!=e&&""!==e,c=Object(a.a)(Object(r.a)("?"),o),l=e=>e.toLowerCase().replace(/\//,"-").replace(/[^a-zA-Z0-9\s-_]/g,"").replace(/[\s|_]/g,"-").replace(/--+/g,"-").replace(/-$/,""),d=e=>(t,n)=>p(t,{ref:e},n),u=({ref:e,truncate:t=!1,clean:n=!1})=>(Array.isArray(e)?(t&&e.push(((e="",t=30)=>e.substring(0,t-1).replace(/\-$/,""))(e.pop())),e=e.join("-")):u({ref:[e],truncate:t,clean:n}),d(n?l(e):e)),m=e=>e.split("?")[0],p=(e,t={},n,a={})=>{e=e||"";const r={...Object(i.a)(e),...t};return[[a.noBaseEncode?m(e):encodeURI(m(e)),o(r)].filter(Boolean).join("?"),n?encodeURI(n):null].filter(Boolean).join("#")},h=(e,t,n="")=>[e,t+1,n].filter(Boolean).join("-"),f=e=>e.replace(/^#/,""),g=e=>e.startsWith("#")?e:"#"+e},atOr:function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var a=n("qPAc"),i=n("d5To"),r=n("pTxv"),o=n("lHf8"),s=n("cxMJ"),c=n("ObC8"),l=n("dPds"),d=n("mv45"),u=n("94td"),m=n("gN63"),p=n("jQIB"),h=n("arGM"),f=n("xKJO"),g=n("vtU4"),_=n("q1tI"),b=n("55Ip"),v=n("5FPU"),k=n("a8OY"),y=n("af5E"),E=n("JhfJ"),j=n("fOlt"),w=n("fivf"),S=n("7Rpo"),O=n("KsYZ"),N=n("XfPQ"),C=n("y4o6"),I=n("2Lb1"),x=n("FEsz"),T=n("2NEC"),A=n("SdBH"),D=n("eH4U");class P extends _.Component{constructor(...e){super(...e),this.state={key:0,isLikersModalShowing:!1}}componentDidMount(){f.a.incrementPostView(window.clientType)}renderEditBanner(){if(!this.props.canEdit)return null;const e=Object(D.b)(this.props.projectCreator,this.props.projectSlug,this.props.type,this.props.id);return _.createElement(s.a,{variant:"info","aria-label":this.props.isAdmin?Object(u.b)("project_updates.As_an_admin_you_are_able"):Object(u.b)("project_updates.You_have_time_left_to_edit",{timeLeft:this.props.timeLeftToEdit}),persistent:!0,className:"kds-mb-06",buttons:_.createElement(c.a.AsLink,{variant:"outlined",href:e},Object(u.b)("project_updates.Edit"))},_.createElement(l.a.BodyMD,{as:"p"},this.props.isAdmin?Object(u.b)("project_updates.As_an_admin_you_are_able"):Object(u.b)("project_updates.You_have_time_left_to_edit",{timeLeft:this.props.timeLeftToEdit})))}renderAllPostsButton(){const e=Object(D.d)(this.props.project)?g.b.PROJECT_PAGE.url(this.props.projectCreator,this.props.projectSlug)+"?tab=prelaunch-updates":g.b.POSTS_FEED.url(this.props.projectCreator,this.props.projectSlug);return _.createElement("div",{className:"pb8 native-hide"},_.createElement(b.b,{to:e},_.createElement(c.a,{variant:"outlined",icon:"icon--chevron-left"},Object(u.b)("project_updates.All_updates"))))}renderPost(){return _.createElement(I.a,{header:_.createElement(T.a,{title:this.props.title,sequence:this.props.sequence,publishedAt:this.props.publishedAt,authorAvatarUrl:this.props.authorAvatarUrl,authorName:this.props.authorName,authorRole:this.props.authorRole,isPublic:this.props.isPublic,PinningUI:_.createElement(C.a,{canPin:this.props.canPin,relayId:Object(m.b)(this.props.type,this.props.id),type:this.props.type,trackingContext:"view post",isPinned:this.props.isPinned,onPinCompletion:()=>w.history.push(g.b.POSTS_FEED.url(this.props.projectCreator,this.props.projectSlug))})}),body:_.createElement(x.a,{canRead:this.props.canRead,isLoggedIn:this.props.isLoggedIn,isProjectLive:this.props.isProjectLive,pledgeLink:g.b.PROJECT_PLEDGE.url(this.props.projectCreator,this.props.projectSlug)},_.createElement(_.Fragment,null,this.props.type===y.a.CreatorInterview&&_.createElement(S.b,{id:this.props.id}),this.props.type===y.a.FreeformPost&&_.createElement(O.b,{id:this.props.id}))),footer:this.renderLikePost()})}renderLikePost(){const{isLoggedIn:e,isPublished:t,canRead:n,isLiked:a,isPinned:i,onLikePost:r,onUnlikePost:o,likesCount:s,type:d,id:p}=this.props,f=Object(h.e)("/login",{then:window.location.pathname}),g=e&&t&&n,{onPress:b,text:v,icon:k}=a?{onPress:()=>o({id:Object(m.b)(d,p)}),text:"",icon:"icon--heart-filled"}:{onPress:()=>r({id:Object(m.b)(d,p)}),text:Object(u.b)("project_updates.Like"),icon:"icon--heart"};return _.createElement("footer",{className:"flex items-center mt8 py3 kds-border-b"},g?_.createElement(c.a,{icon:k,isDisabled:!t,variant:"outlined",onPress:b},v):_.createElement(c.a.AsLink,Object.assign({icon:k,isDisabled:!t,variant:"outlined"},t?{href:f}:{}),v),s>0&&_.createElement(_.Fragment,null,a?_.createElement(_.Fragment,null,s>1&&_.createElement(l.a.HeadingXS,{as:"span",className:"kds-text-secondary kds-ml-04"},_.createElement(u.a,{i18nKey:"project_updates.Like_this_update",youAndLikers:_.createElement(l.a.HeadingXS,{as:"button",onClick:()=>this.setState({isLikersModalShowing:!0}),className:"text-underline"},Object(u.b)("project_updates.You_and_others_like",{count:s-1}))}))):_.createElement(l.a.HeadingXS,{as:"span",className:"kds-text-secondary kds-ml-04"},_.createElement(u.a,{count:s,i18nKey:"project_updates.Likes_this_update",otherLikers:_.createElement(l.a.HeadingXS,{as:"button",onClick:()=>this.setState({isLikersModalShowing:!0}),className:"text-underline"},Object(u.b)("project_updates.Others_like",{count:s}))}))),this.state.isLikersModalShowing&&_.createElement(N.a,{id:Object(m.b)(d,p),onClose:()=>this.setState({isLikersModalShowing:!1})}))}renderNextPostButton(){return _.createElement(c.a,{variant:"outlined",icon:"icon--chevron-right",iconAfter:!0},Object(u.b)("project_updates.Next"))}renderPreviousPostButton(){return _.createElement(c.a,{variant:"outlined",icon:"icon--chevron-left"},Object(u.b)("project_updates.Previous"))}renderNeighbors(){const{projectCreator:e,projectSlug:t,nextPostId:n,previousPostId:a}=this.props;return window.isNativeAppRequest?_.createElement("div",{className:"mt6 flex items-center"},_.createElement("div",{className:"flex1"},a&&_.createElement(o.a,{href:g.b.VIEW_POST.url(e,t,a)},this.renderPreviousPostButton())),_.createElement("div",{className:"flex1 text-right"},n&&_.createElement(o.a,{href:g.b.VIEW_POST.url(e,t,n)},this.renderNextPostButton()))):_.createElement("div",{className:"mt3 flex items-center"},_.createElement("div",{className:"flex1"},a&&_.createElement(b.b,{onClick:()=>this.setState({key:this.state.key+1}),to:g.b.VIEW_POST.url(e,t,a)},this.renderPreviousPostButton())),_.createElement("div",{className:"flex1 text-right"},n&&_.createElement(b.b,{onClick:()=>this.setState({key:this.state.key+1}),to:g.b.VIEW_POST.url(e,t,n)},this.renderNextPostButton())))}renderComments(){if(!this.props.canRead)return null;const{projectCreator:e,projectSlug:t,id:n,type:o}=this.props;return _.createElement("div",{id:"comments"},_.createElement("div",{className:"py3 py7-sm hide block-sm"},_.createElement("h4",{className:"mb3"},Object(u.b)("project_updates.Comments")),_.createElement(i.a,{commentableId:Object(m.b)(o,n),initialCommentId:this.props.commentId,nextCursor:this.props.commentCursor,previousCursor:null,first:25,last:null,config:{...a.a}})),_.createElement("div",{className:"hide-sm mt6 mb3"},_.createElement(r.b,{atoms:["block"],theme:"support",href:g.b.POST_COMMENTS.url(e,t,n)},Object(u.b)("project_updates.Leave_a_comment"))))}render(){return _.createElement(p.a,{key:this.state.key,scrollDuration:1,offset:-100},_.createElement(A.a,{renderGrid:!this.props.noLayout,gridProps:{atoms:["py6"]},colProps:{mdWidth:8,center:!0}},this.renderEditBanner(),this.renderAllPostsButton(),this.renderPost(),this.renderNeighbors(),this.renderComments()))}}const R=Object(d.a)(j.a,E.c,Object(v.a)(()=>({primaryText:Object(u.b)("new_project_update.Were_having_trouble_loading"),secondaryText:Object(u.b)("new_project_update.If_refreshing_this_page")})),k.b)(P)},b8Ld:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n("lHf8"),i=n("2DJ9"),r=n("RBqt"),o=n("94td"),s=n("/IHD"),c=n("q1tI"),l=n("1uWx");const d=({isActive:e=!1,onMouseDown:t,label:n,toolTip:d,icon:u,toolId:m,headerDropdownEnabled:p})=>{const h="h9 w100p flex justify-start",f=Object(s.a)("hover-item-fill-ksr-green-500",e&&"fill-ksr-green-500"),g=Object(s.a)("flex bold px2 py3 hover-target hover-ksr-green-500",e&&"fill-ksr-green-500");if(m===l.h.id||m===l.d.id||m===l.f.id||m===l.p.id||m===l.n.id){const n={[l.h.id]:p?{label:"rich_editor.Header_1",atoms:h,typefont:void 0,spanAtoms:["type-24"]}:{label:"rich_editor.Headline",atoms:Object(s.a)("bold hover-target p2 py1-md keyboard-focusable keyboard-focusable-ksr-green-700",e?"bg-grey-300 ksr-green-700":"soft-black"),typefont:"body-100",spanAtoms:["hover-item-ksr-green-500"]},[l.d.id]:{label:"rich_editor.Header_2",atoms:h,typefont:void 0,spanAtoms:["type-21"]},[l.f.id]:{label:"rich_editor.Header_3",atoms:h,typefont:void 0,spanAtoms:["type-18"]},[l.p.id]:{label:"rich_editor.Block_quote",atoms:h,typefont:"subhead-200",spanAtoms:["type-18-md","border-left","border-left3px","border-create-500","pl2"]},[l.n.id]:{label:"rich_editor.Normal_text",atoms:h+" create-700",typefont:"body-100",spanAtoms:[""]}}[m];return c.createElement("button",{type:"button",className:n.atoms,onMouseDown:t},c.createElement(r.a,{atoms:n.spanAtoms,type:n.typefont},Object(o.b)(n.label)))}return c.createElement("span",{className:"ksr-tooltip","data-tooltip":d},c.createElement(a.a,{color:"black",atoms:[g],onMouseDown:t,type:"button"},n||c.createElement(i.a,{atoms:[f],label:d,name:u,size:"medium"})))}},bYgN:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);n("WiXe");i()(document).ready((function(){i()(".sortable_table").tablesorter({textExtraction:function(e){var t;return void 0!==(t=i()(e).closest("td").data("table-value"))?t:e.innerHTML.replace(/[,?!\s,%$]/g,"")}})}))},btCt:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("q1tI"),i=n("U5Hm");const r=()=>{const e="object"==typeof window,[t,n]=Object(a.useState)(i.b);return Object(a.useEffect)(()=>{const t=()=>n(Object(i.b)());return e&&window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),t}},bvYH:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return g})),n.d(t,"j",(function(){return _})),n.d(t,"d",(function(){return b})),n.d(t,"e",(function(){return E})),n.d(t,"f",(function(){return j})),n.d(t,"g",(function(){return w})),n.d(t,"h",(function(){return S})),n.d(t,"i",(function(){return O})),n.d(t,"k",(function(){return N})),n.d(t,"l",(function(){return C})),n.d(t,"m",(function(){return I})),n.d(t,"p",(function(){return x})),n.d(t,"o",(function(){return T})),n.d(t,"q",(function(){return A})),n.d(t,"r",(function(){return D})),n.d(t,"s",(function(){return P})),n.d(t,"n",(function(){return R})),n.d(t,"t",(function(){return F})),n.d(t,"c",(function(){return H}));var a=n("v83y"),i=n("JPcv"),r=n("94td"),o=n("gN63"),s=n("0fse"),c=n("ijK7"),l=n("lutk"),d=n("/Jws");const u=(e,t)=>{const n=e.getCurrentContent(),r=e.getSelection(),o=a.Modifier.removeRange(n,r,"backward"),s=o.getSelectionAfter(),c=a.Modifier.splitBlock(o,s),l=c.getSelectionAfter(),d=a.Modifier.setBlockType(c,l,"atomic"),u=[new a.ContentBlock({key:Object(a.genKey)(),type:"atomic",text:" ",characterList:Object(i.List)(),data:Object(i.Map)(t)}),new a.ContentBlock({key:Object(a.genKey)(),type:"unstyled",text:"",characterList:Object(i.List)()})],m=a.BlockMapBuilder.createFromArray(u),p=a.Modifier.replaceWithFragment(d,l,m),h=p.merge({selectionBefore:r,selectionAfter:p.getSelectionAfter()});return a.EditorState.push(e,h,"insert-fragment")};var m=n("L+5T"),p=n("kKlT");const h=e=>({type:"CLOSE_IMAGE_MODAL",isDirty:e}),f=()=>({type:"CLOSE_IMAGE_SAFELY"}),g=()=>({type:"CLOSE_REMOVE_ASSET_MODAL"}),_=()=>({type:"SHOW_LOADER"}),b=()=>({type:"HIDE_LOADER"}),v=(e,t)=>({type:"IMAGE_UPLOAD_SUCCESS",id:e,src:t}),k=()=>({type:"IMAGE_UPLOAD_DELETE"}),y=()=>({type:"NOOP"}),E=()=>({type:"OPEN_CREATE_IMAGE_MODAL"}),j=e=>({type:"OPEN_EDIT_IMAGE_MODAL",block:e}),w=e=>({type:"OPEN_REMOVE_ASSET_MODAL",block:e}),S=()=>({type:"REMOVE_ASSET"}),O=()=>({type:"REMOVE_LINK"}),N=(e,t)=>({type:"SUBMIT_EMBED",response:e,embedUrl:t}),C=()=>({type:"SUBMIT_IMAGE"}),I=(e,t)=>({type:"SUBMIT_LINK",linkUrl:e,linkText:t}),x=e=>({type:"UPDATE_EDITOR_STATE",newEditorState:e}),T=e=>({type:"UPDATE_CKEDITOR_STATE",newEditorState:e}),A=e=>({type:"UPDATE_IMAGE_ALT_TEXT",altText:e}),D=e=>({type:"UPDATE_IMAGE_CAPTION",caption:e}),P=e=>({type:"UPDATE_IMAGE_CLICKTHROUGH",url:e}),R=(e,t)=>({type:"SUBMIT_VIDEO_UPLOAD",assetId:e,assetHtml:t}),F=(e,t)=>({type:"UPDATE_LINK_VALUES",linkText:e,linkUrl:t}),L=()=>new Promise((e,t)=>{M()?e():t()}),M=(e="Are you sure you want to discard your changes?")=>window.confirm(e),U=(e,t,n)=>Object(l.b)(e)(Object(o.b)(n,t)).then(y),V=e=>"IMAGE"===e?"Photo":"AUDIO"===e?"AttachedAudio":"VIDEO"===e?"AttachedVideo":null,H=Object(s.b)({story:(e=Object(m.b)({}),t)=>{const n=e.editorState.getSelection();switch(t.type){case"SET_CURRENT_MODAL":return{...e,currentModal:t.currentModal};case"UPDATE_LINK_VALUES":return{...e,linkText:t.linkText,linkUrl:t.linkUrl||null};case"CLOSE_IMAGE_MODAL":return t.isDirty?Object(s.f)(e,s.a.run(L,{successActionCreator:f,failActionCreator:y})):Object(s.f)(e,s.a.action({type:"CLOSE_IMAGE_SAFELY"}));case"CLOSE_IMAGE_SAFELY":return Object(s.f)({...e,errors:"",key:e.key+1,imageAltText:"",imageCaption:"",imageId:null,imageSrc:null,imageUrl:"",currentModal:null,subjectBlock:null},s.a.action(d.a.actions.uploadReset()));case"CLOSE_REMOVE_ASSET_MODAL":return{...e,currentModal:null,subjectBlock:null};case"SHOW_LOADER":return{...e,showLoader:!0};case"HIDE_LOADER":return{...e,showLoader:!1};case"IMAGE_UPLOAD_DELETE":return{...e,imageId:null,imageSrc:null};case"IMAGE_UPLOAD_SUCCESS":return{...e,imageId:Object(o.a)(t.id),imageSrc:t.src};case"OPEN_CREATE_IMAGE_MODAL":return Object(s.f)(e,s.a.action(d.a.actions.imageUploaderInitialize(Object(l.a)(e.attachableId,e.attachableAssoc),Object(l.b)(e.attachableId),v,k)));case"OPEN_EDIT_IMAGE_MODAL":const m=t.block.getData().get("alt")||"",h=t.block.getData().get("caption")||"",g=t.block.getData().get("href");return{...e,currentModal:"IMAGE",imageAltText:m,imageCaption:h,imageUrl:g||"",subjectBlock:t.block};case"OPEN_REMOVE_ASSET_MODAL":return{...e,currentModal:"REMOVE_ASSET",subjectBlock:t.block};case"REMOVE_ASSET":if(!e.subjectBlock)return e;const _=e.editorState.getCurrentContent(),b=e.subjectBlock.getKey(),E=e.subjectBlock.getData().get("id"),j=a.SelectionState.createEmpty(b).merge({anchorKey:_.getKeyBefore(b),anchorOffset:_.getBlockForKey(_.getKeyBefore(b)).getLength(),focusOffset:e.subjectBlock.getLength()}),w=a.EditorState.push(e.editorState,a.Modifier.removeRange(_,j,"backward"),"remove-range"),S=V(e.subjectBlock.getData().get("type"));return Object(s.f)({...e,editorState:w,key:e.key+1,currentModal:null,subjectBlock:null},S?s.a.run(U,{args:[e.attachableId,E,S]}):s.a.none);case"REMOVE_LINK":const O=Object(c.d)(e.editorState,"LINK");if(0===O.length)return e;const N=O[0],C=new a.SelectionState({anchorKey:N.blockKey,anchorOffset:N.start,focusKey:N.blockKey,focusOffset:N.end}),I=a.RichUtils.toggleLink(e.editorState,C,null);return{...e,editorState:I,showRemoveLink:!1};case"SUBMIT_EMBED":{const n=u(e.editorState,{href:t.embedUrl,rawHtml:t.response,type:"OEMBED"});return{...e,editorState:n,key:e.key+1}}case"SUBMIT_IMAGE":{if(e.imageUrl&&!Object(p.d)(Object(p.a)(e.imageUrl)))return{...e,errors:Object(r.b)("rich_editor.Please_enter_a_valid_URL")};let t;return t=e.subjectBlock?a.EditorState.set(e.editorState,{currentContent:a.Modifier.mergeBlockData(e.editorState.getCurrentContent(),a.SelectionState.createEmpty(e.subjectBlock.getKey()),Object(i.Map)({alt:e.imageAltText,caption:e.imageCaption,href:e.imageUrl}))}):u(e.editorState,{alt:e.imageAltText,caption:e.imageCaption,href:e.imageUrl,id:e.imageId,src:e.imageSrc,type:"IMAGE"}),Object(s.f)({...e,editorState:t,key:e.key+1,imageAltText:"",imageCaption:"",imageId:null,imageSrc:null,imageUrl:"",currentModal:null,subjectBlock:null},s.a.action(d.a.actions.uploadReset()))}case"SUBMIT_LINK":const x=Object(p.a)(t.linkUrl),T=Object(c.d)(e.editorState,"LINK")[0],A=e.editorState.getCurrentContent();if(T){const i=A.mergeEntityData(T.entityKey,{url:x}),r=new a.SelectionState({anchorKey:T.blockKey,anchorOffset:T.start,focusKey:T.blockKey,focusOffset:T.end}),o=a.Modifier.replaceText(i,r,t.linkText,void 0,T.entityKey),s=a.EditorState.forceSelection(a.EditorState.push(e.editorState,o,"apply-entity"),n);return{...e,editorState:s,errors:"",key:e.key+1,linkText:"",linkUrl:"",currentModal:null}}{const i=A.createEntity("LINK","MUTABLE",{url:x,target:"_blank"}),r=i.getLastCreatedEntityKey(),o=t.linkText||t.linkUrl,s=n.isCollapsed()?Object(c.h)(i,n,r,o):a.Modifier.replaceText(i,n,o,void 0,r),l=a.EditorState.push(e.editorState,s,"apply-entity"),d=a.RichUtils.toggleLink(l,n,r);return{...e,editorState:a.EditorState.forceSelection(d,n),errors:"",key:e.key+1,linkText:"",linkUrl:"",currentModal:null,showRemoveLink:!0}}case"UPDATE_EDITOR_STATE":return 1===Object(c.d)(t.newEditorState,"LINK").length?{...e,editorState:t.newEditorState,showRemoveLink:!0}:{...e,editorState:t.newEditorState,showRemoveLink:!1};case"UPDATE_CKEDITOR_STATE":return{...e,content:t.newEditorState};case"UPDATE_IMAGE_ALT_TEXT":return{...e,imageAltText:t.altText};case"UPDATE_IMAGE_CAPTION":return{...e,imageCaption:t.caption};case"UPDATE_IMAGE_CLICKTHROUGH":return{...e,errors:"",imageUrl:t.url};case"SUBMIT_VIDEO_UPLOAD":{const n=u(e.editorState,{id:Object(o.a)(t.assetId),rawHtml:t.assetHtml,type:"VIDEO"});return{...e,editorState:n,key:e.key+1}}default:return e}},imageUploader:d.a.reducer})},c48Q:function(e,t,n){"use strict";var a=n("GRmu"),i=n("0VSk"),r=n("+2Rf");n("+2Rf");!function(e){function t(t){var n=t.data("status-url");n&&e.pollster(n,(function(n){var r,o=t.data("track-label");return n.ok?(r=e(n.html),t.replaceWith(r),Object(a.a)({success:i.default.t("library.video_tracks_editor.Successfully_imported_label",{label:o})}),!0):!!n.error&&(r=e(n.html),t.replaceWith(r),Object(a.a)({error:i.default.t("library.video_tracks_editor.Something_went_wrong_while_importing_label",{label:o,error:n.error})}),!0)}),{delay:1e3})}e.fn.videoTracksEditor=function(){var n=e(this);n.on("click",".js-add-track",(function(t){var n=e(t.currentTarget),a=n.closest(".js-subtitles"),i=a.find(".js-language-select"),r=a.find(".js-track-list"),o=i.find("option:selected").val();e.ajax({method:"POST",url:n.data("create-track-path"),data:{language:o,captionable_type:n.data("captionable-type"),captionable_id:n.data("captionable-id")},dataType:"json"}).success((function(e){r.append(e.html),i.find('option[value="'+o+'"]').prop("disabled",!0),i.ksr_val(i.find("option").not("[disabled]").first().val())})),t.preventDefault()})),n.on("click",".js-captionable--destroy-track",(function(t){var n=e(t.currentTarget),a=n.closest(".js-subtitles").find(".js-language-select"),r=n.data("path");t.preventDefault(),confirm(i.default.t("library.video_tracks_editor.Are_you_sure_you_want_to_delete_this_track"))&&e.ajax({method:"DELETE",url:r}).success((function(e){var t=n.data("language");e.ok&&(a.find('option[value="'+t+'"]').prop("disabled",!1),n.closest(".js-captionable--track-item").remove())}))})),n.on("change",".js-importer--input",(function(){var n,r=e(this),o=r.closest(".js-importer"),s=r.closest(".js-captionable--track-item"),c=o.find(".js-importer--text"),l=this.files&&this.files[0],d=new FormData;l&&(r.hide(),c.text(i.default.t("library.video_tracks_editor.Uploading")),d.append("track[file]",l),(n=e.ajax({url:r.data("url"),type:"PUT",processData:!1,contentType:!1,data:d})).success((function(n){var i;n.ok?(i=e(n.html),s.replaceWith(i),t(i)):Object(a.a)({error:n.error})})),n.error((function(){Object(a.a)({error:i.default.t("library.video_tracks_editor.Something_went_wrong_while_uploading_file",{file:l.name})}),r.show()})))})),n.find(".js-captionable--track-item").each((function(){t(e(this))}))}}(r)},c5x8:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l}));var a=n("brpA"),i=n.n(a),r=n("iuhU"),o=n("9jZ4"),s=n("/IHD");function c(e,...t){if(void 0===e||e instanceof Array||"string"==typeof e){const n=Object(s.a)(...Object(s.b)([],[Object(r.b)(e)]));return Object(r.b)(...t,n)}const{atoms:n,...a}=e;return{...a,className:c(n,...t,a.className)}}function l(e,t){const n=t&&"className"in t?t.className:void 0;return"function"==typeof e?n?t=>Object(r.b)(e(t),n):e:i()(e)?e.some(e=>"function"==typeof e)?t=>Object(r.b)(...e.map(e=>"function"==typeof e?e(t):e,n)):Object(r.b)(...e,n):[e,n].every(o.d)?void 0:Object(r.b)(e,n)}},"c6/r":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("4LGs");const i={"&#39;":"'","&#96;":"`","&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#x60;":"`","&#x2F;":"/","\u2028":" ","\u2029":" "},r=e=>Object(a.a)(i,e)},c7Xp:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r}));var a=n("g84z");const i=()=>Object(a.a)(window.location.search).token,r=e=>{const t=e||{options:{}};return{...t,options:{...t.options,context:{projectShareToken:i()}}}}},cDWt:function(e,t,n){"use strict";function a(){}function i(e){if(!(this instanceof i))return new i(e);this.value=e}function r(e){if(!(this instanceof r))return new r(e);this.value=e}n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),i.prototype=new a,r.prototype=new a,i.prototype.isSuccess=!0,i.prototype.isFailure=!1,r.prototype.isSuccess=!1,r.prototype.isFailure=!0,i.prototype.toString=function(){return"Validation.Success("+this.value+")"},r.prototype.toString=function(){return"Validation.Failure("+this.value+")"},i.prototype.concat=function(e){return e},r.prototype.concat=function(e){return e.isSuccess?this:r(this.value.concat(e.value))}},cgaT:function(e,t,n){"use strict";n("Q5rT"),n("M7Yo"),n("QUFf"),n("LYY6"),n("eQoz"),n("z+4m"),n("jRr9"),n("+2Rf"),n("+2Rf")},cxMJ:function(e,t,n){"use strict";var a=n("0kxh");n.d(t,"a",(function(){return a.a}))},"d+2v":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("FiUa"),i=n("sezs"),r=n("94td"),o=n("q1tI");const s=()=>o.createElement(a.a,{variant:"green"},o.createElement(i.a,{name:"icon--locked",size:"sm",atoms:["valign-middle","inline-block"]}),Object(r.b)("secret_rewards.badge.Secret_Reward"))},d5To:function(e,t,n){"use strict";var a=n("DI+Y"),i=n("c7Xp"),r=n("lHf8"),o=n("94td"),s=n("ECYc"),c=n("qn6j"),l=n("q1tI"),d=n.n(l),u=n("qPAc"),m=n("YToL");const p=d.a.createContext();class h extends d.a.Component{constructor(...e){super(...e),this.configureContext=e=>{const{commentable:t,config:n}=e;return{createTrackingEventName:n.createTrackingEventName,pollUrl:n.pollUrlFactory(t),placeholderText:n.placeholderText,submitButtonText:n.submitButtonText,showCommentsWithoutPledges:n.showCommentsWithoutPledges,showNonBackerMessage:n.showNonBackerMessage,hideBackground:n.hideBackground,canUserRequestUpdate:t.canUserRequestUpdate,projectRelayId:t.projectRelayId}}}render(){const{children:e}=this.props;return d.a.createElement(p.Provider,{value:this.configureContext(this.props)},e)}}const f=p.Consumer;var g=n("UYTu"),_=n("CKbS");var b=g.a`
  mutation CreateComment($commentableId: ID!, $body: String!, $parentId: ID) {
    createComment(
      input: { commentableId: $commentableId, body: $body, parentId: $parentId }
    ) {
      comment {
        ...CommentInfo
        replies {
          totalCount
          nodes {
            ...CommentInfo
          }
          pageInfo {
            startCursor
            hasPreviousPage
          }
        }
      }
    }
  }
  ${_.c.commentInfo}
`,v=n("tr1H"),k=n("pj8f"),y=n("gN63"),E=n("GRmu"),j=n("2UXI"),w=n("pTxv"),S=n("L/h+"),O=n("NxQb"),N=n("uBBe"),C=n("5j0V"),I=n("6Oeb"),x=n("1OuE");var T=({restrictionReleaseDate:e})=>{const t=Object(x.b)("LL",e),n=Object(x.b)("LT",e);return d.a.createElement("div",null,e?d.a.createElement("p",{className:"text-left soft-black_50 type-14"},d.a.createElement(o.a,{i18nKey:"project_page.comments.Your_ability_to_post_comments_has_been_deactivated",date:t,time:n,guidelinesLink:d.a.createElement("a",{className:"bold text-underline soft-black",href:"/help/community"},Object(o.b)("project_page.comments.Read_our_community_guidelines"))})):d.a.createElement("p",{className:"text-left soft-black_50 type-14"},d.a.createElement(o.a,{i18nKey:"project_page.comments.Your_ability_to_post_comments_has_been_revoked",guidelinesLink:d.a.createElement("a",{className:"bold text-underline soft-black",href:"/help/community"},Object(o.b)("project_page.comments.Read_our_community_guidelines"))})))};const A=({message:e})=>d.a.createElement("p",{className:"type-12 red-500 mb0"},e);var D=({body:e,onSubmit:t,submitDisabled:n,userHasCommentingRestriction:a,restrictionReleaseDate:i,imageUrl:r,errors:s=[],onChange:c,maxLength:l=9001,autofocus:u=!1,submitButtonText:m,placeholderText:p,displayProjectUpdateRequestPrompt:h=!1,projectRelayId:f})=>{const g=s.length?"red-500":"soft-black",{selectedText:_}=window;return d.a.createElement("div",{className:`border border-${g} p3 mx2 mb2 flex items-start self-stretch bg-white`},d.a.createElement(S.a,{imageUrl:r,size:6,atoms:["shrink0"]}),d.a.createElement("div",{className:"ml3 grow1"},_&&d.a.createElement(I.a,{body:_,displayTooltip:!0}),d.a.createElement("form",{onSubmit:t},d.a.createElement("fieldset",{className:"m0 p0"},a?d.a.createElement(T,{restrictionReleaseDate:i}):d.a.createElement("textarea",{autoFocus:u,name:"comment_field",maxLength:l,rows:"3",className:"relative type-14 border-none no-outline mt1",value:e,onChange:c,placeholder:_?Object(o.b)("project_page.comments.Ask_a_question"):p})),Object(O.a)("project_update_requests")&&h&&d.a.createElement("div",{"data-test-id":"comment-pur-prompt"},d.a.createElement(N.a,{projectId:f,className:"mb3",location:C.b.comment})),d.a.createElement("div",{className:"flex items-center mb1"},d.a.createElement(w.b,{type:"submit",theme:"support",disabled:n},m),s.length>0&&d.a.createElement("div",null,[...new Set(s)].map((e,t)=>d.a.createElement(A,{message:e,key:t})))))))},P=n("UvgG");class R extends d.a.Component{constructor(e){super(e),this.state={body:"",errors:[],disabledForm:!1,displayProjectUpdateRequestPrompt:!1},this.onChange=this.onChange.bind(this),this.onSubmit=this.onSubmit.bind(this),this.onMutate=this.onMutate.bind(this),this.getMutationOptions=this.getMutationOptions.bind(this),this.lengthCheck=this.maxLengthCheck.bind(this),this.getFormattedBody=this.getFormattedBody.bind(this),this.maxLength=9001}maxLengthCheck(e){return e.length>=this.maxLength}onChange(e){const t=e.target.value;this.props.canUserRequestUpdate&&t.match(/update/i)&&this.setState({displayProjectUpdateRequestPrompt:!0}),this.lengthCheck(t)?this.setState(e=>{const t=Object(o.b)("project_page.comments.Youve_reached_maximum");return{errors:[...e.errors,t]}}):this.setState(()=>({body:t,errors:[]}))}getFormattedBody(){const e=m.a;return window.selectedText&&""!==window.selectedText?window.selectedText+e+this.state.body:this.state.body}getMutationOptions(){return{variables:{body:this.getFormattedBody(),commentableId:this.props.commentableId,parentId:this.props.parentId||null},context:{projectShareToken:Object(i.b)()},optimisticResponse:Object(P.c)(this.state,this.props),update:(e,{data:{createComment:t}})=>{const n=t.comment,a=this.props.parentId,i=e.readQuery({query:_.a,variables:{commentableId:this.props.commentableId,first:25}});if(i&&a){const t=i.commentable.comments.edges.map(e=>e.node.id===a?{...e,node:{...e.node,replies:{...e.node.replies,totalCount:e.node.replies.totalCount+1,nodes:[n,...e.node.replies.nodes]}}}:e),r={...i,commentable:{...i.commentable,comments:{...i.commentable.comments,edges:t}}};e.writeQuery({query:_.a,variables:{commentableId:this.props.commentableId,first:25},data:r})}this.props.refetch()}}}onMutate(){return this.props.mutate(this.getMutationOptions())}onSubmit(e){if(e.preventDefault(),this.setState({disabledForm:!0}),0!==this.state.body.replace(/\s/g,"").length)return this.onMutate().then(e=>{if(window.selectedText&&""!==window.selectedText){const t=Object(y.a)(e.data.createComment.comment.id);Object(j.d)("Created Comment From Project Page Claim Popover",{comment_id:t,full_text:window.selectedText})}return window.selectedText=null,this.setState(()=>({body:"",errors:[],disabledForm:!1}),this.props.onSuccess||(()=>{})),e}).catch(e=>{k.Honeybadger.notify(JSON.stringify(e),{context:{tags:v.a.PROCOMM}}),Object(E.a)({error:Object(o.b)("project_page.comments.Please_log_in_to_comment")})}).then(()=>this.props.refetch());this.setState(e=>{const t=Object(o.b)("project_page.comments.Comment_body_cant_be");return{errors:[...e.errors,t],disabledForm:!1}})}render(){return d.a.createElement(D,{onSubmit:this.onSubmit,imageUrl:this.props.me.imageUrl,commentableId:this.props.commentableId,submitDisabled:this.state.disabledForm,onChange:this.onChange,body:this.state.body,errors:this.state.errors,maxLength:this.maxLength,autofocus:!!this.props.parentId,placeholderText:this.props.placeholderText,submitButtonText:this.props.submitButtonText,displayProjectUpdateRequestPrompt:this.state.displayProjectUpdateRequestPrompt,projectRelayId:this.props.projectRelayId})}}R.defaultProps={refetch:P.h};var F=R;var L=e=>d.a.createElement(f,null,({createTrackingEventName:t,placeholderText:n,submitButtonText:a,projectRelayId:i,canUserRequestUpdate:r})=>d.a.createElement(F,Object.assign({},e,{placeholderText:n,submitButtonText:a,createTrackingEventName:t,projectRelayId:i,canUserRequestUpdate:r}))),M=Object(a.graphql)(b)(L,Object(i.a)()),U=n("fQhN");const V=({ctaText:e})=>d.a.createElement("a",{className:"bold soft-black",href:Object(P.f)()},e);var H=({loggedIn:e})=>e?d.a.createElement("p",{className:"text-center bg-grey-200 p2 type-14"},Object(o.b)("project_page.comments.Only_backers")):d.a.createElement(o.a,{i18nKey:"project_page.comments.Only_backers_login",loginLink:d.a.createElement(V,{ctaText:Object(o.b)("project_page.comments.Log_in")}),i18nTag:"p",atoms:["text-center","bg-grey-200","p2","type-14"]});var B=({me:e,commentableId:t,userCanComment:n,userCanCommentSansRestrictions:a,showNonBackerMessage:i,refetch:r})=>{const s=Object(P.g)(e);let c,l=!1,u=[];return s&&(u=e.userRestrictions.filter(e=>"commenting"==e.restriction),l=!!u.length,l&&(c=u[0].releaseAt)),a&&l?d.a.createElement(U.a,null,d.a.createElement(D,{submitDisabled:!0,submitButtonText:Object(o.b)("project_page.comments.Post_Comment"),userHasCommentingRestriction:l,restrictionReleaseDate:c,refetch:r})):!n&&i?d.a.createElement(U.a,null,d.a.createElement(H,{loggedIn:s})):d.a.createElement("div",{className:"mb2"},d.a.createElement(U.a,null,d.a.createElement(M,{commentableId:t,me:e,refetch:r})))};var $=e=>d.a.createElement(f,null,({showNonBackerMessage:t})=>d.a.createElement(B,Object.assign({},e,{showNonBackerMessage:t}))),q=n("daZV"),Y=n("Sdzn"),z=n("arGM"),G=n("MgNI"),K=n("TIPN"),W=n("g84z"),J=n("VJVG"),X=n("2DJ9");var Z=({body:e,removedPerGuidelines:t})=>{const n=`<a href='/help/community'>${Object(o.b)("project_page.comments.Kickstarters_Community_Guidelines")}</a>`;return d.a.createElement("div",{className:"border-box flex bg-white break-word border border-grey-400 px3 pt3"},d.a.createElement(X.a,{name:"info",size:"16",atoms:["fill-dark-grey-500","mr1","relative","t3px"]}),t?d.a.createElement("p",{className:"link-guidelines-dark-grey-500",dangerouslySetInnerHTML:{__html:e.replace("%{guidelines_link}",n)}}):d.a.createElement("p",{className:"dark-grey-500"},e))};class Q extends l.Component{constructor(e){super(e),this.setInitialVisibleState=(e=!1,t=!1,n=!1,a=!1,i=!1)=>!i&&(t||a||!e&&!n),this.setRef=e=>{this.commentRef=e},this.scrollToComment=()=>{const e=G.maybe.fromNullable(Object(W.a)(window.location.search)).map(e=>e.comment).getOrElse(null);null!=this.commentRef&&e===this.props.id&&Object(K.e)({element:this.commentRef})},this.state={visible:this.setInitialVisibleState(this.props.deletedAuthor,this.props.deleted,this.props.authorCanceledPledge,this.props.showCommentsWithoutPledges,this.props.removedPerGuidelines)}}showNothing(){return(this.props.authorCanceledPledge||this.props.deletedAuthor)&&!this.props.parentId&&!this.props.hasReplies&&!this.props.showCommentsWithoutPledges}componentDidMount(){this.scrollToComment()}render(){return this.showNothing()?null:this.state.visible?d.a.createElement(J.a,{id:this.props.id,body:this.props.body,author:this.props.author,authorBacking:this.props.authorBacking,me:this.props.me,createdAt:this.props.createdAt,authorBadges:this.props.authorBadges,canReport:this.props.canReport,canDelete:this.props.canDelete,canPin:this.props.canPin,hasFlaggings:this.props.hasFlaggings,sustained:this.props.sustained,deleted:this.props.deleted,deletedAuthor:this.props.deletedAuthor,pinnedAt:this.props.pinnedAt,parentId:this.props.parentId,isActive:this.props.isActive,commentPath:this.props.commentPath,setRef:this.setRef,refetch:this.props.refetch},this.props.children):d.a.createElement(Z,{body:this.props.body,removedPerGuidelines:this.props.removedPerGuidelines})}}var ee=Q;var te=e=>d.a.createElement(f,null,({showCommentsWithoutPledges:t,hideBackground:n})=>d.a.createElement(ee,Object.assign({},e,{hideBackground:n,showCommentsWithoutPledges:t})));var ne=({comments:e,me:t})=>d.a.createElement("ul",null,Object(P.k)(e).map(e=>(e={...e,commentPath:Object(z.c)({comment:e.parentId,reply:e.id})},d.a.createElement("li",{key:e.id,className:"mb2"},d.a.createElement(te,Object.assign({},e,{me:t}))))));var ae=({commentId:e,isActive:t=!1,activateForm:n,deactivateForm:a})=>{const i=t?"ksr-green-700":"soft-black";return d.a.createElement("button",{className:"mr1",onClick:()=>{t?a():(Object(s.a)(c.a.INCREMENT,m.d.REPLY_FORM_OPENED),n(e))}},d.a.createElement(X.a,{size:"16",atoms:["fill-"+i],name:"icon--reply"}))};var ie=({commentId:e,commentAuthor:t={},activateForm:n})=>d.a.createElement(w.c,{theme:"support",size:"medium",atoms:["w100p"],onClick:()=>{Object(s.a)(c.a.INCREMENT,m.d.REPLY_FORM_OPENED),n(e)}},Object(o.b)("project_page.comments.Reply_to_user",{name:t.name}));var re=({me:e,commentableId:t,activateForm:n,deactivateForm:a,userCanComment:i,activeThreadId:r,comment:o,client:s,repliesLoading:c,toggleRepliesLoading:u,commentPath:p,refetch:h})=>{const{id:f,body:g,author:b,createdAt:v,canReport:k,canDelete:y,canPin:E,hasFlaggings:j,sustained:w,deletedAuthor:S,deleted:O,pinnedAt:N,authorCanceledPledge:C,authorBacking:I,authorBadges:x,removedPerGuidelines:T}=o,[A,D]=Object(l.useState)(o.replies);Object(l.useEffect)(()=>{D(o.replies)},[o]);const R=Object(P.b)(s,_.b,f)(c,u,P.i,P.j)(A),F=f===r,L=!!A.nodes&&A.nodes.length>0,V=O||S;return d.a.createElement(l.Fragment,null,d.a.createElement(te,{body:g,author:b,me:e,createdAt:v,authorCanceledPledge:C,authorBacking:I,authorBadges:x,canReport:k,canDelete:y,canPin:E,hasFlaggings:j,sustained:w,deletedAuthor:S,deleted:O,pinnedAt:N,id:f,isActive:F,commentPath:p,hasReplies:L,refetch:h,commentableId:t,removedPerGuidelines:T},i&&!V&&!b.isBlocked&&d.a.createElement(U.a,null,d.a.createElement(ae,{isActive:F,activateForm:n,deactivateForm:a,commentId:f}))),(L||F)&&d.a.createElement("div",{className:"pl6 pt2 theme--support"},L&&d.a.createElement(U.a,null,d.a.createElement(q.a,{buttonI18nKey:"project_page.comments.Load_previous",remainingI18nKey:"project_page.comments.Replies_remaining",totalCount:R.totalCount,showingCount:R.showingCount,pageSize:m.c.REPLIES,onClick:async()=>{const e=await R.onClick();D(e)},loading:R.loadingStatus,hasMorePages:R.hasMorePages,atoms:["mb2"]})),L&&d.a.createElement(U.a,null,d.a.createElement(ne,{comments:A.nodes,me:e})),F?i&&d.a.createElement(U.a,null,d.a.createElement(M,{me:e,commentableId:t,parentId:f,onSuccess:a,replyCursor:A.pageInfo.startCursor})):i&&L&&!V&&!b.isBlocked&&d.a.createElement(U.a,null,d.a.createElement(ie,{activateForm:n,commentAuthor:b,commentId:f}))))};class oe extends l.Component{constructor(e){super(e),this.toggleRepliesLoading=()=>{this.setState(e=>({repliesLoading:!e.repliesLoading}))},this.state={repliesLoading:!1}}render(){return d.a.createElement(re,{me:this.props.me,commentableId:this.props.commentableId,activateForm:this.props.activateForm,deactivateForm:this.props.deactivateForm,activeThreadId:this.props.activeThreadId,userCanComment:this.props.userCanComment,comment:this.props.comment,client:this.props.client,repliesLoading:this.state.repliesLoading,toggleRepliesLoading:this.toggleRepliesLoading,commentPath:this.props.commentPath,refetch:this.props.refetch})}}var se=oe;var ce=e=>d.a.createElement(f,null,()=>d.a.createElement(se,e)),le=Object(a.withApollo)(ce),de=n("/IHD");const ue=({comments:e,commentableId:t,activateForm:n,deactivateForm:a,activeThreadId:i,userCanComment:r,me:o,hideBackground:s,refetch:c})=>{const l=Object(de.a)(!s&&"bg-grey-100 border border-grey-400","p2 mb3");return d.a.createElement("ul",{className:l},e.map((s,l)=>{const u=Object(z.c)({comment:s.node.id});return d.a.createElement("li",{key:s.node.id,className:""+(Object(Y.a)(e,l)?"":"mb2")},d.a.createElement(U.a,null,d.a.createElement(le,{me:o,commentableId:t,activateForm:n,deactivateForm:a,activeThreadId:i,userCanComment:r,comment:s.node,commentPath:u,refetch:c})))}))},me=e=>d.a.createElement(f,null,({hideBackground:t})=>d.a.createElement(ue,Object.assign({hideBackground:t},e)));var pe=n("egyr");class he extends d.a.Component{constructor(e){super(e),this._normalizeCommentableData=({commentsCount:e})=>({commentable:{commentsCount:e}}),this.poll=()=>{if(window.device_attributes.isBot)return null;const e=setInterval(()=>{fetch(this.props.pollUrl).then(e=>e.json()).then(({project:e})=>{this.setState(()=>({data:this._normalizeCommentableData({commentsCount:e.comments_for_display_count})}))})},5e3);this.setState(()=>({intervalId:e}))},this.getNewComments=(e,t)=>{const n=()=>this.setState(()=>({loading:!1}));this.setState(()=>({loading:!0}),()=>{e({commentableId:t}).then(n,n).catch(e=>{k.Honeybadger.notify(`Refetch Error: ${JSON.stringify(e)}; keys: ${Object.keys(e).join(", ")}`,{context:{tags:v.a.PROCOMM}})})})},this.messageOrSpinner=(e,t)=>e?d.a.createElement(pe.a,null):d.a.createElement(o.a,{i18nKey:"project_page.comments.Show_new_comments",count:t}),this.state={pollId:null,intervalId:null,loading:!1,data:{commentable:{commentsCount:null}}}}componentDidMount(){if(!this.state.pollId){const e=setTimeout(this.poll.bind(this),1);this.setState(()=>({pollId:e}))}}componentWillUnmount(){clearTimeout(this.state.pollId),clearTimeout(this.state.intervalId)}render(){const{currentCount:e,refetch:t,commentableId:n}=this.props,a=this.state.data.commentable;if(!a||!a.commentsCount)return null;const i=a.commentsCount;return i>e?d.a.createElement("div",{className:"px2 mb2"},d.a.createElement(w.b,{onClick:()=>this.getNewComments(t,n),fullWidth:!0,theme:"trust"},this.messageOrSpinner(this.state.loading,i-e))):null}}var fe=he;var ge=({currentCount:e,refetch:t,commentableId:n})=>d.a.createElement(f,null,({pollUrl:a})=>d.a.createElement(d.a.Fragment,null,a&&d.a.createElement(fe,{currentCount:e,refetch:t,pollUrl:a,commentableId:n})));var _e=({comments:e,commentableId:t,activateForm:n,deactivateForm:a,activeThreadId:i,userCanComment:r,me:o,pagination:s,refetch:c})=>{if(!e)return null;const{nextPage:u,previousPage:p}=s,h=Object(P.l)(e);return d.a.createElement(l.Fragment,null,p.hasMorePages?d.a.createElement(U.a,null,d.a.createElement("div",{className:"mb2 theme--trust"},d.a.createElement(q.a,{kind:"primary",buttonI18nKey:"project_page.comments.Load_previous_root",remainingI18nKey:"project_page.comments.Comments_remaining",totalCount:p.totalCount,showingCount:p.showingCount,showPageCount:!1,pageSize:m.c.COMMENTS,onClick:p.onClick,loading:p.loadingStatus,hasMorePages:p.hasMorePages}))):d.a.createElement(U.a,null,d.a.createElement(ge,{currentCount:s.nextPage.totalCount,refetch:c,commentableId:t})),d.a.createElement(me,{activateForm:n,deactivateForm:a,activeThreadId:i,userCanComment:r,me:o,comments:h,commentableId:t,refetch:()=>c(t)}),d.a.createElement(U.a,null,d.a.createElement(q.a,{buttonI18nKey:"project_page.comments.Load_more",remainingI18nKey:"project_page.comments.Comments_remaining",totalCount:u.totalCount,showingCount:u.showingCount,pageSize:m.c.COMMENTS,onClick:u.onClick,loading:u.loadingStatus,hasMorePages:u.hasMorePages,atoms:["theme--support"]})))};class be extends d.a.Component{constructor(e){super(e),this.state={activeThreadId:e.initialCommentId||"",flaggingModalOpen:!1,flaggingCommentId:null},this.activateForm=this.activateForm.bind(this),this.deactivateForm=this.deactivateForm.bind(this)}activateForm(e){this.setState(()=>({activeThreadId:e}))}deactivateForm(){this.setState(()=>({activeThreadId:""}))}render(){return d.a.createElement(_e,{comments:this.props.comments,me:this.props.me,commentableId:this.props.commentableId,activeThreadId:this.state.activeThreadId,activateForm:this.activateForm,deactivateForm:this.deactivateForm,userCanComment:this.props.userCanComment,loadOlderStartCursor:this.props.loadOlderStartCursor,pagination:this.props.pagination,refetch:this.props.refetch})}}var ve=be;var ke=()=>d.a.createElement("p",{className:"text-center bg-grey-200 p2 type-12 border border-red-500 radius2px red-500 bold"},Object(o.b)("onloads.views.comments.list.Sorry_we_couldnt_load_comments_just_now"));var ye=()=>d.a.createElement("div",{className:"text-center"},d.a.createElement(X.a,{name:"icon--circle-loader",size:"large"}));var Ee=({currentCount:e,refetch:t,commentableId:n})=>d.a.createElement(l.Fragment,null,d.a.createElement(U.a,null,d.a.createElement(ge,{currentCount:e,refetch:t,commentableId:n})),d.a.createElement("div",{className:"px5 py8 mt2 bg-grey-100 flex justify-center items-center"},d.a.createElement(X.a,{name:"icon--message",size:"medium",atoms:["fill-dark-grey-400"]}),d.a.createElement("span",{className:"ml2 dark-grey-400"},Object(o.b)("project_page.comments.No_comments_yet"))));class je extends l.Component{constructor(...e){super(...e),this.loadNextPageProps=e=>({onClick:()=>{this.getPage(e.fetchMore,e.commentable.comments.pageInfo.endCursor)},loadingStatus:e.loading,totalCount:e.commentable.commentsCount,showingCount:e.commentable.comments.edges.length,hasMorePages:e.commentable.comments.pageInfo.hasNextPage}),this.loadPreviousPageProps=e=>({onClick:()=>{this.getPage(e.fetchMore,e.commentable.comments.pageInfo.startCursor,!1)},loadingStatus:e.loading,totalCount:e.commentable.commentsCount,showingCount:e.commentable.comments.edges.length,hasMorePages:e.commentable.comments.pageInfo.hasPreviousPage}),this.paginationProps=e=>({nextPage:this.loadNextPageProps(e),previousPage:this.loadPreviousPageProps(e)}),this.getPage=(e,t,n=!0)=>{const a=Date.now();return Object(s.a)(c.a.INCREMENT,m.d.LOAD_MORE_COMMENTS),e({variables:n?{nextCursor:t,previousCursor:null,first:25,last:null}:{nextCursor:null,previousCursor:t,first:null,last:25},updateQuery:Object(P.a)(n)}).then(()=>{Object(s.a)(c.a.TIME,m.d.LOAD_MORE_COMMENTS_TIME,Date.now()-a)})}}render(){const{data:e,commentableId:t,initialCommentId:n,config:a}=this.props;if(e.loading&&!e.commentable)return d.a.createElement(ye,null);if(e.error)return d.a.createElement(ke,null);const i=e.me||{},s=!!e.commentable.comments.edges.length,c=e.commentable.canComment,u=e.commentable.canCommentSansRestrictions,m=e.commentable.comments.pageInfo.hasPreviousPage;return d.a.createElement(l.Fragment,null,d.a.createElement(h,{commentable:e.commentable,config:a},m?d.a.createElement(r.a,{type:"link",href:Object(P.e)(),color:"soft-black",atoms:["text-center","block","text-underline","py3","bg-white"]},c?Object(o.b)("project_page.comments.Post_a_new_comment"):Object(o.b)("project_page.comments.Back_to_the_top")):d.a.createElement($,{me:i,commentableId:t,commentableUrl:e.commentable.url,userCanComment:c,userCanCommentSansRestrictions:u,refetch:e.refetch}),s?d.a.createElement(U.a,{fallbackRender:()=>d.a.createElement(ke,null)},d.a.createElement(ve,{commentableId:t,initialCommentId:n,comments:e.commentable.comments.edges,userCanComment:c,me:i,pagination:this.paginationProps(e),refetch:e.refetch})):d.a.createElement(U.a,null,d.a.createElement(Ee,{refetch:e.refetch,currentCount:e.commentable.commentsCount,commentableId:t}))))}}je.defaultProps={config:u.a};var we=je;const Se=Object(a.graphql)(_.a,Object(i.a)({options:({nextCursor:e,previousCursor:t,commentableId:n,first:a,last:i})=>({notifyOnNetworkStatusChange:!0,variables:{commentableId:n,replyCursor:null,nextCursor:e,first:a,last:i,previousCursor:t}})}))(we);t.a=Se},d72c:function(e,t,n){"use strict";t.a='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M8.46513 9.87681C8.07461 9.48629 7.44144 9.48629 7.05092 9.87681L4.92862 11.9991C2.976 13.9517 2.976 17.1176 4.92862 19.0702C6.88124 21.0228 10.0471 21.0228 11.9997 19.0702L14.122 16.9479C14.5125 16.5574 14.5125 15.9242 14.122 15.5337C13.7315 15.1431 13.0983 15.1431 12.7078 15.5337L10.5855 17.656C9.41391 18.8275 7.51441 18.8275 6.34284 17.656C5.17126 16.4844 5.17126 14.5849 6.34284 13.4133L8.46513 11.291C8.85566 10.9005 8.85566 10.2673 8.46513 9.87681Z" fill="#3C3C3C"/>\n<path fill-rule="evenodd" clip-rule="evenodd" d="M15.5348 14.1213C15.9253 14.5118 16.5585 14.5118 16.949 14.1213L19.0713 11.999C21.0239 10.0464 21.0239 6.88056 19.0713 4.92794C17.1187 2.97532 13.9529 2.97532 12.0002 4.92794L9.87794 7.05023C9.48742 7.44076 9.48741 8.07392 9.87794 8.46445C10.2685 8.85497 10.9016 8.85497 11.2922 8.46445L13.4145 6.34215C14.586 5.17058 16.4855 5.17058 17.6571 6.34215C18.8287 7.51372 18.8287 9.41322 17.6571 10.5848L15.5348 12.7071C15.1443 13.0976 15.1443 13.7308 15.5348 14.1213Z" fill="#3C3C3C"/>\n<path d="M14.8281 7.75592C15.2186 7.3654 15.8517 7.3654 16.2423 7.75592C16.6328 8.14645 16.6328 8.77961 16.2423 9.17014L9.1712 16.2412C8.78068 16.6317 8.14751 16.6317 7.75699 16.2412C7.36646 15.8507 7.36646 15.2175 7.75699 14.827L14.8281 7.75592Z" fill="#3C3C3C"/>\n</svg>\n'},d8sA:function(e,t,n){"use strict";n.d(t,"d",(function(){return f})),n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return v})),n.d(t,"c",(function(){return y}));var a=n("n+nq"),i=n("94td"),r=n("fAGL"),o=n("eEls"),s=n("PhMr"),c=n("4+Ta"),l=(n("GRmu"),n("2UXI")),d=n("mm3F"),u=n("0fse"),m=n("poNw"),p=n("qYa2");Object(i.b)("library.ksr_json.Sorry_something_went_wrong_Weve_been_notified_and_are_looking");const{noopAction:h}=d,f=e=>(t=Object(m.a)(),n,a=d)=>{var s;let l;switch(n.namespace&&(a=Object(c.b)(n.namespace)(a)),n.type){case"CLOSE_DELETE_ASSET_MODAL":return{...t,isShowingDeleteAssetModal:!1};case"DELETE_ASSET":return Object(u.f)({...t,isDeleting:!0,isDisabled:!0,isShowingDeleteAssetModal:!1},u.a.list([u.a.run(t.effects.destroy,{args:[null==t||null===(s=t.asset)||void 0===s?void 0:s.id],successActionCreator:o.b,failActionCreator:o.b}),u.a.run(k,{args:["Deleted",e]}),u.a.run(t.effects.onDelete,{successActionCreator:o.b,failActionCreator:o.b})],{batch:!0}));case"FILE_DRAG_ENDED":return l=t.activeDragCounter-1,{...t,activeDragCounter:l};case"FILE_DRAG_STARTED":return l=t.activeDragCounter+1,{...t,activeDragCounter:l};case"HYDRATE_ASSET":const c=n.asset,d=c.status,f="PROCESSING"===d?u.a.action(a.uploadProcessingStart(c.id,n.currentDate)):u.a.none;return Object(u.f)({...t,uploaderStatus:d,asset:c},f);case"OPEN_DELETE_ASSET_MODAL":return{...t,isShowingDeleteAssetModal:!0};case"RELOAD_ASSET":return"PROCESSING"===t.uploaderStatus?Object(u.f)(t,u.a.run(t.effects.read,{args:[n.assetId,t.imageAssetWidth],successActionCreator:o.b,failActionCreator:o.b})):t;case"UPDATE_UPLOAD_PROGRESS":return{...t,progress:n.progress};case"UPLOAD_FILE_FAILURE":return Object(u.f)({...t,uploaderStatus:"FAILED"},u.a.list([u.a.run(r.b),u.a.run(k,{args:["Failed Upload",e]})],{batch:!0}));case"UPLOAD_FILE_START":const{file:g,uploadLimit:b}=n,v=Object(p.b)(g,b);return v&&v.length>0?{...t,errors:v,uploaderStatus:"INVALID"}:Object(u.f)({...Object(m.a)(),effects:t.effects,uploaderStatus:"UPLOADING"},u.a.list([u.a.run(y,{args:[n.file],successActionCreator:a.setImageAssetWidth,failActionCreator:h}),u.a.run(_,{args:[n.file,n.dispatch,a],successActionCreator:o.b,failActionCreator:o.b}),u.a.run(r.a,{args:[Object(i.b)("uploaders.Leaving_the_page")]})],{batch:!0}));case"SET_IMAGE_ASSET_WIDTH":return{...t,imageAssetWidth:n.width};case"UPLOAD_FILE_SUCCESS":return Object(u.f)(t,u.a.list([u.a.run(t.effects.create,{args:[n.s3Params],successActionCreator:o.b,failActionCreator:o.b}),u.a.run(r.b)],{batch:!0}));case"UPLOAD_INITIALIZE":const{effects:E}=t;return{...t,effects:{...E,...n.effects}};case"UPLOAD_PROCESSING_START":return Object(u.f)({...t,uploaderStatus:"PROCESSING",uploadedAt:n.uploadedAt},u.a.action(a.reloadAsset(n.assetId)));case"UPLOAD_SUCCESS":return Object(u.f)({...t,uploaderStatus:"SUCCESSFUL",asset:n.asset},u.a.list([u.a.run(k,{args:["Uploaded",e]}),u.a.run(t.effects.onSuccess,{args:[n.asset.id,n.asset.url],successActionCreator:o.b,failActionCreator:o.b})],{batch:!0}));case"UPLOAD_RESET":return{...Object(m.a)(),effects:t.effects};default:return t}},g=e=>{var t,n,i;const r=window.current_project?new URLSearchParams({pid:null===(t=window.current_project.data)||void 0===t?void 0:t.id,uid:null===(n=window.current_project.data)||void 0===n||null===(i=n.creator)||void 0===i?void 0:i.id}):"";return fetch("/assets/s3_upload_params?"+r,{method:"GET",credentials:"same-origin",headers:{"Content-Type":"application/json","X-CSRF-Token":Object(a.b)(document)}}).then(e=>200==e.status?Promise.resolve(e):Promise.reject(new Error(e.statusText))).then(Object(s.a)("json")).catch(()=>null==e?void 0:e.uploadFileFailure())},_=(e,t,n)=>b(n).then(({params:a,s3_upload_url:i})=>{const r=v(e,a);return Object(p.c)(i,a.key,e,r,((e,t)=>()=>{e(t.uploadFileFailure())})(t,n),((e,t)=>({s3Key:n,fileName:a,contentType:i,updatedAt:r,fileSize:o})=>{e(t.uploadFileSuccess({s3Key:n,fileName:encodeURIComponent(a),contentType:i,updatedAt:r,fileSize:o}))})(t,n),((e,t)=>n=>{e(t.updateUploadProgress(n))})(t,n))}).then(h).catch(()=>n.uploadFileFailure()),b=e=>window.s3_upload?Promise.resolve({params:JSON.parse(s3_upload.params),s3_upload_url:s3_upload.url}):g(e),v=(e,t)=>{const n=new FormData;return Object.keys(t).forEach(e=>{n.append(e,t[e])}),n.append("file",e),n},k=(e,t,n={})=>{const a=[e,t].join(" ");Object(l.d)(a,n)},y=e=>new Promise((t,n)=>{/image\//.test(e.type)||n();const a=URL.createObjectURL(e),i=new Image;i.onload=()=>{URL.revokeObjectURL(a),t(i.width)},i.src=a})},dDCb:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("X+my"),i=n("q1tI"),r=n.n(i);const o=({theme:e=a.a,isSelected:t,onClick:n})=>{const i=["block","radius100p","h3","mr1","mr3-md","w3",t?"bg-"+e["primary-light"]:"bg-white"].join(" "),o=["inset 0 1px 3px rgba(0, 0, 0, 0.2)","inset 0 0 0 1px rgba(0, 0, 0, 0.2)"].join(", ");return r.a.createElement("div",{className:i,onClick:n,role:n&&"button",style:{boxShadow:o}},t&&r.a.createElement("div",{className:"bg-white h1 w1 radius100p inline-block m1"}))}},dIzW:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return p})),n.d(t,"h",(function(){return h})),n.d(t,"i",(function(){return f}));var a=n("88ec"),i=n("mq2H"),r=n("uoVB"),o=n("2UXI");const s=e=>{var t,n,a,o;let s,c={},l=JSON.parse((null===(t=e.target.closest("li"))||void 0===t||null===(n=t.dataset)||void 0===n?void 0:n.reward)||null);const d=null===(a=e.target.closest("li"))||void 0===a||null===(o=a.dataset)||void 0===o?void 0:o.rewardId;if(l)s={reward_data:l};else if(d){var u;s=null===(u=window.rewards)||void 0===u?void 0:u.filter(e=>e.reward_data.id===+d)[0]}if(s){const e=Object(r.c)(s);c=Object(i.g)(e)}Object(i.n)(i.d.CTA_CLICKED,{context_cta:i.c.PLEDGE_SUBMIT,context_type:i.a.APPLE_PAY},{...c,checkout_payment_type:i.a.APPLE_PAY})},c=()=>{Object(o.d)("Canceled Apple Pay Sheet",{context:Object(a.a)(window.location.pathname)})},l=({type:e})=>{Object(o.d)("Apple Pay Kickstarter Errored",{type:e,context:Object(a.a)(window.location.pathname)}),Object(o.d)("Errored Apple Pay Kickstarter",{type:e,context:Object(a.a)(window.location.pathname)})},d=({type:e})=>{Object(o.d)("Apple Pay Errored Reward Continue",{type:e,context:Object(a.a)(window.location.pathname)})},u=()=>{Object(o.d)("Apple Pay Shipping Selection Errored",{context:Object(a.a)(window.location.pathname)})},m=({type:e})=>{Object(o.d)("Apple Pay Stripe Token Errored",{type:e,context:Object(a.a)(window.location.pathname)}),Object(o.d)("Errored Apple Pay Stripe Token",{type:e,context:Object(a.a)(window.location.pathname)})},p=()=>{Object(o.d)("Showed Apple Pay Buttons",{context:Object(a.a)(window.location.pathname)})},h=()=>{Object(o.d)("Apple Pay Show Sheet",{context:Object(a.a)(window.location.pathname)}),Object(o.d)("Showed Apple Pay Sheet",{context:Object(a.a)(window.location.pathname)})},f=()=>{Object(o.d)("Apple Pay Stripe Token Created",{context:Object(a.a)(window.location.pathname)}),Object(o.d)("Created Apple Pay Stripe Token",{context:Object(a.a)(window.location.pathname)})}},dPds:function(e,t,n){"use strict";var a=n("7v8y");n.d(t,"a",(function(){return a.a})),n.d(t,"b",(function(){return a.b}))},dSmG:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("xG9w"),o=n("CjI4"),s=n("h4vE"),c=n("SKdt"),l=n("SmhT"),d=n("DQv1");Object(s.a)("#NS_discover__locations",(function(e){var t,n,a,s,u,m,p,h=e.find("form"),f=h.find("input");function g(e){var t;t=i()(Object(d.a)("discover/_location_li",e)),a.empty(),n.children("li:not(:first-child)").remove(),n.append(t),s.find(".ksr-green-500").removeClass("ksr-green-500").addClass("black"),t.find("a").addClass("ksr-green-500").removeClass("black"),i()(document).trigger("discovery:locations:updated",e),i()(document).trigger("discovery:locations:changed",e),m&&m.abort(),m=i.a.ajax({url:e.urls.web.location,dataType:"json",success:function(e){a.children().remove(),r.default.each(e.nearby_locations,(function(e){a.append(Object(d.a)("discover/_location_li",e))})),n.children("li:not(:first-child)").remove(),r.default.each(e.ancestor_locations.reverse(),(function(e){n.append(Object(d.a)("discover/_location_li",e))})),n.append(t),i()(document).trigger("discovery:locations:updated",e)},complete:function(){m=!1}})}t=h.find(".js-results"),n=e.find(".js-broader-locations ul"),a=e.find(".js-nearby-locations ul"),s=e.find(".js-broader-locations ul, .js-nearby-locations ul"),h.on("submit",(function(e){e.preventDefault()})),s.on("click","li > a",(function(t){var n=i()(this),a=n.closest("li").data("location")||{};s.find(".ksr-green-500").removeClass("ksr-green-500").addClass("black"),n.addClass("ksr-green-500").removeClass("black"),i()(document).trigger("discovery:locations:changed",a),e.trigger("ksr_popover:close"),t.preventDefault()})),f.on("blur",(function(){setTimeout((function(){t.addClass("display-none").removeClass("block")}),500)})),f.on("cut paste input keydown",(function(e){e.keyCode===l.d?(i()(this).val(""),t.addClass("display-none").removeClass("block")):-1===r.default.indexOf(l.j,e.keyCode)&&function(){u&&u.abort();h.addClass("loading"),clearTimeout(p),p=setTimeout((function(){u=i.a.ajax({url:h.attr("action"),dataType:"json",data:h.serialize(),success:function(e){t.removeClass("display-none").addClass("block"),t.empty(),r.default.each(e.locations,(function(e){t.append(Object(d.a)("discover/_search_location_li",e))}))},complete:function(){h.removeClass("loading"),u=!1}})}),500)}()})),e.on("ksr_popover:opened",(function(){c.a["not-touchable"]&&f.focus()})),e.find(".current_location, .js-current_location").on("click",(function(e){e.preventDefault(),g(o.a.get()),f.val("")})),t.on("click","li > a",(function(e){g(i()(this).closest("li").data("location")||{}),t.addClass("display-none").removeClass("block"),e.preventDefault()})),i()(document).on("discovery:sentence:changed",(function(t,n){e.find(".ksr-green-500").removeClass("ksr-green-500").addClass("black"),n.woe_id&&parseInt(n.woe_id,10)>0?e.find("#location_"+n.woe_id+" a").addClass("ksr-green-500").removeClass("black"):e.find("li:first a").addClass("ksr-green-500").removeClass("black")})),i()(document).on("discovery:locations:load_sample",(function(e,t){t.location&&g(t.location),e.preventDefault()}))}))},dTnv:function(e,t,n){"use strict";n.r(t),n.d(t,"ExperimentalCreatorBioWrapper",(function(){return A})),n.d(t,"combinedReducers",(function(){return D})),n.d(t,"combinedInitialState",(function(){return P})),n.d(t,"experimentalCreatorBioInit",(function(){return M})),n.d(t,"ConnectedExperimentalCreatorBioWrapper",(function(){return U})),n.d(t,"renderCreatorBio",(function(){return V}));var a=n("WSTq"),i=n("94td"),r=n("CMmH"),o=n("NxQb"),s=n("z+X6"),c=n("HgY4"),l=n("heyD"),d=n("iN0+"),u=n("kB8A"),m=n("3+Df"),p=n("D+F0"),h=n("MqPi"),f=n("sSbI"),g=n("q1tI"),_=n.n(g),b=n("i8i4"),v=n.n(b),k=n("/MKj"),y=n("0fse"),E=n("A6sV"),j=n("dutg"),w=n("gN63");n("VX74"),n("DE4Y");const S={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CreatorSection"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"me"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"isEmailVerified"}},{kind:"Field",name:{kind:"Name",value:"email"}}]}},{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"verifiedIdentity"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"imageUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"100"}}]},{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"lastLogin"}},{kind:"Field",name:{kind:"Name",value:"biography"}},{kind:"Field",name:{kind:"Name",value:"isFacebookConnected"}},{kind:"Field",name:{kind:"Name",value:"allowsFollows"}},{kind:"Field",name:{kind:"Name",value:"backingsCount"}},{kind:"Field",name:{kind:"Name",value:"location"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayableName"}}]}},{kind:"Field",name:{kind:"Name",value:"launchedProjects"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}},{kind:"Field",name:{kind:"Name",value:"websites"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"domain"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"collaborators"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"imageUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"200"}}]},{kind:"Field",name:{kind:"Name",value:"url"}}]}},{kind:"Field",name:{kind:"Name",value:"title"}}]}}]}}]}}]}}]};const O=(e,t)=>Object(w.c)(S,{slug:e},{projectShareToken:t}),N={me:null,project:{id:"",verifiedIdentity:null,creator:{id:"",name:"",imageUrl:"",url:"",lastLogin:null,biography:"",isFacebookConnected:!1,allowsFollows:!1,backingsCount:0,location:{displayableName:""},launchedProjects:{totalCount:0},websites:[]},collaborators:{edges:[]}}},C=e=>{const{creator:{imageUrl:t,name:n,biography:a},onClick:r}=e;return _.a.createElement(_.a.Fragment,null,_.a.createElement("div",{className:"hide block-md z2 flex w75p items-center justify-center"},_.a.createElement("button",{className:"mb6 no-outline",onClick:r,tabIndex:"-1"},_.a.createElement("img",{className:"do-not-visually-track hide block-md absolute radius100p bg-grey-400 w12 h12 shrink0 z1",src:t,alt:n}))),_.a.createElement("button",{onClick:r,className:"hide block-md relative w100p border border-grey-400 p3 pt9 mb6 type-14 keyboard-focusable-soft-black"},_.a.createElement("div",{className:"do-not-visually-track text-left type-16 bold clip text-ellipsis"},n),_.a.createElement("div",{className:"text-left mb3"},_.a.createElement(j.a,{creator:e.creator})),a&&_.a.createElement("div",{className:"text-left"},((e,t=140)=>{if(!e||e.length<=t)return e;const n=((e,t)=>{let n=!1;return e.split(" ").reduce((e,a)=>n?e:e.length+a.length>t?(n=!0,e):e.concat(a).concat(" "),"").replace(/\s$/,"")})(e,t),a=n.slice(-1);return"."===a?n:/\W/.test(a)?n.slice(0,-1).concat("..."):n.concat("...")})(a),_.a.createElement("span",{className:"pl1"},_.a.createElement("span",{className:"green-700 type-14"},Object(i.b)("project_page.creator_bio.See_more"))))))},I=({state:e,dispatch:t,onClose:n})=>{const{me:r,project:{id:o,creator:s,verifiedIdentity:u,collaborators:h}}=e.creatorSectionReducer,f=F().last,g=e.projectModalReducer.modalType,b={[m.a.CREATOR_BIO]:{title:Object(i.b)("project_page.creator_bio.About_the_creator"),body:_.a.createElement(c.a,{creator:s,verifiedIdentity:u,collaborators:h.edges,onMessageCreatorClick:()=>t(Object(p.b)(m.a.MESSAGE_CREATOR)),loggedIn:Boolean(r&&r.id),isEmailVerified:Boolean(r&&r.isEmailVerified),email:String(r&&r.email),canMessageCreator:Object(d.a)(s,r),refetch:()=>t(Object(E.a)(f))})},[m.a.MESSAGE_CREATOR]:{title:Object(i.b)("project_page.message_creator.Send_a_message",{creator_name:s.name}),body:_.a.createElement(l.a,{creator:s,projectId:o,messageCreatorData:e.messageCreatorReducer,currentUser:r,dispatch:t})}};return v.a.createPortal(_.a.createElement(a.a,{headerCopy:b[g].title,size:"large",onClose:n},b[g].body),document.getElementById("creator-bio-modal-portal"))},x=e=>()=>e(Object(p.b)(m.a.CREATOR_BIO)),T=e=>()=>e(Object(p.a)()),A=({state:e,dispatch:t})=>{const n=e&&e.creatorSectionReducer&&e.creatorSectionReducer.project&&e.creatorSectionReducer.project.creator;Object(g.useEffect)(()=>{var t=document.getElementsByClassName("js-rewards-column")[0];t&&e.projectModalReducer.opened?t.classList.add("z10"):t&&t.classList.remove("z10")},[e.projectModalReducer.opened]);const a=()=>{var e;(null===(e=document.getElementsByClassName("project-nav__link--creator"))||void 0===e?void 0:e[0]).click()};let i=!1;return Object(o.a)("creator_tab_2025")&&document.getElementsByClassName("project-nav__link--creator").length>0&&(i=!0),n?_.a.createElement(_.a.Fragment,null,_.a.createElement(C,{creator:n,onClick:i?a:x(t)}),e.projectModalReducer.opened&&_.a.createElement(I,{state:e,dispatch:t,onClose:T(t)})):null},D=Object(y.b)({creatorSectionReducer:(e=N,t)=>{switch(t.type){case"FETCH_CREATOR_SECTION_DATA":return Object(y.f)(e,y.a.run(O,{args:[t.projectSlug,t.shareToken],successActionCreator:E.b}));case"FETCH_CREATOR_SECTION_DATA_RESPONSE":return t.response.data;default:return e}},projectModalReducer:h.a,messageCreatorReducer:u.a,trackingReducer:r.a}),P={messageCreatorReducer:{...u.b},creatorSectionReducer:{...N},projectModalReducer:{...h.b},trackingReducer:{}},R=Object(s.a)(D,P,"Creator Bio"),F=()=>{const e=document.getElementById("experimental-creator-bio");return[e,e&&e.dataset&&e.dataset.slug]},L=()=>{const[e,t]=F();e&&t&&v.a.render(_.a.createElement(A,{state:R.getState(),dispatch:R.dispatch}),e)},M=()=>{const[e,t]=F();e&&(L(),R.subscribe(L),R.dispatch(Object(E.a)(t)))},U=Object(k.c)(Object(f.a)(e=>({state:e})))(A),V=()=>{document.getElementById("experimental-creator-bio")&&M()};V()},dWMV:function(e,t,n){"use strict";n.d(t,"a",(function(){return z})),n.d(t,"b",(function(){return G}));var a=n("mwIZ"),i=n.n(a),r=n("iuhU"),o=n("FXnB"),s=n("WEJ0"),c=n("18cT"),l=n("aiSh"),d=n("pj8f"),u=n("q1tI"),m=n.n(u),p=n("arGM");const h={scrollBehavior:"scroll-behavior",scrollPaddingTop:"scroll-padding-top"};var f=n("kZzg"),g=n("z+X6"),_=n("NP8z");const b=(e,t=100)=>{const[n,a]=Object(u.useState)({}),[i,r]=Object(u.useState)(n),o=Object(u.useCallback)(()=>Object.values(n).filter(e=>e.entry.isIntersecting).sort((e,t)=>{var n;const a=[e,t].map(({entry:{target:e}})=>e instanceof HTMLElement?{top:e.offsetTop,left:e.offsetLeft}:{top:0,left:0}),[i,r]=a,o=i.top-r.top,s=i.left-r.left;return null!==(n=[0===o&&s,o].find(Boolean))&&void 0!==n?n:0}),[n]),s=Object(u.useCallback)(e=>{r(t=>({...t,[e.id]:e}))},[]),[c]=Object(u.useState)(new IntersectionObserver(e=>{e.forEach(e=>{var t;const n=null!==(t=e.target.dataset.observerId)&&void 0!==t?t:"";s({id:n,entry:e})})},e));return function(e,{delay:t=100,trailing:n=!1}={},a){const i=Object(u.useRef)(e),r=Object(u.useRef)(!1),o=Object(u.useRef)();i.current=e;const s=Object(u.useCallback)(()=>{o.current=void 0,i.current(),setTimeout(()=>r.current=!1,t),r.current=!0},[t,i.current]);Object(u.useEffect)(()=>{o.current||(r.current?n&&(o.current=setTimeout(s,t)):s())},a)}(()=>a(function(e){return Object.fromEntries(Object.entries(e).filter(([e,{entry:t}])=>t.isIntersecting))}(i)),{delay:null!=t?t:100,trailing:!0},[i]),{entries:n,onIntersectionChange:s,getVisibleEntries:o,observer:c}};var v=n("VX74"),k=n("i8i4"),y=n.n(k),E=n("/MKj");const j=e=>({type:"INIT",slug:e}),w=e=>({type:"INIT_RESPONSE",response:e});var S=n("0fse"),O=n("gN63");const N=e=>Object(O.c)("\n  query RewardsTab($slug: String!) {\n    usdType\n    me {\n      id\n      isCreator\n      chosenCurrency\n      location {\n        id\n        country\n        countryName\n      }\n    }\n    project(slug: $slug) {\n      state\n      id\n      name\n      fxRate\n      minPledge\n      creator {\n        id\n      }\n      currency\n      isUserCreator\n      isInPostCampaignPledgingPhase\n      backing {\n        id\n        reward {\n          id\n        }\n        originalOrUpgradedReward {\n          id\n        }\n        order {\n          crowdfundingRewardToNewRewardUpgrade \n        }\n        backingDetailsPageUrl: backingDetailsPageRoute(type: path, tab: details)\n      }\n      actions {\n        displayConvertAmount\n      }\n      isLaunched\n      rewards {\n        nodes {\n          id\n          name\n          audienceData { secret }\n          convertedAmount { amount currency }\n          amount { amount currency symbol }\n          available\n          items {\n            edges {\n              quantity\n              node {\n                id\n                name\n                image {\n                  id\n                  url(width: 600)\n                  altText\n                }\n              }\n            }\n          }\n          displayableAddons {\n            nodes {\n              id\n              name\n              description\n              convertedAmount { amount currency }\n              image {\n                id\n                url(width: 600)\n                altText\n              }\n            }\n          }\n          description\n          estimatedDeliveryOn\n          backersCount\n          backerImages(limit: 3) {\n            id\n            url(width: 120)\n            altText\n          }\n          backerReportUrl\n          image {\n            id\n            url(width: 600)\n            altText\n          }\n          shippingEnabled\n          shippingPreference\n          shippingSummary\n          endsAt\n          limit\n          remainingQuantity\n          featured\n        }\n      }\n    }\n  }\n",{slug:e});var C=n("DE4Y");const I={projectSlug:"",project:{id:"",currency:C.n.USD,fxRate:1,actions:{displayConvertAmount:!1},rewards:null,backing:null,userWasRemoved:!1,isUserCreator:!1,state:C.J.STARTED,minPledge:1,isInPostCampaignPledgingPhase:!1},usdType:C.Y.international,user:null},x=e=>({projectSlug:e,project:{id:"",currency:C.n.USD,fxRate:1,actions:{displayConvertAmount:!1},rewards:null,backing:null,userWasRemoved:!1,isUserCreator:!1,state:C.J.STARTED,minPledge:1,isInPostCampaignPledgingPhase:!1},usdType:C.Y.international,user:null}),T=(e=I,t)=>{switch(t.type){case"INIT":return Object(S.f)(e,S.a.run(N,{args:[e.projectSlug],successActionCreator:w}));case"INIT_RESPONSE":const n=t.response.data;return n?{...e,usdType:n.usdType,user:n.me,project:n.project}:e;case"NOOP":default:return e}};var A=n("XXIi"),D=n("zSSS"),P=n("EoiL");const R=e=>{var t;return m.a.createElement(P.a,Object.assign({level:3,weight:"normal",color:"support-700"},e,{atoms:["type-21","mb0",...null!==(t=e.atoms)&&void 0!==t?t:[]]}))};var F=n("vJTS"),L=n("39MV"),M=n("8Np1"),U=n("mq2H"),V=n("94td"),H=n("Drj3");const B=e=>{const{reward:t,selectedRewardId:n}=e,a=t.id===n,i=(Object(r.b)("border-left border-left3px",`pl${_.a-1} ml-${_.a-1}`,a?"border-left-create-500":"border-left-transparent"),"#"+Object(_.c)(t.id));return u.createElement(F.a,{selected:a,href:i,onClick:()=>{Object(U.n)(U.d.CTA_CLICKED,{context_page:U.e.PROJECT,context_cta:"reward",context_location:"reward_navigation",context_section:"rewards"})},useReactRouter:!0},u.createElement(H.b,{atoms:[a?"bold":"semibold"]},t.name),u.createElement(M.a,{type:"caption-100",color:"support-500"},u.createElement("span",{className:"semibold"},Object(L.c)(t.amount.amount,t.amount.currency)),t.items.length>0&&u.createElement("span",{className:"ml1"},Object(V.b)("rewards.items_included",{count:t.items.length}))))},$=["pt2 mt-2","pt8-md mt-8-md","stick t-8 bg-white","pb4",`pl${_.a} ml-${_.a}`],q=e=>{const{rewardGroups:t,...n}=e;return m.a.createElement("menu",null,t.map(([e,t])=>m.a.createElement("div",{className:"support-700 mb8","data-testid":"rewards-sidebar--"+e.replace(/ /g,""),key:e},m.a.createElement(R,{atoms:$},e),m.a.createElement("ul",null,t.map(e=>m.a.createElement(B,Object.assign({key:"reward-sidebar-"+e.id,reward:e},n)))))))},Y=Object(E.c)(e=>({project:e.project,usdType:e.usdType,user:e.user}))(e=>{var t,n,a,l;const{project:d,usdType:g,user:v}=e,k=Object(f.a)()?"t25":"t20",y=Object(f.a)()?150:120,E=Object(f.a)()?"t18":"t13",j=y+"px",w=(({stickyTopAtom:e})=>({container:["grid-layout","grid-cols-12","grid-cols-8-md","grid-cols-9-lg","gapy7"],reward:["col-span-12","col-span-8-md","col-span-4-lg","stick-lg",e+"-lg"],details:["col-span-12","col-span-8-md","col-span-5-lg"]}))({stickyTopAtom:k}),S=Object(s.a)(null==d?void 0:d.backing,null===(t=e.project)||void 0===t?void 0:t.rewards),[O,N]=function(){const[e,t]=Object(u.useState)(Object(p.d)(window.location.hash));return Object(u.useEffect)(()=>{const e=()=>{t(Object(p.d)(window.location.hash))};return window.addEventListener("hashchange",e),()=>{window.removeEventListener("hashchange",e)}},[]),[e,Object(u.useCallback)(e=>{window.location.hash!==Object(p.h)(e)&&(window.location.hash=e)},[])]}(),C=null!==(n=null===(a=O.match(/^reward-(.+)/))||void 0===a?void 0:a[1])&&void 0!==n?n:null,I=null!=C?C:i()(S,[0,1,0,"id"],""),[x,T]=Object(u.useState)(I);Object(u.useEffect)(()=>{I&&""===x&&T(I)},[I,x]),Object(u.useEffect)(()=>{C&&C!==x&&T(C)},[C,x]);const{observer:P,visibleRewardId:F}=((e,...t)=>{const n=b(...t),{getVisibleEntries:a}=n,[i,r]=Object(u.useState)(e);return Object(u.useEffect)(()=>{const[e]=a().splice(-1);if(e){var t,n;const a=null!==(t=null===(n=e.id.match(/^reward-(.+)/))||void 0===n?void 0:n[1])&&void 0!==t?t:null;a&&r(a)}},[a]),{...n,visibleRewardId:i}})(I,{rootMargin:`-${j} 0px 0px 0px`,threshold:.8},1e3/60);!function({scrollBehavior:e=document.documentElement.style.getPropertyValue("scroll-behavior"),scrollPaddingTop:t=document.documentElement.style.getPropertyValue("scroll-padding-top")}={}){Object(u.useEffect)(()=>{const n={scrollBehavior:e,scrollPaddingTop:t},a=Object.entries(n).map(([e,t])=>[h[e],t]),i=a.map(([e])=>[e,document.documentElement.style.getPropertyValue(e)]);return a.forEach(([e,t])=>document.documentElement.style.setProperty(e,t)),()=>{i.forEach(([e,t])=>document.documentElement.style.setProperty(e,t))}},[])}({scrollBehavior:"smooth",scrollPaddingTop:j}),((e,t={})=>{const[n,a]=Object(u.useState)(e),[i,r]=Object(u.useState)(!1),o=i||"string"!=typeof n?null:document.getElementById(n);Object(u.useEffect)(()=>{!i&&o&&(r(!0),window.requestAnimationFrame(()=>{o.scrollIntoView(t)}))},[i,o])})(C&&O);const L={observer:P},M={"--rewards-tab-safe-area-inset-top":y},U={"--rewards-tab-safe-area-inset-top":y};if(!d)return m.a.createElement(c.a,{size:"48",containerAtoms:["rewards-tab--min-h100dvh"],spinnerAtoms:["stick","t12","p8"]});const V=Object(_.d)({preview:!1,project:d,usdType:g,user:v,variant:A.a.RewardsTab}),H=Object(u.useCallback)(e=>()=>{N(Object(_.c)(e))},[]),B=Object.values(S),$=B.length;return m.a.createElement(c.a,{size:"48",containerAtoms:["rewards-tab--min-h100dvh"],spinnerAtoms:["stick","t12","p8"]},m.a.createElement("div",{className:"grid-layout mt2 mt8-md mb2 mb8-md bg-white",style:M},m.a.createElement("div",{className:Object(r.b)("display-none",`pl${_.a} ml-${_.a}`,"rewards-tab--max-h100dvh auto-scroll",_.b,`block-md col-span-4-md row-span-${$}-md`,`stick-md ${E}-md`,"col-span-3-lg"),style:U},m.a.createElement(q,{rewardGroups:S,selectedRewardId:F})),m.a.createElement("div",{className:Object(r.b)("col-span-12 col-span-8-md col-span-9-lg flex flex-column gap8  display-none-md",_.b)},m.a.createElement(o.a,{preview:!1,usdType:e.usdType,fxRate:d.fxRate,currency:d.currency,displayConvertAmount:d.actions.displayConvertAmount,state:d.state,isUserCreator:d.isUserCreator,userWasRemoved:d.userWasRemoved,minPledge:d.minPledge,isInPostCampaignPledgingPhase:d.isInPostCampaignPledgingPhase,backedWithNoReward:Boolean(d.backing&&!(null===(l=d.backing)||void 0===l?void 0:l.reward))})),m.a.createElement("div",{className:Object(r.b)("col-span-12 col-span-8-md col-span-9-lg flex flex-column gap8",_.b),"data-testid":"rewards-tab--available"},B.map(([e,t],n)=>m.a.createElement(m.a.Fragment,{key:e},n>0&&m.a.createElement("hr",{key:"break-before-"+e,className:"display-none block-lg border-support-200 h1px w100p my4"}),m.a.createElement("div",{key:e,className:"flex flex-column gap4"},m.a.createElement(R,{atoms:["display-none-md"]},e),t.map((e,t)=>{var n,a,i,r,o,s;return m.a.createElement(m.a.Fragment,{key:e.id},t>0&&m.a.createElement("hr",{className:"display-none block-lg border-support-200 h1px w100p my4"}),m.a.createElement(D.a,{backedByMe:Object(_.e)((null===(n=d.backing)||void 0===n||null===(a=n.order)||void 0===a?void 0:a.crowdfundingRewardToNewRewardUpgrade)?null===(i=d.backing)||void 0===i||null===(r=i.reward)||void 0===r?void 0:r.id:null===(o=d.backing)||void 0===o||null===(s=o.originalOrUpgradedReward)||void 0===s?void 0:s.id)===e.id,key:e.id,layoutAtoms:w,reward:e,viewportObserverProps:L,ctaProps:V,selected:x===e.id,onSelect:H(e.id),preview:!1,isInPostCampaignPledgingPhase:d.isInPostCampaignPledgingPhase}))})))))))}),z=({projectSlug:e})=>{const t=x(e),n=Object(g.a)(T,t,"Kickstarter Rewards Tab"),a=Object(l.a)(d.Honeybadger.notify.bind(d.Honeybadger));return n.dispatch(j(e)),m.a.createElement(E.a,{store:n},m.a.createElement(v.ApolloProvider,{client:a},m.a.createElement(Y,null)))},G=()=>{const e=document.getElementById("react-rewards-tab"),t=(null==e?void 0:e.dataset.project_slug)||"",n=x(t),a=Object(g.a)(T,n,"Kickstarter Rewards Tab"),i=Object(l.a)(d.Honeybadger.notify.bind(d.Honeybadger)),r=()=>{y.a.render(m.a.createElement(E.a,{store:a},m.a.createElement(v.ApolloProvider,{client:i},m.a.createElement(Y,null))),e)};a.dispatch(j(t)),r(),a.subscribe(r)}},daZV:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("iuhU"),i=n("ObC8"),r=n("dPds"),o=n("94td"),s=n("eEls"),c=n("q1tI");const l=({showingCount:e,totalCount:t,pageSize:n,onClick:l,loading:d,remainingI18nKey:u="defaults.Load_more",showPageCount:m=!0,buttonI18nKey:p,hasMorePages:h,atoms:f=[]})=>t>n?c.createElement("div",{className:Object(a.b)(f,"text-center")},m&&c.createElement(r.a.BodyMD,{as:"div",className:"kds-mb-02 kds-text-secondary"},c.createElement(o.a,{i18nKey:u,showing:e,total:t})),h&&c.createElement(i.a,{isLoading:d,onPress:d?s.c:l,style:{minWidth:"200px"}},c.createElement(o.a,{i18nKey:p}))):null},dkkr:function(e,t,n){"use strict";n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return g}));var a=n("pTxv"),i=n("t1f3"),r=n("2DJ9"),o=n("EoiL"),s=n("T8n5"),c=n("q1tI"),l=n("rcUh");const d=({children:e})=>c.createElement("div",{className:"center px5 py10 border border-grey-500 bg-grey-100 text-center"},e),u=({iconType:e,iconColor:t="soft-black"})=>c.createElement(r.a,{atoms:["fill-"+t],name:e,size:"36"}),m=({text:e,color:t="soft-black"})=>c.createElement(o.a,{level:3,atoms:["mb2",t]},e),p=({children:e})=>c.createElement(s.a,{atoms:["mb0"],type:"subhead-200"},e),h=e=>{const t=e.iconType||"icon--lightbulb",n=e.primaryColor||"soft-black",a=e.space||5;return c.createElement(d,null,c.createElement(u,{iconType:t,iconColor:n}),c.createElement(l.a,{vertical:a}),c.createElement(m,{text:e.primaryText,color:n}),c.createElement(p,null,e.secondaryText))},f=e=>c.createElement(d,null,c.createElement(u,{iconType:"icon--alert"}),c.createElement(m,{text:e.primaryText}),c.createElement(p,null,e.secondaryText)),g=e=>c.createElement(d,null,c.createElement(i.a,{name:"teeth-chattering",atoms:["mb5","w30"]}),c.createElement(m,{text:e.primaryText}),c.createElement(p,null,e.secondaryText),e.buttonText&&e.buttonUrl&&c.createElement(a.b,{atoms:["mt3"],theme:"support",size:"large",href:e.buttonUrl},e.buttonText))},dmhg:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=(n("ADAi"),n("+QRC")),o=n.n(r);i()((function(){i.a.clipster(".clipster"),i()(document).on("click",".js-copy-to-clipboard",e=>{e.preventDefault(),o()(e.currentTarget.dataset.copy);const t=i()(e.currentTarget).find("svg");t.removeClass("fill-blue-500").addClass("fill-green-500"),setTimeout(()=>{t.removeClass("fill-green-500").addClass("fill-blue-500")},500)})}))},dutg:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("94td"),i=n("q1tI");const r=({creator:e})=>{const{launchedProjects:t,backingsCount:n}=e,r=(null==t?void 0:t.totalCount)||0,o=1!==r?Object(a.b)("project_page.creator_bio.Projects_created",{number_of_projects:r}):Object(a.b)("project_page.creator_bio.First_created"),s=Object(a.b)("project_page.creator_bio.Projects_backed",{number_of_projects:n});return i.createElement(i.Fragment,null,o,i.createElement("span",{className:"divider"}," • "),s)}},dvPR:function(e,t,n){"use strict";n.r(t);var a=n("UB5X"),i=n.n(a),r=n("QHKZ"),o=n.n(r);n.d(t,"Honeybadger",(function(){return o.a}));var s=n("KZo6"),c=n("oMXI");if(window.honeybadgerConfiguration){const e=window.honeybadgerConfiguration;Object(c.b)()||Object(c.c)()||(e.disabled=!0),o.a.configure(e)}if("function"==typeof o.a.setContext&&o.a.setContext(Object(s.b)()),"function"==typeof o.a.beforeNotify){const e=.01;o.a.beforeNotify(t=>{if(t.fingerprint=Object(s.c)(t),Object(c.a)())return console.error("Honeybadger in development",t),!1;if(!Object(s.d)())return!1;if(s.a.test(window.location.href))return!1;if("production"===t.environment){const n=i()(t.__RATE_LIMIT__)?t.__RATE_LIMIT__:e;if(Math.random()>n)return!1}})}},dw72:function(e,t,n){"use strict";var a=n("/AD1"),i=n("2UXI"),r=n("+2Rf"),o=n.n(r);!function(){const e=["Other","Activity","Project Post"];function t(e,t){if(void 0!==e){var n="internal";o()("body").is(".widget")&&(n="external"),o.a.ajax({url:e,type:"post",data:{event_type:t,location:n}})}}function n(e){return o()("body").is(".widget")||e.closest("#projects_show").length?"Project":e.closest(".school").length?"School":e.closest(".NS_site__homepage_staff_picks").length?"Homepage Editorial":e.closest("#projects_start").length?"Start Project":e.closest("body.posts").length?"Project Post":e.closest("#jobs_index").length?"Jobs Page":e.closest(".activity").length?"Activity":"Other"}var r;function s(e){window.koala_video_progress_endpoint&&(r=setInterval((function(){var t=e.current_position();!function(e){o.a.ajax({type:"POST",url:window.window.koala_video_progress_endpoint,data:JSON.stringify({project_name:a.a.data.name,project_pid:a.a.data.id,backers_count:a.a.data.backers_count,blurb:a.a.data.blurb,category_name:a.a.data.category.name,comments_count:a.a.data.comments_count,creator_name:a.a.data.creator.name,currency_symbol:a.a.data.currency_symbol,goal:a.a.data.goal,launched_at:a.a.data.launched_at,photo_full:a.a.data.photo.full,photo_thumb:a.a.data.photo.thumb,project_url:a.a.data.urls.web.project,usd_pledged:a.a.data.usd_pledged,video:a.a.data.video,video_playhead_position:e}),contentType:"text/plain; charset=UTF-8"})}(Math.floor(t))}),1e3))}function c(t){return function(a){var r=o()(a.target),s=n(r),c=r.attr("data-video-name");e.includes(s)||Object(i.d)(s+" "+t,{video_name:c})}}o()(document).on("ksr_video:playing",(function(a,r){var c=o()(a.target),l=n(c),d=c.data("ksr_video"),u=d.current_position(),m=c.closest(".video-player").attr("data-video-tracker-url"),p=c.attr("data-video-name");s(d),e.includes(l)||(r?(t(m,"start"),Object(i.d)(l+" Video Start",{track_count:c.find("track").length,track_language:c.data("language"),video_name:p})):Object(i.d)(l+" Video Resume",{position:u,video_name:p}))})).on("ksr_video:paused",(function(t){var a=o()(t.target),s=a.data("ksr_video"),c=n(a),l=s.current_position(),d=a.attr("data-video-name");clearInterval(r),e.includes(c)||Object(i.d)(c+" Video Pause",{position:l,video_name:d})})).on("ksr_video:ended",(function(a){var r=o()(a.target),s=r.data("ksr_video"),c=n(r),l=s.duration(),d=r.closest(".video-player").attr("data-video-tracker-url"),u=r.attr("data-video-name");t(d,"complete"),e.includes(c)||Object(i.d)(c+" Video Complete",{duration:l,video_name:u})})).on("ksr_video:change_track",(function(e,t){var a=o()(e.target),r=n(a),s=a.attr("data-video-name");Object(i.d)(r+" Video Change Track",{track_language:t,video_name:s})})).on("ksr_video:muted",c("Video Mute")).on("ksr_video:unmuted",c("Video Unmute")).on("ksr_video:volume_adjusted",c("Video Volume Adjustment"))}()},eEls:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return r}));const a=(...e)=>e.reduce((e,t)=>(...n)=>e(t(...n))),i=e=>e,r=()=>{}},eH4U:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return p})),n.d(t,"f",(function(){return h})),n.d(t,"e",(function(){return f})),n.d(t,"d",(function(){return g}));var a=n("pj8f"),i=n("94td"),r=n("/MMT"),o=n("g84z"),s=n("zm9w"),c=n("Owp+"),l=n("vtU4"),d=n("Ty5D");const u=(e,t)=>""+s.b.money(Number(e),{currency:t,type:"truncate_zeros"}),m=(e,t,n,i)=>{switch(n){case c.a.FreeformPost:return l.b.EDIT_FREEFORM_POST.url(e,t,i);case c.a.CreatorInterview:return l.b.EDIT_CREATOR_INTERVIEW.url(e,t,i);default:return a.Honeybadger.notify("Unknown post type for edit link:"+n),l.b.NEW_FREEFORM_POST.url(e,t)}},p=e=>{const t=Object(d.g)(window.location.pathname,e);return!(!t||!t.isExact)},h=e=>e&&e.includes("docs.google.com/spreadsheets"),f=()=>{const e=Object(o.a)(window.location.search).question,t={question1:Object(i.b)("project_updates.What_have_you_been_working_on_since_your_last_update?"),question2:Object(i.b)("project_updates.How_are_you_working_through_the_challenges"),question3:Object(i.b)("project_updates.What_is_your_next_big_milestone")}[e];if(t)return`<h1>${t}</h1><br/>`},g=e=>!(![r.a.started,r.a.submitted].includes(e.state)||!e.prelaunchActivated)},egyr:function(e,t,n){"use strict";var a=n("2DJ9"),i=n("/IHD"),r=n("q1tI"),o=n.n(r);t.a=({size:e="large",fillColor:t,atoms:n})=>o.a.createElement(a.a,{name:"icon--circle-loader",atoms:Object(i.b)(n,t?[t]:[]),size:e})},emmH:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n("cxMJ"),i=n("sezs"),r=n("dPds"),o=n("n+nq"),s=n("94td"),c=n("q1tI"),l=n.n(c);const d=()=>{fetch("/profile/send_email_verification",{method:"PUT",headers:{"X-CSRF-Token":Object(o.b)(document),Accept:"application/json"}})},u=({email:e,refetch:t})=>{const[n,o]=Object(c.useState)(!1),[u,m]=Object(c.useState)(!1);return l.a.createElement(l.a.Fragment,null,l.a.createElement(a.a,{title:l.a.createElement(l.a.Fragment,null,Object(s.b)("project_page.creator_bio.Verify_your_email")," ",l.a.createElement(r.a.Link,{as:"a",href:"https://help.kickstarter.com/hc/en-us/articles/1260800195610-Why-am-I-being-asked-to-verify-my-email-address",target:"_blank"},Object(s.b)("project_page.creator_bio.Learn_more"))),"aria-label":"test",variant:"warning",small:!0,persistent:!0,buttons:l.a.createElement(l.a.Fragment,null,!n&&l.a.createElement(a.a.PrimaryButton,{onPress:()=>{d(),o(!0)}},Object(s.b)("project_page.creator_bio.Send_verification_email")),n&&l.a.createElement(a.a.PrimaryButton,{onPress:()=>{t(),m(!0)}},Object(s.b)("project_page.creator_bio.Ive_verified")),n&&l.a.createElement(a.a.SecondaryButton,{onPress:d},Object(s.b)("project_page.creator_bio.Resend_link")))},Object(s.b)("project_page.creator_bio.Please_click",{email:e})),n&&u&&l.a.createElement("div",{className:"flex flex-row kds-p-02 kds-gap-02"},l.a.createElement("div",null,l.a.createElement(i.a,{name:"icon--error",atoms:"kds-fill-icon-danger"})),l.a.createElement(r.a.BodySM,{as:"p",className:"kds-text-accent-red-bolder"},Object(s.b)("project_page.creator_bio.Your_email_address_is_still_unverified"))))}},"eo+I":function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);n("W2lQ"),n("RIhn");i()(".sound_player:visible").livequery((function(){i()(this).sound_player()}))},ese3:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("yQm5"),i=n.n(a);function r(e,t,n){var a=i()(e).absoluteTo(window.location),r=i()(t).absoluteTo(window.location);return(n=n||{}).ignore_query&&(a.search({}),r.search({})),n.ignore_hash&&(a.hash(""),r.hash("")),a.equals(r)}},etHd:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("GRmu"),o=n("0VSk");n("RIhn");!function(){function e(e){var t=o.default.t("onloads.views.follows.follow_button.Follow"),n=o.default.t("onloads.views.follows.follow_button.Following")+'<svg class="svg-icon__check ml1"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#check"></use></svg>';e.data("is-following")?(e.html(n),e.removeClass("btn--border-green"),e.addClass("btn--green")):(e.html(t),e.removeClass("btn--green"),e.addClass("btn--border-green")),e.removeClass("hidden")}function t(t,n){t.data("is-following")?(t.data("is-following",!1),e(t),n&&t.trigger("ksr:unfollow_user")):(t.data("is-following",!0),e(t),n&&t.trigger("ksr:follow_user"))}i()(".js-follow-all").livequery((function(){var e=i()(this);e.on("click",(function(){var n=e.data("url"),a=i()('<span class="spinner" />').spin("ksr","#000"),s=e.data("type");i.a.ajax({url:n,dataType:"json",method:"post",data:{type:s},beforeSend:function(){e.addClass("btn--disabled"),e.prepend(a)}}).success((function(n){200===n.status?(!function(e,n,a){i()(".js-follow-user").each((function(){i()(this).data("is-following")||t(i()(this),!1)})),e.unbind("click"),e.html(o.default.t("onloads.views.follows.follow_all_button.Following_all")),e.addClass("btn--disabled"),e.trigger("ksr:follow_all",[n,a])}(e,n.user_count,n.project_count),Object(r.a)({success:n.message})):(e.removeClass("btn--disabled"),Object(r.a)({success:n.message}))})).complete((function(){a.remove()}))}))})),i()(".js-follow-user").livequery((function(){var n=i()(this);n.on("click",(function(e){var a=n.data("is-following")?n.data("unfollow-path"):n.data("follow-path");n.prop("disabled",!0),i.a.ajax({url:a,dataType:"json",method:"post"}).success((function(e){200===e.status?t(n,!0):Object(r.a)({error:e.message})})).complete((function(){n.prop("disabled",!1)})),e.preventDefault()})),n.on("mouseenter focus",(function(){!function(e){e.data("is-following")&&(e.data("previous-html",e.html()),e.html(o.default.t("onloads.views.follows.follow_button.Unfollow")))}(n)})),n.on("mouseleave blur",(function(){!function(e){var t=e.data("previous-html");e.data("is-following")&&t&&e.html(t)}(n)})),n.on("ksr:set_to_follow",(function(){n.data("is-following")&&t(n,!0)})),e(n)}))}()},"f/gE":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("q1tI"),i=n("LdJi");const r={float:{className:"grid-row",separator:"-"},flex:{className:"flex-row",separator:"--"}},o=({children:e,layout:t,atoms:n=[],id:o})=>{const s=Object(i.b)(r[null!=t?t:"float"]);return a.createElement("div",{className:[s(),...n].join(" "),id:o},e)}},"f/yv":function(e,t,n){"use strict";n.d(t,"i",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"h",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"g",(function(){return m})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return g})),n.d(t,"j",(function(){return _}));var a=n("MgNI"),i=n("NAv5"),r=n("94td"),o=n("arGM");const s=(e,t)=>({...e,...t}),c=(e,t)=>Math.round(e/t*100),l=(e,t,n,a,i)=>{let r=e;return t!==n||a!==i?(r=e-Math.ceil((e-5e3)/2),Math.max(r,5e3)):(r=e+1e3,Math.min(r,6e4))},d=e=>Math.floor(60*e*60*1e3),u=e=>Math.floor(24*e*60*60*1e3),m=(e,t)=>1===Math.round(e)?t:t+"s",p=(e,t,{ref:n}={})=>{let a=t+"/pledge/new",i=n?{clicked_reward:!1,ref:n}:{clicked_reward:!1};return e&&(a=t+"/pledge",i={ref:"manage_pledge"}),Object(o.e)(a,i)},h=(e=0,t=!1)=>{const n=Date.now(),a=t?e:1e3*e,o=a-n;return o<=0?[0,Object(r.b)("project_page.project_stats.time.seconds")]:o<=(s=2,Math.floor(60*s*1e3))?[Object(i.differenceInSeconds)(a,n),Object(r.b)("project_page.project_stats.time."+m(Object(i.differenceInSeconds)(a,n),"second"))]:o<=d(2)?[Object(i.differenceInMinutes)(a,n),Object(r.b)("project_page.project_stats.time.minutes")]:o<=d(72)?[Object(i.differenceInHours)(a,n),Object(r.b)("project_page.project_stats.time.hours")]:o<=u(60)?[Object(i.differenceInDays)(a,n),Object(r.b)("project_page.project_stats.time.days")]:[0,""];var s},f=e=>e.launchedProjects.nodes.filter(e=>e.isLaunched),g=(e,t={})=>a.maybe.fromNullable(e).getOrElse(t),_=(e={},t={})=>!(!e.id||!t.creator)&&a.maybe.fromNullable(t.creator.id).map(t=>String(t)===String(e.id)).getOrElse(!1)},fAGL:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s}));var a=n("94td");const i=Object(a.b)("settings.lose_changes");let r;const o=(e=i)=>{window.onbeforeunload&&(r=window.onbeforeunload),window.onbeforeunload=t=>(t.returnValue=e,e)},s=(e=!1)=>{if(!e&&r)return window.onbeforeunload=r,void(r=void 0);window.onbeforeunload=void 0}},fBlF:function(e,t,n){var a=n("+2Rf");n("+2Rf");!function(e){e.fn.render=function(t){return e(this).each((function(){e(this).data("renderer")(t)})),this},e.fn.define_renderer=function(t){return e(this).data("renderer",t),this}}(a)},fOlt:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("DI+Y"),i=n("mv45"),r=n("gN63"),o=n("Owp+");const s=Object(i.c)(e=>{if(!e.data||!e.data.post)return Object(i.d)(e.data.error);const{me:t,post:{title:n,isPublic:a,commentsCount:s,likesCount:c,isLiked:l,number:d,author:{name:u,imageUrl:m},authorRole:p,publishedAt:h,pinnedAt:f,project:g,actions:{read:_,destroy:b,edit:v,pin:k},timeLeftToEdit:y,type:E,nextPost:j,previousPost:w}}=e.data,S=Boolean(t&&t.id),O=Boolean(t&&t.isKsrAdmin),N=Boolean(h),C=Boolean(f),I=g.state===o.b.LIVE,x=j&&Object(r.a)(j.id),T=w&&Object(r.a)(w.id);return Object(i.l)({title:n,isPublic:a,sequence:d,authorName:u,authorAvatarUrl:m,authorRole:p,publishedAt:h,canRead:_,canDelete:b,canPin:k,commentsCount:s,likesCount:c,canEdit:v,timeLeftToEdit:y,type:E,isAdmin:O,isLoggedIn:S,isPublished:N,isPinned:C,isProjectLive:I,isLiked:l,nextPostId:x,previousPostId:T,project:g})}),c=Object(a.graphql)(o.c,s)},fQhN:function(e,t,n){"use strict";var a=n("pj8f"),i=n("vXqN");const r=Object(i.a)({onComponentError:(e,t,n)=>a.Honeybadger.notify(JSON.stringify(e)+" "+JSON.stringify(t.componentStack),{context:{tags:["project_communities"].concat(n).join(",")}})});t.a=r},fivf:function(e,t,n){"use strict";n.r(t),n.d(t,"history",(function(){return h})),n.d(t,"initProjectPostInterface",(function(){return f}));var a=n("VX74"),i=n("bpk+"),r=n.n(i),o=n("aiSh"),s=n("pj8f"),c=n("q1tI"),l=n.n(c),d=n("i8i4"),u=n.n(d),m=n("Ty5D"),p=n("jowW");const h=r()(),f=()=>{const e=Object(o.a)(s.Honeybadger.notify.bind(s.Honeybadger)),t=document.getElementById("project-post-interface");if(t){const n=t.dataset.project_relay_id||"",i=t.dataset.commentable_id||null,r=t.dataset.comment_cursor||null,o=t.dataset.comment_id||null;u.a.render(l.a.createElement(a.ApolloProvider,{client:e},l.a.createElement(m.d,{history:h},l.a.createElement(p.a,{projectId:n,commentableId:i,commentCursor:r,commentId:o}))),t)}};f()},fpXP:function(e,t,n){var a=n("+2Rf");n("+2Rf");!function(e){e.fn.preload_background_image=function(){return this.each((function(){var t=function(e){var t=e.css("backgroundImage");try{return/[("]([^()"]+)[")]/.exec(t)[1]}catch(e){return!1}}(e(this));t&&((new Image).src=t)}))}}(a)},fuxI:function(e,t,n){"use strict";t.a='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M5 8C6.10457 8 7 7.10457 7 6C7 4.89543 6.10457 4 5 4C3.89543 4 3 4.89543 3 6C3 7.10457 3.89543 8 5 8ZM5 14C6.10457 14 7 13.1046 7 12C7 10.8954 6.10457 10 5 10C3.89543 10 3 10.8954 3 12C3 13.1046 3.89543 14 5 14ZM7 18C7 19.1046 6.10457 20 5 20C3.89543 20 3 19.1046 3 18C3 16.8954 3.89543 16 5 16C6.10457 16 7 16.8954 7 18ZM10 5C9.44772 5 9 5.44772 9 6C9 6.55228 9.44772 7 10 7H18C18.5523 7 19 6.55228 19 6C19 5.44772 18.5523 5 18 5H10ZM9 12C9 11.4477 9.44772 11 10 11H18C18.5523 11 19 11.4477 19 12C19 12.5523 18.5523 13 18 13H10C9.44772 13 9 12.5523 9 12ZM10 17C9.44772 17 9 17.4477 9 18C9 18.5523 9.44772 19 10 19H18C18.5523 19 19 18.5523 19 18C19 17.4477 18.5523 17 18 17H10Z" fill="#3C3C3C"/>\n</svg>\n'},"g/nJ":function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);n("hL3N");i()((function(){i()(document).ksrSelect()}))},g1y3:function(e,t,n){"use strict";n.d(t,"b",(function(){return a.c})),n.d(t,"d",(function(){return i.c})),n.d(t,"a",(function(){return Se})),n.d(t,"c",(function(){return Oe.a}));var a=n("ijK7"),i=n("bvYH"),r=n("QRQ9"),o=n("qOyz"),s=n("iuhU"),c=n("v83y"),l=n("egyr"),d=n("NxQb"),u=n("/IHD"),m=n("x6TX"),p=n("X+my"),h=n("q1tI"),f=n.n(h),g=n("KAy6"),_=n.n(g),b=n("2DJ9"),v=n("lO+I"),k=n("v9JK"),y=n("CgNg"),E=n("94td"),j=n("kKlT");class w extends h.Component{constructor(...e){super(...e),this.state={embedUrl:"",isEmbedSubmitting:!1,embedError:""},this.handleAudioUrlChange=e=>{this.setState({embedUrl:e})},this.handleEmbedError=e=>{this.setState({embedError:e})},this.onSubmitAudio=()=>{const{embedUrl:e}=this.state;Object(j.d)(Object(j.a)(e))?(this.setState({isEmbedSubmitting:!0}),Object(j.b)(e).then(this.handleEmbedSuccess).catch(this.handleEmbedFailure)):this.handleEmbedError(Object(E.b)("rich_editor.Please_enter_a_valid_URL"))},this.handleEmbedSuccess=e=>{const{embedUrl:t}=this.state;this.setState({isEmbedSubmitting:!1}),this.props.dispatch(Object(i.k)(e,t)),this.props.onClose()},this.handleEmbedFailure=()=>{this.setState({isEmbedSubmitting:!1}),this.handleEmbedError(Object(E.b)("rich_editor.There_was_a_problem_embedding"))}}render(){return h.createElement(k.a,{headerCopy:Object(E.b)("rich_editor.Add_audio"),onClose:this.props.onClose,secondaryCloseCopy:Object(E.b)("rich_editor.Cancel"),size:"large",grabFocus:!1},h.createElement(y.b,{id:"oembedUrlPrompt",inputValue:this.state.embedUrl,hasErrors:Boolean(this.state.embedError),label:Object(E.b)("rich_editor.Paste_a_URL_soundcloud"),onChange:this.handleAudioUrlChange},h.createElement("span",{className:"red"},this.state.embedError)),h.createElement("div",{className:"mt2"},h.createElement(k.c,{onClick:this.onSubmitAudio,theme:this.props.theme.name},Object(E.b)("rich_editor.Upload"))))}}var S=n("T8n5"),O=n("gN63"),N=(n("VX74"),n("DE4Y"));const C={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"AttachedAsset"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"imageWidth"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"800"}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"assetWidth"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"600"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Photo"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"fingerprint"}},{kind:"Field",alias:{kind:"Name",value:"photoStatus"},name:{kind:"Name",value:"status"}},{kind:"Field",alias:{kind:"Name",value:"photoUrl"},name:{kind:"Name",value:"url"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"Variable",name:{kind:"Name",value:"imageWidth"}}}]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AttachedVideo"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"renderedHtml"},arguments:[{kind:"Argument",name:{kind:"Name",value:"assetWidth"},value:{kind:"Variable",name:{kind:"Name",value:"assetWidth"}}}]},{kind:"Field",alias:{kind:"Name",value:"videoStatus"},name:{kind:"Name",value:"status"}},{kind:"Field",alias:{kind:"Name",value:"videoUrl"},name:{kind:"Name",value:"url"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AttachedAudio"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",alias:{kind:"Name",value:"audioStatus"},name:{kind:"Name",value:"status"}},{kind:"Field",alias:{kind:"Name",value:"audioUrl"},name:{kind:"Name",value:"url"}}]}}]}}]}}]};const I={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateAsset"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreateAssetInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"upload"},name:{kind:"Name",value:"createAsset"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"asset"},selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AttachedAudio"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AttachedVideo"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Photo"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]}}]}}]};const x={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UploadLimit"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"fileType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UploadLimitFiletype"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"uploadLimit"},name:{kind:"Name",value:"uploadLimit"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filetype"},value:{kind:"Variable",name:{kind:"Name",value:"fileType"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contentTypes"}},{kind:"Field",alias:{kind:"Name",value:"megabytes"},name:{kind:"Name",value:"fileSize"},arguments:[{kind:"Argument",name:{kind:"Name",value:"unit"},value:{kind:"EnumValue",value:"MEGABYTES"}}]},{kind:"Field",alias:{kind:"Name",value:"bytes"},name:{kind:"Name",value:"fileSize"},arguments:[{kind:"Argument",name:{kind:"Name",value:"unit"},value:{kind:"EnumValue",value:"BYTES"}}]}]}}]}}]};const T=({fileType:e})=>Object(O.d)(x,{fileType:e}).then(({uploadLimit:e})=>{const t=e.contentTypes.filter(e=>null!==e);return{megabytes:e.megabytes,bytes:e.bytes,contentTypes:t}});var A=n("qYa2");const D=e=>(e=>{const{id:t,imageWidth:n,assetWidth:a}=e;return Object(O.d)(C,{id:t,...n?{imageWidth:n}:{},...a?{assetWidth:a}:{}})})({id:e}).then(t=>{if(!t.node)throw new Error(Object(E.b)("rich_editor.Received_invalid_data"));const n=t.node;if(n.videoStatus===N.c.ENCODING)return new Promise(e=>{setTimeout(e,5e3)}).then(()=>D(e)).catch(e=>{throw new Error(e)});if(n.videoStatus===N.c.ENCODED)return n;throw n.videoStatus===N.c.FAILED?new Error(Object(E.b)("rich_editor.Upload_asset_failed")):new Error(Object(E.b)("rich_editor.Received_invalid_asset_status",{status:n.videoStatus}))}).catch(()=>{throw new Error(Object(E.b)("rich_editor.Unable_to_fetch_asset"))}),P=e=>{switch(e){case F.VIDEO:return window.upload_limits?window.upload_limits.video:M;default:return{bytes:0,megabytes:0,contentTypes:[],name:"unknown"}}},R=e=>L.includes(e.type)?F.VIDEO:F.UNKNOWN;let F=function(e){return e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.UNKNOWN="UNKNOWN",e}({});const L=["application/mp4","video/3gpp","video/mp4","video/mpeg","video/quicktime","video/vnd.objectvideo","video/x-flv","video/x-ms-wmv"],M={name:"video",megabytes:5120,bytes:5368709120,contentTypes:L};var U=n("/Jws");const{Component:V}=U.a;class H extends h.Component{constructor(...e){super(...e),this.state={isFetching:!1,uploadLimit:{bytes:0,megabytes:0,contentTypes:[]}}}componentDidMount(){this.setState(()=>({isFetching:!0}),()=>T({fileType:N.X.PHOTO}).then(e=>{const t=e;this.setState({isFetching:!1,uploadLimit:t})}))}render(){if(this.state.isFetching)return null;const{dispatch:e,errors:t,imageAltText:n,imageCaption:a,imageSrc:r,imageUrl:o,subjectBlock:s,uploaderState:c,theme:l,piiWarning:u,onClose:m}=this.props,p=["UPLOADING","PROCESSING","SUCCESSFUL"].includes(c.baseUpload.uploaderStatus),f=null!==s||p,g=!s&&!r,_=p||!!n||!!a||!!o,b=!!s,v=u?h.createElement(S.a,{atoms:["type-14","medium","black","mb2","center"]},Object(E.b)("rich_editor.Don’t_upload_anything_that_contains_backer_information")):void 0;return h.createElement(k.a,{headerCopy:b?Object(E.b)("rich_editor.Edit_image"):Object(E.b)("rich_editor.Add_image"),subHeaderCopy:v,onClose:()=>{e(Object(i.a)(_)),m()},secondaryCloseCopy:Object(E.b)("rich_editor.Cancel"),size:"large",grabFocus:!1},!s&&h.createElement(V,{dispatch:e,state:c,uploadLimit:this.state.uploadLimit,theme:l}),f&&h.createElement(h.Fragment,null,h.createElement(y.b,{id:"imageCaptionPrompt",inputValue:a,label:Object(E.b)("rich_editor.Image_caption"),onChange:t=>e(Object(i.r)(t)),atoms:["mb3","mt4"],max:125}),Object(d.a)("image_uploader_alt_text")&&h.createElement(y.b,{id:"imageAltTextPrompt",inputValue:n,label:Object(E.b)("rich_editor.Alternative_text"),onChange:t=>e(Object(i.q)(t)),atoms:["mb3","mt4"],max:125}),h.createElement(y.b,{currentFocus:"imageUrlPrompt",hasErrors:!!t,id:"imageUrlPrompt",inputValue:o,label:Object(E.b)("rich_editor.Clickthrough_URL_label"),onChange:t=>e(Object(i.s)(t))},h.createElement("span",{className:"red"},t))),!g&&h.createElement(k.c,{onClick:()=>{e(Object(i.l)()),m()},theme:l.name},b?Object(E.b)("rich_editor.Save"):Object(E.b)("rich_editor.Upload")))}}var B=n("lHf8"),$=n("eH4U");class q extends h.Component{constructor(...e){super(...e),this.state={linkText:this.props.linkText||"",linkUrl:this.props.linkUrl||"",error:""},this.handleLinkTextChange=e=>{this.setState({linkText:e})},this.handleLinkUrlChange=e=>{this.setState({linkUrl:e})},this.onSubmitLink=()=>{const{linkUrl:e,linkText:t}=this.state;Object(j.d)(Object(j.a)(e))?(this.props.dispatch(Object(i.m)(e,t)),this.props.onClose()):this.setState({error:Object(E.b)("rich_editor.Please_enter_a_valid_URL")})}}trackPIIWarningLinkToTerms(){const{tracking:e}=this.props;e&&"function"==typeof e.piiWarningLinkToTerms&&e.piiWarningLinkToTerms()}render(){const{onClose:e,theme:t,checkForPossiblePII:n}=this.props,a=n&&Object($.f)(this.state.linkUrl);return h.createElement(k.a,{headerCopy:Object(E.b)("rich_editor.New_link"),secondaryCloseCopy:Object(E.b)("rich_editor.Cancel"),onClose:e,size:"large",grabFocus:!1},h.createElement(y.b,{id:"linkUrlPrompt",currentFocus:"linkUrlPrompt",onChange:this.handleLinkUrlChange,hasErrors:Boolean(this.state.error),inputValue:this.state.linkUrl,label:Object(E.b)("rich_editor.URL"),atoms:["mt4"],warning:a?h.createElement(E.a,{atoms:["type-14","orange-500"],i18nKey:"project_updates.Make_sure_your_linked_documents_don’t_contain_any_backer_information",link:h.createElement(B.a,{color:"orange-500",target:"_blank",onClick:this.trackPIIWarningLinkToTerms,href:"https://www.kickstarter.com/terms-of-use#section3"},Object(E.b)("project_updates.Our_terms"))}):null},h.createElement("span",{className:"red-500 mb2"},this.state.error)),h.createElement(y.b,{id:"linkTextPrompt",inputValue:this.state.linkText,label:Object(E.b)("rich_editor.Link_text_optional"),onChange:this.handleLinkTextChange,atoms:[a?"mt14 mt10-sm":"mt6"]}),h.createElement(k.c,{disabled:!Boolean(this.state.linkUrl),onClick:this.onSubmitLink,theme:t,type:"submit"},Object(E.b)("rich_editor.Add")))}}const Y=({onConfirm:e,onClose:t})=>h.createElement(k.a,{headerCopy:Object(E.b)("rich_editor.Are_you_sure_you_want_to_delete_this"),onClose:t,secondaryCloseCopy:Object(E.b)("rich_editor.Cancel"),size:"small"},h.createElement(k.c,{type:"button",theme:"destroy",onClick:e},Object(E.b)("rich_editor.Delete")));var z=n("qAuv"),G=n("MTFr"),K=n("/nlg"),W=n("7kXS");let J=function(e){return e.FAILED="FAILED",e.PROCESSING="PROCESSING",e.SUCCESSFUL="SUCCESSFUL",e.UPLOADING="UPLOADING",e.INVALID="INVALID",e.EMPTY="EMPTY",e}({});const X={activeDragCounter:0,asset:null,errors:[],isDeleting:!1,isDisabled:!1,displayImageUrl:"",isShowingDeleteAssetModal:!1,progress:0,uploaderStatus:J.EMPTY};let Z;class Q extends h.Component{constructor(e){super(e),this.reduce=e=>new Promise(t=>{this.setState(((e,t)=>{switch(t.type){case"STARTED_UPLOAD":return{...e,uploaderStatus:J.UPLOADING,isDisabled:!0,progress:0};case"PROCESSING_UPLOAD":return{...e,uploaderStatus:J.PROCESSING};case"COMPLETED_UPLOAD":return{...e,uploaderStatus:J.SUCCESSFUL,isDisabled:!1,progress:100};case"INVALID_UPLOAD":return{...e,uploaderStatus:J.INVALID,errors:[t.error]};case"FAILED_UPLOAD":return{...e,uploaderStatus:J.FAILED,isDisabled:!1,errors:[t.error]};case"RESET":return{...X};case"OPENED_MODAL":return{...e,isShowingDeleteAssetModal:!0};case"CLOSED_MODAL":return{...e,isShowingDeleteAssetModal:!1};case"DRAG_OVER":return{...e,activeDragCounter:1};case"DRAG_LEAVE":return{...e,activeDragCounter:0};case"UPDATE_PROGRESS":return{...e,progress:t.progress};default:return e}})(this.state,e),()=>t(null))}),this.handleReset=()=>this.reduce({type:"RESET"}),this.handleDrop=e=>{e.preventDefault(),this.reduce({type:"DRAG_LEAVE"}),Object(A.a)(e)&&this.handleFileSelect(e.dataTransfer.files[0])},this.handleFileSelect=e=>{this.handleUpload(e)},this.handleUpload=async e=>{const t=((e,t)=>{const n=R(e);return t.includes(n)?Object(A.b)(e,P(n)):[Object(E.b)("uploaders.File_type_not_supported")]})(e,this.props.allowedFileTypes);if(t&&t.length>0)return this.reduce({type:"INVALID_UPLOAD",error:t});await this.reduce({type:"STARTED_UPLOAD"});const n={params:JSON.parse(window.s3_upload.params),s3_upload_url:window.s3_upload.url},a=Object(W.a)(e,n.params);try{Object(A.c)(n.s3_upload_url,n.params.key,e,a,this.handleUploadFailure,this.handleUploadSuccess,this.handleUploadProgress)}catch(t){this.reduce({type:"FAILED_UPLOAD",error:Object(K.a)(t)})}},this.handleUploadSuccess=e=>{const{s3Key:t,fileName:n,contentType:a,updatedAt:i,fileSize:r}=e,{attachableAssoc:o,attachableId:s}=this.props;var c;this.reduce({type:"PROCESSING_UPLOAD"}),(c={s3Key:t,fileName:n,fileSize:r,contentType:a,updatedAt:i,attachableAssoc:o,id:s},Object(O.d)(I,{input:c})).then(e=>this.handleUploadComplete(e.upload.asset.id)).catch(this.handleUploadFailure)},this.handleUploadComplete=e=>{this.props.onUploadComplete(e)},this.handleUploadFailure=e=>this.reduce({type:"FAILED_UPLOAD",error:e}),this.handleUploadProgress=e=>this.reduce({type:"UPDATE_PROGRESS",progress:e}),this.handleDragEnter=()=>this.reduce({type:"DRAG_OVER"}),this.handleDragLeave=()=>this.reduce({type:"DRAG_LEAVE"}),this.handleCloseDeleteAssetModal=()=>this.reduce({type:"CLOSED_MODAL"}),this.handleOpenDeleteAssetModal=()=>this.reduce({type:"OPENED_MODAL"}),this.state=X;const{iconName:t,maxFileSizeText:n,copyOverrides:a,fileAccept:i}=e;Z=Object(G.e)({UploadSuccess:({onDeleteAsset:e,onFileSelect:t,onCloseDeleteAssetModal:n,onOpenDeleteAssetModal:i,state:r})=>h.createElement(G.c,{onDeleteAsset:e,onFileSelect:t,onCloseDeleteAssetModal:n,onOpenDeleteAssetModal:i,state:r,copyOverrides:a}),EmptyState:({activeDragCounter:e,onDragLeave:r,onDragEnter:o,onDrop:s,onFileSelect:c,theme:l,uploadLimit:d})=>h.createElement(G.a,{activeDragCounter:e,onDragLeave:r,onDragEnter:o,onDrop:s,onFileSelect:c,theme:l,uploadLimit:d,iconName:t,maxFileSizeText:n,copyOverrides:a,fileAccept:i}),ProcessingState:({isDeleting:e,onFileSelect:t,theme:n,timeElapsed:i})=>h.createElement(G.b,{isDeleting:e,onFileSelect:t,theme:n,timeElapsed:i,copyOverrides:a})})}render(){return h.createElement(Z,{state:this.state,uploadLimit:this.props.uploadLimit,onDeleteAsset:this.handleReset,onUploadReset:this.handleReset,onDragLeave:this.handleDragLeave,onDragEnter:this.handleDragEnter,onDrop:this.handleDrop,onFileSelect:this.handleFileSelect,onCloseDeleteAssetModal:this.handleCloseDeleteAssetModal,onOpenDeleteAssetModal:this.handleOpenDeleteAssetModal,theme:p.a})}}const ee={changeFile:Object(E.b)("uploaders.Change_video"),deleteFile:Object(E.b)("uploaders.Delete_video"),deletingFile:Object(E.b)("uploaders.Deleting_video"),uploadCta:Object(E.b)("uploaders.Drag_or_drop_video_here"),uploadCtaMobile:Object(E.b)("uploaders.Upload_a_video"),feelFreeToMoveOn:Object(E.b)("uploaders.Please_wait_while_we_process_your_file")};class te extends h.Component{constructor(...e){super(...e),this.state={isFetching:!1,uploadLimit:{bytes:0,megabytes:0,contentTypes:[]}}}componentDidMount(){this.setState(()=>({isFetching:!0}),()=>T({fileType:N.X.ASSET_VIDEO}).then(e=>{this.setState({isFetching:!1,uploadLimit:e})}))}render(){if(this.state.isFetching)return null;const e=Object(E.b)("uploaders.It_must_be_a_valid_video_file_type")+" "+Object(E.b)("uploaders.no_larger_than_file_size",{megabytes:this.state.uploadLimit.megabytes});return h.createElement(Q,{iconName:"icon--video",copyOverrides:ee,attachableId:this.props.attachableId,attachableAssoc:this.props.attachableAssoc,onUploadComplete:this.props.onUploadComplete,uploadLimit:this.state.uploadLimit,maxFileSizeText:e,fileAccept:this.state.uploadLimit.contentTypes.join(","),allowedFileTypes:[F.VIDEO]})}}const ne=e=>{const{encodingState:t,encodingError:n}=e,a=t===N.c.ENCODING,i=t===N.c.FAILED;return a||i?h.createElement(h.Fragment,null,h.createElement(z.a,{height:28,mdHeight:35},a&&h.createElement(G.f,{message:Object(E.b)("uploaders.Encoding"),secondaryMessage:Object(E.b)("uploaders.Please_wait_while_we_encode"),barAtoms:["bg-soft-black","animation-pulse","animation-500"]}),i&&h.createElement(G.f,{barAtoms:["kds-bg-danger-bold"],message:Object(E.b)("uploaders.Encoding_failed"),secondaryMessage:n||Object(E.b)("uploaders.There_was_a_problem_encoding"),secondaryCTA:{message:Object(E.b)("uploaders.Try_again"),action:e.onReset}})),h.createElement(ae,null)):h.createElement(h.Fragment,null,h.createElement(te,{onUploadComplete:e.onUploadComplete,attachableAssoc:e.attachableAssoc,attachableId:e.attachableId}),h.createElement(ae,null))},ae=()=>h.createElement("div",{className:"my5 text-center relative"},h.createElement("span",{className:"border-bottom border-grey-500 absolute l0 r0 w100p t50p"}),h.createElement("span",{className:"dark-grey-400 inline-block bg-white px3 z1 relative"},Object(E.b)("uploaders.Or"))),ie={embedError:"",embedUrl:"",isEmbedSubmitting:!1,encodingState:null,encodingError:""};class re extends h.Component{constructor(...e){super(...e),this.mounted=!1,this.state=ie,this.handleEmbedUrlChange=e=>{this.setState({embedUrl:e})},this.handleEmbedError=e=>{this.setState({embedError:e})},this.submitVideoEmbed=()=>{const{embedUrl:e}=this.state;Object(j.d)(Object(j.a)(e))?(this.setState({isEmbedSubmitting:!0}),Object(j.b)(e).then(this.handleEmbedSuccess).catch(this.handleEmbedFailure)):this.handleEmbedError(Object(E.b)("rich_editor.Please_enter_a_valid_URL"))},this.handleEmbedSuccess=e=>{const{embedUrl:t}=this.state;this.setState({isEmbedSubmitting:!1}),this.props.dispatch(Object(i.k)(e,t)),this.props.onClose()},this.handleEmbedFailure=()=>{this.setState({isEmbedSubmitting:!1}),this.handleEmbedError(Object(E.b)("rich_editor.There_was_a_problem_embedding"))},this.handleEncodingSuccess=e=>{this.mounted&&this.setState(()=>({encodingState:N.c.ENCODED}),()=>{const{onClose:t,dispatch:n,onUploadSuccess:a}=this.props;n(Object(i.n)(e.id,e.renderedHtml)),a(),t()})},this.handleEncodingFailure=e=>{this.mounted&&this.setState({encodingError:e.message,encodingState:N.c.FAILED})},this.handleAssetPolling=e=>{D(e).then(this.handleEncodingSuccess).catch(this.handleEncodingFailure)},this.handleUploadComplete=e=>{this.setState(()=>({encodingState:N.c.ENCODING}),()=>this.handleAssetPolling(e))},this.isModalDirty=()=>this.state.encodingState===N.c.ENCODING||this.state.encodingState===N.c.ENCODED,this.onReset=()=>{this.setState(ie)},this.onBeforeUnload=e=>{if(this.isModalDirty())return e.returnValue="",""},this.onConfirmBeforeClose=()=>{this.isModalDirty()?window.confirm(Object(E.b)("uploaders.Are_you_sure_you_want_to_exit"))&&this.props.onClose():this.props.onClose()}}componentDidMount(){this.mounted=!0,window.addEventListener("beforeunload",this.onBeforeUnload)}componentWillUnmount(){this.mounted=!1,window.removeEventListener("beforeunload",this.onBeforeUnload)}render(){return h.createElement(k.a,{onClose:this.onConfirmBeforeClose,headerCopy:Object(E.b)("rich_editor.Add_video"),secondaryCloseCopy:Object(E.b)("rich_editor.Cancel"),size:"large",grabFocus:!1},h.createElement(ne,{onReset:this.onReset,encodingState:this.state.encodingState,encodingError:this.state.encodingError,onUploadComplete:this.handleUploadComplete,attachableAssoc:this.props.attachableAssoc,attachableId:this.props.attachableId}),h.createElement(y.b,{id:"oembedUrlPrompt",inputValue:this.state.embedUrl,hasErrors:Boolean(this.state.embedError),label:Object(E.b)("rich_editor.Paste_a_URL_youtube"),onChange:this.handleEmbedUrlChange,atoms:["mt4"]},h.createElement("span",{className:"red"},this.state.embedError)),h.createElement("div",{className:"mt2"},h.createElement(k.c,{onClick:this.submitVideoEmbed,theme:this.props.theme.name,disabled:!Boolean(this.state.embedUrl)},this.state.isEmbedSubmitting?Object(E.b)("rich_editor.Adding"):Object(E.b)("rich_editor.Add"))))}}var oe=n("SmhT"),se=n("1uWx");const ce=e=>e.keyCode===oe.l?"space":!0===e.metaKey&&e.keyCode===oe.f?"link":Object(c.getDefaultKeyBinding)(e);var le=n("RBqt"),de=n("inqH"),ue=n("Nz1K");const me=({href:e,onTrashClick:t,onConvertToLink:n})=>{const a=Object(ue.a)(e).innerHTML;return h.createElement(de.a,null,h.createElement("div",{className:"relative"},h.createElement("div",{className:"relative"},h.createElement("div",{dangerouslySetInnerHTML:{__html:a}})),h.createElement("div",{className:"absolute t2 r2 bg-white px2 shadow-2 radius2px flex items-center"},h.createElement("button",{type:"button",className:" px2",onClick:n},h.createElement(b.a,{atoms:["fill-dark-grey-500 hover-item-fill-blue-600"],name:"icon--link",size:"20"})),h.createElement(fe,{onClick:t}))))},pe=e=>{const{rawHtml:t,onTrashClick:n}=e,i=Object(a.i)(t);return h.createElement("div",{className:"relative"},h.createElement("div",{dangerouslySetInnerHTML:{__html:i}}),h.createElement("div",{className:"absolute t2 r2 bg-white px2 shadow-2 radius2px flex items-center"},h.createElement(fe,{onClick:n})))},he=({block:e,blockProps:{dispatch:t,setCurrentModal:n}})=>{const a=e.getData(),r=()=>{n("REMOVE_ASSET"),t(Object(i.g)(e))};switch(a.get("type")){case"AUDIO":{const e=a.get("sources");return h.createElement(ge,{onTrashClick:r,sources:e})}case"OEMBED":{const n=a.get("href");return h.createElement(me,{onTrashClick:r,onConvertToLink:()=>{t(Object(i.g)(e)),t(Object(i.h)()),t(Object(i.m)(n,n))},href:n})}case"IMAGE":const o=a.get("alt"),s=a.get("caption"),c=a.get("href"),l=a.get("src");return h.createElement(_e,{alt:o,caption:s,src:l,href:c,onTrashClick:r,onEditImageClick:()=>{n("IMAGE"),t(Object(i.f)(e))}});case"VIDEO":{const e=a.get("rawHtml");return h.createElement(pe,{onTrashClick:r,rawHtml:e})}default:return h.createElement("div",null)}},fe=({onClick:e})=>h.createElement("button",{type:"button",className:"hover-target px2 py3",onMouseDown:e},h.createElement(b.a,{atoms:["fill-dark-grey-500","hover-item-fill-blue-600"],name:"trash",size:"medium"})),ge=({onTrashClick:e,sources:t})=>h.createElement("div",{className:"flex items-center relative w100p bg-grey-300 p2"},h.createElement("audio",{className:"w90p",controls:!0},Object.keys(t).map(e=>h.createElement("source",{key:e,src:t[e],type:e})),"Your browser does not support the audio element."),h.createElement("div",{className:"ml-auto block bg-white px2 shadow-2 radius2px flex items-center"},h.createElement(fe,{onClick:e}))),_e=({alt:e,caption:t,href:n,src:a,onTrashClick:i,onEditImageClick:r})=>{const o=e||t;return h.createElement("div",{className:"relative"},h.createElement("div",{className:"absolute t2 r2 bg-white px2 shadow-2 radius2px flex items-center"},n&&h.createElement("a",{className:"px2 py3 px2 hover-target",href:n,onMouseDown:()=>window.location.href=n},h.createElement(le.a,{atoms:["hover-item-blue-600"],color:"dark-grey-500",type:"body-100"},n.substring(0,8)+"...")),h.createElement("button",{type:"button",className:"hover-target px2 py3",onMouseDown:r},h.createElement(b.a,{atoms:["fill-dark-grey-500","hover-item-fill-blue-600"],name:"pencil",size:"medium"})),h.createElement("button",{type:"button",className:"hover-target px2 py3",onMouseDown:i},h.createElement(b.a,{atoms:["fill-dark-grey-500","hover-item-fill-blue-600"],name:"trash",size:"medium"}))),h.createElement("img",{alt:o,role:o?void 0:"presentation",src:a}),t&&h.createElement("figcaption",{className:"type-12 type-13-md dark-grey-500"},t))},be=(e,t,n)=>{const a=/Android|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent||navigator.vendor);return!Object(d.a)("rich_text_embedifier")||a?"not-handled":((e,t,n)=>{const a=[/(^https:\/\/vimeo.com\/\d+)((?!\s).)*$/,/(^https:\/\/www.instagram.com\/p\/)((?!\s).)*$/,/(^https:\/\/www.youtube.com\/watch)((?!\s).)*$/,/(^https:\/\/www.twitch.tv\/videos\/\d+)((?!\s).)*$/,/(^https:\/\/www.facebook.com\/\w+\/videos\/\d+)((?!\s).)*$/,/(^https:\/\/\w+.bandcamp.com\/(album|releases))((?!\s).)*$/,/(^https:\/\/www.scribd.com\/(article|audiobook|book|snapshot|document))((?!\s).)*$/,/(^https:\/\/sketchfab.com\/3d-models)((?!\s).)*$/,/(^https:\/\/twitter.com\/\w+\/status)((?!\s).)*$/,/(^https:\/\/www.twitch.tv\/\w+)((?!\s).)*$/,/(^https:\/\/soundcloud.com)((?!\s).)*$/,/(^https:\/\/youtu.be)((?!\s).)*$/,/(^https:\/\/audiomack.com)((?!\s).)*$/].some(t=>t.test(e)),r=t.getSelection(),o=t.getCurrentContent().getBlockForKey(r.getAnchorKey());return!a||0!==o.getLength()&&" "!==o.getText()?a&&0===r.getStartOffset()&&0!==r.getEndOffset()?(n(Object(i.j)()),c.Modifier.removeRange(t.getCurrentContent(),r,"forward"),Object(j.b)(e).then(t=>{n(Object(i.k)(t,e)),n(Object(i.d)())}),"handled"):"not-handled":(n(Object(i.j)()),Object(j.b)(e).then(t=>{n(Object(i.k)(t,e)),n(Object(i.d)())}),"handled")})(e,t,n)};var ve=n("ZCb5"),ke=n("xXH7"),ye=n.n(ke);const Ee=e=>{const t=(new DOMParser).parseFromString(e,"text/html"),n=t.querySelectorAll("div.template.asset figure.image img");if(0===n.length)return e;n.forEach(e=>{var t;const n=e.parentNode,a=null==n?void 0:n.parentNode,i=null==a?void 0:a.parentNode,r=null==a||null===(t=a.dataset)||void 0===t?void 0:t.id;if(i&&n&&a&&r)if(e.dataset.id=r,e.classList.add("template","asset"),"A"===i.tagName){var o;const t=i.cloneNode();t.appendChild(e),n.prepend(t),null===(o=i.parentNode)||void 0===o||o.replaceChild(n,i)}else i.replaceChild(n,a)});return(new XMLSerializer).serializeToString(t)},je=e=>e.replace(/<div[^>]+?data-href="(.*?)".*?<\/div>/gms,'<div url="$1"></div>'),we=e=>{const t=(new DOMParser).parseFromString(e,"text/html");t.querySelectorAll("figure.video_upload").forEach(e=>{var n;const a=(null===(n=e.querySelector("img"))||void 0===n?void 0:n.src)||"",i=e.querySelector("div");if(i){const n=i.dataset.dimensions||"",{width:r,height:o}=JSON.parse(n),s=t.createElement("div");s.style.backgroundImage=`url("${a}")`,s.style.backgroundSize="cover",s.style.width=r||"100%",s.style.height=o||"300px",s.style.textAlign="center",s.style.position="relative";const c=document.createElement("div");c.className="button play_button_dark radius2px disabled",c.style.position="absolute",c.style.margin="0",c.style.top="50%",c.style.transform="translateY(-50%)",c.style.border="2px solid #FFFFFF",c.style.backgroundColor="#282828",c.style.borderRadius="0",c.style.height="54px";const l=document.createElement("div");l.className="ksr-icon__play",c.appendChild(l),s.appendChild(c),e.replaceChild(s,i)}});return(new XMLSerializer).serializeToString(t)},Se=({dispatch:e,placeholder:t,state:n,theme:g=p.a,ToolBar:k=ve.b,hasErrors:y,hasWarnings:E,tracking:S,maxWidth:O,checkForPossiblePII:N,rawDispatch:C,...I})=>{const{editorState:x,content:T,storyRteVersion:A,errors:D,imageAltText:P,imageCaption:R,imageSrc:F,imageUrl:L,key:M,subjectBlock:U,showRemoveLink:V,attachableId:B,attachableAssoc:$,linkText:z,linkUrl:G,showLoader:K}=n.story,[W,J]=Object(h.useState)(null),[X,Z]=Object(h.useState)(null),Q=()=>J(null),ee=Object(h.useMemo)(()=>(e=>ye()(we,je,Ee)(e))(T),[A]),te=window.location.pathname.includes("edit/story"),ne=window.location.pathname.includes("edit/promotion"),ae=window.location.pathname.includes("posts/freeform")||window.location.pathname.includes("posts/interview"),ie=te||ne||ae&&Object(d.a)("ckeditor_project_updates"),oe=te,le=()=>{if(!oe)return;document.querySelectorAll(".header-anchor").forEach(e=>{e.remove()});const e=document.querySelector(".ck-content"),t=document.querySelector(".rte__wrapper > .relative"),n=Array.from(document.querySelectorAll(".ck-content > h3")),a=Array.from(document.querySelectorAll(".ck-content figure[data-anchor]")),i=n.concat(a);for(let n=0;n<i.length;n+=1){const a=i[n];if("H3"!==a.tagName&&!a.dataset.anchor)continue;const r=document.createElement("svg"),o=f.a.createElement(b.a,{name:"icon--heading",size:"24",atoms:["header-anchor"],id:n+"-header-anchor"});null==t||t.appendChild(r),r.outerHTML=_.a.renderToString(o);const s=document.getElementById(n+"-header-anchor");s&&(s.style.left=(null==e?void 0:e.offsetLeft)-60+"px",s.style.top=a.offsetTop+"px")}};Object(h.useEffect)(()=>(window.addEventListener("resize",le),()=>{window.removeEventListener("resize",le)}));const de={attachableId:B,attachableAssoc:$,onUploadStart:()=>{if(ae&&Object(d.a)("ckeditor_project_updates")){document.querySelectorAll(".js-disable-while-uploading").forEach(e=>{e.setAttribute("disabled","true")})}C&&C(Object(m.e)())},onUploadComplete:()=>{if(ae&&Object(d.a)("ckeditor_project_updates")){document.querySelectorAll(".js-disable-while-uploading").forEach(e=>{e.removeAttribute("disabled")})}C&&C(Object(m.c)())}};return f.a.createElement("div",Object.assign({},I,{className:Object(u.a)("rte__wrapper","kds-bg-surface-primary",y&&"rte__wrapper--error",E&&"rte__wrapper--warning",I.className),onClick:()=>{X&&X.editing.view.focus()},role:"textbox"}),f.a.createElement("div",{className:Object(s.b)("relative left-align",{"px2 px7-md":ie})},!ie&&f.a.createElement(k,{dispatch:e,editorState:x,showRemoveLink:V,tracking:S,setCurrentModal:J}),K&&f.a.createElement(f.a.Fragment,null,f.a.createElement("div",{className:"gradient-transparent-to-white absolute t1 r0 z-toolbar-3 w50p w20p-md h8"}),f.a.createElement("div",{className:"absolute t3 r3 z-toolbar-3"},f.a.createElement(l.a,null))),f.a.createElement("div",{className:Object(s.b)("rte__editor rte__content",{ckeditor:ie}),style:{maxWidth:O?O+"px":"auto"}},ie?f.a.createElement(o.CKEditor,{editor:r.a,config:Object(v.a)({uploadAdapterConfig:de,editorConfig:{placeholder:t},showAnchors:oe}),data:ee,onChange:(t,n)=>{const a=n.getData();e(Object(i.o)(a)),setTimeout(le,10)},onReady:e=>{setTimeout(le,1e3),Z(e)}}):f.a.createElement(c.Editor,{blockRendererFn:t=>{if("atomic"===t.getType())return{component:he,editable:!1,props:{dispatch:e,setCurrentModal:J}}},blockStyleFn:e=>{const t=e.getType(),n=e.getText();return"unstyled"===t?""===n?"mb1":"mb4":""},editorState:x,handleKeyCommand:t=>((e,t,n,r)=>{switch(e){case"space":return n(Object(i.p)(Object(a.b)(t))),"handled";case"split-block":return n(Object(i.p)(Object(a.a)(t))),"handled";case"bold":return n(Object(i.p)(c.RichUtils.toggleInlineStyle(t,se.b.style))),"handled";case"link":return r?(Object(j.c)(n,t,r),"handled"):"not-handled";case"italic":return n(Object(i.p)(c.RichUtils.toggleInlineStyle(t,se.j.style))),"handled";case"underline":default:return"not-handled"}})(t,x,e,J),handleBeforeInput:t=>((e,t,n)=>". "===e?(n(Object(i.p)(Object(a.g)(t))),"handled"):"not-handled")(t,x,e),handlePastedText:t=>be(t,x,e),keyBindingFn:ce,key:M,onChange:t=>e(Object(i.p)(t)),placeholder:t,readOnly:!!W,spellCheck:!0,autoCorrect:"off"}))),"IMAGE"===W&&f.a.createElement(H,{onClose:Q,dispatch:e,errors:D,imageAltText:P,imageCaption:R,subjectBlock:U,imageUrl:L,uploaderState:n.imageUploader,imageSrc:F,theme:g}),"VIDEO"===W&&f.a.createElement(re,{onClose:Q,attachableAssoc:$,attachableId:B,onUploadSuccess:()=>{S&&S.videoUploaded&&S.videoUploaded()},dispatch:e,theme:g}),"AUDIO"===W&&f.a.createElement(w,{theme:g,dispatch:e,onClose:Q}),"LINK"===W&&f.a.createElement(q,{onClose:Q,theme:g.name,dispatch:e,linkUrl:G,linkText:z,tracking:S,checkForPossiblePII:N}),"REMOVE_ASSET"===W&&f.a.createElement(Y,{onClose:()=>{e(Object(i.b)()),Q()},onConfirm:()=>{e(Object(i.h)()),Q()}}))};var Oe=n("L+5T")},g84z:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e=window.location.href)=>e&&""!==e&&"?"!==e&&(e.includes("#")||e.includes("?"))?(e.includes("?")&&(e=e.split("?").pop()),(e=/^[?#]/.test(e)?e.slice(1):e).includes("#")&&(e=e.split("#")[0]),e.split("&").reduce((e,t)=>{let[n,a]=t.split("=");return e[decodeURIComponent(n)]=a?decodeURIComponent(a.replace(/\+/g," ")):"",e},{})):{}},gMis:function(e,t,n){"use strict";n.r(t);var a=n("+2Rf"),i=n.n(a),r=n("SmhT");n("JqCU");const o=new Promise(e=>{i()(()=>e(i()("#growl_section")))});var s;function c(e){e.fadeOut("fast"),s&&s.length&&s.focus()}o.then(e=>{e.on("click",(function(e){var t;i()(e.target).is(i()(this))&&((t=i()(this)).fadeOut("fast"),t.removeClass("sticky"),t.find("div.jGrowl-notification:parent").each((function(){i()(this).data("jGrowl")&&(i()(this).data("jGrowl").sticky=!1)})))})),i()(document).on("keydown",(function(t){t.which===r.d&&e.is(":visible")&&c(e)}))});const l=async(e,t)=>{const n=await o;i.a.each(e,(function(e,a){void 0===t&&(t={}),"error"===e&&(t.sticky=!0,n.addClass("sticky")),n.jGrowl(a,i.a.extend(t,{theme:e,closeTemplate:'<button class="jGrowl-close-x" aria-label="close notification"><span class="ksr-icon__close" aria-hidden="true"></span></button>',beforeOpen:function(){var e;(e=n).fadeIn("fast"),s=i()(":focus"),e.find(".jGrowl-notification").attr("tabindex",-1).focus()},close:function(){c(n)}}))}))};window.growl=l,t.default=l},gN63:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return p}));var a=n("gCJq"),i=n("n+nq"),r=n("0RKZ"),o=n("PhMr");const s=e=>c(e)[1],c=e=>{const t=Object(r.a)(e).split("-");if(2==t.filter(String).length)return t;throw new Error("Invalid GraphQL RelayId")},l=(e,t)=>Object(r.b)(`${e}-${t}`),d=(e,t,n)=>{(e=>e&&"string"!=typeof e&&"Document"===e.kind)(e)&&(e=Object(a.print)(e)),n||(n={});const{projectShareToken:r,...s}=n,c={method:"POST",body:JSON.stringify({query:e,variables:t,...s}),credentials:"same-origin",headers:{"X-CSRF-Token":Object(i.b)(document),"Content-Type":"application/json"}};return r&&(c.headers["Project-Share-Token"]=r),fetch("/graph",c).then(e=>200==e.status?Promise.resolve(e):(console.error("GraphQL Network Error:",e.statusText),Promise.reject(new Error("Failed to fetch")))).then(Object(o.a)("json"))},u=(e,t)=>new Promise((n,a)=>{d(e,t,{}).then(e=>{e.errors?a(e.errors):n(e.data)}).catch(e=>a(e))}),m=(e,{retryCount:t,onRetry:n})=>{const{query:a,variables:i,params:r}=e;return d(a,i,r).catch(a=>{if(0===t)throw a;return n&&n({error:a,fetchArgs:e,retryCount:t}),m(e,{retryCount:t-1,onRetry:n})})},p=(e,t)=>{if(Array.isArray(e)){const n=e.map(e=>"object"==typeof e&&"message"in e&&"string"==typeof e.message?e.message:t);return n.filter((e,t)=>n.indexOf(e)>=t).join(", ")}return t}},gNPL:function(e,t,n){"use strict";var a=n("xG9w"),i=n("GRmu"),r=n("0VSk"),o=(n("huWg"),n("y9ho"),n("q+rZ"),n("+2Rf"),n("+2Rf")),s=function(e,t){var n=this;this.options=o.extend({},this.default_options,t),Object.keys(this.constructor.decorator).forEach((function(e){var a=[n.constructor.decorator[e]];"function"==typeof t[e]&&a.push(t[e]),n.options[e]=function(){for(var e=0;e<a.length;e+=1)a[e].apply(n,arguments)}})),this.$input=e,this.$form=e.closest("form"),this.$container=e.closest(".js-asset-upload"),this.uploading_files=[]};s.prototype.raise=function(e){this.$input.trigger("error"),this.$form.trigger("ksr_file_upload:reset"),Object(i.a)({error:e}),this.$container.removeClass("uploading")},s.prototype.default_options={type:"POST",dataType:"text",mimeTypes:[],paramsUrl:null},s.prototype.identifier_for_file=function(e){return e.name+e.size+e.type+e.lastModified},(s.decorator={}).add=function(e,t){var n=this,i=t.files[0],s=i.name.replace(/\s+/g,"_"),c=this.identifier_for_file(i);if(this.options.mimeTypes&&this.options.mimeTypes.length>0&&this.options.mimeTypes.indexOf(i.type)<0)return this.raise(r.default.t("library.adhoc_fileuploader.This_is_not_a_valid_file_type")),!1;this.options.paramsUrl?o.ajax({url:this.options.paramsUrl,type:"GET",data:{filename:s,filetype:i.type},success:function(e){t.paramName="file",t.formData=a.default.map(e.params,(function(e,t){return{name:t,value:e}})),t.submit(),n.uploading_files.push(c)},error:function(){n.raise(r.default.t("library.adhoc_fileuploader.Theres_something_wrong_with_the_filename_Please",{file_name:i.name}))}}):(t.submit(),this.uploading_files.push(c))},s.decorator.done=function(e,t){var n=t.files[0],a=this.identifier_for_file(n);this.uploading_files=this.uploading_files.filter((function(e){return e!==a})),this.uploading_files.length||(this.$container.removeClass("uploading"),window.onbeforeunload=this.previous_onbeforeunload)},s.decorator.submit=function(){this.$container.addClass("uploading"),this.previous_onbeforeunload=window.onbeforeunload;var e=this;window.onbeforeunload=function(){if(e.$container.hasClass("uploading"))return r.default.t("library.adhoc_fileuploader.Your_upload_has_not_completed_yet_Click_Stay")}},s.decorator.progress=function(e,t){var n=this.$container.find(".progress"),a=n.filter(".tmpl");if(a.length){var i=t.formData[2].value.replace(/[^\w-_+]/g,"_");(n=this.$container.find("."+i)).length||(n=a.clone().addClass(i).removeClass("tmpl"),o(".progress:last").after(n))}var s=parseInt(t.loaded/t.total*100,10);n.find(".bar").css("width",s+"%"),n.find(".percentage").text(s+"%"),100===s&&(n.addClass("finished"),n.find(".percentage").text(r.default.t("library.adhoc_fileuploader.Processing")))},s.decorator.fail=function(){this.raise(r.default.t("library.adhoc_fileuploader.There_was_an_error_with_this_file_Please_try_a_different"))},o.fn.adhoc_fileuploader=function(e){o(this).each((function(){var t=new s(o(this),e);o(this).fileupload(t.options)}))}},gY5S:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("D6l6"),o=n("yQm5"),s=n.n(o);n("RIhn");i()((function(){i()(document).ajaxSend((function(e,t,n){var a,r;"GET"!==n.type&&(a=n.url,""===(r=new s.a(a).domain())||r===new s.a(window.location.href).domain())&&t.setRequestHeader("X-CSRF-Token",i()('meta[name="csrf-token"]').attr("content"))})),i()("form[data-ksrjson]").livequery((function(){var e=i()([]);i()(this).attr("data-target")?e=i()(i()(this).attr("data-target")):i()(this).closest(".ajax-container").length?e=i()(this).closest(".ajax-container"):i()(this).closest(".modal_dialog").length>0&&(e=i()(this)),e.length>0&&r.a.enable_form(i()(this),e)})),i()(document).on("click","a[data-ksrjson]",(function(e){var t=i()(this),n=i()(t.attr("data-target"));return e.preventDefault(),0===n.length&&(n=t.closest(".ajax-container")),0===n.length||r.a.get(t.attr("href"),t.attr("data-ksrmethod"),n,this)}))}))},"gtN/":function(e,t,n){"use strict";var a=n("YEaP"),i=n("+2Rf");n("+2Rf");!function(e){function t(e,t){return a.a.pageX(e)-t.offset().left}e.fn.draggable_bar=function(n,a){return a||(a=n,n=null),this.each((function(){var i=e(this),r=null,o=0;i.on("mousedown touchstart",n,(function(n){var a=e(n.target);r=n.target,o=t(n,a)})),i.on("mousedown touchstart mousemove touchmove",n,(function(e){var n;r&&(n=t(e,i)/i.width())>0&&n<1&&a(n,r,o)})),e(document).on("mouseup touchend",(function(){r=null}))}))}}(i)},gyzc:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var a=n("iuhU"),i=n("c5x8"),r=n("sezs"),o=n("6zsG"),s=n("aT40"),c=n("9jZ4"),l=n("q1tI"),d=n.n(l),u=n("evi+"),m=n("vhN2");const p=d.a.forwardRef(({atoms:e,children:t,isLoading:n=!1,isDisabled:a=!1,onPress:i,style:r,compact:c,icon:l,iconAfter:m,variant:p,asChild:h,...f},g)=>{const _={atoms:e,children:t,isDisabled:a,onPress:i,style:r,compact:c,icon:l,iconAfter:m,isLoading:n,variant:p,...f},{designProps:b,buttonProps:v}=E(_),k=[t,r,...Array().concat(null!=e?e:[])].some(s.a);if(h&&k&&console.warn("KDSButton cannot use render functions with asChild prop"),h&&!k){var y;const e={...v,className:v.className,style:v.style};return d.a.createElement(o.a,Object.assign({},e,{slot:null!==(y=e.slot)&&void 0!==y?y:void 0}),t)}return d.a.createElement(u.a,Object.assign({},v,{ref:g}),e=>d.a.createElement(j,b,Object(s.a)(t)?t(e):t))}),h=d.a.forwardRef((e,t)=>{const{buttonProps:n,designProps:a}=E(e),{children:i}=n;return d.a.createElement(S,{asChild:!0},d.a.createElement(m.a,Object.assign({},n,{ref:t}),e=>d.a.createElement(j,a,Object(s.a)(i)?i(e):i)))}),f=d.a.forwardRef(({destructive:e=!1,...t},n)=>d.a.createElement(S,Object.assign({variant:e?"filled/destructive":"filled"},t,{ref:n}))),g=d.a.forwardRef((e,t)=>d.a.createElement(S,Object.assign({variant:"filled/inverted"},e,{ref:t}))),_=d.a.forwardRef(({destructive:e=!1,...t},n)=>d.a.createElement(S,Object.assign({variant:e?"borderless/destructive":"borderless"},t,{ref:n}))),b=d.a.forwardRef(({destructive:e=!1,asPrimary:t=!1,...n},a)=>d.a.createElement(S,Object.assign({variant:e?"outlined/destructive":t?"filled":"outlined"},n,{ref:a}))),v=d.a.forwardRef((e,t)=>d.a.createElement(S,Object.assign({variant:"old-school"},e,{ref:t}))),k=d.a.forwardRef((e,t)=>d.a.createElement(S,Object.assign({variant:"transparent"},e,{ref:t}))),y=d.a.forwardRef((e,t)=>d.a.createElement(S,Object.assign({variant:"unstyled"},e,{ref:t})));function E({atoms:e,compact:t,icon:n,iconAfter:a,isLoading:r,slot:o,variant:s,...c}){const l=[t&&w.isCompact];return{designProps:{compact:t,icon:n,iconAfter:a,isLoading:r,variant:s},buttonProps:{className:Object(i.b)(["kds-button",l,e,c.className]),"data-variant":s,slot:o,...c,isDisabled:c.isDisabled||r}}}const j=({children:e,icon:t,iconAfter:n,isLoading:i})=>{const o=!Object(c.d)(e),s=[Object(a.b)({"is-only":t&&!o,"is-after":o&&t&&n})],l="string"==typeof t&&d.a.createElement(r.a,{name:t,atoms:s});return d.a.createElement(d.a.Fragment,null,l||t,e,i&&d.a.createElement("div",{className:"kds-button__spinner"},d.a.createElement(r.a,{name:"icon--spinner"})))},w={isCompact:"is-compact",isIconAfter:"is-after",states:{default:"",hover:':hover, [data-hovered="true"]',focused:':focus, [data-focused="true"]',"focus-visible":':focus-visible, [data-focus-visible="true"]',pressed:':active, [data-pressed="true"]',disabled:':disabled, [data-disabled="true"]'},variants:{filled:'[data-variant="filled"]',"filled/inverted":'[data-variant="filled/inverted"]',"filled/destructive":'[data-variant="filled/destructive"]',borderless:'[data-variant="borderless"]',"borderless/destructive":'[data-variant="borderless/destructive"]',outlined:'[data-variant="outlined"]',"outlined/destructive":'[data-variant="outlined/destructive"]',"old-school":'[data-variant="old-school"]',transparent:'[data-variant="transparent"]',unstyled:'[data-variant="unstyled"]'}},S=Object.assign(p,{AsLink:h,Filled:f,Inverted:g,Borderless:_,Outlined:b,OldSchool:v,Transparent:k,Unstyled:y})},h135:function(e,t,n){"use strict";t.a='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M7 5C7 3.34315 8.34315 2 10 2H14C15.6569 2 17 3.34315 17 5V6H20C20.5523 6 21 6.44772 21 7C21 7.55228 20.5523 8 20 8H19V19C19 20.6569 17.6569 22 16 22H8C6.34315 22 5 20.6569 5 19V8H4C3.44772 8 3 7.55228 3 7C3 6.44772 3.44772 6 4 6H7V5ZM9 6H15V5C15 4.44772 14.5523 4 14 4H10C9.44772 4 9 4.44772 9 5V6ZM7 8H9V20H8C7.44772 20 7 19.5523 7 19V8ZM11 20V8H13V20H11ZM15 20H16C16.5523 20 17 19.5523 17 19V8H15V20Z" fill="#3C3C3C"/>\n</svg>\n'},h4vE:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("ECYc"),o=n("NxQb");const s=["#NS__discover_advanced_sentence","#NS_discover__categories","#NS_discover__filters","#NS_discover__landing","#NS_discover__locations","#NS_discover__sorts","#admin-menu","#admin-nav","#backings_index","#credit_cards_new","#discover_advanced","#help_stats","#navbar","#pledges_new","#projects_learn_refresh","#projects_show","#users_edit_account",".NS-admin_submissions__edit",".NS-features__toggle",".NS-friends",".NS-projects__admin_keyboard_control",".NS_admin_projects__review_panel_user",".NS_layouts__admin_navigation",".NS_layouts__notifications",".NS_pledges__shipping_select",".NS_project_profiles__project_link",".NS_projects__content",".NS_projects__creator_nav",".NS_projects__description_section",".NS_projects__hero_spotlight",".NS_projects__project_share",".NS_projects__spotlight_onboarding",".NS_site__about_subnav",".NS_site__founding_story",".NS_survey_questions__address",".NS_users__profile",".blog_posts_show",".js-nav--subnav",".js-project-community-content",".js-project-description-content",".js-project-faqs-content",".pledges__checkout_faqs","body#activity_index","body#backer_report_index","body#jobs_index","body#mobile_index","body#pledges_edit","body#pledges_new","body#posts_edit","body#projects_dashboard","body#site_about","body#site_press","body#survey_responses_new","body#surveys_form","body#users_edit_profile","body.discover","body.mobile","body.profile","body.survey_responses","div.NS_admin_submissions__macro_controls"].reduce((e,t)=>(e[t]=!0,e),{});function c(e,t){i()((function(){const n=i()(e),a=n.length>0;a&&t(n),a&&Object(o.a)("track_define_namespace")&&!0!==s[e]&&r.a.increment(`define_namespace,selector=${JSON.stringify(e)},present=${a}`)}))}window.define_namespace=c,t.a=c},hL3N:function(e,t,n){"use strict";var a=n("SmhT"),i=n("+2Rf");n("+2Rf");!function(e){function t(t){t.each((function(){var t=e(this),n=t.find("option:selected");t.siblings(".js-title, .title").text(n.text().trim()||n.data("altLabel"))}))}e.fn.ksrSelect=function(){var n=e(this);n.find(".js-ksr-select").livequery((function(){t(e(this).find("select"))})),n.on("focus blur",".js-ksr-select select",(function(){e(this).parent().toggleClass("is-focus")})),n.on("change",".js-ksr-select select",(function(){t(e(this))})),n.on("keydown",".ksr-icon__arrow-down, .ss-delete, .js-filter-arrow, .js-filter-delete",(function(t){var n=e(this),i=t.keyCode;i!==a.c&&i!==a.l||(t.preventDefault(),(n.hasClass("ss-delete")||n.hasClass("js-filter-delete"))&&n.parent().find(".ksr-icon__arrow-down, .js-filter-arrow").focus(),n.click())}))},e.fn.ksr_val=function(n){var a=e(this);if(void 0!==n){var i=a.val(n);return t(a),i}return a.val()}}(i)},hL71:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));let a=function(e){return e.AT="AT",e.BE="BE",e.CH="CH",e.DE="DE",e.DK="DK",e.ES="ES",e.FR="FR",e.GB="GB",e.GR="GR",e.IE="IE",e.IT="IT",e.LU="LU",e.NL="NL",e.NO="NO",e.PL="PL",e.SE="SE",e.SI="SI",e}({}),i=function(e){return e.CkEditor="ckeditor5",e.DraftJS="draftjs",e}({})},hPy8:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"g",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"i",(function(){return s})),n.d(t,"j",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"k",(function(){return u})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return p})),n.d(t,"e",(function(){return h}));var a=n("q1tI");const i={header:{atoms:[]},body:{atoms:[]},form:{atoms:[]},link:{atoms:[]}},r=i,o=i,s=i,c=i,l=i,d={header:{atoms:["effra-heavy"]},body:{atoms:[]},form:{atoms:[]},link:{atoms:[]}},u=i,m=n.n(a).a.createContext(i),{Consumer:p,Provider:h}=m},haZ8:function(e,t,n){"use strict";var a=n("oa44");n.d(t,"a",(function(){return a.a}))},heyD:function(e,t,n){"use strict";var a=n("lX80"),i=n("LdJi"),r=n("f/gE"),o=n("q1tI"),s=n.n(o);class c extends o.Component{constructor(e){super(e),this.componentDidMount=()=>{this.state.ready&&this.execute()},this.componentDidUpdate=(e,t)=>{this.state.ready&&!t.ready&&this.execute()},this.componentWillUnmount=()=>{null!==this.readyCheck&&clearInterval(this.readyCheck)},this.execute=()=>{const{sitekey:e,verifyCallback:t,action:n}=this.props;window.grecaptcha.execute(e,{action:n}).then(t),this.setState(()=>({hasExecuted:!0}))},this.isBrowser=()=>"undefined"!=typeof window,this.isLoaded=()=>this.isBrowser()&&void 0!==window.grecaptcha,this.isReady=()=>this.isLoaded()&&"function"==typeof window.grecaptcha.execute,this.setReady=()=>{this.setState(()=>({ready:!0}))},this.updateReadyState=()=>{this.isLoaded()&&(window.grecaptcha.ready(this.setReady),clearInterval(this.readyCheck),this.readyCheck=null)},this.render=()=>s.a.createElement("div",null),this.updateReadyState=this.updateReadyState.bind(this),this.setReady=this.setReady.bind(this),this.state={ready:this.isReady(),hasExecuted:!1},this.isBrowser()&&(this.readyCheck=this.state.ready?null:window.setInterval(this.updateReadyState,this.isLoaded()?0:1e3))}}c.defaultProps={sitekey:window.recaptcha_v3_site_key};var l=c,d=n("94td"),u=n("0iCA"),m=n("VF4V"),p=n("KPfJ");var h=({message:e})=>s.a.createElement("div",{className:"border-box text-center ml2"},s.a.createElement("span",{className:"red-500 type-12"},e)),f=n("iN0+");const g=({creator:e,projectId:t,messageCreatorData:n,dispatch:o})=>s.a.createElement(i.a,null,s.a.createElement(r.a,null,s.a.createElement(a.a,null,s.a.createElement(m.a,{as:"span"},Object(d.b)("project_page.message_creator.To_creator",{creator_name:e.name})),s.a.createElement("textarea",{rows:"12",autoFocus:!0,placeholder:Object(d.b)("project_page.message_creator.Type_your_message"),value:n.body,onChange:e=>{e.preventDefault(),o(Object(p.f)(e.target.value))},className:"border-box p2 border-soft-black"}))),s.a.createElement(r.a,{atoms:["mt3"]},s.a.createElement(a.a,null,n.isSuspicious?s.a.createElement(u.a,{sitekey:window.recaptcha_v2_site_key,onChange:e=>{o(Object(p.c)(e))}}):s.a.createElement(l,{action:"send_message",invisible:!0,verifyCallback:e=>{o(Object(p.c)(e))}}))),s.a.createElement(r.a,{atoms:["mt3"]},s.a.createElement(a.a,{atoms:["flex","items-center"]},s.a.createElement("button",{type:"button",disabled:!n.body,className:"bttn bttn-primary theme--support bttn-medium",onClick:()=>{o(Object(p.d)(n.body,e.id,t))}},Object(d.b)("project_page.message_creator.Send_Message")),!!n.error&&s.a.createElement(h,{message:n.error})))),_=()=>s.a.createElement(i.a,null,s.a.createElement(r.a,null,s.a.createElement(a.a,{atoms:["text-center"]},s.a.createElement("p",{className:"red-500"},Object(d.b)("project_page.message_creator.Sorry_you_cant")))));t.a=({creator:e,projectId:t,messageCreatorData:n,dispatch:a,currentUser:i})=>Object(f.a)(e,i)?s.a.createElement(g,{creator:e,projectId:t,messageCreatorData:n,dispatch:a}):s.a.createElement(_,null)},hqPT:function(e,t,n){n("+2Rf");var a=n("+2Rf");
/*!
 * sync_form plugin by Sam
 *
 * Examples:
 *
 *  $('form').sync_form({ success: function(data) { ... reload form ... } });
 *
 *
 */
a((function(){a.fn.sync_form=function(e){var t=a(this),n=function(){};e=e||{},t.data("updating")?t.data("dirty",(t.data("dirty")||[]).concat(e)):(t.data("updating",!0),a.ajax({type:e.type||t.attr("method"),url:e.url||t.attr("action"),data:e.data||t.serialize(),dataType:"json",global:!1,context:t,beforeSend:e.beforeSend,success:function(i){(e.success||n).apply(this,arguments),t.trigger("form_synced",[i]),t.data("dirty")&&t.data("dirty").length&&setTimeout((function(){for(var e={};a.isEmptyObject(e)&&t.data("dirty").length;)e=t.data("dirty").shift();t.sync_form(e)}),100),i.url&&t.attr("action",i.url)},error:e.error,complete:function(){(e.complete||n).apply(this,arguments),t.data("updating",!1)}}))}}))},iLvj:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);n("yvkg");i.a.fn.spin.presets.ksr={className:"",lines:8,length:4,width:2,radius:5,speed:2}},"iN0+":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t)=>Boolean(t&&e.id!==t.id)},ijK7:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return d})),n.d(t,"h",(function(){return u})),n.d(t,"i",(function(){return m})),n.d(t,"g",(function(){return p})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return f}));var a=n("Te9D"),i=n.n(a),r=n("v83y");const o=e=>t=>{if(""===t.getText().trim()){const n=t.getKey(),a=e.getCurrentContent().getBlockAfter(n),i=a&&a.getType(),r=e.getCurrentContent().getBlockBefore(n);return[r&&r.getType(),i].includes("atomic")?"":"<br />"}return null},s=e=>({blockRenderers:{atomic:e=>{const t=e.getData().get("type"),n=e.getData().get("href");switch(t){case"OEMBED":return`\n            <div class="template oembed" contenteditable="false" data-href='${n}'>\n              <a href=${n} target="_blank">${n}</a>\n            </div>\n          `;case"AUDIO":case"VIDEO":return`<div class="template asset" contenteditable="false" data-id="${e.getData().get("id")}" />`;case"IMAGE":const t=e.getData().get("id"),a=e.getData().get("alt"),r=e.getData().get("caption"),o=`<a href="${n}">`,s="</a>",c=`<div class="template asset" contenteditable="false" data-id="${t}" data-alt-text="${i()(a)}" data-caption="${i()(r)}"/>`;return n?`${o}${c}${s}`:c;default:return""}},unstyled:o(e)}}),c=(e,t=null)=>{const n=e.getSelection(),a=e.getCurrentContent(),i=a.getBlockForKey(n.getStartKey()),r=i.getKey(),o=[];let s;return i.findEntityRanges(e=>{if(null!==e.getEntity()){const n=a.getEntity(e.getEntity());if(!t||t&&n.getType()===t)return s={entityKey:e.getEntity(),blockKey:i.getKey(),entity:a.getEntity(e.getEntity())},!0}return!1},(e,t)=>{n.hasEdgeWithin(r,e,t)&&o.push({...s,start:e,end:t})}),o},l=(e,t)=>e.getCurrentContent().getBlockForKey(t.blockKey).getText().slice(t.start,t.end),d=e=>{const t=e.getSelection();return e.getCurrentContent().getBlockForKey(t.getAnchorKey()).getText().slice(t.getStartOffset(),t.getEndOffset())},u=(e,t,n,a=" ")=>{const i=r.Modifier.insertText(e,t," ",void 0,void 0),o=r.Modifier.insertText(i,t,a,void 0,n);return r.Modifier.insertText(o,t," ",void 0,void 0)},m=e=>e.replace(/^[^\S\r\n]+|[^\S\r\n]+$|\n/gm,""),p=e=>{const t=e.getSelection(),n=e.getCurrentContent(),a=r.Modifier.replaceText(n,t," ");return r.EditorState.push(e,a,"insert-characters")},h=e=>{const t=e.getSelection(),n=t.getFocusOffset(),a=e.getCurrentContent(),i=a.getBlockForKey(t.getAnchorKey()),o=new r.SelectionState({anchorKey:i.getKey(),anchorOffset:n,focusKey:i.getKey(),focusOffset:n}),s=r.Modifier.insertText(a,o," "),c=r.EditorState.push(e,s,"insert-characters"),l=o.merge({anchorOffset:n+1,focusOffset:n+1});return r.EditorState.forceSelection(c,l)},f=e=>{const t=e.getCurrentContent(),n=e.getSelection(),a=r.Modifier.splitBlock(t,n),i=r.EditorState.push(e,a,"split-block"),o=r.Modifier.setBlockType(i.getCurrentContent(),i.getSelection(),"unstyled");return r.EditorState.push(e,o,"split-block")}},inqH:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("lSCD"),i=n.n(a),r=n("q1tI");class o extends r.Component{componentDidMount(){this.loadEmbedly()}callEmbedly(){window.embedly("on","card.resize",()=>{"function"==typeof this.props.onResize&&this.props.onResize()})}getScript(){const e=document.createElement("script");e.src="//cdn.embedly.com/widgets/platform.js",e.async=!0,e.onload=()=>{this.callEmbedly()},document.body.appendChild(e)}loadEmbedly(){i()(window.embedly)?this.callEmbedly():this.getScript()}render(){return this.props.children}}},ioZw:function(e,t,n){"use strict";var a=n("1OuE"),i=n("P0CJ"),r=n("zm9w"),o=n("0VSk");t.a=function(e){var t;if(e.completed=!!e.backer_completed_at,e["is_"+e.status]=!0,e.formatted_deadline=Object(a.a)("ll",1e3*e.project.deadline),e.formatted_money="dummy"===e.status?"":r.b.money(e.amount,{currency:e.project.currency}),e.formatted_status=o.default.t("presenters.backings.row.status."+e.display_status),e.formatted_fulfillment_status=o.default.t("backings.collected.fulfillment_status."+e.fulfillment_status),e.project_state=function(e){switch(e.project.state){case"canceled":return o.default.t("presenters.backings.row.Canceled");case"failed":return o.default.t("presenters.backings.row.Unsuccessful");case"live":return o.default.t("presenters.backings.row.In_progress");case"successful":return o.default.t("presenters.backings.row.Successful");case"suspended":return o.default.t("presenters.backings.row.Suspended");default:return""}}(e),e.pledge_url=`/projects/${(t=e.project).creator.slug}/${t.slug}/pledge`,e.reward){var n=e.reward.reward;if(e.formatted_reward=n.length>57?n.substring(0,57)+"…":n,e.reward.estimated_delivery_on){const t=1e3*e.reward.estimated_delivery_on;e.formatted_estimated_delivery_on=Object(a.a)("MMM YYYY",Object(i.a)(t))}}if(e["is_"+e.last_sentiment_answer]=!0,e.is_last_sentiment_null=null===e.last_sentiment_answer,e.messages&&(e.formatted_messages_count=o.default.t("presenters.backings.row.messages_count",{count:e.messages.count,formatted_count:r.b.format_number(e.messages.count,{precision:0})}),e.formatted_messages_last_activity_at=Object(a.a)("ll",1e3*e.messages.last_activity_at)),e.incremental)if(e.payment_increments_count===e.collected_payment_increments_count)e.payment_increments_total_charged_message=o.default.t("presenters.backings.row.All_charges_collected");else{const t=e.collected_payment_increments_total_amount;e.payment_increments_total_charged_message=o.default.t("presenters.backings.row.Total_payment_increment_collected_amount",{total_collected_increment_amount:t}),e.payment_increments_charges_count_message=o.default.t("presenters.backings.row.Collected_charges_count",{collected_payment_increments_count:e.collected_payment_increments_count,payment_increments_count:e.payment_increments_count})}return e}},iqnZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var a=n("n+nq"),i=n("gN63"),r=n("zm9w"),o=n("GRmu"),s=n("NP8z"),c=n("q1tI");const l=e=>"number"==typeof e?e:parseFloat(e||"0"),d=(e,t,n)=>({amount:!(l(e.amount)>=l(n)),shipping:t&&!e.selectedShippingRule}),u=(e,t)=>e.find(e=>{var n,a;return(null==e||null===(n=e.location)||void 0===n?void 0:n.name)===(null==t||null===(a=t.location)||void 0===a?void 0:a.countryName)})||null,m=({shippingRules:e,user:t,currency:n,usdType:m,minAmount:p,rewardId:h,shippingEnabled:f})=>{var g;const _=u(e,t),b=l(p)+l(null==_||null===(g=_.cost)||void 0===g?void 0:g.amount),[v,k]=Object(c.useState)({amount:parseInt(b.toString(),10).toString(),currency:n,currencySymbol:r.b.currency_symbol(n,{usd_type:m}),errors:{amount:!1,shipping:!1},loading:!1,rewardId:h,selectedShippingRule:u(e,t),usdType:m}),y=e=>{const t={...v,...e};k({...t,errors:d(t,f,p)})},E=Object(c.useCallback)((({amount:e,rewardId:t,selectedShippingRule:n},r)=>async c=>{var l,d,u;c.preventDefault(),r({loading:!0});const m=((null===(l=window.current_project)||void 0===l||null===(d=l.data)||void 0===d||null===(u=d.urls)||void 0===u?void 0:u.web.project)||"")+"/pledge",p=t?Object(s.f)(t):"0",h=(null==n?void 0:n.location.id)?Object(i.a)(n.location.id):void 0;try{const t=await fetch(m,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-Token":Object(a.b)(document)},body:JSON.stringify({clicked_reward:!0,backing:{amount:e,backer_reward_id:p,location_id:h}})});if(t.redirected)return void window.location.assign(t.url);const n=await t.json();return void(n.data.errors?(Object(o.a)({error:n.data.errors}),r({loading:!1})):200===n.status&&window.location.assign(n.data.new_checkout_url))}catch(e){r({loading:!1}),console.error(e)}})(v,y),[v]);return{pledgeData:v,updateShippingRule:e=>{y({selectedShippingRule:e,amount:l(p)+l(null==e?void 0:e.cost.amount)})},updatePledgeAmount:e=>y({amount:e}),submitPledge:E}}},itcf:function(e,t,n){"use strict";var a=n("yQm5"),i=n.n(a);const r=function(e){return"undefined"!=typeof api_oauth_token?i()(e).addQuery("oauth_token",api_oauth_token).toString():e};window.oauth_url=r,t.a=r},j3NK:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);n("RIhn");!function(){function e(e,t){var n,a,i,r=("normal"===(a=(n=e).css("line-height"))?1.2*parseInt(n.css("font-size"),10):parseInt(a,10))*t;return e.css("max-height",r+"px"),(i=e[0]).clientHeight<i.scrollHeight}i()(".js-line-clamp").livequery((function(){var t=i()(this),n=i()(this).find(".clamped"),a=t.find(".fade,.expand");!function(e,t){var n=e.parents(":hidden:last"),a=n.attr("style");n.length&&n.show(),t(),n.length&&(void 0===a?n.removeAttr("style"):n.attr("style",a))}(t,(function(){!function(e){var t,n=e.children(":not(.fade)").last();t=parseInt(n.css("padding-bottom"),10)+parseInt(n.css("margin-bottom"),10),e.css("margin-bottom",t),n.css("padding-bottom",0),n.css("margin-bottom",0)}(n),e(n,t.data("lines"))&&(a.show(),a.one("click",(function(e){e.preventDefault(),e.stopPropagation(),function(e){e.css("max-height",e[0].scrollHeight+"px")}(n),a.hide()})))}))}))}()},j4ny:function(e,t,n){n("+2Rf");var a=n("+2Rf");a.fn.tabs=function(){return a(this).each((function(){var e=a(this);e.on("activate",(function(t,n){var i=a(n),r=a("#"+i.data("pane"));e.data("pane")&&e.data("pane").trigger("deactivated"),e.data("pane",r.trigger("activated"))})),e.children().on("click",(function(){a(this).parent().trigger("activate",a(this))}))}))},a.fn.panes=function(){var e=a(this);return e.each((function(){e.children().on("activated",(function(){a(this).show()})).on("deactivated",(function(){a(this).hide()}))}))}},j7ql:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n("qOpA"),i=n.n(a),r=n("Bcse"),o=n.n(r),s=n("iuhU"),c=n("c5x8"),l=n("sezs"),d=n("kS+J"),u=n("q1tI"),m=n.n(u),p=n("ItMN"),h=n("ZT9a"),f=n("PVbS");function g({asIcon:e=!1,strategy:t,...n}){var a;const{defaultStrategy:i}=null!==(a=v())&&void 0!==a?a:{},{triggerProps:r,tooltipProps:{atoms:o,...d}}=_(n),u=Object(c.b)(["kds-tooltip",o],d),p="string"==typeof r.children?r.children:null,h=e?m.a.createElement(l.a,{name:"icon--info",size:"sm",atoms:"inline-block",color:n.iconColor||""}):null,{isDisabled:b}=r;return m.a.createElement(f.b,r,p||h?m.a.createElement(g.Trigger,{isDisabled:b,className:Object(s.b)(h&&"inline-flex items-center")},null!=h?h:p):r.children,m.a.createElement(f.a,Object.assign({offset:8},d,{className:u,"data-strategy":null!=t?t:i}),e=>m.a.createElement(g.Content,null,"function"==typeof d.children?d.children(e):d.children)))}g.Trigger=e=>{const t=Object(u.useRef)(null),{className:n,children:a}=e,{focusableProps:i}=Object(p.b)(e,t),r=function({isDisabled:e,excludeFromTabOrder:t,tabIndex:n=0}){switch(!0){case e:return;case t:return-1;default:return n}}(e);return m.a.createElement("span",Object.assign({ref:t},Object(h.a)({className:n},{className:"kds-tooltip__trigger",tabIndex:r},i),{"aria-disabled":e.isDisabled||void 0}),a)},g.Content=d.b;const _=({asIcon:e,description:t,...n})=>{var a,r;const s={...i()(["children","isDisabled","closeDelay","delay","isOpen","trigger","onOpenChange","defaultOpen"],n),delay:null!==(a=n.delay)&&void 0!==a?a:500,closeDelay:null!==(r=n.closeDelay)&&void 0!==r?r:150};return{triggerProps:s,tooltipProps:{...o()(Object.keys(s),n),children:t}}};const b=Object(u.createContext)(void 0),v=()=>Object(u.useContext)(b);g.Context=({children:e,defaultStrategy:t="absolute"})=>m.a.createElement(b.Provider,{value:{defaultStrategy:t}},e)},jBhg:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);i()((function(){"autofocus"in document.createElement("input")||i()(".js-auto_focus").first().focus()}))},jI4B:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("sezs"),i=(n("mv45"),n("q1tI")),r=n.n(i);const o=()=>r.a.createElement("div",{className:"border-box flex justify-center kds-p-06",style:{minHeight:"60dvh"}},r.a.createElement(a.a,{name:"icon--spinner"}))},jQIB:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("q1tI"),i=n("TIPN");class r extends a.Component{constructor(e){super(e),this.domNode=null,this.handleRef=this.handleRef.bind(this)}componentDidMount(){if(null===this.domNode||this.props.disabled)return;const e=this.domNode.getBoundingClientRect().top+(window.pageYOffset||document.documentElement.scrollTop)+this.props.offset;if(this.props.intoView){const e=window.pageYOffset||document.documentElement.scrollTop,t=window.innerHeight,n=e+t,a=e+this.domNode.getBoundingClientRect().top+this.props.offset,r=e+this.domNode.getBoundingClientRect().bottom+this.props.offset;a<e?Object(i.e)({to:a,duration:this.props.scrollDuration,easing:this.props.scrollEasing}):r>n&&Object(i.e)({to:Math.min(a,r-t),duration:this.props.scrollDuration,easing:this.props.scrollEasing})}else Object(i.e)({to:e,duration:this.props.scrollDuration,easing:this.props.scrollEasing})}handleRef(e){null!==e&&(this.domNode=e)}render(){return a.createElement("div",{ref:this.handleRef},this.props.children)}}r.defaultProps={scrollDuration:300,scrollEasing:"easeInCubic",disabled:!1,offset:0,intoView:!1}},jSx7:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"f",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return u}));const a=(e,t)=>{const n=[];return e.map(e=>{const a=t.find(t=>t.id===e);a&&n.push(a)}),n},i=(e,t)=>e.map(e=>{var n;return{id:e.id,amount:{currency:e.amount.currency,amount:e.amount.amount,symbol:e.amount.symbol},available:e.available,backersCount:e.backersCount||0,remainingQuantity:e.remainingQuantity,description:e.description,limitPerBacker:e.limitPerBacker,limit:e.limit,name:e.name,estimatedDeliveryOn:e.estimatedDeliveryOn,shippingPreference:e.shippingPreference,shippingSummary:e.shippingSummary,startsAt:e.startsAt,endsAt:e.endsAt,isMaxPledge:e.isMaxPledge,shippingRules:l(e.simpleShippingRulesExpanded),items:s(e.items)||[],allowedAddons:r(e.allowedAddons,t),image:c(e.image),isPostCampaignPledgingEnabled:e.postCampaignPledgingEnabled,audienceData:{secret:(null===(n=e.audienceData)||void 0===n?void 0:n.secret)||!1},featured:e.featured}}),r=(e,t)=>{if(null===e||void 0===t)return[];{var n;const a=(null==e||null===(n=e.nodes)||void 0===n?void 0:n.filter(e=>null==e?void 0:e.id).map(e=>null==e?void 0:e.id))||[];return t.filter(e=>a.includes(e.id))}},o=e=>e.filter(e=>null!==e).map(e=>({id:e.id,amount:{currency:e.amount.currency,amount:e.amount.amount,symbol:e.amount.symbol},available:e.available,remainingQuantity:e.remainingQuantity,description:e.description,limitPerBacker:e.limitPerBacker,limit:e.limit,name:e.name,estimatedDeliveryOn:e.estimatedDeliveryOn,shippingPreference:e.shippingPreference,shippingSummary:e.shippingSummary,startsAt:e.startsAt,endsAt:e.endsAt,isMaxPledge:e.isMaxPledge,shippingRules:l(e.simpleShippingRulesExpanded),items:s(e.items)||[],image:c(e.image),isPostCampaignPledgingEnabled:e.postCampaignPledgingEnabled,audienceData:{secret:e.audienceData.secret},featured:e.featured})),s=e=>(null==e?void 0:e.edges)?e.edges.map(e=>{var t,n;return{id:(null==e||null===(t=e.node)||void 0===t?void 0:t.id)||"",name:(null==e||null===(n=e.node)||void 0===n?void 0:n.name)||"",quantity:(null==e?void 0:e.quantity)||0}}):[],c=e=>e?{id:e.id,url:e.url||"",altText:e.altText}:null,l=e=>e.map(e=>({cost:{amount:(null==e?void 0:e.cost)||""},estimatedMin:{amount:(null==e?void 0:e.estimatedMin)||""},estimatedMax:{amount:(null==e?void 0:e.estimatedMax)||""},location:{id:(null==e?void 0:e.locationId)||"",name:(null==e?void 0:e.locationName)||""}})),d="0",u={id:d,amount:{currency:null,amount:"0",symbol:null},available:!0,backersCount:0,remainingQuantity:null,description:"",limitPerBacker:1,limit:null,name:null,estimatedDeliveryOn:null,shippingPreference:null,shippingSummary:null,startsAt:null,endsAt:null,isMaxPledge:!1,shippingRules:[],items:[],allowedAddons:[],image:null,isPostCampaignPledgingEnabled:!1,audienceData:{secret:!1},featured:!1}},jWXa:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);i()(document).on("click",".js-removeable .js-remove",(function(){var e=i()(this);return e.data("confirm")&&!confirm(e.data("confirm"))||i.a.post(e.attr("href"),{_method:"delete"},(function(){e.parents(".js-removeable").fadeOut(400,(function(){i()(this).remove()}))})),!1}))},jWgx:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("q1tI"),i=n.n(a),r=n("aaNh"),o=n("RwCH");const s=()=>i.a.createElement("div",{className:"hide-lg flex items-center justify-between px3"},i.a.createElement(r.a,null),i.a.createElement("div",{className:"flex items-center"},i.a.createElement("div",{className:"pl2"},i.a.createElement(o.a,{interaction:"like"})),i.a.createElement("div",{className:"pl2"},i.a.createElement(o.a,{interaction:"dislike"}))))},jmGY:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return m}));var a=n("relC"),i=n("sezs"),r=n("q1tI"),o=n.n(r),s=n("ZT9a"),c=n("Ktal"),l=n("tODT"),d=n("c5x8");function u({atoms:e,children:t,isDisabled:n,isReadOnly:r,...c}){const{fieldProps:{isInvalid:m},fieldProps:p,isRequired:h,...f}=Object(a.b)(c);return o.a.createElement(a.a,Object.assign({},Object(s.a)(p,{className:Object(d.a)(e,"kds-legacy-select")}),{"data-readonly":r||void 0,"data-disabled":n||void 0}),o.a.createElement(l.a,null,o.a.createElement(u.Control,Object(s.a)(f,{"aria-invalid":m||void 0,className:"kds-input-group__control kds-legacy-select__control",disabled:n||r,"data-readonly":r||void 0,required:h}),t),!c.multiple&&o.a.createElement("span",{className:"kds-legacy-select__icon",role:"presentation"},o.a.createElement(i.a,{name:"icon--chevron-down"}))))}u.Control=e=>{const t=o.a.useContext(c.b),n=t&&"htmlFor"in t?null==t?void 0:t.htmlFor:void 0;return o.a.createElement("select",Object.assign({id:n},e))};const m=e=>o.a.createElement("option",e)},jmLK:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n("mv45"),i=n("eEls"),r=n("w2Ho"),o=n("sIuw"),s=n("q1tI"),c=n.n(s),l=n("IrSn"),d=n("aYzK");n("VX74"),n("DE4Y");const u={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UndislikeProject"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"trackingContext"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"undislikeProject"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"projectId"}}},{kind:"ObjectField",name:{kind:"Name",value:"trackingContext"},value:{kind:"Variable",name:{kind:"Name",value:"trackingContext"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"project"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"project"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Project"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"pid"}},{kind:"Field",name:{kind:"Name",value:"isDisliked"}},{kind:"Field",name:{kind:"Name",value:"isLiked"}},{kind:"Field",name:{kind:"Name",value:"isWatched"}},{kind:"Field",name:{kind:"Name",value:"isWatchable"}},{kind:"Field",name:{kind:"Name",value:"isLaunched"}}]}}]};const m=Object(a.j)(u,e=>({children:e.ownProps.children,undislikeProject:()=>(e.ownProps.onClick(),e.mutate({variables:{projectId:e.ownProps.projectId,trackingContext:e.ownProps.trackingContext}}))}))(({undislikeProject:e,children:t})=>c.a.createElement(l.a,{onClick:e,isActive:!0},t)),p={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DislikeProject"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"trackingContext"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dislikeProject"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"projectId"}}},{kind:"ObjectField",name:{kind:"Name",value:"trackingContext"},value:{kind:"Variable",name:{kind:"Name",value:"trackingContext"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"project"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"project"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Project"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"pid"}},{kind:"Field",name:{kind:"Name",value:"isDisliked"}},{kind:"Field",name:{kind:"Name",value:"isLiked"}},{kind:"Field",name:{kind:"Name",value:"isWatched"}},{kind:"Field",name:{kind:"Name",value:"isWatchable"}},{kind:"Field",name:{kind:"Name",value:"isLaunched"}}]}}]};const h=Object(a.j)(p,e=>({children:e.ownProps.children,dislikeProject:()=>(e.ownProps.onClick(),e.mutate({variables:{projectId:e.ownProps.projectId,trackingContext:e.ownProps.trackingContext}}))}))(({dislikeProject:e,children:t})=>c.a.createElement(l.a,{onClick:e,isActive:!1},t)),f=Object(a.k)(d.a,e=>e.data.project?Object(a.l)({children:e.ownProps.children,trackingContext:e.ownProps.trackingContext,isDisliked:e.data.project.isDisliked,projectId:e.data.project.id,initialIsDisliked:e.ownProps.initialIsDisliked,userMetadata:Object(o.a)(e.data.me)}):{...Object(a.d)(),...e.ownProps})(e=>Object(a.i)(e)?c.a.createElement(r.a,{userMetadata:e.userMetadata},(t,n,a)=>c.a.createElement("div",{style:e.style},t?c.a.createElement(l.a,{onClick:a,isActive:!1},e.children):c.a.createElement(c.a.Fragment,null,e.isDisliked?c.a.createElement(m,Object.assign({},e,{onClick:n})):c.a.createElement(h,Object.assign({},e,{onClick:n}))))):c.a.createElement("div",{style:e.style},e.initialIsDisliked?c.a.createElement(l.a,{onClick:i.c,isActive:!0},e.children):c.a.createElement(l.a,{onClick:i.c,isActive:!1},e.children)))},jowW:function(e,t,n){"use strict";n.d(t,"b",(function(){return Bt})),n.d(t,"a",(function(){return $t}));var a=n("gN63"),i=n("Owp+"),r=n("vtU4"),o=n("q1tI"),s=n.n(o),c=n("Ty5D"),l=n("LdJi"),d=n("bpk+"),u=n.n(d),m=n("mq2H"),p=n("v+Hr"),h=n("1eGs"),f=n("8ZZx");const g=u()(),_=e=>{Object(m.n)(m.d.PAGE_VIEWED,{context_page:m.e.CREATOR_DASHBOARD,context_section:"updates",context_type:e})},b=()=>{const{PUBLISHED_POSTS:e,DRAFT_POSTS:t,POSTS_DASHBOARD:n}=f.a;return Object(o.useEffect)(()=>{const e=g.location.pathname,t=e.substring(e.lastIndexOf("/")+1);"posts_dashboard"===t||"drafts"===t?_(p.b.DRAFTS):"published"===t&&_(p.b.PUBLISHED)},[g.location]),s.a.createElement(c.e,null,s.a.createElement(c.c,{exact:!0,path:e.path,render:({match:t})=>s.a.createElement(e.Component,{projectSlug:t.params.projectSlug||"",projectCreator:t.params.projectCreator||"",state:h.b.published})}),s.a.createElement(c.c,{exact:!0,path:t.path,render:({match:e})=>s.a.createElement(t.Component,{projectSlug:e.params.projectSlug||"",projectCreator:e.params.projectCreator||"",state:h.b.draft})}),s.a.createElement(c.c,{exact:!0,path:n.path,render:({match:e})=>s.a.createElement(c.b,{to:f.a.DRAFT_POSTS.url(e.params.projectCreator||"",e.params.projectSlug||"")})}))},v=()=>o.createElement("div",{className:"py3"},o.createElement(l.a,null,o.createElement(b,null)));var k=n("94td"),y=n("msqZ"),E=n.n(y),j=n("2DJ9"),w=n("OJn5"),S=n("tr1H"),O=n("1vCr"),N=n("CPM0"),C=n("mv45"),I=n("pj8f"),x=n("TIPN"),T=n("NxQb");function A(e){return t=>{const n=Object(c.h)(),a=Object(c.i)(),i=Object(c.j)();return s.a.createElement(e,Object.assign({},t,{history:n,location:a,params:i}))}}var D=n("5FPU"),P=n("a8OY"),R=n("GnmY"),F=n("cuY2"),L=n.n(F),M=n("DI+Y");n("VX74"),n("DE4Y");const U={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CreatorInterviewPost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ComposeCreatorInterviewPostFragment"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ComposeCreatorInterviewPostFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Postable"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"actions"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"publish"}},{kind:"Field",name:{kind:"Name",value:"destroy"}},{kind:"Field",name:{kind:"Name",value:"update"}}]}},{kind:"Field",name:{kind:"Name",value:"isPublic"}},{kind:"Field",name:{kind:"Name",value:"publishedAt"}},{kind:"Field",name:{kind:"Name",value:"excludedRewards"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"hasExcludedNoRewardTier"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CreatorInterview"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creatorPrompt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"questions"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"body"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"answers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"withSkipped"},value:{kind:"BooleanValue",value:!0}},{kind:"Argument",name:{kind:"Name",value:"withBlank"},value:{kind:"BooleanValue",value:!0}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"body"}},{kind:"Field",name:{kind:"Name",value:"isSkipped"}},{kind:"Field",name:{kind:"Name",value:"question"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]}}]}}]}}]};const V={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateCreatorInterview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreateCreatorInterviewInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createCreatorInterview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creatorInterview"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]}}]};const H={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateCreatorInterview"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateCreatorInterviewInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateCreatorInterview"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creatorInterview"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ComposeCreatorInterviewPostFragment"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ComposeCreatorInterviewPostFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Postable"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"actions"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"publish"}},{kind:"Field",name:{kind:"Name",value:"destroy"}},{kind:"Field",name:{kind:"Name",value:"update"}}]}},{kind:"Field",name:{kind:"Name",value:"isPublic"}},{kind:"Field",name:{kind:"Name",value:"publishedAt"}},{kind:"Field",name:{kind:"Name",value:"excludedRewards"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"hasExcludedNoRewardTier"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CreatorInterview"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creatorPrompt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"questions"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"body"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"answers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"withSkipped"},value:{kind:"BooleanValue",value:!0}},{kind:"Argument",name:{kind:"Name",value:"withBlank"},value:{kind:"BooleanValue",value:!0}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"body"}},{kind:"Field",name:{kind:"Name",value:"isSkipped"}},{kind:"Field",name:{kind:"Name",value:"question"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]}}]}}]}}]};const B=(e,t)=>{const n=((null==e?void 0:e.nodes)?e.nodes.map(e=>e&&e.id).filter(e=>e):[])||[];return{formattedExcludedRewardIds:n,showSelectTiers:Boolean(n.length>0),hasExcludedNoRewardTier:Boolean(t)}},$=Object(C.c)(e=>{if(!e.data||!e.data.post)return Object(C.d)(e.data.error);const{title:t,actions:{publish:n,destroy:a,update:i},publishedAt:r,creatorPrompt:{questions:{nodes:o}},isPublic:s,excludedRewards:c,hasExcludedNoRewardTier:l,answers:{nodes:d}}=e.data.post,u=Boolean(r),m=o?o.filter(e=>e):[],p=d?d.filter(e=>e):[],h=e=>{const t=p.find(t=>t.question.id===e.id);return t?{id:t.id,body:t.body,skip:t.isSkipped}:{id:"",body:"",skip:!1}},f=m.map(e=>({...e,answer:h(e)}));return Object(C.l)({isPublished:u,isPublic:s,canDelete:a,canPublish:n,canUpdate:i,title:t||"",questions:f,...B(c,l)})}),q=Object(M.graphql)(U,$),Y=Object(C.b)(e=>({onCreateCreatorInterview:t=>e.mutate({variables:{input:t}})})),z=Object(M.graphql)(V,Y),G=Object(C.b)(e=>({onUpdateCreatorInterview:t=>e.mutate({variables:{input:t}})})),K=Object(M.graphql)(H,G),W={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PostIncludeReward"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PostIncludeRewardInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postIncludeReward"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostIncludeExcludeRewardFragment"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostIncludeExcludeRewardFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Postable"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"excludedRewards"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"hasExcludedNoRewardTier"}}]}}]};const J={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PostExcludeReward"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PostExcludeRewardInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"postExcludeReward"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PostIncludeExcludeRewardFragment"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PostIncludeExcludeRewardFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Postable"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"excludedRewards"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"hasExcludedNoRewardTier"}}]}}]};const X=e=>e.map(e=>({id:e,__typename:"Reward"})),Z=(e,t)=>{const{id:n,hasExcludedNoRewardTier:a,formattedExcludedRewardIds:i}=t;return{__typename:"Mutation",postExcludeReward:{__typename:"PostExcludeRewardPayload",post:{__typename:"FreeformPost",id:n,hasExcludedNoRewardTier:null===e||a,excludedRewards:{__typename:"RewardConnection",nodes:null==e?X(i):X(i).concat({id:e,__typename:"Reward"})}}}}},Q=(e,t)=>{const{id:n,hasExcludedNoRewardTier:a,formattedExcludedRewardIds:i}=t;return{__typename:"Mutation",postIncludeReward:{__typename:"PostIncludeRewardPayload",post:{__typename:"FreeformPost",id:n,hasExcludedNoRewardTier:null!==e&&a,excludedRewards:{__typename:"RewardConnection",nodes:null==e?X(i):i.reduce((t,n)=>n===e?t:t.concat({id:n,__typename:"Reward"}),[])}}}}},ee=Object(C.b)(e=>{const{mutate:t,ownProps:n}=e;return{postExcludeReward:e=>t({variables:{input:e},optimisticResponse:Z(e.rewardId,n)})}}),te=Object(M.graphql)(J,ee),ne=Object(C.b)(e=>{const{mutate:t,ownProps:n}=e;return{postIncludeReward:e=>t({variables:{input:e},optimisticResponse:Q(e.rewardId,n)})}}),ae=Object(M.graphql)(W,ne),ie=Object(C.a)(te,ae);var re=n("JhfJ"),oe=n("RBqt");const se=e=>Boolean(e.text)?o.createElement("div",{className:"border border-red-500 radius2px p3 flex mb5"},o.createElement(j.a,{atoms:["fill-red-500","mr2"],name:"icon--alert",size:"20"}),o.createElement("div",{className:"flex1"},o.createElement(oe.a,{weight:"bold"},e.text))):null;var ce=n("lHf8"),le=n("8oY9"),de=n("ZCb5"),ue=n("ZCHx"),me=n("CgNg"),pe=n("jQIB"),he=n("mEsB"),fe=n("eH4U");const ge={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Rewards"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectSlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"projectSlug"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"backersCount"},arguments:[{kind:"Argument",name:{kind:"Name",value:"withNewPmBackers"},value:{kind:"BooleanValue",value:!0}}]},{kind:"Field",name:{kind:"Name",value:"rewards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"withNewPmBackers"},value:{kind:"BooleanValue",value:!0}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"displayName"}},{kind:"Field",name:{kind:"Name",value:"backersCountWithNewPmBackers"}},{kind:"Field",name:{kind:"Name",value:"amount"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"amount"}},{kind:"Field",name:{kind:"Name",value:"currency"}}]}}]}}]}}]}}]}}]};const _e=Object(C.c)(e=>{if(!e.data||!e.data.project)return Object(C.d)(e.data.error);const{rewards:t,backersCount:n}=e.data.project,a=t&&t.nodes?t.nodes.map(e=>e&&{id:e.id,description:e.description,displayName:e.displayName,backersCount:Object(k.b)("project_updates.Backers",{count:e.backersCountWithNewPmBackers}),formattedAmount:Object(fe.a)(e.amount.amount,e.amount.currency)}):[],i=n-(t&&t.nodes?t.nodes.map(e=>e&&e.backersCountWithNewPmBackers).reduce((e,t)=>e+(t||0),0):0);return Object(C.l)({noRewardBackingsCount:i,rewards:a})}),be=Object(M.graphql)(ge,_e);var ve=n("4sJn");const ke=({width:e=16,color:t="soft-black",baseline:n=!1})=>o.createElement(ve.a,{width:e,atoms:[t,n?"valign-baseline":""],viewBox:"0 0 16 13"},o.createElement("path",{d:"M5.8 12.9L0.1 8.1C0 7.9 0 7.7 0.1 7.6L1 6.6C1.1 6.5 1.3 6.5 1.4 6.6L5.8 10.3 14.4 0.1C14.5 0 14.7 0 14.8 0.1L15.9 0.9C16 1 16 1.2 15.9 1.4L6.3 12.9C6.1 13 5.9 13 5.8 12.9Z",fill:"currentColor"}));var ye=n("/IHD");const Ee=Object(ye.a)("relative","radius2px","mr2","flex","items-center","justify-center","border","type-16"),je=Object(ye.a)("o0p","absolute","t0","l0","r0","b0","w100p","h100p","m0"),we=e=>{const t=Object(ye.a)("w3 h3",e.checked&&!e.disabled?"border-ksr-green-500 bg-ksr-green-500":"",e.checked&&e.disabled?"border-dark-grey-500 bg-dark-grey-500":"",!e.checked&&e.disabled?"border-dark-grey-500 bg-dark-grey-500":"",e.checked||e.disabled?"":"border-dark-grey-400 bg-white",Ee),n=e.disabled&&!e.checked?"transparent":e.disabled&&e.checked?"grey-500":"white",a=e.disabled?"cursor-default":"pointer",i=Object(ye.a)(je,a);return o.createElement("div",{className:"flex items-center border border-transparent border-focused-within-ksr-green-500"},o.createElement("div",{className:t},o.createElement(ke,{width:12,color:n}),o.createElement("input",{type:"checkbox",id:e.id,name:e.name,value:e.value,disabled:e.disabled,defaultChecked:e.checked,"aria-checked":e.checked,onChange:t=>e.onChange(t.currentTarget.checked),className:i})),o.createElement("label",{className:"type-16 "+a,htmlFor:e.id},e.label))};var Se=n("rcUh");const Oe=e=>0===e.noRewardBackingsCount?null:o.createElement("div",{className:"mb1"},o.createElement(we,{id:"no-reward-checkbox",name:"no-reward",label:Object(k.b)("project_updates.No_reward"),checked:!e.hasExcludedNoRewardTier,onChange:t=>e.onChangeRewardIdNotification(t,null),disabled:e.isPublished}),o.createElement(Se.a,{horizontal:2}),o.createElement("p",{className:"pl5 dark-grey-400 type-14 mb0"},Object(k.b)("project_updates.Backers",{count:e.noRewardBackingsCount}))),Ne=be(e=>{const t=e.isShowing?"block":"hide";return Object(C.h)(e)?o.createElement(j.a,{size:"medium",name:"icon--circle-loader",atoms:[t,"mx-auto","mt2"]}):Object(C.g)(e)?(I.Honeybadger.notify(JSON.stringify(e.error),{context:{tags:S.a.POST_UPDATES}}),null):o.createElement("div",{className:t},o.createElement(Se.a,{vertical:3}),o.createElement(Oe,e),e.rewards.map(t=>o.createElement("div",{className:"mb1",key:t.id},o.createElement("div",{className:"flex items-center"},o.createElement("div",{className:"flex1"},o.createElement(we,{id:"reward-"+t.id,name:"reward-"+t.id,key:"reward-"+t.id,label:t.displayName,checked:e.excludedRewardIds&&!e.excludedRewardIds.includes(t.id),onChange:n=>e.onChangeRewardIdNotification(n,t.id),disabled:e.isPublished})),o.createElement(Se.a,{horizontal:2}),o.createElement(he.a,{label:o.createElement(o.Fragment,null,o.createElement("h3",{className:"m0 type-16"},t.displayName),o.createElement("p",{className:"mt0 mb2 type-14"},t.formattedAmount," - ",t.backersCount),o.createElement("p",{className:"m0 type-14"},t.description))},o.createElement(j.a,{size:"16",name:"icon--info",atoms:["fill-dark-grey-400"]}))),o.createElement("p",{className:"pl5 dark-grey-400 type-14 mb0"},t.formattedAmount," - ",t.backersCount))))}),Ce=e=>o.createElement(o.Fragment,null,o.createElement(le.a,{id:"post-title",label:Object(k.b)("project_updates.Title")}),o.createElement("span",{className:"block pb1"}),o.createElement(me.b,{id:"post-title",autoComplete:"off",placeholder:Object(k.b)("project_updates.Incredible_start"),inputValue:e.value,onChange:e.onChange,hasErrors:Boolean(e.error),currentFocus:"post-title",charLimit:255}),e.error&&o.createElement("span",{className:"block mt1 red-500"},e.error)),Ie=e=>{const[t,n]=o.useState(!1),a=o.useRef(!0);o.useEffect(()=>{a.current&&(a.current=!1)},[t]);const i=e.value&&Object(fe.f)(e.value);return i&&!t?n(!0):!i&&t&&n(!1),o.createElement(o.Fragment,null,o.createElement(le.a,{id:"post-body",label:Object(k.b)("project_updates.Body")}),o.createElement("span",{className:"block pb1"}),o.createElement(w.a,{placeholder:Object(k.b)("project_updates.Thank_you_all_so_much"),value:e.value,onBlur:e.onChange,attachableAssoc:"body_assets",attachableId:e.postId,hasErrors:Boolean(e.error),hasWarnings:Boolean(i),ToolBar:de.a,checkForPossiblePII:!0,tracking:{videoUploaded:()=>{Object(R.e)(e.postType)},piiWarningLinkToTerms:()=>{Object(R.b)("project-update-link-modal")}},newEditor:Object(T.a)("ckeditor_project_updates")}),e.error&&o.createElement("span",{className:"red-500"},e.error),!e.error&&i&&o.createElement(pe.a,{intoView:!0,offset:100},o.createElement(k.a,{atoms:["type-14","orange-500"],i18nKey:"project_updates.Make_sure_your_linked_documents_don’t_contain_any_backer_information",link:o.createElement(ce.a,{color:"orange-500",target:"_blank",onClick:()=>Object(R.b)("project-update-body"),href:"https://www.kickstarter.com/terms-of-use#section3"},Object(k.b)("project_updates.Our_terms"))})))},xe=e=>{const t=[{value:"public",label:Object(k.b)("project_updates.Public_everyone")}];return e.prelaunchIsActive||t.push({value:"backers",label:Object(k.b)("project_updates.Backers_only")}),o.createElement(o.Fragment,null,o.createElement(le.a,{id:"post-viewable-by",label:Object(k.b)("project_updates.Visible_to")}),o.createElement("span",{className:"block pb1"}),o.createElement(ue.a,{options:t,selectedValue:e.value?t[0].value:t[1].value,onChange:t=>e.onChange("public"===t)}))},Te=e=>{const t=[{value:"all-backers",label:Object(k.b)("project_updates.All_backers")},{value:"select-tiers",label:Object(k.b)("project_updates.Select_tiers")}],n=e.showSelectTiers?"select-tiers":e.value,a="select-tiers"===e.value||e.showSelectTiers;return o.createElement(o.Fragment,null,o.createElement(le.a,{id:"post-notifications",label:Object(k.b)("project_updates.Notifications")}),o.createElement("span",{className:"block pb1"}),o.createElement(ue.a,{options:t,selectedValue:n,onChange:e.onChange,disabled:e.isPublished,id:"tier-filter"}),o.createElement(Ne,{projectSlug:e.projectSlug,isShowing:a,excludedRewardIds:e.excludedRewardIds,onChangeRewardIdNotification:e.onChangeRewardIdNotification,isPublished:e.isPublished,hasExcludedNoRewardTier:e.hasExcludedNoRewardTier}))};var Ae=n("T8n5");const De=e=>o.createElement("div",{className:"flex pb3 pb0-md"},o.createElement(j.a,{size:"20",name:"icon--lightbulb",atoms:["fill-ksr-green-500","shrink0"]}),o.createElement(Se.a,{horizontal:1}),o.createElement(Ae.a,{color:"ksr-green-500",type:"body-100"},e.text)),Pe=e=>o.createElement("div",{className:"flex-md w100p"},o.createElement("div",{className:"flex2"},e.leftCol&&e.leftCol()),o.createElement("div",{className:"flex1 ml3-md"},e.rightCol&&e.rightCol()));class Re extends o.Component{render(){const e=["project-updates-action-bar","fixed","b0","r0","h12","px2","px4-lg","z-modal-3","border-box","bg-grey-300","border-top","w100p"].join(" ");return o.createElement("div",{className:e},o.createElement("div",{className:"h100p flex items-center"},this.props.children))}}var Fe=n("pTxv"),Le=n("v9JK"),Me=n("9jZ4"),Ue=n("55Ip");class Ve extends o.Component{constructor(...e){super(...e),this.state={isDeleting:!1},this.onDelete=async()=>{this.setState({isDeleting:!0}),await this.props.onDelete(),this.setState({isDeleting:!1}),this.props.onComplete()},this.confirmDelete=()=>confirm(Object(k.b)("project_updates.Are_you_sure_you_want_to_delete"))?this.onDelete():null}render(){return o.createElement(o.Fragment,null,o.createElement("div",{className:"hide block-lg"},o.createElement("button",{type:"button",disabled:this.state.isDeleting,className:"block mx-auto mx0-md type-14 mb4 mb0-md red-500 text-underline",onClick:this.confirmDelete},this.state.isDeleting?Object(k.b)("project_updates.Deleting"):this.props.buttonText)),o.createElement("div",{className:"hide-lg"},o.createElement("button",{type:"button",disabled:this.state.isDeleting,className:"bg-transparent p0 no-border",onClick:this.confirmDelete},o.createElement(j.a,{name:"icon--trash",size:"20",atoms:["fill-soft-black"]}))))}}class He extends o.Component{constructor(...e){super(...e),this.state={isPreviewing:!1},this.onPreview=async e=>{e.persist(),await this.setState({isPreviewing:!0}),await this.props.onPreviewPost(e),this.setState({isPreviewing:!1})}}componentWillUnmount(){this.setState({isPreviewing:!1})}render(){return o.createElement(Fe.c,{theme:"support",disabled:this.state.isPreviewing,onClick:this.onPreview,atoms:["flex1","max-w40","no-wrap","mr1","mr3-md","js-disable-while-uploading"]},o.createElement("span",{className:"hide block-lg"},this.state.isPreviewing?Object(k.b)("project_updates.Previewing"):Object(k.b)("project_updates.Preview")),o.createElement("span",{className:"hide-lg"},o.createElement(j.a,{name:"icon--eye",size:"large",atoms:["fill-soft-black"]})))}}class Be extends o.Component{constructor(...e){super(...e),this.state={isSaving:!1},this.onSavePublishedPost=async e=>{await this.setState({isSaving:!0}),await this.props.onSavePublishedPost(e),this.setState({isSaving:!1})}}render(){return o.createElement(Fe.b,{type:"button",disabled:this.state.isSaving,onClick:this.onSavePublishedPost,atoms:["flex1","max-w40","no-wrap"]},this.state.isSaving?Object(k.b)("project_updates.Saving"):Object(k.b)("project_updates.Save_changes"))}}class $e extends o.Component{constructor(...e){super(...e),this.state={isSavingDraft:!1},this.onSaveDraft=async e=>{await this.setState({isSavingDraft:!0}),await this.props.onSaveDraft(e),this.setState({isSavingDraft:!1})}}render(){return o.createElement(Fe.c,{theme:"support",disabled:this.state.isSavingDraft,onClick:this.onSaveDraft,atoms:["flex1","max-w40","no-wrap","mr1","mr3-md","js-disable-while-uploading"]},o.createElement("span",{className:"hide block-lg"},this.state.isSavingDraft?Object(k.b)("project_updates.Saving"):this.props.isDirty?Object(k.b)("project_updates.Save_draft"):Object(k.b)("project_updates.Draft_saved")),o.createElement("span",{className:"hide-lg"},this.state.isSavingDraft?o.createElement(j.a,{name:"icon--circle-loader",size:"large",atoms:["fill-soft-black"]}):this.props.isDirty?o.createElement(j.a,{name:"icon--save",size:"large",atoms:["fill-soft-black"]}):o.createElement(j.a,{name:"icon--saved",size:"large",atoms:["fill-soft-black"]})))}}const qe=e=>o.createElement(Ue.b,{className:"flex1 max-w40 mr1 mr3-md",to:e.editUrl},o.createElement(Fe.c,{theme:"support",atoms:["no-wrap","border-box","w100p"]},o.createElement("span",{className:"hide block-lg"},Object(k.b)("project_updates.Edit")),o.createElement("span",{className:"hide-lg"},o.createElement(j.a,{name:"icon--pencil",size:"large",atoms:["fill-soft-black"]}))));class Ye extends o.Component{constructor(...e){super(...e),this.state={isModalShowing:!1,isPublishing:!1},this.onShowModal=()=>{this.setState({isModalShowing:!0})},this.onHideModal=()=>{this.setState({isModalShowing:!1})},this.onPublish=async e=>{await this.setState({isPublishing:!0}),await this.props.onPublish(e),this.setState({isPublishing:!1})},this.renderConfirmPublishModal=()=>{if(!this.state.isModalShowing)return null;const e={freeform:Object(k.b)("project_updates.Notifications_will_be_sent_24_hours"),interview:Object(k.b)("project_updates.Well_send_your_answers_to_backers")};return o.createElement(Le.a,{size:"small",onClose:this.onHideModal,headerCopy:Object(k.b)("project_updates.Ready_to_publish"),secondaryCloseCopy:Object(k.b)("project_updates.No_Im_not_ready")},o.createElement("p",{className:"mt0 mb3 dark-grey-500"},e[this.props.formType]),o.createElement(Fe.b,{type:"submit",theme:"support",atoms:["w100p"],onClick:this.onPublish,disabled:this.state.isPublishing},this.state.isPublishing?Object(k.b)("project_updates.Publishing"):Object(k.b)("project_updates.Yes_publish_now")))}}componentDidUpdate(e){this.props.hasErrors&&!Object(Me.j)(e,this.props)&&this.onHideModal()}render(){return o.createElement(o.Fragment,null,o.createElement(Fe.b,{theme:"create",atoms:["flex1","max-w40","js-disable-while-uploading"],onClick:this.onShowModal},Object(k.b)("project_updates.Publish")),this.renderConfirmPublishModal())}}class ze extends o.Component{constructor(...e){super(...e),this.onSubmit=(e,t)=>{const{id:n,projectCreator:i,projectSlug:o,onPublishPost:s,isPublished:c,history:l,onUpdateCreatorInterview:d}=this.props;return d({id:n,title:e.title,public:e.isPublic,answers:e.questions.map(({answer:e,id:t})=>({body:"<br />"===e.body?"":e.body,interviewQuestionId:t,skip:e.skip}))}).then(()=>{const e=r.b.VIEW_POST.url(i,o,Object(a.a)(n));if(t.publish)return s({id:n}).then(()=>{window.location.href=e});t.redirectToPost&&(c?window.location.href=e:l.push(r.b.PREVIEW_POST.url(i,o,Object(a.a)(n))))})},this.onError=(e,t)=>{Object(x.d)(),t&&I.Honeybadger.notify(t,{context:{tags:S.a.POST_UPDATES}})}}renderFormActionsBar(e){const{id:t,canDelete:n,onDeletePost:a,projectCreator:i,projectSlug:s,isPublished:c}=this.props;return o.createElement(Re,null,o.createElement("div",{className:"flex items-center justify-between w100p"},n&&o.createElement(Ve,{buttonText:c?Object(k.b)("project_updates.Delete_update_"):Object(k.b)("project_updates.Delete_draft"),onDelete:()=>a({id:t}),onComplete:()=>{window.location.href=r.a.DRAFT_POSTS.url(i,s)}}),o.createElement("div",{className:"flex flex1 items-center justify-end"},o.createElement("span",{className:"flex1"}),!c&&o.createElement(o.Fragment,null,o.createElement(He,{onPreviewPost:e.onSubmitWithExtras({publish:!1,redirectToPost:!0})}),o.createElement($e,{isDirty:e.isDirty,onSaveDraft:e.onSubmitWithExtras({publish:!1,redirectToPost:!1})}),o.createElement(Ye,{formType:"interview",hasErrors:Boolean(e.errors),onPublish:e.onSubmitWithExtras({publish:!0,redirectToPost:!1})})),c&&o.createElement(Be,{onSavePublishedPost:e.onSubmitWithExtras({publish:!1,redirectToPost:!0})}))))}renderQuestionsAndAnswers(e,t){return e.questions.map((n,a)=>{const i=n.answer.skip;return o.createElement("div",{className:"test-question pb8",key:n.id},o.createElement("div",{className:"flex items-center justify-between mb2"},o.createElement("h3",{className:"type-21 mb1 "+(i?"soft-black_50":"soft-black")},o.createElement("span",{className:"border-bottom border-ksr10-green",style:{borderWidth:"3px",lineHeight:"3.4rem"}},n.body)),o.createElement("button",{className:"test-skip-question keyboard-focusable ml3",onClick:()=>{t({...E()(`questions[${a}].answer.skip`,!i,e)})}},i?o.createElement(Ge,null):o.createElement(Ke,null))),o.createElement(L.a,{duration:500,height:i?0:"auto"},o.createElement(N.a,{enter:"fade-in-and-down",leave:"fade-out-and-up",open:!i,duration:700,mountOnEnter:!1,unmountOnExit:!1},o.createElement(w.a,{value:n.answer.body,onBlur:n=>{t({...E()(`questions[${a}].answer.body`,n,e)})},attachableAssoc:"body_assets",attachableId:n.answer.id,tracking:{videoUploaded:()=>{Object(R.e)(R.a.CreatorInterview)}},newEditor:Object(T.a)("ckeditor_project_updates")}))))})}render(){const e={questions:this.props.questions||[],title:this.props.title||"",isPublic:this.props.isPublic,notifications:"all-backers"};return o.createElement(O.a,{warnBeforeDirtyUnmount:!0,initialValues:e,validate:e=>Boolean(e.title)?{}:{title:Object(k.b)("project_updates.Title_is_required")},onSubmit:this.onSubmit,onError:this.onError},e=>o.createElement("form",{onSubmit:e.onSubmit},this.renderFormActionsBar(e),e.errors&&o.createElement(se,{text:e.errors.base||e.errors.general}),o.createElement(Pe,{leftCol:()=>o.createElement(o.Fragment,null,o.createElement(Ce,{value:e.values.title,onChange:t=>e.setValues({title:t}),error:Object(O.b)("title",e.errors)}),o.createElement(Se.a,{vertical:8}),this.renderQuestionsAndAnswers(e.values,e.setValues)),rightCol:()=>o.createElement(o.Fragment,null,o.createElement(xe,{value:e.values.isPublic,onChange:t=>{e.setValues({isPublic:t})}}),o.createElement(Se.a,{vertical:4}),o.createElement(Te,{projectSlug:this.props.projectSlug,value:e.values.notifications,onChange:t=>{e.setValues({notifications:t})},excludedRewardIds:this.props.formattedExcludedRewardIds,hasExcludedNoRewardTier:this.props.hasExcludedNoRewardTier,onChangeRewardIdNotification:(e,t)=>e?this.props.postIncludeReward({postId:this.props.id,rewardId:t}):this.props.postExcludeReward({postId:this.props.id,rewardId:t}),isPublished:this.props.isPublished,showSelectTiers:this.props.showSelectTiers}),o.createElement(Se.a,{vertical:5}),o.createElement(De,{text:Object(k.b)("project_updates.All_backers_will_be_able_to_view")}))})))}}Object(k.b)("project_updates.Public_everyone"),Object(k.b)("project_updates.All_backers");const Ge=()=>o.createElement(j.a,{name:"icon--plus",size:"20",atoms:["fill-soft-black"]}),Ke=()=>o.createElement("span",{className:"ksr-tooltip","data-tooltip":Object(k.b)("project_updates.Skip_this_question")},o.createElement(j.a,{name:"icon--cross",size:"20",atoms:["fill-soft-black"]})),We=Object(C.a)(re.c,K,q,ie,Object(D.a)(()=>({primaryText:Object(k.b)("new_creator_interview.Were_having_trouble_loading"),secondaryText:Object(k.b)("new_creator_interview.If_refreshing_this_page")})),P.b,A)(ze),Je=({id:e,projectCreator:t,projectSlug:n})=>o.createElement(l.a,null,o.createElement("section",{className:"pt14"},o.createElement("div",{className:"bold type-21 pb6"},Object(k.b)("project_updates.Edit_update"))),o.createElement(We,{id:e,projectCreator:t,projectSlug:n})),Xe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FreeformPost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ComposeFreeformPostFragment"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ComposeFreeformPostFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Postable"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"actions"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"publish"}},{kind:"Field",name:{kind:"Name",value:"destroy"}},{kind:"Field",name:{kind:"Name",value:"update"}}]}},{kind:"Field",name:{kind:"Name",value:"isPublic"}},{kind:"Field",name:{kind:"Name",value:"publishedAt"}},{kind:"Field",name:{kind:"Name",value:"excludedRewards"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"hasExcludedNoRewardTier"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FreeformPost"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"body"}}]}},{kind:"Field",name:{kind:"Name",value:"project"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"prelaunchIsActive"}}]}}]}}]};const Ze={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateFreeformPost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"CreateFreeformPostInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createFreeformPost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]}}]};const Qe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdatePost"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdatePostInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updatePost"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"post"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ComposeFreeformPostFragment"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ComposeFreeformPostFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Postable"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"actions"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"publish"}},{kind:"Field",name:{kind:"Name",value:"destroy"}},{kind:"Field",name:{kind:"Name",value:"update"}}]}},{kind:"Field",name:{kind:"Name",value:"isPublic"}},{kind:"Field",name:{kind:"Name",value:"publishedAt"}},{kind:"Field",name:{kind:"Name",value:"excludedRewards"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"hasExcludedNoRewardTier"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FreeformPost"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"body"}}]}},{kind:"Field",name:{kind:"Name",value:"project"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"prelaunchIsActive"}}]}}]}}]};const et=Object(C.b)(e=>({onCreateFreeformPost:t=>e.mutate({variables:{input:t}})})),tt=Object(M.graphql)(Ze,et),nt=Object(C.b)(e=>({onUpdatePost:t=>e.mutate({variables:{input:t}})})),at=Object(M.graphql)(Qe,nt),it=Object(C.c)(e=>{if(!e.data||!e.data.post)return Object(C.d)(e.data.error);const{title:t,body:n,isPublic:a,publishedAt:i,excludedRewards:r,hasExcludedNoRewardTier:o,actions:{destroy:s},project:c}=e.data.post,l=Boolean(i);return Object(C.l)({title:t,body:n,isPublic:a,isPublished:l,canDelete:s,...B(r,o),project:c})}),rt=Object(M.graphql)(Xe,it),ot=Object(C.a)(rt,re.c,at,ie,A)(e=>{if(!Object(C.i)(e))return null;const{id:t,isPublished:n,onUpdatePost:i,onDeletePost:s,canDelete:c,onPublishPost:l,postExcludeReward:d,postIncludeReward:u}=e,m={title:e.title||"",body:e.body||Object(fe.e)()||"",isPublic:e.isPublic,notifications:"all-backers"};return o.createElement(O.a,{warnBeforeDirtyUnmount:!0,initialValues:m,validate:e=>({...Boolean(e.title)?{}:{title:Object(k.b)("project_updates.Title_is_required")},...Boolean(e.body)?{}:{body:Object(k.b)("project_updates.Body_is_required")}}),onSubmit:(n,o)=>i({id:t,title:n.title,body:n.body,public:n.isPublic}).then(()=>{const n=()=>{window.location.href=r.b.VIEW_POST.url(e.projectCreator,e.projectSlug,Object(a.a)(t))};if(o.publish)return l({id:t}).then(()=>{n()});o.redirectToPost&&(e.isPublished?n():e.history.push(r.b.PREVIEW_POST.url(e.projectCreator,e.projectSlug,Object(a.a)(t))))}),onError:(e,t)=>{Object(x.d)(),t&&I.Honeybadger.notify(t,{context:{tags:S.a.POST_UPDATES}})}},a=>o.createElement(o.Fragment,null,o.createElement(Re,null,o.createElement("div",{className:"flex items-center justify-between w100p"},c&&o.createElement(Ve,{buttonText:n?Object(k.b)("project_updates.Delete_update_"):Object(k.b)("project_updates.Delete_draft"),onDelete:()=>s({id:e.id}),onComplete:()=>{window.location.href=r.a.DRAFT_POSTS.url(e.projectCreator,e.projectSlug)}}),o.createElement("div",{className:"flex flex1 items-center justify-end"},o.createElement("span",{className:"flex1"}),!n&&o.createElement(o.Fragment,null,o.createElement(He,{onPreviewPost:a.onSubmitWithExtras({publish:!1,redirectToPost:!0})}),o.createElement($e,{isDirty:a.isDirty,onSaveDraft:a.onSubmitWithExtras({publish:!1,redirectToPost:!1})}),o.createElement(Ye,{formType:"freeform",hasErrors:Boolean(a.errors),onPublish:a.onSubmitWithExtras({publish:!0,redirectToPost:!1})})),e.isPublished&&o.createElement(Be,{onSavePublishedPost:a.onSubmitWithExtras({publish:!1,redirectToPost:!0})})))),o.createElement("form",{className:"pb4",onSubmit:a.onSubmit},a.errors&&o.createElement(se,{text:a.errors.base||a.errors.general}),o.createElement("div",{className:"flex-md"},o.createElement("section",{className:"flex2"},o.createElement(Ce,{value:a.values.title,onChange:e=>a.setValues({title:e}),error:Object(O.b)("title",a.errors)}),o.createElement(Se.a,{vertical:4}),o.createElement(Ie,{postId:t,value:a.values.body,onChange:e=>a.setValues({body:e}),error:Object(O.b)("body",a.errors),postType:R.a.FreeformPost}),o.createElement(Se.a,{vertical:3})),o.createElement("aside",{className:"flex1 ml3-md"},o.createElement(xe,{prelaunchIsActive:e.project.prelaunchIsActive,value:a.values.isPublic,onChange:e=>{a.setValues({isPublic:e})}}),o.createElement(Se.a,{vertical:4}),!e.project.prelaunchIsActive&&o.createElement(o.Fragment,null,o.createElement(Te,{projectSlug:e.projectSlug,value:a.values.notifications,onChange:e=>{a.setValues({notifications:e})},excludedRewardIds:e.formattedExcludedRewardIds,hasExcludedNoRewardTier:e.hasExcludedNoRewardTier,onChangeRewardIdNotification:(e,n)=>e?u({postId:t,rewardId:n}):d({postId:t,rewardId:n}),isPublished:e.isPublished,showSelectTiers:e.showSelectTiers}),o.createElement(Se.a,{vertical:5}),o.createElement(De,{text:Object(k.b)("project_updates.All_backers_will_be_able_to_view")})))))))}),st=({id:e,projectCreator:t,projectSlug:n})=>o.createElement(l.a,null,o.createElement("section",{className:"pt3"},o.createElement("div",{className:"bold type-21 pb2"},Object(k.b)("project_updates.Edit_update"))),o.createElement(ot,{id:e,projectCreator:t,projectSlug:n}));var ct=n("ysdo");const lt=e=>{const{value:t,error:n,isPending:a}=(({asyncOperation:e,defaultValue:t,dependencies:n})=>{const[a,i]=Object(o.useState)({value:t,error:null,isPending:!0});return Object(o.useEffect)(()=>{const n="function"==typeof e?e():e;let a=!0;return n.then(e=>a?i({value:e,error:null,isPending:!1}):null).catch(e=>a?i({value:t,error:e,isPending:!1}):null),()=>{a=!1}},n),a})(e);return e.children({value:t,error:n,isPending:a})};var dt=n("ZCIj"),ut=n("dkkr"),mt=n("mwIZ"),pt=n.n(mt);const ht={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Posts"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectSlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"projectSlug"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"posts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"forActivePrompt"},value:{kind:"BooleanValue",value:!0}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]}}]}}]}}]};const ft=Object(C.c)(e=>{if(!e.data||!e.data.project)return Object(C.d)(e.data.error);const t=pt()(e,"data.project.posts.edges[0].node.id",null);return Object(C.l)({interviewIdForActivePrompt:t})}),gt=Object(M.graphql)(ht,ft),_t=({error:e,suggestionLink:t})=>{const n=e&&Object(C.e)(e);if(n.base){const e=/already been answered/.test(n.base),a=/No active prompt/.test(n.base);return e?o.createElement(ut.c,{primaryText:Object(k.b)("new_creator_interview.Youve_already_responded"),secondaryText:o.createElement(k.a,{i18nKey:"new_creator_interview.Publish_to_share_more_with_backers",publishLink:o.createElement("a",{className:"ksr-green-500 text-underline",href:t},Object(k.b)("new_creator_interview.Publish_a_freeform_update"))})}):a?o.createElement(ut.c,{primaryText:Object(k.b)("new_creator_interview.Were_fresh_out_of_questions"),secondaryText:o.createElement(k.a,{i18nKey:"new_creator_interview.Publish_while_we_write_more",publishLink:o.createElement("a",{className:"ksr-green-500 text-underline",href:t},Object(k.b)("new_creator_interview.Publish_a_freeform_update"))})}):null}return o.createElement(ut.b,{primaryText:Object(k.b)("new_creator_interview.Were_having_trouble_loading"),secondaryText:Object(k.b)("new_creator_interview.If_refreshing_this_page")})};class bt extends o.Component{constructor(...e){super(...e),this.state={showWelcomeOverlay:!1},this.handleShowOverlay=()=>{this.setState({showWelcomeOverlay:!0})},this.handleHideOverlay=()=>{this.setState({showWelcomeOverlay:!1})}}renderNewInterview(){const{onCreateCreatorInterview:e,projectId:t}=this.props;return dt.b.getItem("seenCreatorInterviewWelcome")||(dt.b.setItem("seenCreatorInterviewWelcome","true"),this.handleShowOverlay()),o.createElement(o.Fragment,null,o.createElement(lt,{asyncOperation:()=>e({projectId:t}),dependencies:[t],defaultValue:{}},({value:e,error:t,isPending:n})=>n?o.createElement(P.a,null):Boolean(t)?o.createElement(Pe,{leftCol:()=>o.createElement(_t,{error:t,suggestionLink:r.b.NEW_FREEFORM_POST.url(this.props.projectCreator,this.props.projectSlug)})}):o.createElement(o.Fragment,null,o.createElement(We,{id:e.data.createCreatorInterview.creatorInterview.id,projectCreator:this.props.projectCreator,projectSlug:this.props.projectSlug}))),this.state.showWelcomeOverlay&&o.createElement(ct.a,{onClose:this.handleHideOverlay,headerIcon:o.createElement(j.a,{name:"icon--update-qa-round",atoms:["fill-white"],size:"48"}),buttonText:Object(k.b)("new_creator_interview.Lets_get_started"),headerText:Object(k.b)("new_creator_interview.Welcome_to_qa"),bodyText:Object(k.b)("new_creator_interview.This_question_and_answer_approach"),bodyListItems:[Object(k.b)("new_creator_interview.Answer_only_questions"),Object(k.b)("new_creator_interview.Check_back_for_new_questions")]}))}renderExistingInterview(){const{projectCreator:e,projectSlug:t,interviewIdForActivePrompt:n}=this.props;return n?o.createElement(Pe,{leftCol:()=>o.createElement(ut.a,{primaryText:Object(k.b)("new_creator_interview.Youve_already_started"),secondaryText:o.createElement(k.a,{i18nKey:"new_creator_interview.Resume_update_or_visit_drafts",resumeLink:o.createElement(Ue.b,{className:"ksr-green-500 text-underline spec-resume-update",to:r.b.EDIT_CREATOR_INTERVIEW.url(e,t,Object(a.a)(n))},Object(k.b)("new_creator_interview.Resume_your_update"))})})}):null}render(){return o.createElement(o.Fragment,null,this.props.interviewIdForActivePrompt?this.renderExistingInterview():this.renderNewInterview())}}const vt=Object(C.a)(gt,z,P.b)(bt);class kt extends o.Component{render(){const{projectId:e,projectSlug:t,projectCreator:n,onCreateFreeformPost:a}=this.props;return o.createElement(lt,{asyncOperation:()=>a({projectId:e}),dependencies:[e],defaultValue:{}},({value:e,error:a,isPending:i})=>i?o.createElement(P.a,null):o.createElement(o.Fragment,null,Boolean(a)?o.createElement(Pe,{leftCol:()=>o.createElement(ut.b,{primaryText:Object(k.b)("new_project_update.Updates_are_disabled"),secondaryText:Object(k.b)("new_project_update.This_project_is_hidden_suspended")})}):o.createElement(ot,{id:e.data.createFreeformPost.post.id,projectSlug:t,projectCreator:n})))}}const yt=tt(kt),Et=e=>{const{creatorSlug:t,projectSlug:n,formType:a}=e,i=((e,t)=>({freeform:{url:r.b.NEW_FREEFORM_POST.url(e,t),header:Object(k.b)("project_updates.Freeform"),subtitle:Object(k.b)("project_updates.Your_story_your_way"),icon:"icon--update-freeform-round",classes:"spec-new-freeform-link"},interview:{url:r.b.NEW_CREATOR_INTERVIEW.url(e,t),header:Object(k.b)("project_updates.QA"),subtitle:Object(k.b)("project_updates.Follow_our_lead"),icon:"icon--update-qa-round",classes:"spec-new-interview-link"}}))(t,n)[a],[s,c,l,d,u]=[i.header,i.subtitle,i.url,i.icon,i.classes],m=location.href.includes("posts/"+a),p=m?"fill-ksr-green-500":"fill-soft-black";return o.createElement(Ue.b,{className:Object(ye.a)("p3 w50p soft-black radius2px border block keyboard-focusable",m?"border-soft-black bg-grey-200":"border-grey-500",u),to:l},o.createElement("div",{className:"flex items-center"},o.createElement(j.a,{name:d,size:"48",atoms:[p,"mr1"]}),o.createElement("div",null,o.createElement("div",{className:"bold type-16 mt1",style:{lineHeight:"1.6rem"}},s),o.createElement("div",{className:"soft-black_50 type-14"},c))))},jt=()=>o.createElement(o.Fragment,null,o.createElement(k.a,{atoms:["type-14","dark-grey-500"],i18nKey:"project_updates.Build_trust_with_your_backers",link:o.createElement(ce.a,{color:"green",target:"_blank",href:"https://help.kickstarter.com/hc/en-us/articles/115005138733-What-are-project-updates-"},Object(k.b)("project_updates.Learn_about_project_updates"))})," ",o.createElement(k.a,{atoms:["type-14","dark-grey-500","bold"],i18nKey:"project_updates.Never_include_your_backers’s_names_addresses_and_other_personal_details_in_your_updates"})),wt=()=>o.createElement(k.a,{atoms:["type-14","dark-grey-500"],i18nKey:"project_updates.Share_your_creative_process",refreshLink:o.createElement(ce.a,{color:"green",target:"_blank",href:"https://help.kickstarter.com/hc/en-us/articles/360022352634"},Object(k.b)("project_updates.Well_refresh_these_questions"))}),St=e=>{const{creatorSlug:t,projectSlug:n}=e;return o.createElement(Pe,{leftCol:()=>o.createElement("div",{className:"mb7"},o.createElement(o.Fragment,null,o.createElement("div",{className:"bold mb3"},Object(k.b)("project_updates.Choose_an_update_style")),o.createElement("div",{className:"flex items-center mb3"},o.createElement(Et,{creatorSlug:t,projectSlug:n,formType:"freeform"}),o.createElement("div",{className:"pr2"}),o.createElement(Et,{creatorSlug:t,projectSlug:n,formType:"interview"})),e.postType===R.a.CreatorInterview&&o.createElement(wt,null)),e.postType===R.a.FreeformPost&&o.createElement(jt,null))})},Ot=e=>o.createElement("div",{className:"grid-container py3"},o.createElement("header",null,o.createElement("h2",{className:"type-21 pb2 mb0"},Object(k.b)("project_updates.New_update")),o.createElement(St,{creatorSlug:e.projectCreator,projectSlug:e.projectSlug,postType:e.postType})),o.createElement(c.e,null,o.createElement(c.c,{exact:!0,path:r.b.NEW_FREEFORM_POST.path,render:()=>o.createElement(yt,{projectId:e.projectId,projectSlug:e.projectSlug,projectCreator:e.projectCreator})}),o.createElement(c.c,{exact:!0,path:r.b.NEW_CREATOR_INTERVIEW.path,render:()=>o.createElement(vt,{projectId:e.projectId,projectSlug:e.projectSlug,projectCreator:e.projectCreator})})));var Nt=n("qPAc"),Ct=n("d5To");const It=e=>o.createElement(Ct.a,{commentableId:e.commentableId,initialCommentId:e.commentId,nextCursor:e.commentCursor,previousCursor:null,first:25,last:null,config:{...Nt.a}});var xt=n("YEan"),Tt=n("lX80"),At=n("f/gE"),Dt=n("2UXI"),Pt=n("fOlt"),Rt=n("7Rpo"),Ft=n("KsYZ"),Lt=n("2Lb1"),Mt=n("2NEC");class Ut extends o.Component{constructor(...e){super(...e),this.state={isPublishing:!1},this.onPublish=async()=>{const{id:e,type:t}=this.props;await this.setState({isPublishing:!0}),await this.props.onPublishPost({id:Object(a.b)(t,e)}),await Object(Dt.b)("Update Published"),await this.setState({isPublishing:!1}),window.location.href=r.b.VIEW_POST.url(this.props.projectCreator,this.props.projectSlug,this.props.id)}}render(){const e=Object(fe.b)(this.props.projectCreator,this.props.projectSlug,this.props.type,this.props.id);return o.createElement(o.Fragment,null,o.createElement(l.a,null,o.createElement(At.a,null,o.createElement(Tt.a,{mdWidth:9,center:!0},o.createElement("div",{className:"px6-md"},!window.isIPhoneRequest&&o.createElement("div",{className:"bg-cobalt-600 white flex justify-between items-center p1 pl2 mt3 mb6"},Object(k.b)("project_updates.Preview_mode"),o.createElement(Ue.b,{to:e},o.createElement(Fe.b,{theme:"trust","data-testid":"Edit post update"},o.createElement(j.a,{name:"pencil",size:"16"}),o.createElement("span",{className:"ml1"},Object(k.b)("project_update.Edit"))))),o.createElement(Lt.a,{header:o.createElement(Mt.a,{title:this.props.title,sequence:this.props.sequence,publishedAt:this.props.publishedAt,authorAvatarUrl:this.props.authorAvatarUrl,authorName:this.props.authorName,authorRole:this.props.authorRole,isPublic:this.props.isPublic}),body:o.createElement(o.Fragment,null,this.props.type===i.a.CreatorInterview&&o.createElement(Rt.b,{id:this.props.id}),this.props.type===i.a.FreeformPost&&o.createElement(Ft.b,{id:this.props.id}))}))))),!window.isIPhoneRequest&&o.createElement(Re,null,o.createElement("div",{className:"flex items-center justify-between w100p"},this.props.canDelete&&o.createElement(Ve,{buttonText:Object(k.b)("project_updates.Delete_draft"),onDelete:()=>this.props.onDeletePost({id:Object(a.b)(this.props.type,this.props.id)}),onComplete:()=>{window.location.href=r.a.DRAFT_POSTS.url(this.props.projectCreator,this.props.projectSlug)}}),o.createElement("div",{className:"flex flex1 items-center justify-end"},o.createElement("span",{className:"flex1"}),o.createElement(qe,{editUrl:e}),!this.props.isPublished&&o.createElement(Ye,{formType:"freeform",onPublish:this.onPublish})))))}}const Vt=Object(C.a)(Pt.a,re.c,Object(D.a)(()=>({primaryText:Object(k.b)("new_project_update.Were_having_trouble_loading"),secondaryText:Object(k.b)("new_project_update.If_refreshing_this_page")})),P.b)(Ut);var Ht=n("atOr");const Bt=e=>{const t=(e.params.postId||"").match(/\d+/);return t?t[0]:""},$t=e=>o.createElement(c.e,null,o.createElement(c.c,{exact:!0,path:r.b.VIEW_POST.path,render:({match:t})=>o.createElement(Ht.a,{id:Bt(t),projectSlug:t.params.projectSlug||"",projectCreator:t.params.projectCreator||"",commentableId:e.commentableId,commentCursor:e.commentCursor,commentId:e.commentId})}),o.createElement(c.c,{exact:!0,path:r.b.POST_COMMENTS.path,component:()=>o.createElement(It,{commentableId:e.commentableId,commentCursor:e.commentCursor,commentId:e.commentId})}),o.createElement(c.c,{exact:!0,path:r.b.PREVIEW_POST.path,render:({match:e})=>o.createElement(Vt,{id:Bt(e),projectSlug:e.params.projectSlug||"",projectCreator:e.params.projectCreator||""})}),o.createElement(c.c,{exact:!0,path:r.b.EDIT_FREEFORM_POST.path,render:({match:e})=>o.createElement(st,{id:Object(a.b)("FreeformPost",e.params.postId||""),projectSlug:e.params.projectSlug||"",projectCreator:e.params.projectCreator||""})}),o.createElement(c.c,{exact:!0,path:r.b.EDIT_CREATOR_INTERVIEW.path,render:({match:e})=>o.createElement(Je,{id:Object(a.b)("CreatorInterview",e.params.postId||""),projectSlug:e.params.projectSlug||"",projectCreator:e.params.projectCreator||""})}),[{path:r.b.NEW_FREEFORM_POST.path,type:i.a.FreeformPost},{path:r.b.NEW_CREATOR_INTERVIEW.path,type:i.a.CreatorInterview}].map(({path:t,type:n})=>o.createElement(c.c,{key:n,path:t,render:({match:t})=>o.createElement(Ot,{projectId:e.projectId,projectSlug:t.params.projectSlug||"",projectCreator:t.params.projectCreator||"",postType:n})})),o.createElement(c.c,{exact:!0,path:r.b.POSTS_FEED.path,render:({match:e})=>o.createElement(xt.b,{projectSlug:e.params.projectSlug||"",projectCreator:e.params.projectCreator||""})}),o.createElement(c.c,{exact:!0,path:r.b.PROJECT_PAGE.path,render:({match:e})=>o.createElement(xt.b,{projectSlug:e.params.projectSlug||"",projectCreator:e.params.projectCreator||""})}),o.createElement(c.c,{path:r.a.POSTS_DASHBOARD.path,component:v}),o.createElement(c.c,{component:()=>o.createElement("h1",null,"not found")}))},jvji:function(e,t,n){"use strict";t.a='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M17.6566 6.3421C17.266 5.95158 16.6329 5.95158 16.2423 6.3421L11.9993 10.5852L7.75691 6.34285C7.36639 5.95232 6.73322 5.95232 6.3427 6.34285C5.95217 6.73337 5.95217 7.36654 6.3427 7.75706L10.585 11.9994L6.34285 16.2416C5.95232 16.6321 5.95232 17.2653 6.34285 17.6558C6.73337 18.0463 7.36654 18.0463 7.75706 17.6558L11.9993 13.4136L16.2422 17.6566C16.6327 18.0471 17.2659 18.0471 17.6564 17.6566C18.0469 17.266 18.0469 16.6329 17.6564 16.2423L13.4135 11.9994L17.6566 7.75632C18.0471 7.36579 18.0471 6.73263 17.6566 6.3421Z" fill="#3C3C3C"/>\n</svg>\n'},kB8A:function(e,t,n){"use strict";n.d(t,"b",(function(){return d}));var a=n("0fse"),i=n("94td"),r=n("GRmu"),o=n("D+F0"),s=n("KPfJ"),c=n("gN63");const l=(e,t,n,a=null)=>new Promise((i,r)=>{Object(c.c)("\n  mutation($recipientId: ID!, $projectId: ID!, $body: String!, $gRecaptchaResponse: String!) {\n    sendMessage(\n      input: {\n        recipientId:$recipientId\n        projectId:$projectId\n        body:$body,\n        gRecaptchaResponse:$gRecaptchaResponse\n      }\n    )\n    {\n      message {\n        body\n      }\n    }\n  }\n",{recipientId:t,projectId:n,body:e,gRecaptchaResponse:a}).then(e=>{e.errors?r(e.errors):i(e.data)}).catch(e=>r(e))}),d={body:"",submitting:!1,gRecaptchaResponse:"",error:"",isSuspicious:!1};t.a=(e=d,t)=>{switch(t.type){case"USER_INPUT":return{...e,body:t.value,error:""};case"RECAPTCHA_SUBMIT":return{...e,gRecaptchaResponse:t.value};case"SUBMIT_MESSAGE":return Object(a.f)({...e,submitting:!0},a.a.run(l,{successActionCreator:s.e,failActionCreator:s.b,args:[t.body,t.creatorId,t.projectId,e.gRecaptchaResponse]}));case"SEND_MESSAGE_SUCCESS":return Object(r.a)({success:Object(i.b)("project_page.message_creator.Message_sent")}),Object(a.f)({...e,body:"",error:"",submitting:!1},a.a.action(Object(o.a)()));case"SEND_MESSAGE_FAIL":const n=t.errors[0];return n.extensions&&"RECAPTCHA_SUSPICIOUS"==n.extensions.code?{...e,isSuspicious:!0,submitting:!1,error:n.message}:n.extensions&&"RECAPTCHA_FAILED"==n.extensions.code?{...e,isSuspicious:!1,submitting:!1,error:n.message}:{...e,submitting:!1,error:Object(i.b)("project_page.message_creator.Message_not_sent")};case"CLEAR_INPUT":return{...e,body:"",error:"",gRecaptchaResponse:"",submitting:!1};default:return e}}},kKIz:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);i()((function(){i()(document).on("click",".location_list .big_locations li",(function(){window.location=i()(this).find(".name a").attr("href")}))}))},kKlT:function(e,t,n){"use strict";n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return m}));var a=n("ijK7"),i=n("bvYH"),r=n("n+nq"),o=n("94td");const s=e=>{try{const t=new URL(e);return new RegExp(/\.[A-za-z]/,"i").test(e)&&-1===t.hostname.indexOf("..")&&("https:"===t.protocol||"http:"===t.protocol)}catch(e){return!1}},c=(e="")=>{const t=e.trim();return new RegExp(/^[A-za-z0-9]+:\/\//,"i").test(t)?t:"http://"+t},l=Object(o.b)("library.ksr_json.Sorry_something_went_wrong_Weve_been_notified_and_are_looking"),d=e=>{const t=new URL("https://doesntmatter.com");return t.searchParams.append("data[data-href]",e),fetch("/templates/oembed"+t.search,{method:"GET",credentials:"same-origin",headers:{"X-CSRF-Token":Object(r.b)(document)}}).then(e=>200===e.status?Promise.resolve(e):Promise.reject(l)).then(e=>e.text()).then(u)},u=e=>{const t=document.createElement("div");t.innerHTML=e;const n=t.firstElementChild;return"template oembed"===(null==n?void 0:n.className)&&n.firstElementChild?Promise.resolve(e):Promise.reject(Object(o.b)("rich_editor.There_was_a_problem_embedding")).catch(e=>e)},m=(e,t,n,r)=>{const o=Object(a.d)(t,"LINK");r&&"function"==typeof r.editorToolClicked&&r.editorToolClicked("link"),o.length>1||(1===o.length?(n("LINK"),e(Object(i.t)(Object(a.e)(t,o[0]),o[0].entity.getData().url))):(n("LINK"),e(Object(i.t)(Object(a.f)(t)))))}},kQ6V:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t=0,n=document)=>()=>{if(n)return e.reduce((e,t)=>{const a=n.getElementById(t);return a?e+a.offsetHeight:e},t)}},"kS+J":function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return u}));var a=n("c5x8"),i=n("dPds"),r=n("q1tI"),o=n.n(r),s=n("ZT9a"),c=n("PVbS"),l=n("i0Qp");function d({atoms:e,children:t,...n}){const s=Object(r.useContext)(c.c),{Container:l,containerProps:d}=s?{Container:o.a.Fragment,containerProps:{}}:{Container:"div",containerProps:{className:Object(a.b)(["kds-tooltip",e],n)}};return o.a.createElement(l,d,o.a.createElement("div",{className:"kds-tooltip__border"},!!s&&o.a.createElement(u,null),o.a.createElement(i.a.BodySM,{as:"string"==typeof t?"p":"div",className:"kds-tooltip__content"},t)))}const u=e=>o.a.createElement(l.a,Object(s.a)(e,{className:"kds-tooltip__arrow"}),o.a.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16"},o.a.createElement("path",{d:"M0 0 L8 8 L16 0"})))},kZr9:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);n("RIhn");i()((function(){i()(".overlabels .field label.overlabel").livequery((function(){var e=i()(this),t=e.siblings("input:not([type=hidden]), textarea, .wym_box");t.length||(t=e.parent(".field_with_errors").siblings(".field_with_errors").find("input, textarea")),t.length?(e.addClass("overlabel-apply"),t.val()&&e.hide(),t.focus((function(){i()(this).val()&&e.hide(),e.addClass("field_focused")})).blur((function(){i()(this).val()||e.show(),e.removeClass("field_focused")})).on("keydown input change paste cut",(function(){var t=i()(this);setTimeout((function(){t.val()?e.hide():e.show()}),1)})),e.click((function(){t.attr("disabled")||t.focus()}))):e.hide()}))}))},kZzg:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e=document)=>!!e&&Boolean(e.getElementById("admin-nav"))},ksT7:function(e,t,n){"use strict";n("Ijdr");var a=n("+2Rf");n("+2Rf");!function(e){e.fn.persistent_paging=function(){return e(this).each((function(){var t=e(this),n=[[1,0,t.find(".page")]],a=[],i=!1,r=t.data("mobius"),o=/^#p(\d*)/.exec(window.location.hash);o&&1!==parseInt(o[1],10)&&(t.one("mobius:loaded_page",(function(t,n,a){e.scrollTo(a.offset().top+70)})),r.load_page(parseInt(o[1],10))),t.on("mobius:loaded_page",(function(a,i,o){var s,c,l,d=[];function u(){if(this[0]===c)return s=!0,!1}for(n.push([i,!1,o]),l=[],e.each(n,(function(){l.push([this[0],this[2].offset().top,this[2]])})),n=l,c=1;c<=n[n.length-1][0];c+=1)s=!1,e.each(n,u),s||d.push(c);d.length?e.each(d,(function(){var a=n[0],i=parseInt(this,10),o=e([]),s=[],c=e([]),l=e([]);e.each(n,(function(){this[0]>a[0]&&this[0]<i&&(a=this)})),(o=a[2].next(".missing")).length?(s=o.data("missing_pages"),-1===e.inArray(i,s)&&(s.push(i),o.data("missing_pages",s))):(c=(o=t.siblings(".missing").clone()).find(".loading"),l=o.find(".load_more"),o.data("missing_pages",[i]),o.find("a").click((function(e){var n=o.data("missing_pages"),a=n.pop();e.preventDefault(),n.length&&o.data("missing_pages",n),l.addClass("loading"),r.load_page(a,o),t.one("mobius:loaded_page",(function(){l.removeClass("loading")}))})),a[2].after(o),c.hide(),o.show())})):t.find("div.missing").remove()})),e(document).scroll((function(){var t,r=e(window).scrollTop();e.each(n,(function(){var e=this[1];r>e&&(a=this)})),a[0]!==i&&(t="#p"+a[0],window.history&&window.history.replaceState?history.replaceState(null,null,t):window.location.replace(t),e(document).trigger("infinite_scroll:scrolled_to",[a[0]]),i=a[0])}))}))}}(a)},"l+V7":function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("SmhT");n("+ZuA");i()((function(){i.a.fn.aria_set_visible=function(){return i()(this).attr("aria-expanded","true").attr("aria-hidden","false"),this},i.a.fn.aria_set_hidden=function(){return i()(this).attr("aria-expanded","false").attr("aria-hidden","true"),this},i.a.fn.aria_find_focusable_items=function(){return i()(this).find(":focusable")},i.a.fn.aria_focus_first_element=function(){var e=i()(this).aria_find_focusable_items();return e.length&&e[0].focus(),this},i.a.fn.aria_activate_keyboard_tabindex=function(){var e=i()(this),t=e.aria_find_focusable_items();return t.length&&e.on("keydown.aria_keyboard",(function(n){e.aria_focus_next(n,t)})),this},i.a.fn.aria_deactivate_keyboard_tabindex=function(){return i()(this).unbind("keydown.aria_keyboard"),this},i.a.fn.aria_focus_next=function(e,t){var n=e.keyCode,a=n===r.n||n===r.b,o=i()(":focus")[0],s=i.a.inArray(o,t);if(-1!==s&&("textarea"!==o.tagName.toLowerCase()||!a)){var c;if(n===r.m||a)e.preventDefault(),void 0!==(c=e.shiftKey||n===r.n?i()(t[s-1]):i()(t[s+1]))&&c.focus();return this}}}))},l2NB:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));const a=e=>({type:"ACTIVE_SECTION_CHANGED",response:e}),i=e=>({type:"INIT_NEW_CAMPAIGN_NAV",response:e})},l7kV:function(e,t,n){"use strict";t.a=e=>{var t,n,a;class i extends HTMLElement{}return null===(t=window)||void 0===t||null===(n=t.customElements)||void 0===n||null===(a=n.define)||void 0===a||a.call(n,e,i),e}},lC19:function(e,t,n){"use strict";n.d(t,"a",(function(){return se})),n.d(t,"b",(function(){return ce}));var a=n("mwIZ"),i=n.n(a),r=n("VX74"),o=n("lX80"),s=n("LdJi"),c=n("f/gE"),l=n("VF4V"),d=n("ObC8"),u=n("dPds"),m=n("aiSh"),p=n("pj8f"),h=n("94td"),f=n("1OuE"),g=n("jI4B"),_=n("q1tI"),b=n.n(_),v=n("i8i4"),k=n.n(v),y=n("FiUa"),E=n("iuhU"),j=n("kS+J"),w=n("FFUp"),S=n("cA5M");const O=({description:e,strategy:t,defaultOpen:n,isOpen:a,onOpenChange:i,...r})=>{const o={defaultOpen:n,isOpen:a,onOpenChange:i};return b.a.createElement(w.c,o,b.a.createElement(d.a,r),b.a.createElement(S.a,{className:"kds-tooltip","data-strategy":t},b.a.createElement(j.a,null),b.a.createElement(w.a,{className:Object(E.b)("kds-p-04","kds-flex kds-flex-col kds-gap-02","focus:focus-visible:kds-outline-none"),"data-theme":"dark"},e)))};var N=n("8Exb");const C=({creator:e,verifiedCreatorName:t})=>{var n;return b.a.createElement("div",{className:"kds-flex kds-flex-wrap kds-gap-02"},t&&b.a.createElement(O,{variant:"unstyled",description:b.a.createElement(h.a,{i18nKey:"project_creator.verified_identity_tooltip"})},b.a.createElement(y.a,{icon:"icon--verified",variant:"outlined"},b.a.createElement(l.a,null,t))),(null==e?void 0:e.isKsrAdmin)&&b.a.createElement(O,{variant:"unstyled",description:b.a.createElement(h.a,{i18nKey:"project_creator.kickstarter_staff_tooltip"})},b.a.createElement(y.a,{icon:"icon--logo",variant:"green"},Object(h.b)("project_creator.Kickstarter_Team"))),(null==e?void 0:e.isAdvisoryCouncilMember)&&b.a.createElement(O,{variant:"unstyled",description:b.a.createElement(h.a,{i18nKey:"project_creator.advisory_council_member_tooltip",learnMoreLink:b.a.createElement(N.a,{href:"https://landing.kickstarter.com/community-advisory-council",target:"_blank"},Object(h.b)("project_creator.Learn_more_link"))})},b.a.createElement(y.a,{icon:"icon--logo",variant:"green"},Object(h.b)("project_creator.Advisory_Council_Member"))),(null==e?void 0:e.isAdvisoryCouncilAlum)&&b.a.createElement(O,{variant:"unstyled",description:b.a.createElement(h.a,{i18nKey:"project_creator.advisory_council_alum_tooltip",learnMoreLink:b.a.createElement(N.a,{href:"https://landing.kickstarter.com/community-advisory-council",target:"_blank"},Object(h.b)("project_creator.Learn_more_link"))})},b.a.createElement(y.a,{icon:"icon--logo",variant:"green"},Object(h.b)("project_creator.Advisory_Council_Alum"))),(null==e?void 0:e.isBackerFavorite)&&b.a.createElement(O,{variant:"unstyled",description:b.a.createElement(h.a,{i18nKey:"project_creator.backer_favorite_tooltip"})},b.a.createElement(y.a,{variant:"blue"},Object(h.b)("profile.badges.backer-favorite"))),((null==e||null===(n=e.launchedProjects)||void 0===n?void 0:n.totalCount)||0)>=2&&b.a.createElement(O,{variant:"unstyled",description:b.a.createElement(h.a,{i18nKey:"project_creator.repeat_creator_tooltip"})},b.a.createElement(y.a,{variant:"purple"},Object(h.b)("profile.badges.repeat-creator"))),(null==e?void 0:e.isSuperbacker)&&b.a.createElement(O,{variant:"unstyled",description:b.a.createElement(h.a,{i18nKey:"project_creator.superbacker_tooltip"})},b.a.createElement(y.a,{variant:"green"},Object(h.b)("profile.badges.superbacker"))))};var I=n("emmH"),x=n("yTGw"),T=n("8t99"),A=n("2nV0"),D=n("lM4U"),P=n("relC"),R=n("j7ql"),F=n("+R6Y");n("DE4Y");const L={},M={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"FollowCreator"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"FollowUserInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"followUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isFollowing"}}]}}]}}]}}]};const U={},V={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SendMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SendMessageInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sendMessage"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"messageFields"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"messageFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Message"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"body"}},{kind:"Field",name:{kind:"Name",value:"spam"}},{kind:"Field",name:{kind:"Name",value:"sentAt"}},{kind:"Field",name:{kind:"Name",value:"readAt"}},{kind:"Field",name:{kind:"Name",value:"sender"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"imageUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"40"}}]},{kind:"Field",name:{kind:"Name",value:"url"}}]}},{kind:"Field",name:{kind:"Name",value:"recipient"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]};const H={},B={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnfollowCreator"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UnfollowUserInput"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unfollowUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isFollowing"}}]}}]}}]}}]};const $=({creatorName:e,creatorId:t,email:n,isEmailVerified:a,refetch:i,newMessage:r,setNewMessage:o})=>b.a.createElement(P.a,{atoms:Object(l.b)("kds-flex kds-flex-col kds-gap-02 kds-text-secondary")},b.a.createElement(x.a,{label:Object(h.b)("project_creator.To_creator_name",{creatorName:e}),atoms:"kds-mb-03",autoFocus:!0,name:"new_message",isRequired:!0,rows:8,description:Object(h.b)("project_creator.Please_refrain_from_spam"),helperIcon:!1,placeholder:Object(h.b)("project_creator.Type_your_message_here_placeholder"),value:r,onChange:o}),!a&&i&&b.a.createElement("div",{className:""},b.a.createElement(I.a,{email:n||void 0,refetch:i}))),q=({disableButton:e,projectId:t,creator:n,refetch:a,me:i})=>{const[o,{data:s,loading:c,error:l}]=function(e){const t={...U,...e};return r.useMutation(V,t)}(),[u,m]=Object(_.useState)("");return b.a.createElement(b.a.Fragment,null,e&&b.a.createElement(R.a,{description:null===i?Object(h.b)("project_creator.You_must_be_logged_in"):Object(h.b)("project_page.message_creator.Sorry_you_cant")},b.a.createElement(R.a.Trigger,{className:"kds-flex-1"},b.a.createElement(d.a.AsLink,{variant:"outlined",icon:"icon--message",atoms:"kds-w-full",isDisabled:e,key:"message-me"},b.a.createElement(h.a,{i18nKey:"project_creator.Message_overlay_trigger"})))),!e&&n&&t&&b.a.createElement(D.a,{title:Object(h.b)("project_creator.Send_a_message_to_creator_name",{creatorName:n.name}),content:b.a.createElement($,{creatorName:n.name,creatorId:n.id,isEmailVerified:!!(null==i?void 0:i.isEmailVerified),email:(null==i?void 0:i.email)||null,refetch:a,newMessage:u,setNewMessage:m}),actions:({close:e})=>b.a.createElement(b.a.Fragment,null,b.a.createElement(A.a.PrimaryButton,{onPress:async()=>{try{await o({variables:{input:{projectId:t,body:u,recipientId:n.id,gRecaptchaResponse:""}}}),e(),m(""),T.b.positive(Object(h.b)("project_creator.Message_sent_confirmation"))}catch(t){e();const n=Object(F.b)(t)?t.message:Object(h.b)("project_creator.Something_went_wrong_error");T.b.critical(n)}},isLoading:c,isDisabled:!1===(null==i?void 0:i.isEmailVerified)},Object(h.b)("project_creator.Send_message_button")),b.a.createElement(A.a.SecondaryButton,{onPress:e},Object(h.b)("project_creator.Cancel_button")))},b.a.createElement(d.a.AsLink,{variant:"outlined",icon:"icon--message",atoms:"kds-flex-1",isDisabled:null===i,key:"message-me"},b.a.createElement(h.a,{i18nKey:"project_creator.Message_overlay_trigger"}))))},Y=({creatorId:e,isFollowing:t,disableButton:n})=>{if(!e)return null;if(t){const[t,{data:a,loading:i,error:o}]=function(e){const t={...H,...e};return r.useMutation(B,t)}();return b.a.createElement(d.a,{icon:"icon--minus-human",isDisabled:n,key:"unfollow-creator",atoms:"kds-flex-1",isLoading:i,variant:"outlined",onPress:async()=>{await t({variables:{input:{id:e}}})}},b.a.createElement(h.a,{i18nKey:"project_creator.Unfollow_button"}))}{const[t,{data:a,loading:i,error:o}]=function(e){const t={...L,...e};return r.useMutation(M,t)}();return b.a.createElement(d.a,{icon:"icon--plus-human",isDisabled:n,key:"follow-creator",atoms:"kds-flex-1",isLoading:i,onPress:async()=>{await t({variables:{input:{id:e}}})}},b.a.createElement(h.a,{i18nKey:"project_creator.Follow_button"}))}};var z=n("2DJ9"),G=n("sezs");function K(e){switch(e){case"youtube.com":case"youtu.be":return b.a.createElement(z.a,{name:"icon--youtube",size:"large"});case"x.com":case"twitter.com":return b.a.createElement(z.a,{name:"icon--twitter",size:"large"});case"facebook.com":case"fb.com":return b.a.createElement(z.a,{name:"icon--facebook",size:"large"});case"instagram.com":case"instagr.am":return b.a.createElement(z.a,{name:"icon--instagram",size:"large"});default:return b.a.createElement(G.a,{name:"icon--link"})}}const W=({creator:e})=>{var t;return b.a.createElement(b.a.Fragment,null,null==e||null===(t=e.websites)||void 0===t?void 0:t.map((e,t)=>b.a.createElement(d.a.AsLink,{href:(null==e?void 0:e.url)||"#",target:"_blank",variant:"borderless",compact:!0,atoms:"kds-py-0 w-min-content text-truncate",key:`${(null==e?void 0:e.domain)||""}-${t}`,icon:K((null==e?void 0:e.domain)||"")},b.a.createElement(l.a,null,function(e){if(!e)return"invalid url";let t;var n,a,i;return(t=e.match(/(?:https?:)?\/\/(?:www\.)?(?:instagram\.com|instagr\.am)\/(?<username>[A-Za-z0-9_](?:(?:[A-Za-z0-9_]|(?:\.(?!\.))){0,28}(?:[A-Za-z0-9_]))?)/))?"/"+(null===(n=t.groups)||void 0===n?void 0:n.username):(t=e.match(/(?:https?:)?\/\/(?:www\.)?(?:facebook|fb)\.com\/(?<profile>(?![A-z]+\.php)(?!marketplace|gaming|watch|me|messages|help|search|groups)[A-z0-9_\-\.]+)\/?/))?"/"+(null===(a=t.groups)||void 0===a?void 0:a.profile):(t=e.match(/(?:https?:)?\/\/(?:[A-z]+\.)?(twitter|x)\.com\/@?(?!home|share|privacy|tos)(?<username>[A-z0-9_]+)\/?/))?"@"+(null===(i=t.groups)||void 0===i?void 0:i.username):e.replace(/^(?:https?:)?\/\/(?:www\.)?/,"")}(null==e?void 0:e.url)))))},J={},X={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CreatorTabInfo"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"avatarWidth"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"200"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pid"},value:{kind:"Variable",name:{kind:"Name",value:"pid"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"verifiedCreatorName"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"biography"}},{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"imageUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"blur"},value:{kind:"BooleanValue",value:!1}},{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"Variable",name:{kind:"Name",value:"avatarWidth"}}}]},{kind:"Field",name:{kind:"Name",value:"location"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayableName"}},{kind:"Field",name:{kind:"Name",value:"discoverUrl"}}]}},{kind:"Field",name:{kind:"Name",value:"websites"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"domain"}}]}},{kind:"Field",name:{kind:"Name",value:"launchedProjects"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}}]}},{kind:"Field",name:{kind:"Name",value:"lastLogin"}},{kind:"Field",name:{kind:"Name",value:"joinedOn"}},{kind:"Field",name:{kind:"Name",value:"isKsrAdmin"}},{kind:"Field",name:{kind:"Name",value:"isSuperbacker"}},{kind:"Field",name:{kind:"Name",value:"isBackerFavorite"}},{kind:"Field",name:{kind:"Name",value:"joinedOn"}},{kind:"Field",name:{kind:"Name",value:"backingsCount"}},{kind:"Field",name:{kind:"Name",value:"totalBackersAcrossProjects"}},{kind:"Field",name:{kind:"Name",value:"isFollowing"}},{kind:"Field",name:{kind:"Name",value:"isAdvisoryCouncilMember"}},{kind:"Field",name:{kind:"Name",value:"isAdvisoryCouncilAlum"}}]}},{kind:"Field",name:{kind:"Name",value:"collaborators"},arguments:[{kind:"Argument",name:{kind:"Name",value:"withInvited"},value:{kind:"BooleanValue",value:!1}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"node"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"imageUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"Variable",name:{kind:"Name",value:"avatarWidth"}}}]},{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"me"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isEmailVerified"}},{kind:"Field",name:{kind:"Name",value:"email"}}]}}]}}]};var Z=n("Tmao");const Q=({url:e,className:t,children:n})=>e?b.a.createElement("a",{href:e,className:t,target:"_blank"},n):b.a.createElement(b.a.Fragment,null,n),ee=({top:e,bottom:t,className:n,topLink:a,bottomLink:i})=>b.a.createElement("div",{className:Object(l.b)("kds-flex kds-flex-col-reverse basis-auto-md "+n)},b.a.createElement(Q,{url:i,className:"kds-text-primary"},b.a.createElement(u.a.HeadingSM,{as:"span"},t)),b.a.createElement(Q,{url:a,className:"kds-text-primary"},b.a.createElement(u.a.HeadingLG,{as:"span"},e)));var te=n("taau"),ne=n("btCt");const ae={},ie={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"OtherCreatorProjects"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"avatarWidth"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"200"}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"imageWidth"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"427"}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectsToFetch"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},defaultValue:{kind:"IntValue",value:"6"}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"currentProjectPid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"after"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},defaultValue:{kind:"NullValue"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"pid"},value:{kind:"Variable",name:{kind:"Name",value:"currentProjectPid"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"launchedProjects"},arguments:[{kind:"Argument",name:{kind:"Name",value:"excludePids"},value:{kind:"ListValue",values:[{kind:"Variable",name:{kind:"Name",value:"currentProjectPid"}}]}},{kind:"Argument",name:{kind:"Name",value:"orderBy"},value:{kind:"StringValue",value:"launched_at",block:!1}},{kind:"Argument",name:{kind:"Name",value:"order"},value:{kind:"EnumValue",value:"DESC"}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"Variable",name:{kind:"Name",value:"projectsToFetch"}}},{kind:"Argument",name:{kind:"Name",value:"after"},value:{kind:"Variable",name:{kind:"Name",value:"after"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"pageInfo"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"endCursor"}},{kind:"Field",name:{kind:"Name",value:"hasNextPage"}}]}},{kind:"Field",name:{kind:"Name",value:"edges"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"baseCardFragment"}},{kind:"FragmentSpread",name:{kind:"Name",value:"cardAnalyticsFieldsFragment"}},{kind:"Field",name:{kind:"Name",value:"projectNotice"}},{kind:"Field",name:{kind:"Name",value:"fulfillmentStatus"}},{kind:"Field",name:{kind:"Name",value:"fulfillmentStatusUpdatedAt"}},{kind:"Field",name:{kind:"Name",value:"posts"},arguments:[{kind:"Argument",name:{kind:"Name",value:"state"},value:{kind:"EnumValue",value:"published"}},{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"}},{kind:"Field",name:{kind:"Name",value:"publishedAt"}},{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"number"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"commentsCount"}}]}}]}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"baseCardFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Project"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"backersCount"}},{kind:"Field",name:{kind:"Name",value:"deadlineAt"}},{kind:"Field",name:{kind:"Name",value:"description"}},{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"imageUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"Variable",name:{kind:"Name",value:"imageWidth"}}}]},{kind:"Field",name:{kind:"Name",value:"isLaunched"}},{kind:"Field",name:{kind:"Name",value:"isInPostCampaignPledgingPhase"}},{kind:"Field",name:{kind:"Name",value:"isProjectWeLove"}},{kind:"Field",name:{kind:"Name",value:"isWatchable"}},{kind:"Field",name:{kind:"Name",value:"isWatched"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"percentFunded"}},{kind:"Field",name:{kind:"Name",value:"pid"}},{kind:"Field",name:{kind:"Name",value:"prelaunchActivated"}},{kind:"Field",name:{kind:"Name",value:"slug"}},{kind:"Field",name:{kind:"Name",value:"state"}},{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"category"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}},{kind:"Field",name:{kind:"Name",value:"creator"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"imageUrl"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"Variable",name:{kind:"Name",value:"avatarWidth"}}}]},{kind:"Field",name:{kind:"Name",value:"url"}}]}},{kind:"Field",name:{kind:"Name",value:"location"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayableName"}},{kind:"Field",name:{kind:"Name",value:"discoverUrl"}}]}},{kind:"Field",name:{kind:"Name",value:"video"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"previewImageUrl"}},{kind:"Field",name:{kind:"Name",value:"videoSources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hls"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"src"}},{kind:"Field",name:{kind:"Name",value:"type"}}]}},{kind:"Field",name:{kind:"Name",value:"base"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"src"}},{kind:"Field",name:{kind:"Name",value:"type"}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"cardAnalyticsFieldsFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Project"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentAmountPledgedUsd"}},{kind:"Field",name:{kind:"Name",value:"additionalSubcategory"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}},{kind:"Field",name:{kind:"Name",value:"backing"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}}]}}]}}]};const re=(e,t)=>{const n=t.fetchMoreResult;return void 0===n||null===n.project||null===n.project.creator||null===n.project.creator.launchedProjects||null===n.project.creator.launchedProjects.edges?e:{...n,project:{...n.project,creator:{...n.project.creator,launchedProjects:{...n.project.creator.launchedProjects,edges:[...i()(e,"project.creator.launchedProjects.edges",[]),...i()(n,"project.creator.launchedProjects.edges",[])]}}}}},oe=e=>{var t,n,a,o,s,c,l,m;const{data:p,loading:f,error:_,fetchMore:v,...k}=function(e){const t={...ae,...e};return r.useQuery(ie,t)}({variables:{currentProjectPid:e.projectPid}}),y=Object(ne.a)();if(f)return b.a.createElement(g.a,null);if(_)return b.a.createElement("div",{className:"border-box flex justify-center kds-p-06 bold"},b.a.createElement(h.a,{i18nKey:"project_creator.Something_went_wrong_while_loading_this_tab"}));if(0===i()(p,"project.creator.launchedProjects.edges.length",0))return null;const E=null==p||null===(t=p.project)||void 0===t||null===(n=t.creator)||void 0===n||null===(a=n.launchedProjects)||void 0===a||null===(o=a.pageInfo)||void 0===o?void 0:o.hasNextPage;return b.a.createElement(b.a.Fragment,null,b.a.createElement("hr",{className:"kds-my-06"}),b.a.createElement("div",{className:"flex flex-column kds-gap-06"},b.a.createElement(u.a.HeadingLG,{as:"h4"},Object(h.b)("project_creator.Other_projects_by_this_creator")),b.a.createElement("div",{className:"display-grid kds-gap-x-12 kds-gap-y-08",style:{gridTemplateColumns:"xs"===y?"1fr":"1fr 1fr"}},null==p||null===(s=p.project)||void 0===s||null===(c=s.creator)||void 0===c||null===(l=c.launchedProjects)||void 0===l||null===(m=l.edges)||void 0===m?void 0:m.map((e,t)=>{const n=null==e?void 0:e.node;if(n){const e=i()(n,"posts.nodes.0");return b.a.createElement("div",{key:n.id,className:""},b.a.createElement(te.c,{project:n,projectId:n.id,variant:"trust",creator:n.creator,location:n.location,latestPost:e,commentsCount:n.commentsCount,fulfillmentStatus:n.fulfillmentStatus,fulfillmentStatusUpdatedAt:n.fulfillmentStatusUpdatedAt,hasProjectNotice:!!n.projectNotice,refTag:"creator_tab",griddable:!0}))}})),E&&b.a.createElement("div",{className:"flex flex-row items-center self-center kds-mt-06"},b.a.createElement(d.a,{icon:"icon--chevron-down",variant:"outlined",onPress:t=>{var n,a,i;return v({variables:{currentProjectPid:e.projectPid,after:null==p||null===(n=p.project)||void 0===n||null===(a=n.creator)||void 0===a||null===(i=a.launchedProjects)||void 0===i?void 0:i.pageInfo.endCursor,projectsToFetch:24},query:ie,updateQuery:re})}},Object(h.b)("project_creator.See_more_button")))))},se=({projectPid:e})=>{const t=Object(m.a)(p.Honeybadger.notify.bind(p.Honeybadger));return b.a.createElement(r.ApolloProvider,{client:t},b.a.createElement(s.a,{atoms:["kds-mt-10","kds-mb-20 kds-gap-06"]},b.a.createElement(c.a,{atoms:[]},b.a.createElement(de,{projectPid:e}))))},ce=()=>{var e;const t=document.getElementById("react-creator-tab"),n=parseInt((null==t||null===(e=t.dataset)||void 0===e?void 0:e.project_pid)||"",10),a=Object(m.a)(p.Honeybadger.notify.bind(p.Honeybadger));k.a.render(b.a.createElement(r.ApolloProvider,{client:a},b.a.createElement(s.a,{atoms:["kds-mt-10","kds-mb-20 kds-gap-06"]},b.a.createElement(c.a,{atoms:[]},b.a.createElement(de,{projectPid:n})))),t)},le=({collaborator:e,collaboratorTitle:t})=>b.a.createElement("a",{className:Object(l.b)("kds-border kds-flex kds-flex-row kds-items-center kds-p-03 kds-gap-03 radius8px"),href:(null==e?void 0:e.url)+"/about?ref=project_creator_tab",target:"_blank"},b.a.createElement("img",{src:null==e?void 0:e.imageUrl,height:60,width:60,className:"kds-rounded-full kds-border-2",alt:"",role:"presentation"}),b.a.createElement("div",{className:"kds-flex kds-flex-col"},b.a.createElement(u.a.HeadingSM,{as:"h4",className:"kds-text-secondary break-word"},t),b.a.createElement(u.a.HeadingMD,{as:"span",className:"kds-text-primary medium break-word"},null==e?void 0:e.name))),de=e=>{var t,n,a,s,c,m,p,_,v;const{data:k,loading:y,error:E,refetch:j}=function(e){const t={...J,...e};return r.useQuery(X,t)}({variables:{pid:e.projectPid,avatarWidth:200}});if(y)return b.a.createElement(g.a,null);if(E)return b.a.createElement("div",{className:"border-box flex justify-center kds-p-06 bold"},b.a.createElement(h.a,{i18nKey:"project_creator.Something_went_wrong_while_loading_this_tab"}));const w=null==k||null===(t=k.project)||void 0===t?void 0:t.creator,S=(null==w?void 0:w.url)+"/created?ref=project_creator_tab",O=(null==w?void 0:w.url)+"?ref=project_creator_tab",N=null==k||null===(n=k.project)||void 0===n?void 0:n.verifiedCreatorName,I=null==k||null===(a=k.project)||void 0===a?void 0:a.collaborators,x=null==k?void 0:k.me,T=(null==w?void 0:w.id)===(null==x?void 0:x.id),A=null===x||(null==x?void 0:x.id)===(null==w?void 0:w.id);return b.a.createElement(b.a.Fragment,null,b.a.createElement(o.a,{mdWidth:8},b.a.createElement(Z.a,{isCreator:T}),b.a.createElement(u.a.HeadingXL,{as:"h2",className:"kds-mb-03"},b.a.createElement(h.a,{i18nKey:"project_creator.About_the_creator"})),b.a.createElement("div",{className:"kds-flex kds-items-center kds-gap-05 kds-mb-06"},b.a.createElement("a",{href:S,target:"_blank",className:Object(l.b)("shrink0")},b.a.createElement("img",{src:null==w?void 0:w.imageUrl,className:"kds-rounded-full kds-border",height:132,width:132,alt:"",role:"presentation"})),b.a.createElement("div",{className:"kds-flex kds-flex-col kds-gap-02"},b.a.createElement("a",{href:S,target:"_blank",className:Object(l.b)("kds-text-primary")},b.a.createElement(u.a.HeadingMD,{as:"h3"},null==w?void 0:w.name)),b.a.createElement(C,{verifiedCreatorName:N,creator:w}))),b.a.createElement("div",{className:"kds-flex kds-flex-row kds-flex-wrap kds-gap-04 md:kds-gap-16"},b.a.createElement(ee,{top:1===(null==w||null===(s=w.launchedProjects)||void 0===s?void 0:s.totalCount)?Object(h.b)("project_creator.singular_created_project"):Object(h.b)("project_creator.num_projects_created",{projectsCount:null==w||null===(c=w.launchedProjects)||void 0===c?void 0:c.totalCount}),topLink:S,bottom:1===(null==w?void 0:w.backingsCount)?Object(h.b)("project_creator.singular_backed_project"):Object(h.b)("project_creator.num_projects_backed",{projectsCount:null==w?void 0:w.backingsCount}),bottomLink:O,className:"kds-mb-03 md:kds-mb-0 basis100p"}),b.a.createElement(ee,{top:Object(f.b)("ll",(null==w?void 0:w.lastLogin)||0),bottom:Object(h.b)("project_creator.last_login_label"),className:"basis40p"}),b.a.createElement(ee,{top:Object(f.a)("MMM YYYY",new Date((null==w?void 0:w.joinedOn)||"")),bottom:Object(h.b)("project_creator.account_created_label"),className:"basis40p"})),b.a.createElement("hr",{className:"kds-my-06"}),b.a.createElement(u.a.BodyMD,{as:"div",className:Object(l.b)("text-preline")},null==w?void 0:w.biography),b.a.createElement("div",{className:"kds-flex kds-flex-col md:kds-flex-row kds-gap-02 kds-mt-04"},b.a.createElement(q,{disableButton:A,creator:w,projectId:(null==k||null===(m=k.project)||void 0===m?void 0:m.id)||"",me:x,refetch:j}),b.a.createElement(Y,{isFollowing:null==w?void 0:w.isFollowing,creatorId:null==w?void 0:w.id,disableButton:A})),b.a.createElement("hr",{className:"kds-my-06"}),b.a.createElement("div",{className:"kds-flex kds-flex-row kds-flex-wrap kds-gap-03"},b.a.createElement(W,{creator:w}),b.a.createElement(d.a.AsLink,{variant:"borderless",icon:"icon--location",compact:!0,href:null==w||null===(p=w.location)||void 0===p?void 0:p.discoverUrl,target:"_blank",key:"creator-location"},b.a.createElement(l.a,null,null==w||null===(_=w.location)||void 0===_?void 0:_.displayableName))),b.a.createElement(oe,{projectPid:e.projectPid})),b.a.createElement(o.a,{mdWidth:4,atoms:["kds-mt-06 md:kds-mt-0"]},i()(I,"edges.length",0)>0&&b.a.createElement(b.a.Fragment,null,b.a.createElement(u.a.HeadingLG,{as:"h3",className:"kds-mb-03"},b.a.createElement(h.a,{i18nKey:"project_creator.Collaborators"})),b.a.createElement("div",{className:"kds-flex kds-flex-col kds-gap-02"},null==I||null===(v=I.edges)||void 0===v?void 0:v.map((e,t)=>b.a.createElement(le,{collaborator:null==e?void 0:e.node,collaboratorTitle:null==e?void 0:e.title,key:"collaborator-"+t}))))))}},lHf8:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("9mow"),i=n("/IHD"),r=n("q1tI"),o=n.n(r);const s=e=>{const{atoms:t,color:n="blue",...r}=e,s=Object(i.a)(t,"link-"+n);return o.a.createElement(a.a,Object.assign({className:s},r))}},lM4U:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n("Puqe"),i=n.n(a),r=n("c5x8"),o=n("lPcU"),s=n("q1tI"),c=n.n(s),l=n("ZT9a");function d({onSubmit:e,...t}){const{triggerProps:n,dialogProps:a,modalProps:s,formProps:u,...m}=function({atoms:e,role:t="dialog",title:n,content:a,footer:o,actions:s,isDismissable:c=!0,validationErrors:l,action:d,encType:u,method:m,target:p,onSubmit:h,onReset:f,autoComplete:g,autoCapitalize:_,...b}){const{children:v,isOpen:k,defaultOpen:y,onOpenChange:E,onClose:j}=b,w={children:v,isOpen:k,defaultOpen:y,onOpenChange:E,onClose:j},S={className:Object(r.a)(e,"kds-dialog__form"),action:d,method:m,onSubmit:h,onReset:f,encType:u,target:p,validationErrors:l,autoComplete:g,autoCapitalize:_},O={isDismissable:c,onClose:j},N=i()(b,[...Object.keys(w),...Object.keys(S),...Object.keys(O),t]);return{title:n,content:a,footer:o,actions:s,triggerProps:w,modalProps:O,formProps:S,dialogProps:N}}(t),{title:p,content:h,actions:f,footer:g}=m,{children:_}=n;if(void 0!==t.children){const{children:a,...i}=t;return c.a.createElement(o.a.Trigger,n,"string"==typeof _?c.a.createElement(o.a.TriggerButton,null,_):_,c.a.createElement(o.a.Modal,s,c.a.createElement(d,Object.assign({onSubmit:e},i))))}return c.a.createElement(o.a,Object(l.a)(a,{className:"max-w100"}),n=>c.a.createElement(o.a.Form,Object(l.a)(u,{onSubmit:t=>{null==e||e(t,n)}}),c.a.createElement(o.a.Header,{onClose:n.close,hideCloseButton:t.hideCloseButton},p),c.a.createElement(o.a.Content,null,"function"==typeof h?h(n):h),c.a.createElement(o.a.Footer,{actions:"function"==typeof f?f(n):f},"function"==typeof g?g(n):g)))}},"lO+I":function(e,t,n){"use strict";n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return O}));var a=n("QkVN"),i=n.n(a),r=n("eRnh"),o=n("e6Id"),s=n("3VMK"),c=n("0b9T"),l=n("vq2Z"),d=n("AKNS"),u=n("JB1x"),m=n("UBRI"),p=n("V+TD"),h=n("GzUu"),f=n("vEG9"),g=n("94td"),_=n("Z0n9"),b=n("EJsP"),v=n("sQfD");class k extends v.a{constructor(...e){super(...e),this.isEnabled=!0}refresh(){const e=this.editor.model.document.selection.getSelectedElement();this.value=null==e?void 0:e.getAttribute("anchor")}execute(e){const t=this.editor.model;t.change(n=>{const a=t.document.selection.getSelectedElement();if(a)return n.setAttribute("anchor",e,a)})}}class y extends f.t{constructor(e){super(e),this.inputView=void 0;this.inputView=new f.m(this.locale,f.B),this.inputView.label=Object(g.b)("project_build_editor.ckeditor.Section_heading_text"),this.inputView.render();const t=this.createButton(Object(g.b)("project_build_editor.ckeditor.Save"),v.j.check,"submit"),n=this.createButton(Object(g.b)("project_build_editor.ckeditor.Cancel"),v.j.cancel,"cancel"),a=this.createButton(Object(g.b)("project_build_editor.ckeditor.Delete"),v.j.eraser,"delete");this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"]},children:[this.inputView,t,n,a]})}createButton(e,t,n){const a=new f.d(this.locale);return a.set({label:e,icon:t,tooltip:!0}),a.delegate("execute").to(this,n),a}focus(){this.inputView.focus()}}class E extends b.a{constructor(...e){super(...e),this.balloon=void 0,this.formView=void 0,this.command=void 0}static get requires(){return[f.e]}init(){this.editor.commands.add("anchor",new k(this.editor)),this.command=this.editor.commands.get("anchor"),this.balloon=this.editor.plugins.get(f.e),this.createForm(),this.createButton(),this.registerSchemaChanges()}registerSchemaChanges(){const e=this.editor.conversion;this.editor.model.schema.extend("imageBlock",{allowAttributes:["anchor"]}),e.for("downcast").attributeToAttribute({model:"anchor",view:"data-anchor"}),e.for("upcast").attributeToAttribute({model:"anchor",view:"data-anchor"})}createForm(){var e,t;const n=new y(this.editor.locale),a=null===(e=this.balloon)||void 0===e||null===(t=e.view)||void 0===t?void 0:t.element;a&&Object(f.y)({emitter:n,activator:()=>void 0!==this.balloon&&this.balloon.visibleView===n,contextElements:[a],callback:()=>this.hideUI()}),this.formView=n,this.listenTo(this.formView,"cancel",()=>{this.hideUI()}),this.listenTo(this.formView,"submit",()=>{var e,t,n;this.hideUI();const a=null===(e=this.formView)||void 0===e||null===(t=e.inputView)||void 0===t||null===(n=t.fieldView)||void 0===n?void 0:n.element;var i;a&&(null===(i=this.command)||void 0===i||i.execute(a.value))}),this.listenTo(this.formView,"delete",()=>{var e;this.hideUI(),null===(e=this.command)||void 0===e||e.execute("")})}getBalloonPositionData(){const e=this.editor.editing.view;let t=null;const n=e.document.selection.getFirstRange();return n&&(t=()=>e.domConverter.viewRangeToDom(n)),{target:t}}showUI(){var e,t,n,a;const i=this.editor.commands.get("anchor"),r=null===(e=this.formView)||void 0===e||null===(t=e.inputView)||void 0===t||null===(n=t.fieldView)||void 0===n?void 0:n.element;var o;(r&&(r.value=(null==i?void 0:i.value)||""),this.formView)&&(null===(o=this.balloon)||void 0===o||o.add({view:this.formView,position:this.getBalloonPositionData()}));null===(a=this.formView)||void 0===a||a.focus()}hideUI(){var e;this.formView&&(null===(e=this.balloon)||void 0===e||e.remove(this.formView));this.editor.editing.view.focus()}createButton(){const e=this.editor,t=e.commands.get("anchor");e.ui.componentFactory.add("imageAnchor",e=>{const n=new f.d(e);return n.set({label:Object(g.b)("project_build_editor.ckeditor.Use_image_as_section_heading"),tooltip:!0,isToggleable:!0,icon:'<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><use href="#icon--header-anchor"></use></svg>'}),n.on("execute",()=>{this.showUI()}),n.bind("isOn").to(t,"value"),n})}}const j=[r.a,f.c,o.a,s.a,c.a,l.a,d.a,d.b,d.e,d.d,d.f,d.g,u.a,u.b,o.b,m.a,h.a,p.a,_.b,_.a],w=["linkImage","toggleImageCaption","imageTextAlternative"],S=e=>{const{showAnchors:t=!1,uploadAdapterConfig:n,editorConfig:a={}}=e;return i()({licenseKey:window.CKEDITOR_LICENSE_KEY,placeholder:(null==a?void 0:a.placeholder)||Object(g.b)("project_build_editor.sections.project_description.Use_text_images_videos_and_audio"),plugins:[...j,...t?[E]:[]],toolbar:["bold","italic","link"],blockToolbar:["heading","|","uploadImage","mediaEmbed","|","bulletedList"],mediaEmbed:{elementName:"div",providers:[{name:"embedly",url:/embed.ly|bandcamp.com|twitch.tv|flickr.com|flic.kr|www.scribd.com|soundcloud.com|snd.sc|spotify.com|sketchfab.com|twitter.com|t.co|vimeo.com|youtube.com|youtu.be|audiomack.com/,html:e=>`<a href="${e.input}" class="embedly-card" data-card-key="${window.embedlyApiKey}" data-card-controls="0" data-card-width="100%"></a>`}]},image:{toolbar:[...w,...t?["imageAnchor"]:[]],insert:{type:"block",integrations:[]}},heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h3",title:"Heading",class:"ck-heading_heading1"},{model:"heading2",view:"h4",title:"Subheading",class:"ck-heading_heading2"}]},htmlSupport:{allow:[{name:/(div|figure|img)/,attributes:["data-caption","data-alt-text","data-id"],classes:!0,styles:!0}]},s3Upload:n},a)},O=({plugins:e,configOverride:t,editorConfig:n,uploadAdapterConfig:a})=>({...S({showAnchors:!0,editorConfig:n,uploadAdapterConfig:a}),plugins:e,...t})},lPcU:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var a=n("iuhU"),i=n("ObC8"),r=n("sezs"),o=n("dPds"),s=n("9jZ4"),c=n("q1tI"),l=n.n(c),d=n("ZT9a"),u=n("FFUp"),m=n("evi+"),p=n("Xa46"),h=n("50D0"),f=n("3gWT");function g({onClose:e}){const t=Object(c.useRef)(void 0),n=Object(c.useCallback)(n=>{n||(null==e||e(t.current),t.current=void 0)},[e]);return{getCloseHandler:Object(c.useCallback)(e=>n=>{t.current=n,e()},[t]),onOpenChange:n}}const _=({children:e,size:t="hug",...n})=>{const{getCloseHandler:i,onOpenChange:r}=g(n);return l.a.createElement("div",{className:Object(a.b)("kds-@container/kds-dialog","kds-grid kds-content-center kds-justify-items-center")},l.a.createElement(u.a,Object(d.a)(n,{className:Object(a.b)("kds-dialog",b[t],"hug"!==t&&"kds-@container",Object(o.b)("BodyMD")),onOpenChange:r}),t=>{const n=i(t.close);return"function"==typeof e?e({close:n}):e}))},b={hug:Object(a.b)(""),sm:Object(a.b)("kds-w-[min(100%,50.725ch)]"),md:Object(a.b)("kds-w-[min(100%,63.407ch)]"),lg:Object(a.b)("kds-w-[min(100%,768px)]"),xl:Object(a.b)("kds-w-[min(100%,101.45ch)]"),fill:Object(a.b)("kds-w-full kds-h-[min(100%,100cqb)]"),fullscreen:Object(a.b)("kds-w-[100cqi] kds-h-[100cqb]")};_.Trigger=u.c,_.TriggerButton=m.a,_.PrimaryButton=i.a.Filled,_.SecondaryButton=i.a.Outlined,_.Link=i.a.AsLink,_.Header=({children:e,onClose:t,hideCloseButton:n,...a})=>{const i=Object(c.useContext)(u.b);return l.a.createElement("header",Object(d.a)(a,{className:"kds-dialog__header"}),l.a.createElement(o.a.HeadingLG,{as:p.a,className:"kds-dialog__title",slot:"title"},e),(i||t)&&!n&&l.a.createElement(m.a,{slot:i?"close":void 0,className:"kds-dialog__close","aria-label":"Dismiss dialog",onPress:t},l.a.createElement(r.a,{name:"icon--close"})))},_.Content=e=>l.a.createElement("div",Object(d.a)(e,{className:"kds-dialog__content"})),_.Footer=({actions:e,children:t,...n})=>Object(s.d)(t)&&Object(s.d)(e)?null:l.a.createElement(o.a.BodySM,Object.assign({as:"footer"},Object(d.a)(n,{className:Object(a.b)("kds-dialog__footer kds-flex-col kds-text-secondary","kds-justify-start kds-items-center","sm:kds-flex-row sm:kds-justify-between sm:kds-items-baseline")})),"string"==typeof t||"number"==typeof t?l.a.createElement("div",null,t):t,e&&l.a.createElement("span",{className:Object(a.b)("kds-dialog__actions kds-min-w-fit","kds-flex kds-flex-col kds-self-stretch kds-justify-self-end","sm:kds-flex-row sm:kds-self-auto sm:kds-ms-auto")},e)),_.Modal=({children:e,className:t,...n})=>{const{getCloseHandler:i,onOpenChange:r}=g(n);return l.a.createElement(h.b,Object.assign({isDismissable:!0},Object(d.a)(n,{className:"kds-modal__overlay",onOpenChange:r})),l.a.createElement(h.a,{className:Object(a.b)("kds-modal",t)},t=>"function"==typeof e?e({...t,close:i(t.state.close)}):e))},_.Form=e=>l.a.createElement(f.a,Object(d.a)(e,{className:"kds-dialog__form"}),e.children)},lTkF:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("1OuE"),i=n("q1tI"),r=n.n(i);const o=({format:e,date:t})=>r.a.createElement("time",{dateTime:t},Object(a.a)(e,t))},lX80:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("/IHD"),i=n("q1tI"),r=n("n6RG");const o={float:{className:"grid-col",separator:"-"},flex:{className:"flex-col",separator:"--"}};function s({as:e,children:t,atoms:n=[],width:s,smWidth:c,mdWidth:l,lgWidth:d,offset:u,smOffset:m,mdOffset:p,lgOffset:h,center:f=!1,style:g,layout:_,...b}){const v=null!=_?_:"float",k=null!=s?s:"float"===v?12:void 0,y=o[v],E=Object(r.c)(y),j=Object(r.b)([k,c,l,d]),w=Object(r.b)([u,m,p,h],!0),S=Object(a.a)(..."float"===v?[]:[E()],...j.map(E),...w.map(E),n,f?E(["center"]):""),O=null!=e?e:"div";return i.createElement(O,Object.assign({className:S,style:g},b),t)}},law3:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n("mv45"),i=n("eEls"),r=n("w2Ho"),o=n("sIuw"),s=n("q1tI"),c=n.n(s),l=n("IrSn"),d=n("aYzK");n("VX74"),n("DE4Y");const u={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnlikeProject"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"trackingContext"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unlikeProject"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"projectId"}}},{kind:"ObjectField",name:{kind:"Name",value:"trackingContext"},value:{kind:"Variable",name:{kind:"Name",value:"trackingContext"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"project"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"project"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Project"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"pid"}},{kind:"Field",name:{kind:"Name",value:"isDisliked"}},{kind:"Field",name:{kind:"Name",value:"isLiked"}},{kind:"Field",name:{kind:"Name",value:"isWatched"}},{kind:"Field",name:{kind:"Name",value:"isWatchable"}},{kind:"Field",name:{kind:"Name",value:"isLaunched"}}]}}]};const m=Object(a.j)(u,e=>({children:e.ownProps.children,unlikeProject:()=>(e.ownProps.onClick(),e.mutate({variables:{projectId:e.ownProps.projectId,trackingContext:e.ownProps.trackingContext}}))}))(({unlikeProject:e,children:t})=>c.a.createElement(l.a,{onClick:e,isActive:!0},t)),p={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LikeProject"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"trackingContext"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"likeProject"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"projectId"}}},{kind:"ObjectField",name:{kind:"Name",value:"trackingContext"},value:{kind:"Variable",name:{kind:"Name",value:"trackingContext"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"project"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"project"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Project"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"pid"}},{kind:"Field",name:{kind:"Name",value:"isDisliked"}},{kind:"Field",name:{kind:"Name",value:"isLiked"}},{kind:"Field",name:{kind:"Name",value:"isWatched"}},{kind:"Field",name:{kind:"Name",value:"isWatchable"}},{kind:"Field",name:{kind:"Name",value:"isLaunched"}}]}}]};const h=Object(a.j)(p,e=>({children:e.ownProps.children,likeProject:()=>(e.ownProps.onClick(),e.mutate({variables:{projectId:e.ownProps.projectId,trackingContext:e.ownProps.trackingContext}}))}))(({likeProject:e,children:t})=>c.a.createElement(l.a,{onClick:e,isActive:!1},t)),f=Object(a.k)(d.a,e=>e.data.project?Object(a.l)({children:e.ownProps.children,trackingContext:e.ownProps.trackingContext,isLiked:e.data.project.isLiked,projectId:e.data.project.id,initialIsLiked:e.ownProps.initialIsLiked,userMetadata:Object(o.a)(e.data.me)}):{...Object(a.d)(),...e.ownProps})(e=>Object(a.i)(e)?c.a.createElement(r.a,{userMetadata:e.userMetadata},(t,n,a)=>c.a.createElement("div",{style:e.style},t?c.a.createElement(l.a,{onClick:a,isActive:!1},e.children):c.a.createElement(c.a.Fragment,null,e.isLiked?c.a.createElement(m,Object.assign({},e,{onClick:n})):c.a.createElement(h,Object.assign({},e,{onClick:n}))))):c.a.createElement("div",{style:e.style},e.initialIsLiked?c.a.createElement(l.a,{onClick:i.c,isActive:!0},e.children):c.a.createElement(l.a,{onClick:i.c,isActive:!1},e.children)))},lutk:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}));var a=n("gN63");const i=(e,t)=>n=>{const i={id:e,attachableAssoc:t,...n};return Object(a.c)("\n  mutation($input: CreateAssetInput!) {\n    upload: createAsset(input: $input) {\n      image: asset {\n        ... on Photo {\n          id\n        }\n      }\n    }\n  }\n",{input:i})},r=e=>t=>{const n={attachable_id:e,asset_id:t};return Object(a.c)("\n  mutation($input: DeleteAssetInput!) {\n    deleteAsset(input: $input) {\n      clientMutationId\n    }\n  }\n",{input:n})}},mEsB:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n("EHMl"),i=n("i8i4");const r=e=>void 0!==window&&window.document?Object(i.createPortal)(e,document.body):e;var o=n("TP7S"),s=n.n(o),c=n("q1tI"),l=n.n(c),d=n("KFoM"),u=n("rJga"),m=n("9P9J"),p=n("N83F");var h=function(e){return e.top="bottom",e.bottom="top",e.left="right",e.right="left",e}(h||{});const f=({children:e,placement:t="bottom",label:n,labelClasses:i,labelKey:o,ariaLabel:f,open:g,style:_,focusWithin:b=!1,hideArrow:v,onFocus:k,onBlur:y,onTouchStart:E,onMouseEnter:j,onMouseLeave:w})=>{const[S,O]=Object(c.useState)(!1),N=s()(g)?S:g,C=`${t}-${v}-${o||n}`;return l.a.createElement(d.c,{key:C},l.a.createElement(u.a,null,({ref:t})=>l.a.cloneElement(e,{ref:t,onTouchStart:()=>{O(!0),null==E||E()},onFocus:()=>{O(!0),null==k||k()},onBlur:()=>{O(!1),null==y||y()},onMouseEnter:()=>{O(!0),null==j||j()},onMouseLeave:()=>{O(!1),null==w||w()},tabIndex:b?-1:0})),r(l.a.createElement(m.a,{placement:t,modifiers:{offset:{offset:"0, 10"},preventOverflow:{boundariesElement:"viewport"}}},({ref:e,style:t,placement:r,arrowProps:o})=>{const s=h[r];return l.a.createElement("div",{style:{maxWidth:"272px",zIndex:130,...t}},l.a.createElement(p.a,{open:N,duration:200,direction:s,start:"10%",easing:"ease-in-out"},l.a.createElement("div",{ref:e,"data-test-id":"popper-tooltip","data-placement":r,"aria-label":f,className:i||"pointer-events-none bg-black white border-none p2 m0",style:_},n,!v&&l.a.createElement(a.a,{"data-test-id":"popper-arrow",hex:"#000",size:"10px",direction:s,ref:o.ref,style:o.style}))))})))}},mZYE:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n("8oY9"),i=n("CBx1"),r=n("CgNg"),o=n("94td"),s=n("zm9w"),c=n("XXIi"),l=n("q1tI"),d=n.n(l);const u=({convert:e,onChange:t,pledgeData:n,elementId:l,disabled:u,fxRate:m,userCurrency:p,variant:h=c.a.CampaignTab})=>{const f=Object(o.b)("project_page.reward_form.Pledge_amount"),g="pledgeAmount-"+l;return d.a.createElement(d.a.Fragment,null,d.a.createElement(a.a,{id:g+"-label",key:g+"-label",label:f,atoms:"rewards_tab"===h?["visually-hide"]:[]}),d.a.createElement("div",{className:"relative"},d.a.createElement(r.b,{atoms:["new-form__amount"],autoComplete:"off",disabled:u,hasErrors:n.errors.amount,id:g+"-input",inputAtoms:["new-form__input--numbers"],inputValue:n.amount,onChange:t,type:"number"}),d.a.createElement("div",{key:g,className:"new-form__currency-box"},d.a.createElement("span",{className:"new-form__currency-box__text"},s.b.currency_symbol(n.currency,{usd_type:n.usdType})))),e?d.a.createElement(i.a,{amount:n.amount,fxRate:m,currency:p,atoms:["block text-uppercase type-10 ls1px pt2"]}):null)}},mm3F:function(e,t,n){"use strict";n.r(t),n.d(t,"closeDeleteAssetModal",(function(){return a})),n.d(t,"deleteAsset",(function(){return i})),n.d(t,"fileDragEnded",(function(){return r})),n.d(t,"fileDragStarted",(function(){return o})),n.d(t,"hydrateAsset",(function(){return s})),n.d(t,"noopAction",(function(){return c})),n.d(t,"openDeleteAssetModal",(function(){return l})),n.d(t,"reloadAsset",(function(){return d})),n.d(t,"setImageAssetWidth",(function(){return u})),n.d(t,"updateUploadProgress",(function(){return m})),n.d(t,"uploadInitialize",(function(){return p})),n.d(t,"uploadProcessingStart",(function(){return h})),n.d(t,"uploadSuccess",(function(){return f})),n.d(t,"uploadFileFailure",(function(){return g})),n.d(t,"uploadFileStart",(function(){return _})),n.d(t,"uploadFileSuccess",(function(){return b})),n.d(t,"uploadReset",(function(){return v}));const a=()=>({type:"CLOSE_DELETE_ASSET_MODAL"}),i=()=>({type:"DELETE_ASSET"}),r=()=>({type:"FILE_DRAG_ENDED"}),o=()=>({type:"FILE_DRAG_STARTED"}),s=(e,t)=>({type:"HYDRATE_ASSET",asset:e,currentDate:t}),c=()=>({type:"NOOP"}),l=()=>({type:"OPEN_DELETE_ASSET_MODAL"}),d=e=>({type:"RELOAD_ASSET",assetId:e}),u=e=>({type:"SET_IMAGE_ASSET_WIDTH",width:e}),m=e=>({type:"UPDATE_UPLOAD_PROGRESS",progress:e}),p=e=>({type:"UPLOAD_INITIALIZE",effects:e}),h=(e,t)=>({type:"UPLOAD_PROCESSING_START",assetId:e,uploadedAt:t}),f=e=>({type:"UPLOAD_SUCCESS",asset:e}),g=()=>({type:"UPLOAD_FILE_FAILURE"}),_=(e,t,n)=>({type:"UPLOAD_FILE_START",file:e,dispatch:t,uploadLimit:n}),b=e=>({type:"UPLOAD_FILE_SUCCESS",s3Params:e}),v=()=>({type:"UPLOAD_RESET"})},mq2H:function(e,t,n){"use strict";(function(e){n.d(t,"d",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"c",(function(){return f})),n.d(t,"e",(function(){return g})),n.d(t,"m",(function(){return _})),n.d(t,"g",(function(){return b})),n.d(t,"k",(function(){return v})),n.d(t,"i",(function(){return k})),n.d(t,"j",(function(){return y})),n.d(t,"h",(function(){return E})),n.d(t,"l",(function(){return j})),n.d(t,"b",(function(){return w})),n.d(t,"o",(function(){return S})),n.d(t,"n",(function(){return O})),n.d(t,"f",(function(){return N})),n.d(t,"p",(function(){return C}));var a=n("tr1H"),i=n("I8LL"),r=n("Xl3R"),o=n("y2df"),s=n("2A98"),c=n("uoVB"),l=n("v+Hr"),d=n("X5dd"),u=n("pj8f"),m=n("NxQb");const p=o.a,h=l.b,f=r.a,g=s.a,_=i.a,b=(l.e,c.a),v=(c.b,d.b),k=d.d,y=d.e,E=d.c,j=d.a,w=d.f,S=(e="",t)=>{const n=Object(l.c)(e),a=(Object(l.d)(window.location),{context_type:t,context_location:n});"discovery"===n?O(p.CTA_CLICKED,{context_cta:f.PROJECT,context_location:"discover_advanced",context_type:l.b.RESULTS}):-1!==["homepage-recommendations","thanks-recommendations","section-recommendations"].indexOf(n)?O(p.CTA_CLICKED,{context_cta:f.PROJECT,context_section:Object(l.f)(e),context_location:"curated",context_type:l.b.RECOMMENDED}):"quick_search_overlay"===n?O(p.CTA_CLICKED,{context_cta:f.PROJECT,context_location:"quick_search_overlay",context_type:l.b.RESULTS}):"discover_advanced"===n?O(p.CARD_CLICKED,a,v()):O(p.CARD_CLICKED,a)};function O(t,n,i){var r;if(!Object(m.a)("segment_tracking_events"))return!1;if(!window.analytics)return!1;const s=N();n.context_cta===f.PROJECT&&I(s,"project"),n.context_cta===f.WATCH_PROJECT&&I(s,"project"),n.context_cta===f.BANNER&&(I(s,"project"),I(s,"checkout"),I(s,"discover")),n.context_cta===f.BUILD&&I(s,"project",["project_pid","project_category","project_subcategory","project_creator_uid","project_is_repeat_creator","project_country"]),n.context_section||delete n.context_section;const c=t===o.a.PAGE_VIEWED?n.context_page:Object(l.d)(window.location);if("other"===c){const e='Segment event fired with "other" context_page property for event: #{eventName} and pathname: #{currentPathName}';u.Honeybadger.notify(e,{context:{tags:a.a.EVENTS_CLEANUP}})}const d={...s,context:{context_page:c,...s.context,...n},custom:i};"section"===(null==d||null===(r=d.context)||void 0===r?void 0:r.context_cta)&&(null==d||delete d.custom,null==d||delete d.discover);const p=Object.assign({},...Object.values(d).map(e=>e));try{return e(()=>{window.analytics.track(t,p,{context:{library:{name:window.segment_platform}}})}),!0}catch(e){return console.error("Tracking Request failed",e),u.Honeybadger.notify(e),!1}}function N(){const e=window.ksr_track_properties;return"discover"===Object(l.d)(window.location)&&C("discover",Object(d.b)()),e}function C(e,t){const n=window.ksr_track_properties[e];window.ksr_track_properties[e]={...n,...t}}function I(e,t,n){if(!n)return void delete e[t];const a=e[t];if(!a)return;const i=Object.keys(a).filter(e=>n.includes(e)).reduce((e,t)=>(e[t]=a[t],e),{});e[t]=i}}).call(this,n("URgk").setImmediate)},mv45:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"l",(function(){return o})),n.d(t,"h",(function(){return s})),n.d(t,"g",(function(){return c})),n.d(t,"i",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"k",(function(){return u})),n.d(t,"b",(function(){return m})),n.d(t,"j",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"e",(function(){return f})),n.d(t,"f",(function(){return g}));var a=n("DI+Y");const i=["variables","refetch","fetchMore","updateQuery","startPolling","stopPolling","subscribeToMore","loading","networkStatus","error","called"],r=e=>({status:"error",error:e}),o=e=>({status:"ready",...e}),s=e=>"loading"===e.status,c=e=>"error"===e.status,l=e=>"ready"===e.status,d=(e,t={})=>({props:t=>{const n=t.ownProps&&c(t.ownProps);if(!t.data||t.data.error||n)return t.data&&t.data.error?r(t.data.error):r();const a=t.ownProps&&s(t.ownProps),o=(l=t.data,Object.keys(l).length!==i.length);var l;return t.data.loading&&!o||a?{status:"loading"}:e(t)},options:{fetchPolicy:"cache-and-network",ssr:!1,...t}}),u=(e,t)=>n=>{const i=d(t);return Object(a.graphql)(e,i)(n)},m=e=>({props:t=>e(t)}),p=(e,t)=>n=>Object(a.graphql)(e,m(t))(n);function h(e,t,n,a,i,r,o,s){return c=>e(t(n?n(a?a(i?i(r?r(o?o(s?s(c):c):c):c):c):c):c))}const f=e=>{const t=g(e),n=t?{}:{general:e.message};return{...t,...n}},g=e=>e.graphQLErrors?e.graphQLErrors.map(({details:e})=>e?Object.keys(e).reduce((t,n)=>(t[n]=e[n].join(" "),t),{}):null)[0]:null},"n+nq":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));const a=e=>{const t=e.querySelector('meta[name="csrf-token"]');if(!t){const{Honeybadger:e}=n("pj8f");return e.notify("CSRF meta tag missing from page"),""}const a=t.getAttribute("content");if(!a){const{Honeybadger:e}=n("pj8f");return e.notify('CSRF meta tag did not have "content"'),""}return a},i=e=>({"X-CSRF-Token":a(e)})},n2oK:function(e,t,n){"use strict";function a(e){return Math.round(e.getTime()/1e3)}n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o}));const i=e=>null!==e?Math.floor(e/1e3):null,r=e=>null!==e?1e3*e:null,o=e=>new Date(r(e))},n6RG:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o}));const a=["","sm","md","lg"],i={float:{className:"grid-container",separator:"-"},flex:{className:"flex-grid",separator:"--"}};function r(e){const{className:t,separator:n}=e;return(e=[])=>{const a=e.filter(e=>""!==e.toString()).join("-");return`${t}${a?`${n}${a}`:""}`}}function o(e,t=!1){return e.map((e,n)=>{if(void 0!==e)return t?["offset",e,a[n]]:[e,a[n]]}).filter(e=>void 0!==e)}},n8gV:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("aiSh"),i=n("pj8f");const r=Object(a.a)(i.Honeybadger.notify.bind(i.Honeybadger))},nGRn:function(e,t,n){"use strict";var a=n("xG9w"),i=n("KKf6"),r=n("SmhT"),o=n("0VSk"),s=n("ZCIj"),c=(n("+ZuA"),n("gtN/"),n("4ST8"),n("bxGQ"),n("+2Rf"));n("+2Rf");!function(e){function t(t){this.$c=e(t),this.video_data=this.$c.data("video")||{},this.autostarting=!1;var n=this.$c.find("video");n.get(0)&&n.get(0).canPlayType&&(n.get(0).canPlayType("video/mp4")||n.hasClass("has_hls"))&&(this.$video=n,this.video=n.get(0),i.a.chrome&&this.$video.attr("controls","controls").removeAttr("controls")),this.initialize(),(window.location.search.match("play="+(this.$c.attr("id")||this.video_data.id))||this.$c.hasClass("autoplay"))&&(this.autostarting=!0,this.play()),this.$c.hasClass("muted")&&this.mute(),this.add_size_class(),this.bind_events()}e.fn.ksr_video=function(){return e(this).each((function(){var n=e(this).data("ksr_video");n||(n=new t(e(this)),e(this).data("ksr_video",n))}))},e.extend(t.prototype,{overlay:function(){var t=this;this.$c.children(":not(video)").hide(),this.$overlay=e('<div class="overlay"><span class="button-playvideo"></span></div>'),this.$overlay.on("click",(function(e){t.initialize_flash(),t.$overlay.remove(),e.preventDefault()})),this.$c.append(this.$overlay)},bind_events:function(){var e=this;this.$c.on("ksr_video:play",(function(){e.play()})),this.$c.on("ksr_video:pause",(function(){e.pause()})),this.$c.on("ksr_video:mute",(function(){e.mute()})),this.$c.on("ksr_video:unmute",(function(){e.unmute()})),this.$c.on("ksr_video:destroy",(function(){e.destroy()})),this.$c.on("ksr_video:seek",(function(t,n,a){e.seek(n,a)}))},add_size_class:function(){this.$c.removeClass("small medium large"),this.$c.width()>600||this.$c.width()>400?this.$c.addClass("large"):this.$c.addClass("small")},bind_video_element:function(){var e=this,t=this.$video,n=!0;this.$video.on("loadedmetadata",(function(){e.$c.trigger("ksr_video:loaded")})),t.bind("ended",(function(){e.$c.trigger("ksr_video:ended")})),t.on("play",(function(){e.$c.trigger("ksr_video:playing",[n]),e.$c.addClass("has_played"),e.autostarting?e.autostarting=!1:e.focus_playpause_button(),n=!1})),t.on("pause",(function(){e.$c.trigger("ksr_video:paused"),e.focus_playpause_button()})),t.on("progress",(function(){var t,n,i,r=e.video.buffered,o=[];if(r.length)for(t=0;t<r.length;t+=1)o.push(r.end(t));i=(n=a.default.max(o))/e.video.duration*100,e.$c.trigger("ksr_video:buffer_change",[n,i])})),t.on("timeupdate",(function(){e.$c.trigger("ksr_video:time_update",[e.video.currentTime])}))},bind_controls:function(){var t=this,n=this.$c.find(".player_controls"),i=n.find(".progress_container .progress_bg"),c=i.find(".buffer"),l=i.find(".progress"),d=i.find(".progress_handle"),u=n.find(".volume_container .progress_bg"),m=u.find(".progress"),p=u.find(".progress_handle"),h=n.find(".current_time"),f=n.find(".volume"),g=n.find(".playpause"),_=n.find(".video_track_list"),b=n.find(".js-caption-dropdown"),v={x:0,y:0},k=!1;function y(e){var t=Math.floor(e/60),n=Math.floor(e-60*t);return t+":"+(n<10?"0":"")+n}function E(){n.is(":hover")?S():(n.removeClass("visible"),n.trigger("ksr_video:controls_hidden"))}function j(){n.addClass("visible"),n.trigger("ksr_video:controls_shown")}function w(){clearTimeout(k)}function S(){w(),k=setTimeout(E,2e3)}function O(){var e=t.video.duration;e&&(t.$c.find(".total_time").text(y(e)).attr("datetime","PT"+Math.floor(e)+"S"),d.attr("aria-valuenow",t.video.currentTime).attr("aria-valuemin","0").attr("aria-valuemax",e))}function N(e){return e.which===r.g?-1:e.which===r.k?1:null}function C(e,n){var a=n.delta,i=n.direction,r=n.max,o=t.video[e];i&&(o=function(e,t,n){return Math.min(n,Math.max(t,e))}(o+a*i,0,r),t.video[e]=o,j(),S())}function I(){var e=t.video.volume;s.b.setItem("ksr_video_volume",e),t.video.muted?(e=0,f.addClass("muted").attr("aria-label",o.default.t("library.ksr_video.Unmute"))):f.removeClass("muted").attr("aria-label",o.default.t("library.ksr_video.Mute"));var n=100*e+"%";m.width(n),p.css("left",n),p.attr("aria-valuenow",e)}this.$c.on("mousemove touchstart touchmove",(function(e){var n={x:e.pageX,y:e.pageY};t.playing()&&("touchstart"===e.type||Math.abs(n.x-v.x)+Math.abs(n.y-v.y)>20)&&(j(),S(),v=n)})),O(),this.$video.on("click",(function(){t.playpause()})),this.$c.find(".play_button_big, img.poster").on("click",(function(e){t.play(),e.preventDefault()})),this.$c.on("focus click",":tabbable",(function(){t.playing()&&(j(),S())})),this.$c.on("keydown",'[role="button"]',(function(t){t.which!==r.c&&t.which!==r.l||(e(this).click(),t.preventDefault())})),this.$c.on("keydown",'.progress_container [role="slider"]',(function(e){C("currentTime",{delta:.05*t.video.duration,direction:N(e),max:t.video.duration})})),this.$c.on("keydown",'.volume_container [role="slider"]',(function(e){C("volume",{delta:.05,direction:N(e),max:1})})),this.$c.on("ksr_video:loaded",(function(){t.$c.css("height",t.$c.css("height")),O(),p.attr("aria-valuemin","0").attr("aria-valuemax","1"),I()})),this.$video.on("volumechange",(function(){I()})).on("play",(function(){g.removeClass("play").addClass("pause").attr("aria-label",o.default.t("library.ksr_video.Pause")),S()})).on("pause",(function(){g.removeClass("pause").addClass("play").attr("aria-label",o.default.t("library.ksr_video.Play")),j(),w()})),g.on("click",(function(e){t.playpause(),e.preventDefault()})),n.on("mouseenter focus",".video_dropdown",(function(t){var a=e(t.currentTarget);a.addClass("open"),n.on("mouseleave.leave_dropdown blur.leave_dropdown",".video_dropdown",(function(){a.removeClass("open"),n.off(".leave_dropdown")}))}));function x(i){var r,o=b.find(".js-track"),s=i?o.filter('[data-language="'+i+'"]'):e();0===s.length&&(s=o.filter(".js-captions-off"),i=void 0),o.removeClass("selected"),s.addClass("selected"),s.is(".js-captions-off")?n.find(".ksr-icon__closed-caption").removeClass("is-on"):n.find(".ksr-icon__closed-caption").addClass("is-on"),t.$c.data("language",i),r={hls:t.hls,language:i,textTracks:t.video.textTracks},a.default.each(r.textTracks,(function(e,t){e.language===r.language?(e.mode="showing",r.hls&&(r.hls.subtitleTrack=t)):e.mode="hidden"}))}_.on("click","li",(function(){var n=e(this).data("language");b.removeClass("open"),n?s.b.setItem("last_track_language",n):s.b.removeItem("last_track_language"),x(n),t.$c.trigger("ksr_video:change_track",n)})),t.video.textTracks&&0!==t.video.textTracks.length?x(s.b.getItem("last_track_language")):this.$c.find(".js-remove-unless-text-tracks").remove();var T=null;function A(){t.$c.trigger("ksr_video:volume_adjusted")}e(document).on("fullscreenchange mozfullscreenchange webkitfullscreenchange",(function(){!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement)&&T&&t.$c.css("height",T)})),n.find(".fullscreen").on("click",(function(e){if(document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled){var n=t.$c.get(0);document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement?document.cancelFullscreen?document.cancelFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen():(T=t.$c.css("height"),t.$c.css("height","auto"),n.requestFullscreen?n.requestFullscreen():n.mozRequestFullScreen?n.mozRequestFullScreen():n.webkitRequestFullscreen&&n.webkitRequestFullscreen())}else t.$c.toggleClass("fullscreen");e.preventDefault()})),i.draggable_bar((function(e){var n=t.video.duration*e;"number"==typeof n&&isFinite(n)&&(t.video.currentTime=n)})),u.draggable_bar((function(e){t.video.muted&&t.unmute(),t.video.volume=e})),u.find(".progress_bar_bg").on("mouseup",A),m.on("mouseup",A),p.on("mouseup",A),e("body").is(".touchable")?m.hide():f.on("click",(function(){t.mute_toggle()})),this.$c.on("ksr_video:buffer_change",(function(e,t,n){c.width(n+"%")})),this.$c.on("ksr_video:time_update",(function(e,n){var a=n/t.video.duration*100;l.width(a+"%"),d.css("left",a+"%"),h.text(y(n)).attr("datetime","PT"+Math.floor(n)+"S"),d.attr("aria-valuenow",n)}))},play:function(){this.video?(this.$video.show(),this.hls&&this.hls.startLoad(),this.video.play()):this.jwplayer&&this.jwplayer.play()},pause:function(){this.playing()&&(this.video?this.video.pause():this.jwplayer&&this.jwplayer.pause())},playpause:function(){return this.playing()?this.pause():this.play(),this.playing()},focus_playpause_button:function(){var t=this.$c.find(".playpause"),n=e(window),a=t[0].getBoundingClientRect();a.top>=0&&a.left>=0&&a.bottom<=n.height()&&a.right<=n.width()&&t.focus()},seek:function(e,t){var n=this;if(void 0===t&&(t=!1),this.video){if(this.video.readyState<1)return this.video.load(),void this.$c.one("ksr_video:loaded",(function(){n.seek(e,t)}));this.video.currentTime=e,t?this.pause():this.play()}else this.jwplayer&&(this.jwplayer.seek(e),this.jwplayer.pause(t))},mute_toggle:function(){return this.video&&(this.video.muted?this.unmute():this.mute()),this.video.muted},mute:function(){this.$c.trigger("ksr_video:muted"),this.jwplayer?this.jwplayer.setMute(!0):this.video.muted=!0},unmute:function(){this.$c.trigger("ksr_video:unmuted"),this.jwplayer?this.jwplayer.setMute(!1):this.video.muted=!1},destroy:function(){this.$c.empty(),this.$c.removeData("ksr_video")},current_position:function(){return this.video?this.video.currentTime:this.jwplayer?this.jwplayer.getPosition():void 0},duration:function(){return this.jwplayer?this.jwplayer.getDuration():this.video.duration},playing:function(){return this.video?!this.video.paused:this.jwplayer?"playing"===this.jwplayer.getState().toLowerCase():void 0},initialize_flash:function(){var e="v"+parseInt(1e8*Math.random(),10),t=this.$c.data("external_flashvars")||{},n=this;this.$c.append('<div id="'+e+'"></div>'),"undefined"!=typeof swfobject&&swfobject.embedSWF("https://d3mlfyygrfdi2i.cloudfront.net/321f/kickplayer.swf",e,this.$c.data("dimensions").width,this.$c.data("dimensions").height,"9.0.115","/swf/expressInstall.swf",a.default.extend(t,{displayheight:this.$c.height(),file:encodeURI(this.$c.attr("data-video-url")),image:encodeURI(this.$c.attr("data-image")),backcolor:"000000",screencolor:"000000",controlbar:"over","controlbar.idlehide":"true",autostart:!0,skin:"https://d3mlfyygrfdi2i.cloudfront.net/cc3a/kickskin.swf"}),{allowscriptaccess:"always",allowfullscreen:"true",wmode:"opaque",menu:"false"},{id:"ksr_player_"+e,class:"ksr_player",name:"ksr_player_"+e},(function(e){var t=!0;window.player_reference=e.ref,e.success?(n.$c.find("video").remove(),n.jwplayer=jwplayer(e.ref),n.jwplayer.onReady((function(){n.$c.trigger("ksr_video:loaded")})),n.jwplayer.onPlay((function(){n.$c.trigger("ksr_video:playing",[t]),t=!1})),n.jwplayer.onPause((function(){n.$c.trigger("ksr_video:paused")})),n.jwplayer.onComplete((function(){n.$c.trigger("ksr_video:ended")})),n.jwplayer.onBufferChange((function(e){var t=e.duration*(e.bufferPercent/100);isNaN(t)||n.$c.trigger("ksr_video:buffer_change",[t,e.bufferPercent])}))):(n.$video=n.$c.find("video"),n.video=n.$video.get(0),n.$overlay.remove(),n.$c.children().show(),n.$c.find(".play_button_big").removeAttr("style"),n.video&&(n.initialize(),n.play()))}))},initialize_hls:function(e){this.hls=new e({autoStartLoad:this.$video.hasClass("preload")}),this.hls.loadSource(this.$video.find('source[type="application/x-mpegURL"]').attr("src")),this.hls.on(e.Events.MANIFEST_PARSED,()=>{this.hls.attachMedia(this.video),this.$c.trigger("ksr_video:loaded")})},async initialize(){const{default:e}=await n.e(0).then(n.t.bind(null,"ulZh",7));this.video?(this.$video.hasClass("has_hls")&&e.isSupported()&&this.initialize_hls(e),this.bind_controls(),this.bind_video_element(),s.b.getItem("ksr_video_volume")&&(this.video.volume=s.b.getItem("ksr_video_volume")),this.$video.css({height:"100%"}).removeAttr("style")):this.overlay()}})}(c)},nU83:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return m}));var a=n("WjpJ"),i=n.n(a),r=n("pTxv"),o=n("94td"),s=n("q1tI"),c=n("iuhU"),l=n("ObC8"),d=n("/IHD");const u=e=>{const{size:t="large",theme:n="trust",atoms:a,...i}=e,o=[Object(d.a)("w100p mt4",a)];return s.createElement(r.b,Object.assign({size:t,theme:n,atoms:o},i))},m=e=>{const{renderNavigationButtons:t=!0,atoms:n}=e,a=e.currentPage===e.totalPages,i=1===e.currentPage;return s.createElement("div",{className:Object(c.b)("flex w100p",n),"aria-live":"polite"},s.createElement("div",{className:"flex flex2 order2 items-center justify-center"},s.createElement(p,{currentPage:e.currentPage,totalPages:e.totalPages})),t&&s.createElement(s.Fragment,null,s.createElement("div",{className:"flex flex2 order1 items-center"},!i&&s.createElement(l.a,{"data-test-id":"paginator-previous-page",onPress:()=>e.onPageChange(e.currentPage-1),icon:"icon--arrow-left","aria-label":Object(o.b)("modals.paginator.Previous_page")})),s.createElement("div",{className:"flex flex2 order3 justify-end"},s.createElement(l.a,{"data-test-id":a?"paginator-finish-page":"paginator-next-page",onPress:a?e.onFinish:()=>e.onPageChange(e.currentPage+1),icon:a?"icon--check":"icon--arrow-right","aria-label":a?Object(o.b)("modals.paginator.Finish"):Object(o.b)("modals.paginator.Next_page")}))))},p=({currentPage:e,totalPages:t})=>s.createElement("span",{"aria-label":Object(o.b)("modals.paginator.Page_n_of_m",{currentPage:e,totalPages:t})},i()(1,t+1).map(t=>s.createElement("span",{key:t,className:"lh4 py0 px1"},s.createElement("span",{className:"inline-block w1 h1 radius100p "+(t===e?"bg-navy-700":"bg-grey-500")}))))},nWi4:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return h}));var a=n("iuhU"),i=n("mEsB"),r=n("94td"),o=n("/IHD"),s=n("6Y6I"),c=n("Drj3"),l=n("q1tI"),d=n.n(l),u=n("3gYt"),m=n("39MV");const p=e=>{const{items:t,hasAddons:n}=e,{items:a,remainder:i}=Object(m.f)(t),{items:o,remainder:l}=Object(m.g)(t);return d.a.createElement(d.a.Fragment,null,d.a.createElement(s.a,null,d.a.createElement("span",null,Object(r.b)("rewards.items_included",{count:t.length})),n?d.a.createElement("span",{className:"ml1 support-400"},Object(r.b)("rewards.plus_optional_addons")):d.a.createElement(d.a.Fragment,null)),a.length?d.a.createElement(h,{items:a,extraItems:i}):d.a.createElement(c.b,{tag:"p"},d.a.createElement("span",null,o.join(", ")),l>0&&d.a.createElement("span",{className:"support-500 ml1"},Object(r.b)("rewards.plus_more",{count:l}))))},h=e=>{const{items:t,extraItems:n}=e,s=["border","border-grey-400","radius4px","clip"],c=["shrink0","max-w100p"];return d.a.createElement("div",{className:"flex gap1"},t.map(e=>{var t;return Object(o.d)(e.image)&&null!==(null===(t=e.image)||void 0===t?void 0:t.url)?d.a.createElement(i.a,{label:`${Object(m.e)(e.quantity)}${e.name}`,placement:"top",key:e.id},d.a.createElement("div",{className:"display-inline"},d.a.createElement(u.a,{key:e.id,width:66,height:66,image:e.image,atoms:[...s,...c]}))):null}),n>0&&d.a.createElement("div",{className:Object(a.b)(s,["max-w100p"],"min-w11 h11 p1","border-box","display-grid items-center justify-items-center text-center","type-12 lh16px support-400")},Object(r.b)("rewards.plus_more",{count:n})))}},nbmp:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return i}));const a=(e,t)=>t>=e,i=(e="",t=!1)=>({content:{id:e},toggle:{"aria-controls":e,"aria-expanded":t?"true":"false"}})},noZS:function(e,t,n){var a=n("hypo"),i=n("JC6p"),r=n("ut/Y");e.exports=function(e,t){var n={};return t=r(t,3),i(e,(function(e,i,r){a(n,i,t(e,i,r))})),n}},nra7:function(e,t,n){"use strict";var a,i=n("+2Rf"),r=n.n(i),o=n("xG9w"),s=n("2UXI"),c=n("yQm5"),l=n.n(c),d=n("ese3");n("uJlH"),n("1uyb"),n("RIhn"),n("ykY3"),n("FPRb"),n("1zKs");a=History.isTraditionalAnchor,"undefined"!=typeof History&&(History.isTraditionalAnchor=function(e){return 0===e.indexOf("remote_modal_dialog")||a.apply(this,arguments)}),r()((function(){r()(".modal_dialog").livequery((function(){var e=r()(this),t=e.attr("id");r()(document).on("click",".link_to_"+t,(function(t){e.modal_dialog({event:t}),t.preventDefault()})),e.closest(".pop_modal_on_load").length&&e.modal_dialog()})),r()(document).on("click",".remote_modal_dialog",(function(e){if(e.preventDefault(),!r()(this).is(".disabled")){var t=r.a.open_remote_modal_dialog(l()(r()(this).attr("href")).suffix("js").toString(),{title:o.default.escape(r()(this).attr("data-modal-title")),id:r()(this).attr("data-modal-id"),event:e,do_not_cache:!!r()(this).attr("data-do_not_cache"),class_name:r()(this).attr("data-modal-class"),theme:r()(this).attr("data-modal-theme"),ignore_parent:!!r()(this).attr("data-ignore_parent"),remote_modal_dialog_contents_loaded:function(e){var t=e.find(".move_to_head");t.length&&(r()("head").append(t.children()),t.remove())},dataType:"html"});t&&(r()(this).data("modal_dialog",t),t.$elem.on("modal_dialog:remote_dialog_loaded",(function(){try{"undefined"!=typeof FB&&FB.XFBML&&FB.XFBML.parse()}catch(e){}})))}})).each((function(){var e=r()(this);e.is(".pop_modal_on_load")&&e.click()})),r()(document).on("click",".modal_dialog_close",(function(e){e.preventDefault(),r()(this).trigger("close.modal_dialog")})),r()(document).on("closed.modal_dialog",(function(e){r()(e.target).find(".video-player").trigger("ksr_video:pause")})),r()(document).on("click",".modal_dialog .pagination a",(function(e){var t=r()(this).closest(".modal_dialog_body"),n=r()(this);t.height(t.height()),e.preventDefault(),r.a.ajax({url:n.attr("href"),type:"get",dataType:"html",beforeSend:function(e){e.setRequestHeader("Accept","text/javascript, */*")},success:function(e){t.html(e),r.a.scrollTo(t),t.css("height","auto")}})}));var e,t=/^#modal_dialog:([\-_a-zA-Z0-9]+)$/.exec(window.location.hash),n=/^#remote_modal_dialog:(.*)$/.exec(window.location.hash);t&&(e=t[1],r()("#"+e).modal_dialog(),window.location.replace("#")),n&&(r()(".remote_modal_dialog").each((function(){Object(d.a)(decodeURIComponent(n[1]),decodeURIComponent(r()(this).attr("href")))&&r()(this).click()})),window.location.replace("#")),r()(".generate_modal_dialog").livequery((function(){var e=r()(this),t=o.default.pick(e.data(),"id");r.a.create_modal_dialog(e.data("title"),e.data("content"),t)})),r()(document).on("modal_dialog:opened",(function(e,t){var n;n={modal_class:t.options.class_name,modal_title:t.options.title,modal_id:t.options.id,modal_event_class:!!t.options.event&&t.options.event.target.classList[0]},Object(s.d)("Modal Dialog View",n)}))}))},nuFJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n("+2Rf"),i=n.n(a),r=n("xG9w");let o=[];const s=e=>{const{element:t,offsets:n=[],styles:a=(()=>({onLock:{},offLock:{}}))}=e,r=i()(t);return r.length?{styles:a,options:e,element:r,offsetTop:r.parent().offset().top,eventName:"scroll."+r.selector,offset:l(n)}:null},c=({element:e,eventName:t,offsetTop:n,offset:a,styles:r})=>{let o=!1;const s=r();i()(window).off(t).on(t,(function(){const t=this.scrollY;!o&&t>=n-a?(e.addClass("fixed").css({top:a+"px",...s.onLock}),o=!0):o&&t<n-a&&(e.removeClass("fixed").css({top:"",...s.offLock}),o=!1)})).trigger(t)},l=(e=[])=>e.map(e=>i()(e).height()).reduce((e,t)=>e+t),d=()=>o.forEach(e=>c(s(e.options)));i()(window).on("resize",r.default.debounce(d,250))},o3IG:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c}));var a=n("MgNI");const i=(e,t,n=null)=>[`${e}=${encodeURIComponent(t)}`,r(n),"path=/"].filter(e=>e).join("; "),r=e=>a.maybe.fromNullable(e).map(e=>"expires="+e.toGMTString()).getOrElse(null),o=e=>((e,t)=>t.split(/; */).map(e=>e.split("=")).reduce((t,[n,a])=>n==e?decodeURIComponent(a):t,null))(e,"undefined"==typeof document?"":document.cookie),s=(e,t,n)=>document.cookie=i(e,t||"",n?new Date(n):null),c=e=>document.cookie=(e=>i(e,"",new Date(0)))(e);"undefined"!=typeof window&&(window.read_cookie=o,window.write_cookie=s,window.destroy_cookie=c)},oAcR:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("q1tI"),i=n.n(a),r=n("FiUa"),o=n("sezs"),s=n("94td"),c=n("NxQb");const l=()=>Object(c.a)("featured_rewards_2025")?i.a.createElement(r.a,{variant:"purple"},i.a.createElement(o.a,{name:"icon--star",size:"sm",atoms:["valign-middle","inline-block"]}),Object(s.b)("rewards.Featured")):null},oHnK:function(e,t,n){"use strict";n.r(t);n("ViW2"),n("KKf6");var a=n("KHPI"),i=n("wOBM"),r=n("D6l6"),o=(n("j3NK"),n("+2Rf")),s=n.n(o),c=n("2UXI");s()((function(){s()(document).on("click","ul.faqs_alt li .question",(function(e){s()(this).parent("li").toggleClass("expanded"),Object(c.d)("FAQ Toggle",{question:s()(this).text().trim()}),e.preventDefault()}))}));var l={mailcheck:{threshold:2,defaultDomains:["yahoo.com","google.com","hotmail.com","gmail.com","me.com","aol.com","mac.com","live.com","comcast.net","googlemail.com","msn.com","facebook.com","verizon.net","sbcglobal.net","att.net","gmx.com","mail.com","ymail.com","hotmail.co.uk","yahoo.co.uk","live.co.uk"],defaultTopLevelDomains:["co.uk","com","net","org","info","edu","gov","mil"],allowedDomainsRegexes:[/ymail.com/,/yahoo\.co\./,/yahoo\.com\./,/hotmail\.co\./,/hotmail\.com\./],run:function(e){e.domains=e.domains||l.mailcheck.defaultDomains,e.topLevelDomains=e.topLevelDomains||l.mailcheck.defaultTopLevelDomains,e.distanceFunction=e.distanceFunction||l.sift3Distance,e.ignoreTLDs=e.ignoreTLDs||!1;var t=l.mailcheck.suggest(encodeURI(e.email),e.domains,e.topLevelDomains,e.distanceFunction,e.ignoreTLDs);t?e.suggested&&e.suggested(t):e.empty&&e.empty()},suggest:function(e,t,n,a,i){e=e.toLowerCase();var r,o,s,c=this.splitEmail(e),l=this.findClosestDomain(c.domain,t,a);for(s=0;s<this.allowedDomainsRegexes.length;s+=1)if(this.allowedDomainsRegexes[s].exec(c.domain))return!1;if(l){if(l!==c.domain)return{address:c.address,domain:l,full:c.address+"@"+l}}else if(!i&&(r=this.findClosestDomain(c.topLevelDomain,n),c.domain&&r&&r!==c.topLevelDomain))return l=(o=c.domain).substring(0,o.lastIndexOf(c.topLevelDomain))+r,{address:c.address,domain:l,full:c.address+"@"+l};return!1},findClosestDomain:function(e,t,n){var a,i,r=99,o=null;if(!e||!t)return!1;for(n||(n=this.sift3Distance),i=0;i<t.length;i+=1){if(e===t[i])return e;(a=n(e,t[i]))<r&&(r=a,o=t[i])}return r<=this.threshold&&null!==o&&o},sift3Distance:function(e,t){var n,a=0,i=0,r=0,o=0;if(null===e||0===e.length)return null===t||0===t.length?0:t.length;if(null===t||0===t.length)return e.length;for(;a+i<e.length&&a+r<t.length;){if(e.charAt(a+i)===t.charAt(a+r))o+=1;else for(i=0,r=0,n=0;n<5;n+=1){if(a+n<e.length&&e.charAt(a+n)===t.charAt(a)){i=n;break}if(a+n<t.length&&e.charAt(a)===t.charAt(a+n)){r=n;break}}a+=1}return(e.length+t.length)/2-o},splitEmail:function(e){var t,n,a,i=e.split("@"),r="";if(i.length<2)return!1;for(t=0;t<i.length;t+=1)if(""===i[t])return!1;if(0===(a=(n=i.pop()).split(".")).length)return!1;if(1===a.length)r=a[0];else{for(t=1;t<a.length;t+=1)r+=a[t]+".";a.length>=2&&(r=r.substring(0,r.length-1))}return{topLevelDomain:r,domain:n,address:i.join("@")}}}};s.a.fn.mailcheck=function(e){var t,n,a=this;e.suggested&&(t=e.suggested,e.suggested=function(e){t(a,e)}),e.empty&&(n=e.empty,e.empty=function(){n.call(null,a)}),e.email=this.val(),l.mailcheck.run(e)};var d=n("xG9w"),u=n("GRmu"),m=n("qtWx"),p=n("DQv1"),h=n("yQm5"),f=n.n(h),g=(n("ykY3"),n("FPRb"),n("1zKs"),m.a.extend());function _(){return f()(window.location.href)}g.uri=g.prototype.uri=function(){return _()},g.on_initialize((function(e,t,n,a){this.$view=t,this.template=n,a.url?f()(a.url).equals(_().clone().query(""))?this.original_uri=_():this.original_uri=f()(a.url):this.original_uri=_(),this.current_params="",this.param_change_listeners=[],this.options=a,_().equals(window.location.href)?e&&this.change_params(_().query()):this.set_params(_().query(),!0),this.bind_events()})),g.prototype.on_change_params=function(e){this.param_change_listeners.push(e)},g.prototype.change_params=function(e){this.$view.html(Object(p.a)(this.template,this.get())),this.options.mobius_on&&!this.mobius&&(this.mobius=this.init_mobius(this.options.mobius_on)),this.current_params=e,e!==_().query()?history.pushState({params:e},null,this.original_uri.query(e).hash("").toString()):history.replaceState({params:e},null,_().query(e).hash("").toString()),this.mobius&&function(){var t=this.$mobius_context();this.mobius.current_page=1,this.mobius.set_extra_params(e),this.mobius.$elem=this.$mobius_on(),t.get(0)!==this.mobius.options.$context.get(0)&&(this.mobius.options.$context=t,this.mobius.bind_events()),this.get("total_pages")>1?(this.mobius.play(),this.mobius.check_for_more(),s()(".mobius_load_more").show()):(this.mobius.pause(),s()(".mobius_load_more").hide())}.apply(this),d.default.each(this.param_change_listeners,(function(t){"function"==typeof t&&t(e)})),this.change()},g.prototype.set_params=function(e,t){var n=this.original_uri.clone().query(e||!1),a=this;return!(!t&&e===this.current_params)&&(s.a.ajax({url:n.suffix("json").toString(),dataType:"json",success:function(t){a.set(t,{overwrite:!0}),a.change_params(e)},error:function(e){Object(u.a)({error:e.responseText})}}),!0)},g.prototype.bind_events=function(){var e=this;s()(window).on("statechange",(function(){var t=History.getState().data;t&&"string"==typeof t.params&&e.set_params(t.params)}))},g.prototype.$mobius_on=function(){var e=this.$view.find(".mobius_on");return e.length||(e=this.$view),e},g.prototype.$mobius_context=function(){var e=this.$view.find(".mobius_context");return e.length||(e=s()(window)),e},g.prototype.init_mobius=function(e){var t=this,n=this.$mobius_on(),a=this.$mobius_context();return this.$view.on("mobius:loaded_page",(function(n,a,i){i[e]=t.get(e).concat(i[e]),a>=i.total_pages?(t.mobius.pause(),s()(".mobius_load_more").hide()):(t.mobius.play(),s()(".mobius_load_more").show()),delete i.params.page,t.set(i,{overwrite:!0})})),n.mobius({dataType:"json",url:this.original_uri.clone().query("").toString(),$context:a,paused:!0}).data("mobius")},window.Location=g;var b=g,v=(n("yhqc"),n("7iCU"),n("w1Ho"),n("VTv/"),n("jBhg"),n("vhOl"),n("YHJg"),n("Pmti"),n("dmhg"),n("Yl26"),n("zhmz"),n("etHd"),n("Xt0b"),n("EEQn"),n("tQbK"),n("38sE"),n("82w6"),n("YW8a"),n("ZCQN"),n("kKIz"),n("585W"),n("nra7"),n("kZr9"),n("IvES"),n("Xr/1"),n("0Ugc"),n("jWXa"),n("U98V"));s()((function(){s()(document).on("modal_dialog:remote_dialog_loaded",(function(e){Object(v.a)(e.target)})),s()(document).on("modal_dialog:opened",(function(e){Object(v.a)(e.target)}))}));n("sFEt"),n("VeZw"),n("LKre"),n("eo+I"),n("iLvj"),n("rFP+"),n("8uoN"),n("bYgN"),n("XCVW"),n("GcaZ"),n("dw72");var k=n("zm9w");s()((function(){var e={};s()(".NS-activity-card-_backing").livequery((function(){var t=s()(this),n=t.data("project_id"),a=t.data("user"),i=e[n]||[],r=[a];d.default.each(i,(function(e){e.$div.hide(),r.push(e.user)})),r.length>1&&(t.find(".js-backers").addClass("do-not-visually-track").html(k.b.to_sentence(d.default.map(r,(function(e){return'<a href="'+e.urls.web.user+'" class="link-green-dark bold">'+e.name+"</a>"})))),t.find(".js-avatar").replaceWith(Object(p.a)("activity/card/_backing_avatars",{backers:d.default.sample(r,3)}))),i.push({$div:t,user:a}),e[n]=i}))}));var y=n("h4vE");Object(y.a)("body#activity_index",(function(e){var t=[];s()(".dashboard_activities .activity",e).livequery((function(){var e,n,a;e=s()(this),n=e.find(".timeline_header:first"),a=n.data("time_bucket"),-1===t.indexOf(a)&&(t.push(a),n.find(".timeline_header_name:first").css({display:"block"}))}))})),s()((function(){s()(document).on("click",".activity_mini_comment .excerpt a",(function(e){e.preventDefault();var t=s()(this).parents("blockquote.excerpt"),n=t.siblings("blockquote.everything");t.hide(),n.css("display","inline")}))})),Object(y.a)(".NS-assets__list",(function(e){var t=new window.AssetsListController(e.data("assets"),e.data("assets_list_options"));e.on("assets_list:item_added",(function(e,n){t.add_item(n)})),e.define_renderer((function(t){e.html(t.map((function(t,n){var a=t.get();a.item_index=n;var i=Object(p.a)(e.data("assets_list_options").item_template,a,["assets/_fields_template"]),r=s()(i);return r.on("click",".js-asset-destroy",(function(e){e.preventDefault(),t.set("_destroy",!0)})),r})))})),t.attach(e)}));var E=n("QUDP"),j=n("0VSk");s()((function(){var e=".NS_backers__info";if(document.querySelector(e)&&document.querySelector(e).dataset.backing_id){const t=document.querySelector(e).dataset.backing_id;Object(E.renderFulfillmentStatusSelectorInModal)(t)}s()(document).on("click",e+" .pledge .reward_details",(function(e){e.preventDefault();var t=s()(this).closest(".pledge");t.find(".description").toggle(),t.find(".description_short").toggle(),t.trigger("resize")})),s()(document).on("click",e+" a.completed_toggle, #backer_report_index #main table tbody tr td.completed a",(function(e){var t,n=s()(this),a=n.is(".completed");s.a.ajax({url:n.attr("href"),type:"put",dataType:"json",data:{"backer[completed]":!a},success:function(e){n.trigger("backer_completed",[n.data("backer_id"),!a,e.backer_completed_at]),n.toggleClass("completed",!a),e.backer_completed_at&&n.find("span.date").text(e.backer_completed_at)}}),n.closest(".modal_dialog").length?t="backer_modal":n.closest("td.completed").length&&(t="backer_row"),a?Object(c.d)("Rewards Sent Unchecked",{context:t}):Object(c.d)("Rewards Sent Checked",{context:t}),e.preventDefault()})),s()(document).on("click",e+" .tab-nav a",(function(t){t.preventDefault();var n=s()(this).attr("rel"),a=s()("."+n);s()(e+" .panel").hide(),a.show(),s()(".tab-nav li").removeClass("selected"),s()(this).closest("li").addClass("selected")})),s()(document).on("ksr_json:complete",e+" .messages_panel",(function(){var e=s()(this),t=e.find(".message").length+1;e.trigger("message_sent",[e.data("backing-id"),t])})),s()(document).on("message_sent",e+" .messages_panel",(function(t,n,a){s()(this).closest(e).find(".messages_link").html(j.default.t("onloads.views.backers.info.Messages_count",{count:a}))}))}));var w=n("mq2H");Object(y.a)("body#backer_report_index",(function(e){var t=".NS-backer_report_export";function n(e,n){n.closest(t).addClass("generating"),s.a.pollster(e,(function(e){return e.email_url&&s()(t+" a.email_me").attr("href",e.email_url).show(),e.uploaded||"completed"===e.state?(s()(t+" .progress .bar").width("100%"),s()(t+" .success a.download").attr("href",e.download_url),s()(t).removeClass("generating").addClass("success"),!0):(void 0!==e.percent&&s()(t+" .progress .bar").width(e.percent+"%"),!1)}),{delay:3e3,continue_on_error:!0})}e.on("submit",t+" form",(function(e){var t=s()(this),a=t.find(".report_type select").val(),i=t.find(".select.report_type").data("all_reports_url"),r=t.find(".report_format select").val();const o={default:"kickstarter",easyship:"easyship",usps:"usps",endicia:"endicia",stampsContacts:"stamps_contacts",stampsOrders:"stamps_orders"}[r];if(e.preventDefault(),a){var l;const e=a;if("all"===e)l="all_rewards",Object(c.d)("Backer Report Export",{export_type:"all_zipped"}),s.a.ajax({type:"post",url:i,data:{report_format:r},dataType:"json",success:function(e){n(e.poll_url,t)}});else{const i=e.match(/\/rewards\/(.*)\//)[1];l="all"===i?"all_rewards":"none"===i?"no_reward":"individual_tier",Object(c.d)("Backer Report Export",{export_type:e.indexOf("/all/")>0?"all_merged":"tier"}),s.a.ajax({type:"get",url:a,data:{new:"true",report_format:r},dataType:"json",success:function(e){n(e.poll_url,t)}})}Object(w.n)(w.d.CTA_CLICKED,{context_cta:w.c.REPORT_EXPORT_SUBMIT,context_page:w.e.CREATOR_DASHBOARD,context_section:"backer_report",context_type:w.a.BACKER_SUMMARY,backer_report_filter_tier:l,backer_report_format_selected:o})}})),e.on("click",t+" a.email_me",(function(e){e.preventDefault();var n=s()(this);s.a.ajax({url:n.attr("href"),type:"post",dataType:"json",success:function(e){e&&200!==e.status?this.error():s()(t+" .email_me_container").empty().html(j.default.t("onloads.views.backer_report.export.Well_send_you_an_email_when_this_report_is_ready"))},error:function(){s()(t+" .email_me_container").empty().html(j.default.t("onloads.views.backer_report.export.There_was_an_error_requesting_the_email"))}})})),e.on("click",t+" a.reset",(function(e){Object(c.d)("Backer Report Another Export"),s()(t).removeClass("generating").removeClass("success"),s()(t+" .email_me_container").empty().html(j.default.t("onloads.views.backer_report.export.Email_me_when_ready")),s()(t+" .bar").css("width","0%"),document.getElementById("export_submit").disabled=!1,e.preventDefault()})),e.on("click",t+" .js-export-warning--continue",(function(e){e.preventDefault();var n=s()(this).closest(t),a=n.find(".js-export-warning"),i=n.find(".js-export-form");a.hide(),i.show()}))}));var S=n("SmhT"),O=n("ZCIj"),N=n("K+Nk");s()((function(){function e(){return f()(window.location)}if(window.backers){var t,n=[],a=e(),i=!1,r=a.query(!0).show_responses||O.b.getItem("backer_report_show_responses");t=new b(null,s()("#main"),"backer_report/_index",{mobius_on:"backers"}),Object(c.d)("Backer Report View"),d.default.has(a.query(!0),"show_responses")&&O.b.setItem("backer_report_show_responses",a.query(!0).show_responses),"string"==typeof r&&(r="true"===r),t.on_change_params((function(){n=[],s()("form.term").term_form().bind("submit",(function(e){e.preventDefault();var n=s()(this);t.set_params(n.serialize_without_blank()),Object(c.d)("Backer Report Search",{term:n.find(":input").val()})})),function(){var t=e().query(!0).reward_id,n=s()(".NS-backer_report__header .remote_modal_dialog");if(t&&n.length>0){const e=f()(n.attr("href")).removeSearch("reward_id").addSearch("reward_id",t);n.attr("href",e)}}(),s()("form.term .text").trigger("keydown"),t.get("params.reward_id")||"dropped"===t.get("params.status")||(s()("#reward, #reward_message, ul.dropdown li.all").remove(),s()(".reward_tiers .title > span.reward b").text(j.default.t("onloads.views.backer_report.index.All_rewards")));var a=s()("#main input[name=note]:visible, #main input[name=note_not]:visible");a.focus(),a.val(a.val()),t.change()})),s()(document).on("click","#main table th",(function(n){var a,i=s()(this).data("sort"),r=e(),o=r.search(!0);i&&(n.preventDefault(),"asc"===o.asc_or_desc&&o.sort_by===i?(a="desc",r.removeSearch("asc_or_desc").addSearch("asc_or_desc",a)):(a="asc",r.removeSearch("asc_or_desc").addSearch("asc_or_desc",a)),r.removeSearch("sort_by").addSearch("sort_by",i),Object(c.d)("Backer Report Sort",{selected_sort:i,selected_order:a}),t.set_params(r.query()))})),t.on_change((function(){var e=s()("#main");d.default.each(this.get("backers"),(function(a){d.default.contains(n,a.id)||(n.push(a.id),a.project_is_successful="successful"===t.get("project.state"),a.showMessages=t.get("showMessages"),a.showRewards=t.get("showRewards"),a.show_responses=r,a.disputed_filter_enabled="true"===t.get("params.disputed"),a.dispute_status=t.get("dispute_statuses")[a.id],e.find("table tbody").append(Object(p.a)("backer_report/_row",a)))}))})),s()(window).on("statechange",(function(){var e=History.getState().data;e&&("string"==typeof e.params&&t.set_params(e.params),"string"==typeof e.modal_url?s.a.open_remote_modal_dialog(e.modal_url):(i=!0,s()(".modal_dialog:has(.NS_backers__info):visible").trigger("close"),i=!1))})),s()(window).on("set_params",(function(e,n){t.set_params(n)})),s()(document).on("click","#main .dropdown a",(function(e){var n,a,i=s()(this),r=i.closest(".dropdown"),o=r.closest(".ksr-dropdown");r.find("a").removeClass("selected"),i.addClass("selected"),n=s()(".dropdown a.selected"),a={},n.each((function(){var e=s()(this);d.default.extend(a,f()(e.attr("href")).query(!0))})),t.set_params(s.a.param(a),!0),e.preventDefault(),o.hasClass("reward_tiers")?Object(c.d)("Backer Report Reward Filter",{selected_tier:s.a.trim(s()(this).find("b").text())}):o.hasClass("views")&&Object(c.d)("Backer Report Views Filter",{selected_tier:s.a.trim(s()("#main .reward_tiers .title b").text()),selected_view:s.a.trim(s()(this).find("span").text())})})),s()(document).on("keyup","form.aggregations input[name=note], form.aggregations input[name=note_not]",(function(e){13===e.which&&s()(this).trigger("change")})),s()(document).on("click","#main table tbody tr a",(function(){o(s()(this).closest("tr"))})),s()(window).on("backer_completed",(function(e,t,n){s()("#main table tbody tr td.completed a, .NS_backers__info a.completed_toggle").filter("[data-backer_id="+t+"]").toggleClass("completed",n)})),s()(window).on("creator_backing_note:added",(function(e,t,n){s()("#main table tbody tr[data-backing_id="+t+"] td.notes a").text(n)})),s()(window).on("message_sent",(function(e,t,n){s()("#main table tbody tr[data-backing_id="+t+"] td.actions a").html('<span class="ss-icon ss-mail"></span> ('+n+")")})),s()(window).on("modal_dialog:opened",(function(t){var n=s()(t.target).data("modal_dialog");History.busy()||History.pushState({modal_url:n.remote_url},null,e().hash("").toString())})),s()(window).on("modal_dialog:remote_dialog_loaded",(function(e){var t=s()(e.target),n=t.data("modal_dialog").$elem.find("div[data-backing_id]").data("backing_id");Object(E.renderFulfillmentStatusSelectorInModal)(n);var a=s()('tr[data-backing_id="'+n+'"]'),i=a.prev("tr"),r=a.next("tr"),o=t.find(".NS_backers__info");r.length&&s()('<a class="next btn btn--dark-green btn--large" href="#"><span class="ss-icon ss-navigateright"></span></a>').click((function(e){e.preventDefault(),l(),Object(c.d)("Backer Info Modal Next",{event_type:"click"})})).prependTo(o.find(".controls")),i.length&&s()('<a class="prev btn btn--dark-green btn--large" href="#"><span class="ss-icon ss-navigateleft"></span></a>').click((function(e){e.preventDefault(),m(),Object(c.d)("Backer Info Modal Previous",{event_type:"click"})})).prependTo(o.find(".controls"))})),s()(window).on("closed.modal_dialog",(function(){if(!i){var e=s.a.param(t.get("params")),n=a.clone();History.pushState({params:e},null,n.query(e).hash("").toString())}})),s()(window).on("keydown",(function(e){if(!s()(e.target).is(":input"))switch(e.keyCode){case S.e:case S.k:l(),Object(c.d)("Backer Info Modal Next",{event_type:"keyboard"});break;case S.f:case S.g:m(),Object(c.d)("Backer Info Modal Previous",{event_type:"keyboard"});break;case S.c:s()(".NS_backers__info:visible").trigger("close").length||s()("#main tbody tr.selected td.backer a").click();break;case S.d:s()(".NS_backers__info:visible").trigger("close")}})),s()(window).on("message_thread_read",(function(e,t){s()("#backer_report_backing_"+t.backing.id+" .notification-indicator").removeClass("notification-indicator--active")})),s()(window).on("message_thread_unread",(function(e,t){s()("#backer_report_backing_"+t.backing.id+" .notification-indicator").addClass("notification-indicator--active")})),s()(".NS_message_batches__new").livequery((function(){var e=s()(".NS_message_batches__new"),t=e.find("form");t.find("textarea").validates_presence(),t.on("submit",(function(n){n.preventDefault(),t.validate()&&(Object(c.d)("Message Tier Sent"),s.a.ajax({url:t.attr("action"),type:t.attr("method"),data:t.serialize(),dataType:"json",success:function(){e.find("textarea").val(""),t.hide(),e.find(".success").show()},error:function(e){Object(u.a)({error:e.statusText})}}))}))})),t.set(Object(N.a)(window.backers)),t.change_params(a.query()),window.backers=t}function o(e){e.is(".selected")||(s()("#main tbody tr").removeClass("selected"),e.addClass("selected"),i=!0,s()(".NS_backers__info:visible").trigger("close").length&&e.find(".backer a").click(),i=!1,e.index()>e.parent().children().length-10&&!t.mobius.paused&&t.mobius.load_next())}function l(){var e=s()("#main tbody tr.selected");e.length?o(e.next()):o(s()("#main tbody tr:first"))}function m(){var e=s()("#main tbody tr.selected");e.length?o(e.prev()):o(s()("#main tbody tr:last"))}}));var C=n("qcI4"),I=n("n2oK");const x=(e,t,n,a=null)=>{var i=e.namespaceURI,r=document.createElementNS(i,"linearGradient");r.setAttribute("id",t);for(var o=0;o<n.length;o++){var s=n[o],c=document.createElementNS(i,"stop");for(var l in s)s.hasOwnProperty(l)&&c.setAttribute(l,s[l]);r.appendChild(c)}return a&&r.setAttribute("gradientTransform",a),(e.querySelector("defs")||e.insertBefore(document.createElementNS(i,"defs"),e.firstChild)).appendChild(r)},T=(e,t,n,a=null)=>{s()(e).each((e,i)=>{x(i,t,n,a),s()(i).attr("fill",`url(#${t})`)})};var A=n("c6/r"),D=n("ioZw"),P=n("tmAf");Object(y.a)("#backings_index",(function(e){function t(){return f()(History.getState().url)}var n,a=!1,i=t(),r=[{offset:"0%","stop-color":"#71A0FF"},{offset:"100%","stop-color":"#5555FF"}];function o(e){return e.closest("section").data("collection_state")}function c(e){return e.closest("section").find("table")}function l(t){e.find("#backing_"+t.get("id")).each((function(){var e=s()(this),n=o(e);e.replaceWith(u(t,n))}))}function u(e,t){return Object(p.a)("backings/_row_"+t,Object(D.a)(s.a.extend({},e.get())))}function m(e){return c(e).hasClass("table_loading")}function h(e){m(e)||e.is(".selected")||(s()("#main tbody tr").removeClass("selected"),e.addClass("selected"),a=!0,s()(".NS_backings__info:visible").trigger("close").length&&e.find("a.more").click(),a=!1)}function g(){var e=s()("#main tbody tr.selected");e.length?h(e.next()):h(s()("#main tbody tr:first"))}function _(){var e=s()("#main tbody tr.selected");e.length?h(e.prev()):h(s()("#main tbody tr:last"))}e.on("backer_completed",(function(e,t,n){var a=C.b.find(t);a.set("backer_completed_at",n),l(a)}));var b=!1;function v(e){!function(e){const t=e.attr("class").split(" ").find(e=>e.match(/svg-icon__.+/));t.endsWith("-filled")||(e.find("use").get(0).setAttributeNS("http://www.w3.org/1999/xlink","href",`#${t.replace("svg-icon__","")}-filled`),e.removeClass(t).addClass(t+"-filled"),x(e.get(0),"trustGradient",r,"rotate(45)"),e.attr("fill","url(#trustGradient)"))}(e.find("svg")),e.data("selected","true")}e.on("click",".sentiment-reaction",(function(e){e.preventDefault();const t=s()(e.currentTarget),n=t.data("sentiment");s.a.ajax({url:t.data("projectUrl")+"/feedbacks",data:{question_name:"backer_bar_sentiment",question_answer:n},dataType:"json",type:"POST",success:function(e,n,a){204!==a.status?(v(t),t.siblings().each((e,t)=>{var n;(function(e){const t=e.attr("class").split(" ").find(e=>e.match(/svg-icon__.+/));e.find("use").get(0).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+t.replace("svg-icon__","").replace("-filled","")),e.removeClass(t).addClass(""+t.replace("-filled","")),e.attr("fill","")})((n=s()(t)).find("svg")),n.data("selected",""),n.removeClass("fill-trust-300").addClass("fill-support-300")}),t.parent().find("button").attr("disabled",!0).removeClass("hover-target")):window.location.reload(!0)}})})),e.on("click","a.backer_completed_at",(function(e){e.preventDefault(),setTimeout((function(){b=!0,e.target.checked=!e.target.checked,s()(e.target).change()}),0)})),e.on("change","a.backer_completed_at input.checkbox",(function(e){if(b){b=!1;var t=s()(this),n=t.closest("a"),a=t.is(":checked");m(t)||s.a.ajax({url:n.attr("href"),data:{"backing[backer_completed]":a,ref:"profile_backings"},dataType:"json",type:"PUT",success:function(e){e.backing&&n.trigger("backer_completed",[e.backing.id,e.backing.backer_completed_at])}})}else e.preventDefault()})),e.on("message_sent",(function(e,t,n){var a=C.b.find(t);a.set("messages",{count:n,last_activity_at:Object(I.d)(new Date)}),l(a)})),e.on("click","table th.sortable",(function(e){var t=s()(this),a=t.closest("table"),i=o(t),r=t.hasClass("asc")?"asc":"desc",l=Math.min(a.find("tbody tr").length,150),m=t.data("sort"),p=f()(a.data("url"));e.preventDefault(),p.addSearch({direction:r,sort:m,page:1,per_page:l}),n&&n.abort(),n=s.a.ajax({url:p.toString(),dataType:"json",beforeSend:function(){c(t).addClass("table_loading")},complete:function(){c(t).removeClass("table_loading"),n=void 0},success:function(e){var n;n=d.default.map(e.backings,(function(e){return u(new C.b(e),i)})),a.find("tbody").html(n),a.data({sort:m,direction:r}),a.find("th").not(t).removeClass("active asc").addClass("desc"),t.addClass("active").removeClass(r).addClass("desc"===r?"asc":"desc"),a.find("tbody tr").length<e.total&&t.closest("section").find("a.show_more_backings").show()}})})),s()(document).on("click","a.show_more_backings",(function(e){var t=s()(this),a=c(t),i=a.data("sort");e.preventDefault(),m(t)||(n&&n.abort(),n=s.a.ajax({url:a.data("url"),data:{direction:a.data("direction"),page:Math.floor(a.find("tbody tr").length/150)+1,per_page:150,sort:i},beforeSend:function(){t.addClass("loading")},complete:function(){t.removeClass("loading"),n=void 0},success:function(e){var n,i=o(t),s=a.find("tbody tr").length,c=0;s<150&&(c=s),n=d.default.chain(e.backings).rest(c).map((function(e){return u(new C.b(e),i)})).value(),a.find("tbody").append(n),T("svg[class*='-filled']","trustGradient",r,"rotate(45)"),a.find("tbody tr").length>=e.total&&t.hide()}}))})),s()(window).on("statechange",(function(){var e=History.getState().data;e&&("string"==typeof e.modal_url?s.a.open_remote_modal_dialog(e.modal_url):(a=!0,s()(".modal_dialog:has(.NS_backings__info):visible").trigger("close"),a=!1))})),e.on("click","#main table tbody tr a.remote_modal_dialog",(function(){h(s()(this).closest("tr"))})),s()(window).on("modal_dialog:opened",(function(e){var n=s()(e.target).data("modal_dialog");History.busy()||History.pushState({modal_url:n.remote_url},null,t().hash("").toString())})),s()(window).on("modal_dialog:remote_dialog_loaded",(function(t){var n=s()(t.target),a=n.data("modal_dialog").$elem.find("div[data-backing_id]").data("backing_id"),i=e.find("#backing_"+a),r=i.prev("tr"),o=i.next("tr"),c=n.find(".NS_backings__info");o.length&&s()('<a class="next btn btn--dark-green btn--large" href="#"><span class="ss-icon ss-navigateright"></span></a>').click((function(e){e.preventDefault(),g()})).prependTo(c.find(".controls")),r.length&&s()('<a class="prev btn btn--dark-green btn--large" href="#"><span class="ss-icon ss-navigateleft"></span></a>').click((function(e){e.preventDefault(),_()})).prependTo(c.find(".controls"))})),s()(window).on("closed.modal_dialog",(function(){if(!a){var e=i.clone();History.pushState(null,null,e.hash("").toString())}})),s()(window).on("keydown",(function(e){if(!s()(e.target).is(":input"))switch(e.keyCode){case S.e:case S.k:g();break;case S.f:case S.g:_();break;case S.c:s()(".NS_backings__info:visible").trigger("close").length||s()("#main tbody tr.selected td a.more").click()}})),d.default.each(["active","collected","uncollected"],(function(e){var t=JSON.parse(Object(A.a)(window[e]));t.backings=d.default.map(t.backings,(function(e){return new C.b(e)})),s()("#"+e).append(function(e,t){return Object(p.a)("backings/_"+t,Object(P.a)(s.a.extend({},e)),["backings/_row_"+t])}(t,e))})),T("svg[class*='-filled']","trustGradient",r,"rotate(45)")}));n("qtVb"),n("ksT7");Object(y.a)("body#blog_posts_category",(function(e){var t,n;(t=s()("#sidebar",e)).sticky_bar({parent:t.closest("#content")}),n=s()(".mobius",e),s()("div.load_more",e).show(),s()("div.pagination",e).hide(),n.persistent_paging()})),Object(y.a)("body#claims_new",(function(){s()(".js-not-contacted").on("click",(function(){s()(".js-not-contacted-message").show(),s()(".js-claim-info").hide(),s()(".js-owner-section").hide(),s()(".js-yes-contacted").hide()})),s()(".js-contacted").on("click",(function(){s()(".js-not-contacted-message").hide(),s()(".js-claim-info").show()})),s()(".js-type-changes").on("click",(function(){s()(".js-make-changes").removeClass("hidden"),s()("#dmca_counter_claim_infringement_desc").val("")})),s()(".js-type-dispute").on("click",(function(){s()(".js-make-changes").addClass("hidden"),s()("#dmca_counter_claim_infringement_desc").val("I am disputing the claim")})),s()(".js-type-owner").on("click",(function(){s()(".js-trademark-section").length?(s()(".js-none-of-the-above-error").hide(),s()(".js-trademark-section").show(),s()(".js-contacted").prop("checked",!1),s()(".js-not-contacted").prop("checked",!1),s()(".js-not-contacted-message").hide(),s()(".js-claim-info").hide(),s()(".js-owner-name").hide(),s()(".js-owner-name-text").val(""),s()(".js-owner-name").hide()):(s()(".js-none-of-the-above-error").hide(),s()(".js-not-contacted-message").hide(),s()(".js-claim-info").show(),s()(".js-owner-name").hide(),s()(".js-owner-name-text").val(""))})),s()(".js-type-representative").on("click",(function(){s()(".js-trademark-section").length?(s()(".js-none-of-the-above-error").hide(),s()(".js-trademark-section").show(),s()(".js-contacted").prop("checked",!1),s()(".js-not-contacted").prop("checked",!1),s()(".js-not-contacted-message").hide(),s()(".js-owner-name").show(),s()(".js-claim-info").hide(),s()(".js-owner-name").show()):(s()(".js-none-of-the-above-error").hide(),s()(".js-not-contacted-message").hide(),s()(".js-claim-info").show(),s()(".js-owner-name").show())})),s()(".js-type-none").on("click",(function(){s()(".js-trademark-section").length?(s()(".js-none-of-the-above-error").show(),s()(".js-trademark-section").hide(),s()(".js-not-contacted-message").hide(),s()(".js-claim-info").hide()):(s()(".js-none-of-the-above-error").show(),s()(".js-claim-info").hide())}))})),s()((function(){var e=".NS_comments__comment";s()(".js-could-have-comments").length&&(s()(document).on("click",e+" a.report_spam",(function(e){e.preventDefault();var t=s()(this),n=this,a=t.closest(".comment");s.a.modal_confirm((function(){return r.a.get(t.data("url"),"post",a.find(".ajax-container"),n)}),{message:j.default.t("onloads.views.comments.comment.We_review_all_reports_with_care_but_please_keep_in_mind"),title:j.default.t("onloads.views.comments.comment.Report_this_comment_to_Kickstarter"),confirm_text:j.default.t("onloads.views.comments.comment.Yes_report_as_spam")})})),s()(document).on("ksr_json:complete",e+" .spam_reported",(function(e,t){var n=s()(this).closest(".comment"),a=n.find(".report_spam");a.hide(),200!==t.status||a.is(".admin")||n.find(".body").hide()})))}));var R=n("/AD1");s()((function(){s()("body").on("DOMNodeInserted","form#new_comment",(function(){var e=s()(this);e.on("click",":submit",(function(t){if(R.a&&R.a.get("comments_loaded")&&R.a.get("comments_count")-R.a.get("comments_loaded")>50)return!0;t.preventDefault();var n=e.find("input.submit"),a=n.val(),i=function(){var t=e.closest(".js-comments").find(".list-comments li.comment:first");if(R.a&&R.a.get("comments_loaded")&&t.length)return parseInt(t.attr("id").match(/\d+/)[0],10)}(),r=d.default.reduce(e.serializeArray(),(function(e,t){return e[t.name]=t.value,e}),{});i&&(r.cursor=i),n.hasClass("disabled")||(n.addClass("disabled"),n.val(j.default.t("onloads.views.comments.form.Posting")),s.a.ajax({type:e.attr("method"),url:e.attr("action"),dataType:"json",data:r,success:function(t){var n=e.closest(".js-comments"),a=n.find(".list-comments"),i=n.find("header");d.default.isArray(t.flash)&&d.default.isArray(t.flash[0])&&(t.flash=d.default.object(t.flash)),Object(u.a)(t.flash),t.html&&(e.each((function(){void 0!==this.reset&&this.reset()})),a.length||(a=s()('<ol class="list-comments click"><li class="page"><ol class="comments"></ol></li></ol>'),i.length?i.after(a):n.append(a)),t.comments_count&&R.a&&R.a.get("comments_loaded")&&(R.a.set("comments_loaded",R.a.get("comments_loaded")+s()(t.html).length),R.a.set("comments_count",t.comments_count)),s()("#project-edit-nav .preview .count").text((function(e,t){return parseInt(t,10)+1})),a.closest(".project_preview_comments").addClass("has_comments"),s()("body#proposals_show").length?a.append(t.html):a.find(".page ol.comments").prepend(t.html))},complete:function(){n.removeClass("disabled"),n.val(a)}}))}))}))}));n("ZY8h");s()((function(){s()(document).on("submit","#beneficiary_container form.beneficiary_reset",(function(e){var t=s()(this),n=s()('<div class="spinner" />').spin("ksr","#fff");t.closest("#beneficiary_container").append(n),s.a.ajax({type:t.attr("method"),url:t.attr("action"),data:t.serialize(),dataType:"html",success:function(e){t.closest("#account-setup-panel").html(e)}}),e.preventDefault()}))})),Object(y.a)("body#country_signups_netherlands",(function(e){var t=e.find(".video-banner");function n(){var e=s()(window).height()-s()("#header-wrap").height(),n=s()(window).width(),a=n/e;t.css({height:e,"min-height":"660px"}),a<1.777777?t.find("video").css({height:e,width:"auto",left:"50%",top:0,"margin-top":0,"margin-left":-t.find("video").width()/2}):(t.find("video").css({height:"auto",width:n,left:0,"margin-left":0,top:"50%","margin-top":-t.find("video").height()/2}),e<620&&t.find("video").css({"margin-top":-360}))}s()(document).resize((function(){n()})),n()}));n("RIhn");var F=n("eEls");const L=e=>!1===e;var M=n("9jZ4"),U=n("MgNI");let V=[];const H=e=>{e.viewed=!0},B=e=>{const t=s()(e.element),n=window.scrollY+window.innerHeight,a=t.offset().top+t.height()/2;return n>a&&a>0&&!e.viewed},$=e=>{const t=s()(e).parent(),n=s()(e).closest(".js-project-group").find(".js-track-project-card"),a=n.first().parent().siblings().length+1;return{position_in_row:t.index()+1,row_total:t.siblings().length+1,row_number:Math.ceil((n.index(s()(e))+1)/a)}},q=()=>{V.filter(Object(F.a)(L,Object(M.i)("viewed"))).filter(Object(F.a)(L,Object(M.i)("hidden"))).filter(B).forEach(H)},Y=e=>{e.forEach(e=>s()(e).livequery((function(){var e;V=V.concat({data:(e=this,U.maybe.fromNullable(e.dataset).map(e=>["section","model_name","raw_score","weighted_score","project_state","project_pid","project_backers_count","project_percent_raised","project_pledged","user_is_backer","user_has_starred"].reduce((t,n)=>({...t,[n]:e[n]||""}),{})).map(t=>({...t,...$(e)})).getOrElse({})),hidden:s()(this).parent().hasClass("hide"),element:this,viewed:!1})})))};Object(y.a)("body.country_signups",(function(){s()("input#signup_email").validates_presence().validates_email(),s()("form#new_signup").on("submit",(function(e){var t=s()(this);if(e.preventDefault(),!t.validate())return s()("#signup_email").addClass("errored"),s()(".error_message").show(),!1;s.a.ajax({url:t.attr("action"),data:t.serialize(),type:t.attr("method"),dataType:"json",success:function(){s()(".error_message").hide(),s()(".submitting").hide(),s()(".submitted").show()},error:function(){t.find("#signup_email").addClass("errored")}})})),Y([".js-track-project-card"]),window.onscroll=d.default.debounce(q,150)})),s()((function(){s()(document).on("submit",".NS_creator_backing_notes__form",(function(){var e=s()(this);"undefined"!=typeof ga&&ga("send","event","Backing Notes","Save",s()("body").attr("id")),e.trigger("creator_backing_note:added",[e.data("backing_id"),e.find("textarea").val()])}))})),Object(y.a)("#curated_pages_reorder",(function(e){function t(){s()(".js-project").each((function(e){s()(this).find("input.text").val(e+1)}))}s()(".js-project input.text").on("blur",(function(){var e=s()(this),n=parseInt(e.val(),10),a=e.closest(".js-project");isNaN(n)||(s()(".js-project").not(a).eq(n-1).before(a),t())})).on("focus",(function(){this.select()})),e.find("form ol").sortable({containment:"document",tolerance:"pointer",items:"> li",stop:t})})),s()((function(){var e=s()("#curated_pages_show"),t="#curated_pages_show form.curated_pages_form",n=s()(t);n.length&&(!function(){var a,i=s()("#main.published"),r=s()(".project-card-list.live",e),o=s()(".tools .delete").closest("form"),c=!!i.length,l=s()(".find_projects .project-results ul.result_list",e).clone(),d=s()(".find_projects .project-results div.instructions",e).clone(),u=!!l.length;function m(e){var t=e.siblings(".value"),n=e.children("span.add_prompt");if(!t.siblings("textarea:visible, input:visible").length)return""===s.a.trim(t.text())?(n.show(),e.addClass("empty")):(n.hide(),e.removeClass("empty")),e}function p(){var e,t,n=s()(".submit.launch, #add_shortcut_url");e=s()(".curated_page_project:visible:not(.new)"),t=e.length-e.find("div.blurb.errored").length,""===s.a.trim(s()("#curated_page_title:not(:visible)").val())||""===s.a.trim(s()("#curated_page_description:not(:visible)").val())||t<1?n.attr("disabled",!0).addClass("disabled"):n.removeAttr("disabled").removeClass("disabled")}function h(e){var t={};e.data("livesearch_result")?(t.html=e.data("livesearch_result").html,t.id=e.data("livesearch_result").id):(t.html=e.data("html"),t.id=+e.data("id")),console.assert(t.html.length),console.assert(t.id);var n=s()(t.html).find(".project-card").parent().html();return console.assert(n.length),t.card=n,t}s()(document).on("form_synced","form.header_form",(function(e,t){var n=s()(this);t.curated_page&&t.curated_page.description&&m(n.find(".description .value").html(t.curated_page.description).siblings(".edit_prompt"))})),s()(document).on("form_synced",".curated_page_project > form",(function(e,t){var n=s()(this);t.curated_page_project&&t.curated_page_project.blurb&&m(n.find(".blurb .value").html(t.curated_page_project.blurb).siblings(".edit_prompt"))})),e.on("click",".value:not(.image), .edit_prompt",(function(){var e,t,n,a,i,r,o=s()(this),c=s()(this).siblings("input, textarea");c.is(":visible")||(c.show().focus(),c.parent().append((e=c,t=s()('<div class="buttons"></div>'),n=e.val(),a=s()('<div class="save btn btn--green btn--small">'+j.default.t("onloads.views.curated_pages.show.Save")+"</div>"),i=s()('<div class="cancel btn btn--gray btn--small">'+j.default.t("onloads.views.curated_pages.show.Cancel")+"</div>"),r=s()('<span class="loading icon-loading-small"></span>'),a.click((function(){e.trigger("close")})),i.click((function(){e.val(n),e.trigger("close")})),r.hide(),t.append(a),t.append(i),t.append(r),t)),setTimeout((function(){s()(document).on("click",l)}),100),o.is(".empty")?o.find(".add_prompt").hide():o.hide(),o.siblings(".value").hide(),o.trigger("field_opened"));function l(e){e.target===c[0]||s()(e.target).is("a.cancel, a.save")||s()(document).off("click",l)}})),s()(".edit_prompt",n).each((function(){m(s()(this))})),e.on("close","input:not(.not_edit_in_place), textarea",(function(){var e=s()(this),t=e.siblings(".edit_prompt"),n=e.siblings(".value");function a(){n.show(),c||t.show(),e.siblings(".buttons").remove(),e.hide(),e.trigger("field_closed")}e.validate()?e.is("textarea")?(e.siblings(".buttons").find(".loading").css("display","inline-block"),e.closest("form").sync_form({success:function(e){e.valid&&a()},complete:function(){e.siblings(".buttons").find(".loading").hide()}})):(n.text(e.val()),m(t),a(),e.closest("form").sync_form()):e.focus()})),s()(document).on("keydown",t+" input:not(.not_edit_in_place)",(function(e){13===e.keyCode&&(e.preventDefault(),s()(this).trigger("close")),27===e.keyCode&&(e.preventDefault(),s()(this).siblings(".buttons").find(".cancel").click())})),s()(document).on("click",".curated_page_project a.remove",(function(e){e.preventDefault();var t,n,a=s()(this),i=a.closest("form"),r=parseInt(i.find("input.project_id").val(),10);l.find("li").each((function(){s()(this).attr("data-id")===r&&s()(this).show()})),i.sync_form({type:"delete",success:function(){n&&a.closest(".curated_page_project").remove(),t=!0}}),a.closest(".curated_page_project").fadeOut((function(){p(),t&&s()(this).remove(),n=!0}))})),s()(".blurb textarea, .meta .description textarea").livequery((function(){s()(this).validates_max_length().validates_presence()})),s()("#curated_page_title").data("validations",[[function(e){return!(!e.length&&c)}]]),s()(document).on("field_opened",".blurb",(function(){s()(this).find(".label").show(),s()(this).find(".character_counter").show()})),s()(document).on("field_closed",".blurb",(function(){s()(this).find(".label").hide(),s()(this).find(".character_counter").hide()})),s()(document).on("field_opened",".meta .description",(function(){s()(this).find(".character_counter").show()})),s()(document).on("field_closed",".meta .description",(function(){s()(this).find(".character_counter").hide()})),s()(document).on("validate:invalid",".blurb, .meta h1, .meta .description",(function(){s()(this).addClass("errored")})),s()(document).on("validate:valid",".blurb, .meta h1, .meta .description",(function(){s()(this).removeClass("errored")})),s()(document).on("keypress cut paste input field_opened","div.blurb, .meta .description",(function(e){var t=s()(this),n=t.find("textarea").val().length,a=parseInt(t.find("textarea").data("maxlength"),10)-n;"field_opened"!==e.type&&t.find("textarea").validate(),t.find(".character_counter .number").text(a)})),s()(document).on("form_synced",".curated_page_project",(function(e,t){var n=s()(this),a=n.find("form");t.valid&&(a.attr("action",t.url),a.attr("method","put"),a.find("#curated_page_project_id").val(t.curated_page_project.id),n.css("border","0"))})),s()(document).on("click",".image a.remove",(function(e){e.preventDefault();var t=s()(this);s.a.ajax({url:t.attr("href"),type:"delete",dataType:"text",contentType:"application/x-www-form-urlencoded",success:function(e){t.closest(".image").find("img").attr("src",e)}})})),e.on("click",".add_project",(function(){var e=s()(this).closest(".curated_page_project").find(".find_projects");e.show(),e.find(".input-search").focus()})),s()(document).on("livesearch:soft_select livesearch:unselect",".find_projects .project-results ul.result_list li",(function(e){var t=s()(this),n=t.closest(".curated_page_project").find(".project");console.assert(n.length);var a=n.children(".add_project");console.assert(a.length);var i,r=n.find(".project-card");if("livesearch:soft_select"===e.type){i=h(t);var o=s()(i.card);a.hide(),r.remove(),n.append(o)}else console.assert(r),r.remove(),a.show()})),s()(document).on("livesearch:selected",".find_projects .project-results ul.result_list li",(function(e){e.preventDefault();var t,n,i=s()(this),o=h(i),c=s()('<div class="curated_page_project">'+o.html+"</div>"),m=i.closest(".curated_page_project");console.assert(m.length),i.trigger("livesearch:unselect"),l.find("li").each((function(){s()(this).attr("data-id")===o.id&&s()(this).hide()})),u?(m.find("ul.result_list").replaceWith(l.clone()),m.find(".project-results > h2").text("My Backed Projects"),a.bind_results()):(m.find("ul.result_list").empty().before(d.clone()),m.find(".project-results > h2").text("Adding Projects")),a.livesearch.last_search=!1,m.find("input.input-search").val("").blur(),t=m.find("input.exclude"),n="",r.children(".curated_page_project").each((function(){var e=s()(this).find("input.project_id").val();e&&(n+=e+",")})),n+=c.find("input.project_id").val(),t.val(n),m.hide(),m.after(c),c.find(".blurb .value").click()})),s()(document).on("livesearch:results",".find_projects",(function(){s()(this).find(".project-results > h2").text("Search Results"),s()(this).find(".project-results > .instructions").remove()})),s()(".find_projects input.input-search").livequery((function(){var e=s()(this),t=s()(this).siblings("input.exclude"),n=e.siblings(".ss-search");a=e.livesearch_input_dropdown({url:e.data("livesearch-url"),serialize:e.add(t),cancel_copy:"",client_side_cache:!1,update_input:!1,return_name_from_result:function(e){return e.name}}).data("livesearch.input_dropdown"),e.on("livesearch:searching",(function(){n.removeClass("ss-search").addClass("icon-loading-small")})),e.on("livesearch:results livesearch:ajax_error",(function(){n.removeClass("icon-loading-small").addClass("ss-search")}))})),s()(document).on("form_synced",p),p(),c&&(s()(document).on("mouseenter",".curated_page_project, .image.value",(function(){s()(this).find("a.remove").show()})).on("mouseleave",".curated_page_project, .image.value",(function(){s()(this).find("a.remove").hide()})),s()(document).on("mouseenter",".project-card-list.live .value, .value ~ textarea, .value ~ input",(function(){s()(this).siblings(".edit_prompt").show()})).on("mouseleave",".value, .value ~ textarea, .value ~ input",(function(){s()(this).siblings(".edit_prompt:not(.empty)").hide()}))),s()(document).on("click","#new_root_slug .cancel",(function(e){e.preventDefault(),s()(this).trigger("close.modal_dialog")})),s()(document).on("submit","#new_root_slug",(function(e){e.preventDefault();var t=s()(this),n=t.find(".shortcut.url");n.addClass("processing"),n.removeClass("invalid"),n.find(".error_message").text(""),s.a.ajax({url:t.attr("action"),type:t.attr("method"),data:t.serialize(),dataType:"json",success:function(e){if(n.removeClass("processing"),e.valid){t.trigger("close.modal_dialog");var a=s()(".tools .launch");a.length&&a.closest("form").submit(),s()("#add_shortcut_url").replaceWith('<a class="btn btn--red shortcut_url" href="'+e.url+'">'+e.url+"</a>")}else t.removeClass("submitting-non-ajax"),n.addClass("invalid"),n.find(".error_message").text(e.errors.slug[0])}})})),o.confirm_submit({title:j.default.t("onloads.views.curated_pages.show.Delete_your_Curated_Page"),copy:j.default.t("onloads.views.curated_pages.show.Are_you_sure_you_want_to_delete_your_current_Curated_Page"),yes_copy:j.default.t("onloads.views.curated_pages.show.Yes_delete"),no_copy:j.default.t("onloads.views.curated_pages.show.Nevermind")})}(),s()(".js-add_project").on("click",(function(e){var t=s()(".new");console.assert(t.length),t.is(":visible")?t.hide():t.show().find(".add_project").click(),e.preventDefault()})))})),s()(".NS-curated_page_projects-new").livequery((function(){var e=s()(this),t=e.find("form.curated_pages_form"),n=parseInt(s()("div.blurb .character_counter .number:first",e).text(),10);s()(".blurb textarea",e).validates_max_length().validates_presence(),s()(".blurb",e).on("validate:invalid",(function(){s()(this).addClass("errored")})),s()(document).on("validate:valid",".blurb, .meta h1",(function(){s()(this).removeClass("errored")})),s()("div.blurb",e).on("keypress cut paste input",(function(){var e=s()(this),t=e.find("textarea").val().length,a=n-t;e.find("textarea").validate(),e.find(".character_counter .number").text(a)})),e.find(".save").click((function(){var e=t.find(".buttons .loading");s()("div.blurb textarea").validate()&&(e.show(),s.a.ajax({type:t.attr("method"),url:t.attr("action"),data:t.serialize(),dataType:"json",global:!1,success:function(n){t.trigger("close.modal_dialog"),t.trigger("project_added_to_curated_page",[n]),e.hide()}}))})),e.find(".cancel").click((function(){s()(this).trigger("close.modal_dialog")}))})),Object(y.a)("body.discover",(function(e){var t;Y([".js-track-project-card"]),window.onscroll=d.default.debounce(q,150);var n=s()(".mobius",e);n.length&&((t=s()("#sidebar",e)).sticky_bar({parent:t.closest("#content")}),s()("div.load_more",e).show(),s()("div.pagination",e).hide(),n.persistent_paging())}));n("JaLi"),n("3thc"),n("Ylt3");var z=n("q1tI"),G=n.n(z),K=n("KAy6"),W=n.n(K),J=n("/IHD"),X=n("ude/"),Z=n("q/jZ"),Q=n("/MMT"),ee=n("1OuE"),te=n("arGM"),ne=n("0ycM"),ae=n("jWgx"),ie=n("50DI"),re=n.n(ie),oe=n("94td");var se=({formattedEndDate:e,projectState:t})=>{const n=t===Q.a.canceled?Object(oe.b)("project_card.Funding_canceled"):Object(oe.b)("project_card.Funding_unsuccessful"),a=t===Q.a.canceled?Object(oe.b)("project_card.Project_canceled_on",{endDate:e}):Object(oe.b)("project_card.Project_ended_on",{endDate:e});return G.a.createElement("div",{className:"pb5-md pb4 px5-md px4 mt3 border-top border-grey-400"},G.a.createElement("div",{className:"h14 pt3"},G.a.createElement("div",{className:"dark-grey-400"},G.a.createElement("div",{className:"inline-block mt4px"},G.a.createElement("div",{className:"medium dark-grey-500 mt2"},n),a))))};const ce=e=>{const t=e.refTag?e.refTag:"pwl_badge";return z.createElement("a",{href:"/discover/pwl?ref="+t,key:"pwl-badge",className:"type-12 black hover-black bg-white hover-border-soft-black transition-all inline-block px2 py4px border border-grey-500 shadow-hover"},Object(oe.b)("project_card.Project_we_love"))};var le=n("2DJ9");var de=({isProjectOfTheDay:e,isProjectWeLove:t,onFocus:n,openInNewTab:a=!1,projectImage:i,projectUrl:r,projectName:o,refTag:s})=>G.a.createElement("div",{className:"relative self-start"},G.a.createElement("a",{href:r||"",target:a?"_blank":void 0,className:"block img-placeholder w100p",key:"project-link",onFocus:n,onClick:()=>{Object(w.o)(s,w.a.PROJECT)}},i?G.a.createElement("img",{className:"border-grey-400 border-bottom w100p absolute t0",alt:o,src:i}):G.a.createElement("div",{className:"img-placeholder bg-grey-400 absolute t0 w100p"}),e&&G.a.createElement("div",{className:"bg-ksr-green-700 px2 py1 absolute t0 l5 white type-14 medium"},G.a.createElement(le.a,{name:"kickstarter",size:"small",atoms:["fill-white mr2"]}),Object(oe.b)("project_card.Project_of_the_day"))),t&&G.a.createElement("span",{className:"absolute l3 b-2"},G.a.createElement(ce,null)));var ue=({creator:e,description:t,name:n,openInNewTab:a,profile:i,projectState:r,projectUrl:o,refTag:s})=>{if(!e)return G.a.createElement("div",{className:"h30 pt4 px3 mb1px"});const c=s&&e?Object(te.e)(e.url,{ref:s},void 0,{noBaseEncode:!0}):e.url;return G.a.createElement("div",{className:"h30 pt4 px3 mb1px"},G.a.createElement("div",{className:"clamp-5 navy-500 mb3 hover-target"},G.a.createElement("a",{href:o,target:a?"_blank":void 0,className:"soft-black mb3",onClick:()=>{Object(w.o)(s,w.a.PROJECT)}},G.a.createElement("h3",{className:"type-18 light hover-item-text-underline mb1"},(null==i?void 0:i.name)||n||o),G.a.createElement("p",{className:"support-400 type-14 text-decoration-none clamp-2"},t))," "),r!==Q.a.successful&&G.a.createElement("div",{className:"type-13 flex"},G.a.createElement(oe.a,{atoms:["inline-block"],i18nKey:"project_card.by_creator",i18nTag:"div",by:G.a.createElement("span",{className:"soft-black"},Object(oe.b)("project_card.by")),creatorName:G.a.createElement("a",{href:c,className:"soft-black hover-text-underline medium",onClick:()=>{Object(w.o)(s,w.a.PROJECT)}},e.name)})))},me=n("L/h+"),pe=n("VF4V");var he=({backersCount:e,creator:t})=>{const n=k.b.format_number(e,{precision:0});return G.a.createElement("div",{className:"pb5-md pb4 px5-md px4 mt3 border-top border-grey-400"},G.a.createElement("div",{className:"h14 pt3"},G.a.createElement("div",{className:"type-13 flex"},G.a.createElement("div",{className:"mt4 flex"},G.a.createElement("a",{href:t.url},G.a.createElement(me.a,{size:4,atoms:["mr2"],alt:t.name,imageUrl:t.imageUrl})),G.a.createElement("div",{className:"inline-block mt4px type-13"},G.a.createElement(oe.a,{atoms:["soft-black text-ellipsis"],i18nKey:"project_card.by_creator_and_backers",i18nTag:"div",by:G.a.createElement("span",{className:"soft-black"},Object(oe.b)("project_card.by")),creatorName:G.a.createElement(pe.a,{className:"bold"},t.name),backersCount:n}))))))},fe=n("FbRb");const ge=e=>{const t="dark-grey-500 hover-soft-black text-underline type-13 medium",n=Object(J.a)("flex",e.className);return G.a.createElement("div",{className:n},G.a.createElement("a",{className:t,href:e.categoryUrl},e.categoryName),G.a.createElement("a",{className:Object(J.a)(t,"ml4"),href:e.locationUrl},G.a.createElement(le.a,{name:"map-pin",size:"12",atoms:["mr3px","mb1px","fill-dark-grey-500"]}),e.locationName))},_e=e=>{if(e){var t,n;if("discoverUrl"in e)return e.discoverUrl;if("urls"in e&&(null==e||null===(t=e.urls)||void 0===t||null===(n=t.web)||void 0===n?void 0:n.discover))return e.urls.web.discover}return""},be=e=>{if(e){if("displayableName"in e)return e.displayableName;if("short_name"in e)return e.short_name}return""};var ve=({category:e,location:t,jsEndDate:n,percentFunded:a,pledged:i})=>{const r=k.b.percent(a,{precision:0,delimiter:Object(oe.b)("number.currency.format.delimiter")}),o={width:Math.min(100,a)+"%"},s=i.currency,{remainingNumber:c,remainingString:l}=Object(fe.a)(n),d=be(t),u=_e(t);return G.a.createElement("div",{className:"pb3 pt3 px3-sm px4"},G.a.createElement("div",{className:"bg-grey-400 mb3 w100p"},G.a.createElement("div",{className:"bg-ksr-green-700 h3px","data-test-id":"progress-bar",style:o})),G.a.createElement("div",{className:"ksr-green-700 medium"},G.a.createElement("div",{className:"type-13 mr2"},G.a.createElement("span",{"data-test-id":"amount-pledged"},i.amount&&k.b.money(i.amount,{precision:0,currency:s})),G.a.createElement("span",{className:"ml1 normal"},Object(oe.b)("project_card.pledged"))),G.a.createElement("div",{className:"type-13 mr2 dark-grey-500 medium","data-test-id":"percent-raised"},G.a.createElement("span",null,r),G.a.createElement("span",{className:"ml1 normal"},Object(oe.b)("project_card.funded"))),G.a.createElement("div",{className:"type-13 ksr_page_timer mb3 mr2 dark-grey-500 medium","data-end_time":n,"data-test-id":"time-left"},G.a.createElement("span",{className:"js-num"},c),G.a.createElement("span",{className:"js-text ml1"},l)),G.a.createElement(ge,{categoryName:(null==e?void 0:e.name)||"",categoryUrl:(null==e?void 0:e.url)||"",locationName:d,locationUrl:u})))};var ke=({refTag:e,openInNewTab:t,term:n,state:a,trackClicks:i,showInteractionButtons:r=!1})=>{const{backersCount:o,canceledAt:s,category:c,creator:l,deadlineAt:d,friends:u,imageUrl:m,isProjectOfTheDay:p,isProjectWeLove:h,modelName:f,name:g,description:_,percentFunded:b=0,pledged:v,pid:k,profile:y,rawScore:E,state:j,url:w,location:S,isBacked:O,isWatched:N,isLiked:C,isDisliked:I,weightedScore:x}=a,T=j===Q.a.canceled?s:d,A=T&&1e3*T,D=A?Object(ee.a)("LL",A):null;let P=null;(e||n)&&(P={},e&&(P.ref=e),n&&(P.term=n));const R=w&&(P?Object(te.e)(w,P):w),F=(null==y?void 0:y.featureImageUrl)||m,[L,M]=Object(z.useState)(!1),U=((null==u?void 0:u.nodes)||[]).filter(e=>null!==e);return G.a.createElement("div",{className:"js-track-project-card","data-project_pid":k||"","data-section":e,"data-weighted_score":x||"","data-raw_score":E||"","data-model_name":f||"","data-project_state":j?j.toLowerCase():"","data-project_backers_count":o,"data-project_description":_||"","data-project_percent_raised":b||"","data-project_pledged":v?v.amount:"","data-user_is_backer":O||"","data-user_has_starred":N||"",ref:e=>e&&i&&i(e)},G.a.createElement("div",{className:"mb5 relative","data-test-id":"mouse-enter-capture",onMouseEnter:()=>M(!0),onMouseLeave:()=>M(!1)},G.a.createElement("div",{className:"bg-white black relative border-grey-500 border"},G.a.createElement(de,{isProjectWeLove:h,isProjectOfTheDay:p,projectImage:F,projectUrl:R,openInNewTab:t,refTag:e,projectName:g,onFocus:()=>M(!0)}),r&&G.a.createElement("div",{className:"mt4 mb1 mt0-lg mb0-lg absolute-lg t2-lg r2-lg"},G.a.createElement(Z.a,{fallback:G.a.createElement(ae.a,null),rootMargin:"100%"},G.a.createElement(ne.a,{trackingContext:re()(e),pid:k,initialIsLiked:C,initialIsDisliked:I,initialIsWatched:N,interactionsVisibility:L}))),G.a.createElement("div",null,G.a.createElement(ue,{creator:l,name:g,description:_,profile:y,projectUrl:R,openInNewTab:t,refTag:e,projectState:j}),!l&&G.a.createElement("div",{className:"pb5-md pb4 pt3 px5-sm px4"},G.a.createElement("div",{className:"h30-sm pt1px"})),l&&(()=>{switch(j){case Q.a.successful:return G.a.createElement(he,{backersCount:o,creator:l});case Q.a.canceled:case Q.a.failed:return G.a.createElement(se,{formattedEndDate:D,projectState:j});default:return G.a.createElement(ve,{category:c,location:S,refTag:e,backersCount:o,jsEndDate:A,percentFunded:b,pledged:v,onBlur:()=>M(!1)})}})())),u&&G.a.createElement(X.a,{friends:U})))};Object(y.a)("#NS_discover__landing",(function(e){const t=e.find(".js-load-more");t.loadMore({default_page:0,perPage:12,responseToHTML:function(e){const t=document.createDocumentFragment(),n=document.createElement("div");return n.className="grid-row flex flex-wrap",e.projects.map(t=>((e,t)=>{const n=document.createElement("div");return n.setAttribute("data-project",JSON.stringify(e)),n.setAttribute("data-ref",JSON.stringify(t)),n.className="js-react-async-proj-card grid-col-12 grid-col-6-sm grid-col-4-lg",n.id=`${e.slug}-${Object(J.c)()}`,n.innerHTML=W.a.renderToStaticMarkup(G.a.createElement(ke,{state:{}})),n})(t,e.ref_tag)).forEach(e=>t.appendChild(e)),n.appendChild(t),n}})}));n("dSmG"),n("U6FK"),n("Oj9A");Object(y.a)("body.email_previews",(function(e){e.find("#index").on("change",(function(){this.submit()})),e.find("#show").on("submit",(function(t){t.preventDefault(),e.find("#email_preview").attr("src",s()(t.target).attr("action")+"?"+s()(t.target).serialize())}))}));var ye=n("SKdt");n("MLrq");Object(y.a)("#faqs_show",(function(e){var t=e.find(".sidebar"),n=Object(a.a)(".subcat").find("a"),i=e.find("a.anchor.current").siblings(".subcat-list"),r=e.find(".js-category"),o=!1;function s(e){n.removeClass("current"),i.find('a[data-name-short="'+e+'"]').addClass("current")}t.sticky_bar({parent:t.closest(".main")}),n.on("click",(function(){var e=Object(a.a)(this).data("name-short");o=!0,s(e),a.a.scrollTo("#"+e,800,{onAfter:function(){o=!1}})})),r.add(n).on("click",(function(){var e=Object(a.a)(this).data("name-full");Object(c.d)("Viewed "+e)})),t.find("a.anchor.current").siblings(".subcat-list").find("li:first-child a").addClass("current");const l=document.querySelectorAll(".list-faqs > li"),d=new IntersectionObserver(e=>{e.forEach(e=>{!o&&e.isIntersecting&&s(e.target.id)})});l.forEach((function(e){d.observe(e)})),ye.a["not-touchable"]&&skrollr.init({forceHeight:!1})}));n("xj30"),n("O1L0");Object(y.a)(".NS-friends",(function(e){var t=e.data("follows_count"),n=e.data("follows_backings_count"),a=e.find(".js-friend-count"),i=e.find(".js-backed-projects-count");e.on("ksr:follow_user",(function(e){t+=1,n+=s()(e.target).closest(".js-backer-count").data("backed_projects"),a.text(k.b.format_number(t,{precision:0})),i.text(k.b.format_number(n,{precision:0})),t>0&&s()(".js-friends-tout").removeClass("friends-tout--no-friends")})),e.on("ksr:unfollow_user ksr:block_user",(function(e){t-=1,n-=s()(e.target).closest(".js-backer-count").data("backed_projects"),a.text(k.b.format_number(t,{precision:0})),i.text(k.b.format_number(n,{precision:0})),t<=0&&s()(".js-friends-tout").addClass("friends-tout--no-friends")})),e.on("ksr:follow_all",(function(e,r,o){t+=parseInt(r,10),n+=parseInt(o,10),a.text(k.b.format_number(t,{precision:0})),i.text(k.b.format_number(n,{precision:0}))})),s()(document).on("mobius:loaded_page",(function(){s()(document).trigger("shifted")})),ye.a["not-touchable"]&&skrollr.init({forceHeight:!1})}));n("POwR");Object(y.a)(".NS-social--follow-friends",(function(e){s.a.pollster(window.location.href,(function(t){return 200===t.status&&(e.html(t.html),!0)}),{delay:1e3})}));var Ee,je;n("cgaT");Ee=s()("body.faqs").find(window.location.hash),je=s()("#term.help"),Ee.length&&!Ee.find(".subcat").length&&Ee.animate({backgroundColor:"#ffffc9"},{duration:2e3,complete:function(){s()(this).animate({backgroundColor:"#ffffff"},{duration:2500})}}),s()(".NS_help__search_box").livequery((function(){s()(this).livesearch_pretty_input_dropdown({input_can_submit_on_enter:!0,file_extension:"json",ignore_history:!1})})),s()(document).on("livesearch:selected","#js-search .results li",(function(e,t){t&&t[1]&&(window.location.href=t[1])})),s()(document).on("click","body.help form.search .submit",(function(){s()(this).closest("form").submit()})),s()(document).on("livesearch:revealed_results","#term.help",(function(){s()(this).addClass("expanded"),s()(this).parents("#js-search").children(".submit").addClass("expanded")})),s()(document).on("livesearch:close_results","#term.help",(function(){s()(this).removeClass("expanded"),s()(this).parents("#js-search").children(".submit").removeClass("expanded")})),s()("body.help").click((function(e){var t=s()(e.target);t.is("#term")||t.closest("#js-search").length||je.trigger("livesearch:close_results")})),je.on("focus",(function(){var e=je.data("livesearch");e&&e.search_xhr&&4===e.search_xhr.readyState&&je.trigger("livesearch:reveal_results")}));n("JqeJ"),n("ubxe");Object(y.a)("body#help_images",(function(){ye.a["not-touchable"]&&skrollr.init({forceHeight:!1})})),Object(y.a)("#help_stats",(function(){var e=s()(".bubble");function t(e){e.find(".category_row").slideToggle("fast"),e.find(".default_sort").toggleClass("tablesorter-headerDesc"),e.closest("table").toggleClass("collapsed"),e.find(".arrow").toggleClass("flipped"),e.hasClass("collapsed")?(e.find(".details").text(j.default.t("onloads.views.help.stats.See_Categories")),"undefined"!=typeof ga&&ga("send","event","Help Stats","Collapsed",e.attr("name"))):(e.find(".details").text(j.default.t("onloads.views.help.stats.Hide_Categories")),"undefined"!=typeof ga&&ga("send","event","Help Stats","Expanded",e.attr("name")))}function n(){e.fadeOut("fast")}function a(t,a,i){var r,o,c,l,d,u;void 0!==i?(e.find(".content").html('<span class="num date">'+a+"</span>"+i),r=s()(t),o=r.offset(),c=r.closest("table, .explanation").offset(),l=e.width(),d=e.height(),u=parseInt(e.css("padding-right").replace("px",""),10),r.closest(".explanation").length&&(o.left=o.left-50),e.css({position:"absolute",left:o.left-l-(u-1)+90,top:c.top-d-20}),e.find(".nipple").css({left:l+5,top:d+12,position:"absolute"}),e.fadeIn("fast")):n()}s()(".toggle_details").click((function(){t(s()(this).closest("table"))})),s()("th").click((function(){var e=s()(this).closest("table");e.hasClass("collapsed")&&t(e)})),s()("td, th").hover((function(){var e=s()(this).closest("table").find("th").eq(s()(this).index()),t=e.data("header-explanation");a(this,e.html().replace("<br>"," "),t)})),s()(".explanation").hover((function(){var e=s()(this),t=e.find("[data-header-explanation]"),n=t.data("header-explanation");a(t,e.find("p").text(),n)})),s()("table, .explanation").mouseleave((function(){n()}))}));n("p0+n");s()((function(){var e=".ksr_toggle";s()(e).length&&(s()(e+" a").on("click",(function(t){var n=s()(this);n.closest(e).find("a").removeClass("selected"),n.addClass("selected"),n.closest(e).find(".bg").css({left:n.position().left}),t.preventDefault()})),s()(e+" a.selected").click(),s()(e+" .bg").addClass("show"))})),Object(y.a)("body.profile",(function(){function e(e){(e=e||s()(".mobius")).each((function(){var e=s()(this).data("mobius");if(e)for(var n in e.clear_extra_params(),t)t.hasOwnProperty(n)&&e.add_param(n,t[n])}))}s()("body#users_show").length&&void 0!==history.pushState&&history.pushState(null,null,window.location.pathname);var t=f()().query(!0);e(),s()(".mobius").livequery((function(){e(s()(this))})),Object(w.n)(w.d.PAGE_VIEWED,{context_page:w.e.PROFILE}),s()("#profile_about").on("click",(function(){Object(w.n)(w.d.CTA_CLICKED,{context_cta:w.c.PROFILE_ABOUT})})),s()("#profile_backed").on("click",(function(){Object(w.n)(w.d.CTA_CLICKED,{context_cta:w.c.PROFILE_BACKED})})),s()("#profile_created").on("click",(function(){Object(w.n)(w.d.CTA_CLICKED,{context_cta:w.c.PROFILE_CREATED})})),s()("#profile_comments").on("click",(function(){Object(w.n)(w.d.CTA_CLICKED,{context_cta:w.c.PROFILE_COMMENTS})}))}));n("u5Zg"),n("JmIM"),n("MRng");var we=n("o3IG");Object(y.a)(".js-language-banner",(function(e){var t=void 0!==j.default.locale?j.default.locale:void 0;e.find(".js-yes").on("click",(function(){Object(we.c)("dismiss_language_banner","1"),Object(c.d)("Language Banner Yes",{lang:t})})),e.find(".js-no").on("click",(function(n){n.preventDefault();var a=s()(n.currentTarget).closest("form");s.a.ajax({method:a.attr("method"),url:a.attr("action"),data:a.serialize()}),e.addClass("is-hidden"),Object(we.c)("dismiss_language_banner","1"),Object(c.d)("Language Banner No",{lang:t})})),e.removeClass("is-hidden"),Object(c.d)("Language Banner View",{lang:t})}));n("rV3q"),n("WJbx"),n("9GY1");!function(e){e(document).on("click",".message .report-spam a",(function(t){t.preventDefault();var n=e(this),a=this,i=n.closest(".message"),o=i.clone(),s=e('<p class="flagged_message"><em class="spam_reported"></em></p>');o.find("span.report-spam").remove(),e.modal_confirm((function(){return i.find(".body").before(s),r.a.get(n.data("url"),"post",s.find("em"),a)}),{message:o.html(),confirm_text:"Report message as spam",title:"Report this message to Kickstarter"})})),e(document).on("ksr_json:complete",".message .spam_reported",(function(t,n){var a=e(this).closest(".message"),i=a.find(".report-spam");n.modal||(i.hide(),200!==n.status||i.is(".admin")||a.find(".body").hide())}))}(s.a);n("1I1t");var Se=n("v+Hr");Object(y.a)("body#mobile_index",(function(){var e,t=s()(".js-device-container"),n=1,a=1,i=!1;function r(){var e,t,n,a=s()(".js-tablet"),i=s()(".js-tablet-item"),r=s()(".js-tablet-screenshots"),o=.875*s()(".js-device-container").outerWidth();.75*s()(window).width()<=640?s()(".js-device-container").css({width:"100%",height:Math.round(.65625*s()(".js-device-container").width())}):s()(".js-device-container").css({width:640,height:Math.round(420)}),a.css({width:o}),r.css({width:"100"*i.length+"%"}),i.css({width:100/i.length+"%"}),e=s()(".js-phone"),t=s()(".js-phone-item"),n=s()(".js-phone-screenshots"),e.css({height:.78*s()(".js-tablet").outerHeight(),width:Math.round(.78*s()(".js-tablet").outerHeight()*.5625)}),n.css({width:"100"*t.length+"%"}),t.css({width:100/t.length+"%"})}s()(document).on("submit",".js-send-mobile-link-form",(function(e){e.preventDefault();var t=s()(this);""===t.find(".js-email-or-phone").val()?Object(u.a)({error:j.default.t("onloads.views.mobile.index.phone_cant_be_blank")}):i||(i=!0,s.a.ajax({type:"post",url:"/mobile/send_link",dataType:"json",data:{email_or_phone:t.find(".js-email-or-phone").val(),platform:t.find(".js-platform").val()},success:function(e){e.success?(t.closest(".js-get-the-app-form-container").find(".js-form-message").show().removeClass("error"),t.closest(".js-get-the-app-form-container").find(".js-form-text").html(e.success),t.closest(".js-get-the-app-form-container").find(".js-form-retry").hide(),t.hide()):e.error&&(t.closest(".js-get-the-app-form-container").find(".js-form-message").show().addClass("error"),t.closest(".js-get-the-app-form-container").find(".js-form-text").html(e.error))},complete:function(){i=!1}}))})),s()(".mobile-cta").on("click",e=>{const t=s()(e.currentTarget).find(".app-store-badge").length;Object(w.n)(w.d.CTA_CLICKED,{context_page:w.e.MOBILE,context_type:t?Se.b.APP_STORE:Se.b.PLAY_STORE})}),ye.a["not-ios"]&&(s()(".js-get-the-app-button").on("click",(function(e){var t=s()(this).closest(".js-get-the-app-container");Object(c.d)("Mobile Promo Reveal Form"),t.find(".js-get-the-app-button-container").css({marginTop:-s()(this).outerHeight()}),t.addClass("is-open"),setTimeout((function(){t.find(".js-get-the-app-form-container").find("input[type=text]").focus()}),600),e.preventDefault()})),s()(".js-email-or-phone").on("focusout",(function(){var e=s()(this).closest(".js-get-the-app-container");""===s()(this).val()&&e.is(".is-open")&&(e.find(".js-get-the-app-button-container").css({marginTop:0}),e.removeClass("is-open"),Object(c.d)("Mobile Promo Close Form"))})),s()(".js-form-retry").on("click",(function(e){var t=s()(this).closest(".js-get-the-app-container");t.find(".js-get-the-app-button-container").css({marginTop:-s()(".js-get-the-app-button").outerHeight()}),t.removeClass("is-open"),t.find(".js-form-text").html(""),t.find(".js-form-message").hide(),Object(c.d)("Mobile Promo Form Retry"),e.preventDefault()}))),s()(document).resize((function(){r()})),setTimeout((function(){r(),t.removeClass("is-loading")}),1400),clearInterval(e),e=setInterval((function(){s()(".js-tablet-screenshots").css({marginLeft:-100*n+"%"}),(n+=1)>=s()(".js-tablet-item").length&&(n=0),s()(".js-phone-screenshots").css({marginLeft:-100*a+"%"}),(a+=1)>=s()(".js-phone-item").length&&(a=0)}),5e3)})),Object(y.a)(".NS_mobile__universal_app_hero",(function(e){var t,n=s()(".js-ipad-frame"),a=1,i=1,r=s()(".js-form-message",e),o=!1;function l(){var e=s()(".js-ipad-inner"),t=.81836*n.outerWidth(),a=.86634*n.outerHeight(),i=s()(".js-ipad-inner-content"),r=s()(".js-ipad-inner-content > div");e.css({width:t,height:a,left:(n.outerWidth()-t)/2,top:(n.outerHeight()-a)/2}),i.css({width:t*r.length}),r.css({width:t,height:a}),function(){var e=s()(".js-iphone-container"),t=s()(".js-iphone-frame"),a=s()(".js-iphone-inner"),i=s()(".js-iphone-inner-content"),r=s()(".js-iphone-inner-content > div");s()(window).width()<s()(".js-device-container").width()+.35*t.outerWidth()?e.css({right:0}):e.css({right:-.35*t.outerWidth()});t.css({height:.8141*n.outerHeight(),right:-.35*t.outerWidth()});var o=.86585*t.outerWidth(),c=.7537*t.outerHeight();a.css({width:o,height:c,left:(t.outerWidth()-o)/2,top:(t.outerHeight()-c)/2}),i.css({width:o*r.length}),r.css({width:o,height:c}),s()(".js-iphone-video").css({width:o,height:c})}()}s()(document).on("submit","#send_mobile_link_form",(function(e){e.preventDefault();var t=s()(this);o||(o=!0,s.a.ajax({type:"post",url:"/mobile/send_link",dataType:"json",data:{email_or_phone:t.find("#email_or_phone").val()},success:function(e){e.success?(r.show().removeClass("error").html(e.success),t.remove()):e.error&&r.show().addClass("error").html(e.error)},complete:function(){o=!1}}))})),s()(document).on("closed.modal_dialog","#send_mobile_link_dialog",(function(t){t.preventDefault(),s()("#send_mobile_link_form",e).length||r.html(j.default.t("onloads.views.mobile.universal_app_hero.You_should_already_have_a_link_from_us"))})),ye.a["not-ios"]&&s()(".js-get-the-app-button").on("click",(function(e){Object(c.d)("Mobile Promo Reveal Form"),s()(".js-get-the-app-button-container").css({marginTop:-s()(this).outerHeight()}),setTimeout((function(){s()(".js-get-the-app-form-container").find("input[type=text]").focus()}),600),e.preventDefault()})),s()(document).resize((function(){l()})),setTimeout((function(){l(),e.removeClass("loading")}),500),clearInterval(t),t=setInterval((function(){s()(".js-ipad-inner-content").css({marginLeft:-100*a+"%"}),(a+=1)>=s()(".js-ipad-inner-content > div").length&&(a=0),s()(".js-iphone-inner-content").css({marginLeft:-100*i+"%"}),(i+=1)>=s()(".js-iphone-inner-content > div").length&&(i=0)}),5e3)})),s()((function(){s()(document).on("submit","ol.admin-notes form",(function(){var e,t=s()("#admin-nav .note_count"),n=t.text().match(/^\n?(\d+)/);n&&(e=parseInt(n[1],10),t.text(e+1+" notes"))}))})),s()((function(){var e=".NS-phone_numbers__edit";function t(){s()(e+" .verification_error").html("").addClass("hide"),s()(".field_with_errors").children().unwrap()}function n(){var t=s()(".js-country");t.closest(e).find("#phone_number").attr("placeholder",(function(){var e=j.default.countries[t.val().toLowerCase()];return e&&e.phone_example?"Ex: "+e.phone_example:""}))}function a(n){var a=s()(n.target).closest(e),i=a.find("#phone_number"),r=a.find("input.radio[name=verify]:checked").val(),o=a.find(".js-country").val();if("sms"!==r&&"call"!==r)return!1;s.a.ajax({type:"put",url:"/profile/phone_number/send_verification",dataType:"json",data:{method:r,number:i.val(),country:o},success:function(e){t(),d.default.isUndefined(e.error)?(a.find(".token").val(""),a.find(".highlight strong").html(e.number+".").end().find(".phone_section, .options_section").addClass("hide").end().find(".code_section").removeClass("hide").trigger("shifted").find(".js-sms_show, .js-call_show").addClass("hide").filter(".js-"+r+"_show").removeClass("hide").end().end().end()):(i.wrap('<div class="field_with_errors" />').focus(),a.find(".phone_section .verification_error").html(e.error).removeClass("hide").trigger("shifted"))},beforeSend:function(){a.addClass("loading").trigger("shifted")},complete:function(){a.removeClass("loading").trigger("shifted")}}),n.preventDefault()}function i(n){if("keypress"!==n.type||n.which===S.c){var a=s()(this).closest(e),i=a.find("#token"),r=a.find(".js-country").val();s.a.ajax({type:"post",url:"/profile/phone_number/verify",dataType:"json",data:{token:i.val(),country:r},success:function(e){if(t(),d.default.isUndefined(e.error)){if(!d.default.isUndefined(e.html)){var n=s()(e.html),r=a.closest(".NS-phone_numbers__verify"),o=a.closest(".NS-two_factor_authentication_show").find(".js-change_number");r.length?(r.replaceWith(n),n.trigger("phone_number:added")):o.length?(window.location.reload(!0),Object(u.a)({success:"Your two factor authentication phone fallback number has changed"})):a.trigger("phone_number:added")}}else i.wrap('<div class="field_with_errors" />').focus(),a.find(".code_section .verification_error").html(e.error).removeClass("hide").trigger("shifted")},beforeSend:function(){a.addClass("loading")},complete:function(){a.removeClass("loading")}}),n.preventDefault()}}s()(document).on("click",e+" #resend_token",(function(){s()(this).closest(e).find(".code_section").addClass("hide").end().find(".phone_section, .options_section").removeClass("hide").trigger("shifted")})),s()(document).on("change",e+" .js-country",n),s()(e).livequery(n),s()(document).on("click","#send_verification",a),s()(document).on("keypress",e+" #phone_number",(function(e){e.which===S.c&&a(e)})),s()(document).on("click",e+" #verify_code",i),s()(document).on("keypress",e+" #token",i),s()(document).on("click",e+" #change_number",(function(t){var n=s()(this);s.a.ajax({type:"get",url:"/profile/phone_number/edit",dataType:"json",success:function(t){d.default.isUndefined(t.html)||n.closest(e).replaceWith(t.html)}}),t.preventDefault()}))}));var Oe=n("S1QU"),Ne=n("WjF9"),Ce=n("JC/v");function Ie(){s()(document).on("render_shipping_select",(function(e,t){!function(e,t){var n={},a=e.clone();s()(t.shipping_rules).each((function(e,t){n[t.location_id]=t})),a.find('option:not([value=""])').each((function(){var e,t=s()(this),a=t.val(),i=n[a];i?(e=parseFloat(i.cost),t.text(e>0?j.default.t("onloads.views.pledges.checkout_shipping.location_name_and_shipping_amount",{name:t.data("name"),amount:k.b.money(e,{precision:0,currency:R.a.get("currency")})}):t.data(name))):t.remove();return t})),e.html(a.html()),e.val(Oe.a.get("location_id")),e.val(e.val()).trigger("change")}(t.select,t.reward)}))}Object(y.a)("body#pledges_edit",(function(e){var t,n=e.find("#confirm-adjust-pledge"),a=e.selector+" form.manage_pledge";if(!s()(a).length)return;var r="",o=["net_amount","shipping_amount","amount"],l=function(){return j.default.t("onloads.views.pledges.edit.No_change")},u={type:"truncate_zeros",currency:R.a.get("currency")},m={type:"truncate_zeros",currency:window.current_currency},p=d.default.clone(Oe.a.get()),h={reward:{$display_title:n.find("#js-pledge__reward-title"),$description:n.find("#js-pledge__reward-description"),$truncate_link:n.find("#js-modal-desc-toggle span"),changed:!1},net_amount:{$old:n.find("#js-confirm-adjust-pledge-amount__old"),$new:n.find("#js-confirm-adjust-pledge-amount__new"),$icon:n.find("#js-pledge__detail-comparison__icon"),$label:n.find("#js-pledge__detail-label__pledge"),labelText:j.default.t("onloads.views.pledges.edit.Pledge_amount"),changed:!1},shipping_amount:{$old:n.find("#js-confirm-adjust-shipping-amount__old"),$new:n.find("#js-confirm-adjust-shipping-amount__new"),$icon:n.find("#js-shipping__detail-comparison__icon"),$label:n.find("#js-pledge__detail-label__shipping"),labelText:j.default.t("onloads.views.pledges.edit.Shipping"),changed:!1},amount:{$old:n.find("#js-confirm-adjust-total-amount__old"),$new:n.find("#js-confirm-adjust-total-amount__new"),$icon:n.find("#js-total__detail-comparison__icon"),$label:n.find("#js-pledge__detail-label__total"),labelText:j.default.t("onloads.views.pledges.edit.Total"),changed:!1},converted_amount:{$container:n.find("#js-confirm-adjust-total-converted-amount"),$new:n.find("#js-confirm-adjust-total-converted-amount__new"),changed:!1}};const f=e.hasClass("convert-currency"),g=U.maybe.fromNullable(Ne.a).chain(e=>U.maybe.fromNullable(e.get("location"))).chain(Object(Ce.a)("country")).getOrElse(null),_=R.a.get("country")!==g,b=R.a.get("currency_symbol")===j.default.t("number.currency.format.unit"),v=_&&b,y=j.default.t("onloads.views.pledges.edit.in_currency",{currency:R.a.get("currency")});function E(e){var t=h[e],n=t.labelText;if(t.changed){var a=k.b.money(Oe.a.get(e),u),i=k.b.money(p[e],u);t.$new.html(a),t.$old.html(i),n+=" "+y,function(e){h[e].$new.removeClass("hide"),r=h[e].$icon.attr("class").replace(/hide/g,""),h[e].$icon.attr("class",r)}(e)}else t.$old.html(l()),function(e){h[e].$new.addClass("hide"),r=h[e].$icon.attr("class")+" hide",h[e].$icon.attr("class",r)}(e);v&&t.$label.html(n)}function w(){var e,t=h.reward;t.changed?(e=Oe.a.get("reward").id?k.b.paragraphize(Oe.a.get("reward").description):j.default.t("onloads.views.pledges.edit.No_thanks_I_just_want_to_help_the_project"),t.$description.html(e),t.$display_title.html(Oe.a.get("reward").title_for_backing_tier),h.reward.$description.parent().removeClass("pledge__detail-comparison__old").addClass("pledge__reward-description-wrap")):(t.$description.html(l()),h.reward.$description.parent().addClass("pledge__detail-comparison__old").removeClass("pledge__reward-description-wrap"))}function S(){h.reward.$description.addClass("pledge__reward-description--truncated").removeClass("pledge__reward-description--expanded"),h.reward.$truncate_link.text("More"),h.reward.$truncate_link.parent().addClass("more")}void 0!==Oe.a&&(Oe.a.on_change("reward",(function(e){h.reward.changed=e.reward.id!==p.reward.id})),Oe.a.on_change("shipping_amount",(function(e){h.shipping_amount.changed=e.shipping_amount!==p.shipping_amount})),Oe.a.on_change("amount",(function(e){h.net_amount.changed=Oe.a.get("net_amount")!==p.net_amount,h.amount.changed=e.amount!==p.amount}))),s()(document).on("submit",a,(function(e){e.preventDefault(),t=s()(e.target),w(),s.a.each(o,(function(e,t){E(t)})),f&&function(){var e=h.converted_amount;if(h.amount.changed){var t=Oe.a.get("amount")*R.a.get("fx_rate"),n=k.b.money(t,m);e.$new.html(n),e.$container.removeClass("hide")}else e.$container.addClass("hide")}(),n.modal_dialog().find(".js-confirm-yes").focus(),h.reward.$description.prop("scrollHeight")<80?h.reward.$truncate_link.parent().addClass("hide"):h.reward.$truncate_link.parent().removeClass("hide")})),s()(".flash-error").livequery((function(){var e,t=Object(i.a)(s()(".text#backing_amount").attr("value"));e=void 0!==s()(".radio:checked").attr("alt")?Object(i.a)(s()(".radio:checked").attr("alt")):null,Object(c.d)("Errored Pledge Selection",{pledge_tier_amount:parseInt(e,10),pledge_error_text:s()(this).text(),pledge_input_amount:parseInt(t,10)})})),s()(document).on("click","body#pledges_edit #js-modal-desc-toggle",(function(e){e.preventDefault(),s()(e.currentTarget).hasClass("more")?(h.reward.$description.removeClass("pledge__reward-description--truncated").addClass("pledge__reward-description--expanded"),h.reward.$truncate_link.text("Less"),h.reward.$truncate_link.parent().removeClass("more")):S()})),s()(document).on("click","body#pledges_edit .js-confirm-yes",(function(e){e.preventDefault(),t.removeClass("submitting-non-ajax"),s()(document).off("submit",a),t.submit()})),s()(document).on("before_close.modal_dialog",(function(){t.removeClass("submitting-non-ajax"),S()}))})),Object(y.a)("body#pledges_new",(function(){Object(c.d)("Viewed Pledge Checkout Page"),s()("a.show_all_rewards").click((function(e){s()(this).parents(".checkout_rewards").find("li:hidden").show(),s()(this).parents(".checkout_rewards").removeClass("clicked_reward"),s()(this).parents(".show_all").hide(),e.preventDefault(),s()(document).trigger("shifted"),Object(c.d)("Expanded Rewards")})),s()(".flash-error").livequery((function(){var e,t=parseInt(s()(".text#backing_amount").attr("value").replace(/[^0-9\.]/,""),10);e=void 0!==s()(".radio:checked").attr("alt")?parseInt(s()(".radio:checked").attr("alt").replace(/[^0-9\.]/,""),10):null,Object(c.d)("Errored Pledge Selection",{pledge_tier_amount:parseInt(e,10),pledge_error_text:s()(this).text(),pledge_input_amount:parseInt(t,10)})})),-1!==location.search.indexOf("edit_from_interstitial=shipping")?Object(c.d)("Clicked Edit Shipping",{shipping_enabled:s()(".radio:checked").parent().data("shipping_enabled"),project_country:R.a.get("country")}):-1!==location.search.indexOf("edit_from_interstitial=amount")&&Object(c.d)("Clicked Edit Amount",{shipping_enabled:s()(".radio:checked").parent().data("shipping_enabled"),project_country:R.a.get("country")})})),Object(y.a)(".pledges__checkout_faqs",(function(e){e.on("click",".faq-question a",(function(e){s()(this).closest(".faq").toggleClass("expanded"),e.preventDefault()})),s()("body#pledges_edit").length&&setTimeout((function(){s()(".faqs li#change_my_pledge_amount").addClass("expanded"),s()(".faqs li#change_my_reward_selection").addClass("expanded"),s()(".faqs li#cancel_my_pledge").length&&s()(".faqs li#cancel_my_pledge").addClass("expanded")}),800)})),s()((function(){s()(".NS_pledges__no_ship").livequery((function(){var e=s()(this),t=s()("form.NS_pledges__form, form.manage_pledge"),n=t.find(".fields_and_submit"),a=t.closest(".modal_dialog"),i=a.data("modal_dialog");e.find("a.override").click((function(e){e.preventDefault(),s()(this).trigger("close"),t.data("override",!0),t.removeClass("submitting-non-ajax"),t.find("#backing_location_id").val(null),t.submit()})),e.find("a.btn--green").click((function(t){t.preventDefault(),s()(this).trigger("close"),i&&(e.hide(),n.show(),a.find("h1").show())}))}))})),Object(y.a)(".NS_pledges__shipping_select",Ie),Object(y.a)("body#posts_edit",(function(e){var t;s()(document).on("click",".wym_tools li a",(function(){Object(c.d)("Editor Tool Click",{tool_clicked:s()(this).attr("title"),context:"post_edit_body"})})),e.find(".notification_toggle a").on("click",(function(){e.find(".radio_message").removeClass("visible"),e.find("."+s()(this).attr("data-backers")+"_message").addClass("visible")})),e.find(".ksr_toggle a.all_backers").on("click",(function(){(t=e.find(".select_backers_message input:checkbox:not(:checked)")).prop("checked",!0),Object(c.d)("Update Notifications Toggle",{toggled_to:"all_backers"})})),e.find(".ksr_toggle a.select_backers").on("click",(function(){t&&t.prop("checked",!1),Object(c.d)("Update Notifications Toggle",{toggled_to:"select_tiers"})})),e.find(".ksr_toggle a.public").on("click",(function(){e.find("#post_public").val("1")})),e.find(".ksr_toggle a.private").on("click",(function(){e.find("#post_public").val("0")}))}));n("EGW+"),n("xdbW");Object(y.a)("body#projects_dashboard",(function(){var e=Object(a.a)("#projects_dashboard #activity").find(".mobius").data("mobius");if(void 0===e)return!1;function t(e){var t=Object(a.a)(e);t.closest(".activity-filters").find("a").removeClass("current"),t.addClass("current")}function n(t){var n=Object(a.a)(t);a.a.ajax({type:"get",dataType:"html",url:n.attr("href"),success:function(t){const i=n.data("filter");var r=Object(a.a)(t).find(".mobius").children();Object(a.a)("#activity .mobius").html(r).trigger("mobius:loaded_page",[1,r]),e.clear_extra_params(),i&&e.add_param("cat",i),e.current_page=1}})}e.current_page=0;const i=new URLSearchParams(document.location.search.substring(1)).get("activity_tab")||'""',r=Object(a.a)("#projects_dashboard .activity-filters").find(`a[data-filter=${i}]`);r.length>0&&(t(r),n(r)),Object(a.a)(document).on("click","#projects_dashboard .activity-filters a",(function(e){e.preventDefault();var i=Object(a.a)(this);t(i),n(i)}))})),Object(y.a)(".NS_projects_view_fees",(function(){s()(".js-view-fees").on("click",(function(){Object(c.d)("Viewed Fees Breakdown",{project_pid:R.a.data.id})}))}));var xe=n("TIPN");Object(y.a)("#projects_learn",(function(){var e=0;const t=e=>t=>{t.preventDefault(),Object(a.a)(t.target).closest(".categories").find(".js-category-link").removeClass("selected"),Object(a.a)(t.target).addClass("selected");const n=Object(a.a)(t.target).data("name"),i=Object(a.a)(e).find(`[data-name="${n}"]`);Object(a.a)(e).find(".category").removeClass("block"),i.addClass("block");const r=Object(a.a)(e).find("video").get(0);r&&r.pause(),e.includes("desktop")&&Object(xe.a)({to:Object(a.a)(".js-desktop-categories").offset().top,duration:500})};Object(a.a)(".js-mobile-categories .js-category-link").on("click",t(".js-mobile-interstitials")),Object(a.a)(".js-desktop-categories .js-category-link").on("click",t(".js-desktop-interstitials")),Object(a.a)(".js-mobile-categories li:first .js-category-link").get(0).click(),Object(a.a)(".js-desktop-interstitials").find(".close").on("click",(function(e){Object(a.a)(".js-desktop-categories").find(".js-category-link").removeClass("selected"),Object(a.a)(".js-desktop-interstitials").find(".category").removeClass("block"),e.preventDefault()})),Object(a.a)(".js-tools .right_side").on("cycle-after",(function(t,n,i,r){var o,s,l=Object(a.a)(r);e>0&&Object(c.d)("Learn More Project Tool Select",{slide_description:l.attr("data-slide-description")}),e+=1,o=l,(s=Object(a.a)(".js-tools").find("video").get(0))&&s.pause(),o.find("video").length&&o.find("video")[0].play()})),Object(a.a)(".js-quotes").find(".mirror").each((function(){Object(a.a)(this).html(Object(a.a)(this).closest(".quote-box").find(".relative").html())}));const n=document.querySelector(".js-quotes");new IntersectionObserver(([e])=>{e.isIntersecting&&n.classList.add("loaded")},{rootMargin:"150px"}).observe(n),Object(a.a)(".js-ctas .js-play-button").on("click",(function(e){e.preventDefault(),Object(a.a)(this).closest("section").addClass("video-expanded"),Object(a.a)(this).closest("section").find(".video-player").trigger("ksr_video:play")})),Object(a.a)(".js-ctas .close").on("click",(function(e){e.preventDefault(),Object(a.a)(this).closest("section").removeClass("video-expanded"),Object(a.a)(this).closest("section").find(".video-player").trigger("ksr_video:pause")}))})),Object(y.a)("#projects_learn_refresh",(function(){Object(a.a)(".js-category-link").on("click",(function(e){Object(a.a)(".js-category-link").removeClass("selected"),Object(a.a)(".js-category-link").addClass("o60p"),Object(a.a)(this).addClass("selected"),Object(a.a)(this).removeClass("o60p"),Object(a.a)(".js-category-panel").addClass("hide"),Object(a.a)('.js-category-panel[data-name="'+Object(a.a)(this).data("name")+'"]').removeClass("hide"),e.preventDefault()})),Object(a.a)(".js-category-link").first().click()})),Object(y.a)("#projects_show",(function(e){Object(a.a)("#verifying-pledge.modal_dialog .remote_modal_dialog",e).click((function(){Object(a.a)(this).parents("div#verifying-pledge").trigger("close.modal_dialog")})),location.hash&&setTimeout((function(){Object(a.a)(location.hash).find(".faq-question a").click()}),500),Object(a.a)("body").is(".touchable")&&(e.on("modal_dialog:opened",(function(){Object(a.a)("video").length&&window.Touch&&(Object(a.a)("#video-section",e).css("visibility","hidden"),Object(a.a)("video")[0].pause())})),e.on("close.modal_dialog",(function(){Object(a.a)("#video-section",e).css("visibility","visible")})));var t=function(){var e=R.a.get("backing"),t=e?e.urls.web.backing:null;a.a.open_remote_modal_dialog(f()(t).addQuery("ref","reward_view_pledge").addQuery("clicked_reward","true").suffix("js").toString(),{id:Object(a.a)(this).attr("data-modal-id"),class_name:"backings-info__modal",dataType:"html"})};Object(a.a)(document).on("click",".js-view_your_pledge",(function(){t()})),Object(a.a)(document).on("keypress",".js-view_your_pledge",(function(e){13!=e.which&&32!=e.which||t()}))}));n("JpGa");Object(y.a)(".NS-projects__admin_keyboard_control",(function(e){s()(document).on("keydown",(function(t){if(t.ctrlKey){var n=e.find("#project_moderated_state"),a=e.find("form"),i="";switch(t.which){case 65:if("submitted"===R.a.get("state"))return;i="acceptable";break;case 84:i="tolerated";break;default:return}n.val(i),s.a.ajax({url:a.attr("action"),type:a.attr("method"),dataType:"json",data:a.serialize(),success:function(){Object(u.a)({info:i})}}),s()("#admin-nav-wrap span.moderation_status").text(i.substring(0,3))}}))}));var Te=n("mwIZ"),Ae=n.n(Te),De=n("8L3F");class Pe{constructor(){this.updateRect();(()=>{let e=document.getSelection();this.range=e&&e.rangeCount&&e.getRangeAt(0),this.updateRect()})()}updateRect(){this.range?this.rect=this.range.getBoundingClientRect():this.rect={top:0,left:0,right:0,bottom:0,width:0,height:0},this.rectChangedCallback(this.rect)}rectChangedCallback(){}getBoundingClientRect(){return this.rect}get clientWidth(){return this.rect.width}get clientHeight(){return this.rect.height}}function Re(){if(Ae()(R.a,"data.is_backing",!1)&&Ae()(Ne.a,"data.is_superbacker",!1)){const e=Object(a.a)(`\n      <div class="popper shadow-2 border1px border-black bg-white text-center z10 p2 w50 hide" id="claim-popover">\n        <p class="mb2 mt2">${j.default.t("project_page.campaign.claims_popover.Quote_this_text")}</p>\n        <div class="popper-buttons">\n          <a id="start-comment" class="bttn bttn-medium bttn-primary theme--create w85p mb1">${j.default.t("project_page.campaign.claims_popover.Start_a_comment")}</a>\n          <a id="dismiss-popper" class="w85p grey-dark pointer">${j.default.t("project_page.campaign.claims_popover.Close")}</a>\n        </div>\n      </div>\n    `);Object(a.a)("body").append(e);let t=null;const n=Object(a.a)(".project-name, .project-description, .description-container").get();Object(a.a)(document).on("click","#dismiss-popper",()=>{null!==t&&t.destroy()}),Object(a.a)(document).on("click","#start-comment",()=>{Object(a.a)("#comments-emoji").trigger("click")}),Object(a.a)(document).on("mouseup",i=>{i.stopPropagation(),setTimeout(()=>{let i=document.getSelection();if(i.rangeCount>=1&&"Range"===i.type){const r=n.some(e=>function(e,t){if(t.rangeCount>0)for(var n=0;n<t.rangeCount;++n)if(a.a.contains(e,t.getRangeAt(n).commonAncestorContainer))return!0;return!1}(e,i)),o=i.toString().trim(),s=Object(a.a)("<div>"+o+"</div>").text();if(s.length>3&&s.length<300&&r&&(window.selectedText=s,!t)){const n=new Pe;t=new De.a(n,e,{placement:"right"}),e.removeClass("hide"),n.rectChangedCallback=({width:e})=>{t&&e>0?t.scheduleUpdate():t&&t.destroy()}}}else t&&(window.location.pathname.endsWith("/comments")||(window.selectedText=""),e.addClass("hide"),t.destroy(),t=null)},100)})}}Object(y.a)(".NS_projects__description_section",Re),Object(y.a)(".js-project-community-content",(function(e){e.on("click",".js-hero-scroll",(function(e){s.a.scrollTo(s()(".js-community-locations").offset().top-45,400),e.preventDefault()}))}));n("p7Bz");Object(y.a)(".js-project-faqs-content",(function(e){e.on("click",".js-faq-question-toggle",(function(e){e.preventDefault();var t=s()(this).closest(".js-faq"),n=t.find(".js-faq-answer"),a=t.find(".js-arrow-icon");t.toggleClass("js-expanded"),a.toggleClass("rotate-90"),n.toggleClass("hide")})),s()("body").on("click",".js-submit-question",(function(){Object(c.d)("Submitted Ask Question")}))})),Object(y.a)(".NS_projects__project_nav .js-load-project-help_wanted",(function(){s()(document).on("click",".js-btn",(function(){let e=s()(this).closest(".js-skill");e.find(".js-skill-textarea").toggle(),e.find(".js-btn").toggle()}))}));var Fe=n("sEfC"),Le=n.n(Fe),Me=(n("U3M1"),n("CGP4"));var Ue=n("eH4U"),Ve=n("fivf"),He=n("vtU4"),Be=n("lC19"),$e=n("NjHa"),qe=n("dTnv"),Ye=n("109u"),ze=n("A3pT"),Ge=n("VX74"),Ke=n("kZzg"),We=n("kQ6V"),Je=n("z+X6"),Xe=n("xWgL"),Ze=n("n8gV"),Qe=n("i8i4"),et=n.n(Qe),tt=n("/MKj"),nt=n("3Zop");const at=Object(Je.a)(nt.a,{},"Campaign"),it=()=>{const e=document.getElementById("react-campaign"),t=Object(Ke.a)()?"t17-md":"t20-md";if(e){const n=e.dataset.slug||"empty",a=`/projects/${n}/`;et.a.render(G.a.createElement(Ge.ApolloProvider,{client:Ze.a},G.a.createElement(tt.a,{store:at},G.a.createElement(Xe.b,{basePath:a,slug:n,stickyTopAtom:t,getHeightOffset:Object(We.a)(["project-nav","admin-nav-wrap"]),isFlaggingDisabled:!1}))),e)}};it();var rt=n("aiSh"),ot=n("pj8f"),st=n("Qin/"),ct=n("4U8H");Object(rt.a)(ot.Honeybadger.notify.bind(ot.Honeybadger));const lt=()=>{const e=document.getElementById("react-campaign-nav");if(e&&e.dataset&&e.dataset.campaign){const t=JSON.parse(e.dataset.campaign),{slug:n,projectHasSkills:a,projectHasCommunity:i,projectFAQsCount:r,updateCount:o,commentsCount:s,manageYourPledge:c,backThisProject:l,projectPid:d}=t,u=t.watchingProjectData&&JSON.parse(t.watchingProjectData),m={projectIsLaunched:u.project_is_launched,projectCanRemind:u.project_can_remind,isWatching:u.user_is_watching},p=`/projects/${n}/`||"x",h=document.getElementById("admin-nav")?"t10":"t0",f=Object(ct.a)(p,{projectHasSkills:a,projectHasCommunity:i,projectFAQsCount:r,projectHasEnvironmentalCommitments:at.getState().environmentalCommitmentsExists,projectHasAI:at.getState().projectHasAI,projectBudgetExists:at.getState().projectBudgetExists,updateCount:o,commentsCount:s});et.a.render(G.a.createElement(Ge.ApolloProvider,{client:Ze.a},G.a.createElement(tt.a,{store:at},G.a.createElement(st.a,{basePath:p,pid:d,backThisProject:l,managePledge:c,showRemindMe:!0,state:at.getState(),dispatch:at.dispatch,watchProjectData:m,stickyTopAtom:h,usesRouter:!1,navigationConfig:f}))),e)}};lt(),at.subscribe(lt);var dt=n("Y0SK"),ut=n("Llbi"),mt=n("dWMV");s()((function(){var e=s()(".NS_projects__project_nav, .NS_projects__header_nav"),t=s()(".NS_projects__content"),a=e.find(".js-load-project-content");if(((...e)=>{Promise.resolve().then(n.bind(null,"bdgK")).then(({default:t})=>{const n=new t(e=>{Array.from(e[0].target.children).forEach(e=>{const t=e.previousElementSibling;t instanceof HTMLElement&&e instanceof HTMLElement&&e.classList.toggle("js-flow-wrapped",e.offsetLeft<t.offsetLeft+t.offsetWidth)})});e.forEach(e=>{n.observe(e)})})})(...s()(".js-project-nav .row").toArray()),e.length&&t.length){var i=e.find(".js-track-back-this-project");if(s()(document).on("click",".creator_tab_link",e=>{var t;e.preventDefault();(null===(t=document.getElementsByClassName("project-nav__link--creator"))||void 0===t?void 0:t[0]).click()}),i.on("click",Le()((function(){const e=s()(".is-active.js-analytics-section[data-analytics]").data("analytics");return Object(w.n)(w.d.CTA_CLICKED,{context_cta:w.c.PLEDGE_INITIATE,context_location:"sticky_nav",context_section:e}),!0}),400,{leading:!0,trailing:!1})),s()(document).on("projectnav:description",(function(){Object(Ye.projectFlaggingInit)(),Object($e.backerRewardsInit)(),Object(qe.renderCreatorBio)(),Re(),Object(ze.budgetGraphicInit)(),Object(ut.initRewardSidebar)(),Object(dt.d)()&&(lt(),it())})),s()(document).on("projectnav:comments",(function(){Object(Me.commentsInit)()})),s()(document).on("projectnav:rewards",(function(){Object(mt.b)()})),s()(document).on("projectnav:creator",(function(){Object(Be.b)()})),s()(document).on("projectnav:updates",(function(){Ve.history.push({pathname:window.location.pathname}),Object(Ve.initProjectPostInterface)()})),function(){var t=window.location.pathname.replace(/\/\d*$/,""),n=d.default.map(a,(function(e){return e.pathname.split("/").pop()}));n.push("posts");var i=t.split("/").pop();if(d.default.contains(n,i)&&!window.location.hash&&m(),ye.a.phone&&("posts"===i||"updates"===i)){const t=s()("a.is-active"),n=t.offset().left,a=t.outerWidth(),i=s()(window).width();e.scrollLeft(n-(i-a)/2)}}(),a.on("click",(function(e){var t=s()(this);e.preventDefault();const n=t.data("content");if(Object(Ue.c)(He.b.VIEW_POST.path)&&"updates"===n){const e=window.location.pathname,t=e.substring(0,e.lastIndexOf("/"));Ve.history.push({pathname:t})}else if(f()(t.prop("href")).pathname()!==f()(window.location).pathname()){var a=new CustomEvent("campaignNavTabChange",{detail:{content:n}});"description"===n&&window.dispatchEvent(a);var i=t.attr("data-content");u(t.attr("href"),i)}})),t.on("click",".js-faq-link",(function(e){p(e,"Check")})),t.on("click",".js-add-faq-link",(function(e){p(e,"Post")})),ye.a["not-touchable"]){var r=skrollr.init({forceHeight:!1});s()(document).one("ksr:video_player_resize",(function(){r.refresh()}))}var o={about:!1,budget_graphic:!1,risks:!1,last_rewards:!1,recs:!1},l=d.default.debounce((function(){h("about",s()(".js-project-nav"))&&_("about",g(s()(".js-project-nav"))),h("last_rewards",s()(".js-project-rewards"),!0)&&_("last_rewards",g(s()(".js-project-rewards"))+s()(".js-project-rewards").height()),h("budget_graphic",s()("#react-budget-graphic"))&&_("budget_graphic",g(s()("#react-budget-graphic"))),h("risks",s()(".js-risks"))&&_("risks",g(s()(".js-risks"))),h("recommended",s()(".js-recs"))&&_("recommended",g(s()(".js-recs")))}),1e3);s()(document).scroll(l),"emojilocale"===O.b.getItem("ksr10locale")&&(s()("#rewards-emoji").html('<div class="type-21">📦</div>'),s()("#campaign-emoji").html('<div class="type-21">📣</div>'),s()("#faq-emoji").html(`<div class="type-21">\n        🤔\n        <span class="count">${s()("#faq-emoji").attr("emoji-data")}</span>\n      </div>`),s()("#help-wanted-emoji").html('<div class="type-21">👋</div>'),s()("#updates-emoji").html(`<div class="type-21">\n        📰\n        <span class="count">${s()("#updates-emoji").attr("emoji-data")}</span>\n      </div>`),s()("#comments-emoji").html('<div class="type-21">\n        💬\n      </div>'),s()("#community-emoji").html('<div class="type-21">🤝</div>'))}function u(n,i){var r=".js-project-"+i+"-content",o=t.find(r);!function(e,t){window.history&&window.history.replaceState?window.history.replaceState(null,null,e):window.location.hash=t}(n,i),function(t){var n=e.find(".js-load-project-"+t);a.removeClass("is-active"),n.addClass("is-active")}(i),t.find(".js-project-content").removeClass("visible").fadeOut(200,(function(){s()(this).empty(),window.setTimeout((function(){o.fadeIn()}),200)})),s.a.ajax({url:n,cache:!1,success:function(e){o.html(e),m(),s()(document).trigger("projectnav:"+i),function(){const e=s()(".is-active.js-analytics-section[data-analytics]").data("analytics");Object(w.n)(w.d.PAGE_VIEWED,{context_section:e,context_page:w.e.PROJECT,project_url:window.location.pathname})}()}})}function m(){Object(xe.a)({to:t.position().top+70,easing:"easeOutQuint",duration:200})}function p(e,t){e.preventDefault(),u(s()(e.target).attr("href"),"faqs"),Object(c.d)("Clicked"+t+"FAQ",{context:s()(e.target).data("context")})}function h(e,t,n){if(!o[e]&&!function(e){return 0===e.length||e.is(":hidden")}(t)){var a=n?t.height():0;return s()(document).scrollTop()+window.innerHeight>=g(t)+a}}function g(e){return e.offset().top}function _(e,t){Object(c.d)("Viewed Project Page Section",{context:e,page_pixel_length:s()(document).height(),pixel_position:t}),o[e]=!0}}));n("SiTU"),n("l+V7");!function(){class e{constructor(e,t){this.reward_data=t,this.id=this.reward_data.id||this.constants.NO_REWARD_ID,this.shipping_rules=this.reward_data.shipping_rules||[],this.pledge_url=t.urls?new f.a(t.urls.api.reward):void 0,this.shipping_enabled=this.reward_data.shipping_enabled||!1,this.index=t.index,this.closed_height=t.closed_height,this.prefilledNoRewardVal=e.data("prefillAmount");var n=e.find(".input__currency-conversion");this.el={$rw:e,$select:e.find("select"),$form:e.find("form"),$form_wrapper:e.find(".js-form-wrapper"),$description:e.find("div.pledge__reward-description"),$truncate_link:e.find("a.pledge__reward-description-toggle"),$truncate_link_span:e.find("a.pledge__reward-description-toggle span"),$pledge_input:e.find('input[name="backing[amount]"]'),$radio:e.find(".js-pledge-radio"),$submit:e.find(".js-reward-continue-button"),$continueAndApplePayButtons:e.find(".js-pledge-button"),$input_currency:e.find(".input__currency-conversion")},this.el.$pledge_input.on("keyup",(function(){var e=Object(i.a)(s()(this).val()),t=isNaN(e)?0:e,a=parseFloat(R.a.data.fx_rate,10),r=R.a.data.usd_type;if(isNaN(a))n.addClass("hide");else{var o=t<=2?t*a:Math.round(t*a),c=k.b.money(o,{currency:R.a.data.current_currency,usd_type:r,precision:t<=2?2:0});n.text(j.default.t("library.controllers.reward_controller.About")+c)}})),this.state={is_selected:!1,is_truncated:!1,is_truncate_worthy:this.el.$description.height()>=this.constants.TRUNCATE_HEIGHT,submit_halted:!1,is_shipping_populated:!!this.shipping_rules.length},e.data("reward",this),this.el.$form_wrapper.aria_set_hidden()}toggle_description_truncation(){var e=this.el.$truncate_link.text().trim();this.state.is_truncate_worthy||this.state.is_truncated?(this.state.is_truncated=!this.state.is_truncated,this.el.$description.toggleClass("pledge__reward-description--truncated"),this.el.$description.toggleClass("pledge__reward-description--expanded"),this.el.$truncate_link_span.text(e===this.constants.TRUNCATE_LINK_TEXT?this.constants.UNTRUNCATE_LINK_TEXT:this.constants.TRUNCATE_LINK_TEXT),this.el.$truncate_link.toggleClass("more")):this.el.$truncate_link.addClass("hide")}hide_truncation_link(){this.el.$truncate_link.addClass("hide")}show_truncation_link(){this.el.$truncate_link.removeClass("hide")}toggle_pledge_form(){if(this.state.is_shipping_populated||this.disable_shipping_select(),this.state.is_selected=!this.state.is_selected,this.toggle_pledge_form_classes(),this.el.$radio.length&&this.toggle_checkout_elements(),this.state.is_selected){this.inject_csrf_token(),this.handle_shipping_rules();var e=s()(document).scrollTop();this.state.is_shipping_populated&&!this.is_country_selected()&&this.enable_shipping_select(),this.focus_shipping_select(),s()(document).scrollTop(e),this.id===this.constants.NO_REWARD_ID&&(s()(".js-no-reward-form-input").val()||s()(".js-no-reward-form-input").val(this.prefilledNoRewardVal).select())}else this.el.$form_wrapper.aria_deactivate_keyboard_tabindex().aria_set_hidden()}toggle_pledge_form_classes(){this.el.$rw.toggleClass("pledge--available").toggleClass("pledge--selected"),this.el.$form_wrapper.toggleClass("pledge__checkout--is-visible")}reset_pledge_form(){this.el.$pledge_input.hasClass("error")&&(this.el.$pledge_input.removeClass("error"),this.el.$submit.removeClass("disabled"),this.update_pledge_total())}toggle_checkout_elements(){this.state.is_selected?this.el.$radio.prop("checked")||(this.el.$radio.prop("checked",!0),this.el.$radio.trigger("change")):this.el.$radio.prop("checked",!1)}handle_shipping_rules(){!this.state.is_shipping_populated&&this.shipping_enabled?(this.show_loader(),this.shipping_rules.length?this.render_reward_select():this.fetch_reward_shipping_rules()):this.shipping_enabled&&this.preselect_shipping_country()}fetch_reward_shipping_rules(e){e=e||0,s.a.ajax({url:this.pledge_url,type:"get",dataType:"json",timeout:this.constants.FETCH_TIMEOUT*2**e,success:function(e){this.shipping_rules=e.shipping_rules,this.enable_shipping_select(),this.render_reward_select()}.bind(this),error:function(t,n){"timeout"===n&&e<this.constants.MAX_FETCH_RETRIES&&this.fetch_reward_shipping_rules(e+1)}.bind(this)})}show_loader(){this.el.$submit.addClass("is-loading").prop("disabled",!0)}hide_loader(e){setTimeout(function(){this.el.$submit.removeClass("is-loading").prop("disabled",!1)}.bind(this),e)}render_reward_select(){Ie();var e={select:this.el.$select,reward:this};this.state.is_selected&&setTimeout(function(){s()(document).trigger("render_shipping_select",e),this.state.is_shipping_populated=!0,this.hide_loader(300)}.bind(this),this.transition_duration())}validate(){var e=this.is_country_selected(),t=this.is_pledge_high_enough();return this.shipping_enabled&&!e?this.throw_country_error():this.reset_country_error(),t?this.reset_pledge_error():this.throw_pledge_error(),!(!e&&this.shipping_enabled||!t)&&(this.enable_submit_button(),!0)}transition_duration(){if(!s.a.support.transitionEvent())return 0;var e=this.el.$form_wrapper.css("transition-duration");return/ms$/.test(e)?parseFloat(e,10)||0:1e3*parseFloat(e,10)||0}focus_shipping_select(){this.el.$form_wrapper.aria_activate_keyboard_tabindex().aria_set_visible(),ye.a["not-mobile"]?(this.el.$pledge_input.focus(),this.el.$pledge_input.val(this.el.$pledge_input.val())):this.el.$submit.focus()}inject_csrf_token(){var e=s()("meta[name=csrf-param]").attr("content"),t=s()("meta[name=csrf-token]").attr("content");this.el.$form.find("input[name="+e+"]").length||this.el.$form.append(s()("<input />",{type:"hidden",name:e,value:t}))}preselect_shipping_country(){this.el.$select.val()||this.el.$select.val(Oe.a.get("location_id"))}update_pledge_total(e){var t;t=e&&e.amount?e.amount:this.reward_data.minimum;var n=parseInt(this.el.$select.val(),10),a=this.get_shipping_rule(n);let r;r=t+(a.length?parseFloat(a[0].cost):0);var o=k.b.format_number(r,{precision:0});if(this.id===this.constants.NO_REWARD_ID)this.el.$pledge_input.val("");else{this.el.$pledge_input.val(o);var s=Object(i.a)(this.el.$pledge_input.val()),c=isNaN(s)?0:s,l=parseFloat(R.a.data.fx_rate,10),d=R.a.data.usd_type;if(isNaN(l))this.el.$input_currency.addClass("hide");else{var u=k.b.money(Math.round(c*l),{currency:R.a.data.current_currency,usd_type:d,precision:0});this.el.$input_currency.text(j.default.t("library.controllers.reward_controller.About")+u)}}}get_shipping_rule(e){return d.default.filter(this.shipping_rules,(function(t){return t.location_id===e}))}get_current_pledge_amount(){return Object(i.a)(this.el.$pledge_input.val())}is_country_selected(){return!!this.el.$select.val()}throw_country_error(){this.el.$select.parent().addClass("error"),this.disable_submit_button()}reset_country_error(){this.el.$select.parent().removeClass("error")}is_pledge_high_enough(){var e,t=this.get_current_pledge_amount();if(this.shipping_rules.length){var n=parseInt(this.el.$select.val(),10),a=this.get_shipping_rule(n),i=a.length?parseFloat(a[0].cost):0;e=this.reward_data.minimum+i}else e=this.reward_data.minimum;return t>=e}reset_pledge_error(){this.el.$pledge_input.removeClass("error")}throw_pledge_error(){this.el.$pledge_input.addClass("error"),this.disable_submit_button()}disable_submit_button(){this.el.$submit.addClass("disabled")}enable_submit_button(){this.el.$submit.removeClass("disabled")}disable_shipping_select(){this.el.$select.prop("disabled",!0)}enable_shipping_select(){this.el.$select.prop("disabled",!1)}}e.prototype.constants=Object.freeze({MAX_FETCH_RETRIES:3,FETCH_TIMEOUT:1e3,TRUNCATE_HEIGHT:80,TRUNCATE_LINK_TEXT:j.default.t("library.controllers.reward_controller.Read_More"),UNTRUNCATE_LINK_TEXT:j.default.t("library.controllers.reward_controller.Less"),NO_REWARD_ID:0}),window.RewardController=e}();var pt=n("uoVB"),ht=n("HZYo"),ft=n("v3o6"),gt=n("DpK8");Object(y.a)(".NS_projects__content",(function(){var e,t;void 0!==Ne.a&&(e=Ne.a.get("id")===R.a.get("creator.id"),t=R.a.get("is_backing"));var n,a=t||e,i=0,r=!ye.a["not-mobile"],o=s()(".js-project-nav").height(),l=20;function u(){return d.default.filter(void 0,(function(e){return!0===e.state.is_selected}))}function m(){var e=u();if(e.length){var t=e[0];t.toggle_pledge_form(),t.state.is_truncated&&t.toggle_description_truncation(),t.el.$truncate_link.addClass("hide"),t.reset_pledge_form(),t.reset_pledge_error(),t.reset_country_error()}}function p(){n=s()(".js-reward-available"),window.rewards=n.map((function(e,t){var n=s()(t),a=function(e){return d.default.filter(R.a.get("rewards"),(function(t){return t.id===e}))}(n.data("rewardId"))[0];return a.closed_height=n.height(),a.index=n.index(),new window.RewardController(n,a)})).get(),n.on("change","select",(function(e){var t=s()(e.delegateTarget).data("reward");t.shipping_rules.length&&(t.update_pledge_total(),t.reset_pledge_error()),t.validate()})),n.on("click",Le()((function(e){!function(e,t){if(i=0,"live"!==R.a.get("state")&&t.preventDefault(),!a&&!e.state.is_selected){var n=u(),r=0;n.length>0&&n[0].index<e.index&&(r=n[0].el.$rw.height()-n[0].closed_height);var o=e.el.$rw.offset().top-r-l;s()(document).scrollTo(o,100),m(),e.toggle_pledge_form(),e.state.is_truncate_worthy&&(e.toggle_description_truncation(),e.el.$truncate_link.removeClass("hide")),Object(c.d)("Checkout Reward Click",{checkout_reward_id:e.id,checkout_amount:e.reward_data.minimum});const t=s()(".is-active.js-analytics-section[data-analytics]").data("analytics");Object(w.n)(w.d.CTA_CLICKED,{context_cta:w.c.PLEDGE_INITIATE,context_location:"rewards_list",context_section:t})}}(s()(this).data("reward"),e)}),400,{leading:!0,trailing:!1})),n.on("submit","form",(function(e){var t=s()(e.delegateTarget).data("reward"),n=t.validate();let a=s()(e.target).find("select#backing_location_id").val(),i=t.get_shipping_rule(+a),r=i.length?parseFloat(i[0].cost):0;if(t.state.submit_halted=!n,t.state.submit_halted&&s()(e.target).removeClass("submitting-non-ajax"),n){Object(c.d)("Checkout Reward Continue Click");const e=Object(ft.a)(t);Object(ht.b)(ht.a.REWARD_CONTINUE_BUTTON_CLICKED,{context_page:gt.a.PROJECT},e);const n=Object(pt.c)(t),a=Object(w.g)(n,{shippingAmount:r});Object(w.n)(w.d.CTA_CLICKED,{context_cta:w.c.REWARD_CONTINUE,context_location:w.m.REWARDS_LIST,context_section:s()(".js-analytics-section.is-active").data("analytics")},a)}return n})),n.on("blur input",'input[name="backing[amount]"]',(function(e){s()(e.delegateTarget).data("reward").validate()})),n.on("click",".js-desc-toggle",(function(e){var t=s()(e.delegateTarget).data("reward");e.preventDefault(),t.toggle_description_truncation()}))}r||(l+=o),s()(document).on("click",(function(){3===(i+=1)&&(m(),i=0)})),s()(document).on("projectnav:rewards projectnav:description",(function(){p()})),p()})),Object(y.a)(".NS_projects__spotlight_onboarding",(function(e){O.a.isPersisted&&(O.a.getItem("dismiss_spotlight_onboarding")||(e.removeClass("dismissed"),s()("html,body").css("overflow","hidden")),e.find(".js-close").on("click",(function(t){e.addClass("dismissed"),s()("html,body").css("overflow","auto"),O.a.setItem("dismiss_spotlight_onboarding",!0),t.preventDefault()})))})),Object(y.a)(".js-project-description-content, #description",(function(e){e.find(".js-open-supporting-material-modal").on("click",(function(t){e.find(".supporting-material-modal").fadeIn(200),s()("body,html").addClass("supporting-material-modal-open"),t.preventDefault()})),e.find(".js-close-supporting-material-modal").on("click",(function(e){s()(this).closest(".supporting-material-modal").fadeOut(200),s()("body,html").removeClass("supporting-material-modal-open"),e.preventDefault()}))})),Object(y.a)(".NS-project_faqs__edit",(function(e){var t=s()("#faq-template").children().clone(),n=e.find("ul.faqs");function a(){n.find("li.js-faq:not(.deleted) input.position").each((function(e,t){s()(t).val(e+1)}))}e.on("click","form .js-link-to-new-question",(function(){var e=t.clone_form_template();return e.find(".js-delete").val(0),e.removeClass("hidden").appendTo(n),a(),!1})),e.on("click",".js-delete",(function(){var e=s()(this).closest("li.js-faq").find("input.js-delete").attr("id");s()(".js-faq-delete-modal").find(".js-mark-to-delete").data("delete-input",e)})),s()(".js-faq-delete-modal").on("click",".js-mark-to-delete",(function(e){e.preventDefault();var t=s()(this).closest(".js-faq-delete-modal"),n=s()(this).data("delete-input"),a=s()("#"+n),i=a.closest("li.js-faq");return a.val(1),i.addClass("deleted").fadeOut("slow"),t.trigger("close"),!1})),n.sortable({containment:".NS-project_faqs__edit",placeholder:"project-faq-placeholder",handle:".js-move",axis:"y",tolerance:"pointer",items:"li.js-faq",start:function(e,t){s()(".project-faq-placeholder").css("height",t.item.height()+"px"),t.item.addClass("reordering")},stop:function(e,t){t.item.removeClass("reordering")},update:a})})),Object(y.a)(".js-project-description-content, #description",(function(){var e=s()(".js-open-supporting-material");function t(e){s()(".js-carousel-thumbnail").removeClass("cycle-slide-active"),s()(".js-carousel-thumbnail:eq("+e+")").addClass("cycle-slide-active")}function n(e,t){var n=5*Math.floor(t/5);e.trigger("goto",n)}function a(){return s()(".cycle-slide-active .js-slide-media .video-player")}function i(){var e=a(),t=s()(".cycle-slide-active .js-slide-media");e.height(t.height()).width(t.width())}e.click((function(){s()("html").css("overflow","hidden")})),-1!==window.location.hash.indexOf("prototype-slide-")&&e.click(),s()("#NS_project_supporting_material_showcase__show").livequery((function(){s()(document).trigger("ksr_video:pause_all_videos");var e=s()(this).closest(".modal_dialog");e.on("before_close.modal_dialog",(function(){s()(".js-prototype-slideshow").cycle("destroy"),window.location.hash="",s()(window).off("resize.projectSupportingMaterials"),s()("html").css("overflow","visible")})),s()(window).on("hashchange",(function(){""===window.location.hash&&e.trigger("close.modal_dialog")}));var r=s()(".js-prototype-carousel");s()(".js-carousel-thumbnail").length>5?(r.serialScroll({items:".js-carousel-thumbnail",lock:!1,step:5,cycle:!1,duration:500}),s()(".prototype-carousel__next").click((function(){r.trigger("next")})),s()(".prototype-carousel__previous").click((function(){r.trigger("prev")}))):s()(".js-prototype-carousel-pager").addClass("hide"),r.on("click",".js-carousel-thumbnail",(function(){window.location.hash=s()(this).data("slide-hash")}));var o=s()(".js-prototype-slideshow");o.on("cycle-before",(function(){a().trigger("ksr_video:pause")})),o.on("cycle-after",(function(e,a){t(a.nextSlide),n(r,a.nextSlide),i()})),o.on("cycle-post-initialize",(function(e,a){t(a.currSlide),n(r,a.currSlide),i(),s()(window).on("resize.projectSupportingMaterials",i)})),o.cycle()}))})),s()((function(){var e=s()("#saving-layer");s()("body").append(e),s()(document).on("submit","body.refund_checkouts_new_card #credit_card_form form",(function(){e.show(),setTimeout((function(){e.find(".modal_dialog_body").html(j.default.t("onloads.views.refund_checkouts.new_card.Well_this_is_embarrassing_Processing_your_pledge")),e.removeClass("spinning")}),12e4)}))})),Object(y.a)(".js-refund-checkouts-form",(function(e){e.on("change","select#refund_checkout_amount",(function(){var e=s()(this),t=e.parentsUntil(".js-refund-checkouts-form").find(".js-refund-amount-wrapper"),n=t.find("input#refund_checkout_amount"),a=!1;""===e.val()?(t.removeClass("hide"),a=!0):t.addClass("hide"),n.prop("disabled",!n.is(":visible")),a&&n.focus()})).trigger("change"),-1===s.a.inArray(s()("input#refund_checkout_amount").val(),[s()("select#refund_checkout_amount").val(),""])&&e.find("select#refund_checkout_amount").val("").trigger("change")})),Object(y.a)("#stored_card_form",(function(e){var t=e.find(".selected input.card_toggle");t.length||(t=s()("input.card_toggle:first")),s()(document).on("change click","input.card_toggle",(function(e){e.preventDefault();var t=s()(this);s()("input.card_toggle").not(t).closest(".payment_option").removeClass("selected"),t.closest(".payment_option").addClass("selected"),"click"===e.type&&setTimeout((function(){t.prop("checked",!0)}),0)})),t.prop("checked",!0).trigger("change")})),Object(y.a)("body#site_about",(function(){s()(".js-charter-link").click((function(){Object(c.e)("About KSR About Charter Click")})),s()(".js-stats-link").click((function(){Object(c.e)("About KSR About Stats Click")})),s()(".js-team-link").click((function(){Object(c.e)("About KSR About Team Click")})),s()(".js-jobs-link").click((function(){Object(c.e)("About KSR About Jobs Click")})),s()(".js-toggle-founding-story").click((function(){Object(c.e)("About KSR About Founding Story Toggle")})),s()(".js-press-link").click((function(){Object(c.e)("About KSR About Press Click")})),s()(".js-start-link").click((function(){Object(c.e)("Clicked Start Project",{context:"about"})}))})),Object(y.a)("body#site_fulfillment_report",(function(){s()(".js-fulfillment-report-expand").on("click",(function(e){var t=s()(this).closest(".fulfillment-report-sidebar");t.is(".is-expanded")?(t.find(".js-fulfillment-report__expandable-content").hide(),t.removeClass("is-expanded")):(t.find(".js-fulfillment-report__expandable-content").fadeIn(),t.addClass("is-expanded")),e.preventDefault()})),s()(".js-facebook").on("click",(function(e){e.preventDefault(),window.open(s()(this).attr("href"),"popupWindow","width=600,height=600,scrollbars=yes")}))}));n("8q62");Object(y.a)("body#site_spotlight",(function(){ye.a["not-touchable"]&&window.setTimeout((function(){skrollr.init({forceHeight:!1})}),1e3),s()(".js-explore-bar").on("click",(function(e){s()("html, body").animate({scrollTop:s()("#js-spotlight-projects").offset().top},500,"easeOutExpo"),e.preventDefault()}))}));n("44bd");Object(y.a)(".NS_site__founding_story",(function(e){var t=s()(".js-expand-inline__container"),n=s()(".js-expand-inline__button"),a=f()();function i(i,r){n.closest(t).toggleClass("expand-inline__container--show"),s()(".js-read-hide").toggle(),r||("the-full-story"===a.fragment()?(history.replaceState({},document.title,a.fragment("").toString()),s.a.scrollTo(e)):history.replaceState({},document.title,a.fragment("the-full-story").toString()))}n.click(i),"the-full-story"===a.fragment()&&(i(0,!0),s.a.scrollTo(e))}));var _t=n("itcf");Object(y.a)(".js-project-cards-module",(function(e){var t=e.data("url"),n=e.data("ref");t&&e.find(".js-slider").each((function(){var a=s()(this);a.show(),s.a.ajax({url:Object(_t.a)(t),type:"get",success:function(t){var i=a.find(".js-project-list");a.find(".js-slider").removeClass("loading"),t.projects.length?s.a.each(t.projects,(function(){i.append(function(e){return n&&(e.ref=n,e.urls.web.project+="?ref="+n),e.baseball_card_size="tall-big",s()('<div class="project col col-4 mobile-scroll-row-item">'+Object(p.a)("projects/_baseball_card_tall",e,["projects/_baseball_card_tall_spotlight","projects/_baseball_card_tall_standard"])+"</div>")}(this))})):e.hide()},error:function(){e.hide()}})}))})),Object(y.a)(".NS_site__social_tout",(function(e){window.api_oauth_token&&s()(window).on("scroll",(function t(){window.scrollY+1.5*s()(window).height()<=e.offset().top||(s()(window).unbind("scroll",t),s.a.ajax({url:Object(_t.a)(e.data("url")),type:"get",success:function(t){var n=t.remotely_followed_count,a=t.remotely_followed.users;n>0&&(e.find(".js-friend-count").html(j.default.t("onloads.views.site.social_tout.Count_of_your_friends_are_on_kickstarter",{count:n,formatted_count:k.b.format_number(n,{precision:0})})),e.find(".js-avatar-pile").html(Object(p.a)("activity/card/_backing_avatars",{backers:a})))}}))}))})),Object(y.a)("body#spotlight_projects_index",(function(e){var t,n;e.hasClass("spotlight_projects_watch")?(t="Watch",n="iTunes"):(t="Play",n="Steam"),s()(".share-link").on("click",(function(e){var n=s()(window).height()/2-250,a=s()(window).width()/2-250;window.open(s()(this).attr("href"),"name","height=500, width=500, top="+n+", left="+a),Object(c.d)(t+" Page Share"),e.preventDefault()})),Object(c.e)("a.js-service-more",t+" Click "+n+" More Link"),Object(c.e)("a.track-service",t+" Click "+n+" Link"),Object(c.e)("a.track-official",t+" Click Official Site Link"),s()(".published_projects").on("click","a.more",(function(e){var t=s()(this),n=s()(".published_projects"),a=t.attr("href");t.remove(),s.a.ajax({url:a,method:"GET",data:"format=js",dataType:"html",success:function(e){n.append(e)}}),e.preventDefault()}))})),Object(y.a)(".NS_spotlight_projects__carousel",(function(e){var t=e.find(".featured-projects-list"),n=e.find(".next"),a=e.find(".previous");function i(){s()(window).width()<640?t.cycle("destroy"):t.cycle({autoHeight:0,timeout:0,slides:".project-group",speed:600,fx:"scrollHorz",pager:".dots",next:".next",prev:".previous",log:!1})}t.on("cycle-after cycle-before",(function(e,t){1===t.slideNum?(n.addClass("visible"),a.removeClass("visible")):t.slideNum===t.slideCount?(a.addClass("visible"),n.removeClass("visible")):(a.addClass("visible"),n.addClass("visible"))})),s()(document).resize((function(){i()})),i()})),Object(y.a)("body#survey_editability_edit",(function(e){var t=s()("form#disable_survey_editability_form",e),n=s()("#send_editable_address_preview",e),a=s()("form#enable_survey_editability_form",e),i=t.find("#disable_confirm_text").html(),r=a.find("#enable_confirm_text").html();s()("input:text",e).on("keydown",(function(e){e.which===S.c&&e.preventDefault()})),n.on("click",(function(e){e.preventDefault();var t=s()(this);t.data("loading")||(t.data("loading",!0),s.a.post(t.attr("href"),{},(function(e,n){"success"===n&&(Object(u.a)({success:j.default.t("onloads.views.surveys.editability_form.A_preview_has_been_sent_to_your_email_address")}),t.data("loading",!1))})))})),t.confirm_submit({title:j.default.t("onloads.views.surveys.editability_form.Just_to_confirm"),copy:i,yes_copy:j.default.t("onloads.views.surveys.editability_form.Send_notifications_now"),no_copy:j.default.t("onloads.views.surveys.editability_form.Cancel")}),a.confirm_submit({title:j.default.t("onloads.views.surveys.editability_form.Just_to_confirm"),copy:r,yes_copy:j.default.t("onloads.views.surveys.editability_form.Allow_changes_now"),no_copy:j.default.t("onloads.views.surveys.editability_form.Cancel")})}));var bt=n("7Gzj");Object(y.a)("body#surveys_form",(function(e){var t=s()("#preview",e),n=s()("form#survey_form",e),a=s()("ul.questions",e),i=s()("#saving-layer",e);const r={other:j.default.t("onloads.views.surveys.form.Text_question"),choices:j.default.t("onloads.views.surveys.form.Multiple_choice_question"),checkboxes:j.default.t("onloads.views.surveys.form.Multiple_choice_question")};function o(){const e=n.find("input.keep_box:checked").closest(".js-fieldset:not(.template)");t.empty(),e.each((function(){t.append(s()(this).find("div.preview").children().clone())}))}function c(e){const t=s()(e),n=t.val(),a=t.closest(".js-fieldset"),i=a.find(".preview");if(t.is("#survey_intro"))i.find(".survey_intro").text(n);else if(t.is(".question_choice")){!function(e,t,n){e.find(".js-choice-group").each((function(){s()(this).find('.js-choice:not(".js-no-response") label').eq(t).text(n||j.default.t("onloads.views.surveys.form.Choice_number",{number:t+1}))}))}(i,t.closest("li.field").index(),n)}else!function(e,t){const n=Object.keys(r).find((function(t){return e.parent().hasClass(t)}));e.find("li .js-prompt-label").text(t||r[n])}(i,n);h(a),o()}function l(e){e.confirm_submit({copy:j.default.t("onloads.views.surveys.form.You_can_only_send_a_survey_once_per_reward_tier_so_make_sure"),title:j.default.t("onloads.views.surveys.form.Please_confirm"),yes_copy:j.default.t("onloads.views.surveys.form.Send_survey_now"),no_copy:j.default.t("onloads.views.surveys.form.Edit_survey"),on_confirm_submit:function(){e.find("#sending").val("1")}})}function d(){a.find(".question:not(.template)").each((function(e){s()(this).find(".position").val(e+1)})),o()}function u(){const e=n.find('.js-add-question[data-template="address"]');a.find(".question.address").is(":visible")?e.addClass("hidden"):e.removeClass("hidden")}function m(e){return e.find('.js-optional input[type="checkbox"]').prop("checked")}function p(e,t){const n=e.find(".preview"),a=e.find(".field.js-optional-choice"),i=n.find(".js-choice.js-no-response");"hide"==t&&(i.addClass("hide"),a.addClass("hide")),"show"==t&&(i.removeClass("hide"),a.removeClass("hide"))}function h(e){const t=e.find(".preview").find(".js-optional-label");m(e)?("choices"==function(e){return e.find('input[type="hidden"].js-template').val()}(e)&&p(e,"show"),t.removeClass("hide")):(p(e,"hide"),t.addClass("hide"))}var f={containment:"document",tolerance:"pointer",items:".question.draggable",stop:d};a.sortable(f),e.on("click",".address.question .keep_box.checkbox",(function(){s()(this).is(":checked")?s()(".editability",e).show():s()(".editability",e).hide()})),s()(".leftcol .textarea:visible, .leftcol .text:visible",e).each((function(){c(this)})),e.on("keyup cut paste",".leftcol .text, .leftcol .textarea",(function(){c(this)})),e.on("click",".js-add-question",(function(e){e.preventDefault();const t=s()("ul.questions"),n=s()(this).data("template"),a=t.children(".template."+n).clone_form_template();h(a),a.css("display","block"),t.append(a),u(),d(),s()(this).parent(".js-options").toggleClass("hide"),a.find("input.checkbox.keep_box").prop("checked",!0),a.find("input.checkbox.editable_ends_at").prop("disabled",!1),o()})),e.on("click",".js-add-question-choice",(function(e){e.preventDefault();const t=s()(this).closest("li.question"),n=t.find("ol.choice_fields"),a=n.find('li:not(".js-optional-choice")').last(),i=a.clone().insertAfter(a),r=i.find("input.question_choice"),c=t.find(".preview"),l=n.find('li:not(".js-optional-choice")').length,d=j.default.t("onloads.views.surveys.form.Choice_number",{number:l});r.prop({placeholder:d,"aria-label":d}),i.find(".js-delete-choice").show().andSelf().find("input").val("").focus(),c.find(".js-choice-group").each((function(){const e=s()(this).find('.js-choice:not(".js-no-response")').last();e.clone().insertAfter(e).val("").find("label").text(i.find("label").text()).andSelf().find("input").val("")})),o()})),e.on("click",".js-delete-question",(function(e){e.preventDefault();const t=s()(this).closest(".question"),n=t.find(".keep_box.checkbox");n.is(":checked")?n.prop("checked",!1):n.prop("checked",!0),t.hide(),t.find("input.checkbox.editable_ends_at").prop("disabled",!0),u(),d()})),e.on("click",".js-delete-choice",(function(e){e.preventDefault();const t=s()(this).closest("li.field"),n=t.closest("li.question").find(".preview"),a=t.parent().children();n.find(".js-choice-group").each((function(){s()(this).find(".js-choice").eq(t.index()).remove()})),t.remove(),a.filter(":visible").each((function(e){s()(this).prop({placeholder:j.default.t("onloads.views.surveys.form.Choice_number",{number:e+1}),"aria-label":j.default.t("onloads.views.surveys.form.Choice_number",{number:e+1})})})),o()})),e.on("click",".js-multiple-responses",(function(){const e=s()(this).closest("li.question"),t=e.find('input[type="hidden"].js-template'),n=s()(this).prop("checked")?"checkboxes":"choices";t.val(n),function(e,t){const n=e.find(".preview"),a=n.find('.js-choice-group[data-template="choices"]'),i=n.find('.js-choice-group[data-template="checkboxes"]'),r=n.find(".js-helper-text");"checkboxes"==t&&(a.addClass("hide"),p(e,"hide"),i.removeClass("hide"),r.removeClass("hide")),"choices"==t&&(m(e)&&p(e,"show"),a.removeClass("hide"),i.addClass("hide"),r.addClass("hide"))}(e,n),o()})),e.on("click",'.js-optional input[type="checkbox"]',(function(){h(s()(this).closest("li.question")),o()})),e.on("click","#survey_save",(function(r){r.preventDefault(),i.show(),s.a.ajax({url:n.attr("action"),type:n.find('[name="_method"]').val(),data:n.serialize(),complete:function(){i.hide()},success:function(r){const o=s()(r.data);s()(".modal_dialog").remove(),s()("#main_content").replaceWith(o),Object(bt.initRichTextSurveyIntro)(),t=s()("#preview",e),n=s()("form#survey_form",e),a=s()("ul.questions",e),i=s()("#saving-layer"),l(n),a.sortable(f)},error:function(){window.location.reload(!0)}})})),o(),l(n)}));n("+lZ5"),n("GBdY"),n("Wjt+"),n("zEur");Object(y.a)("body#two_factor_authentication_confirm",(function(e){s()(()=>{const t=e.find(".js-resend_code"),n=document.getElementById("tfa_code"),a=document.getElementById("at");let i=t.data("deliver-otp-path");a&&(i+="?at="+a.value),n.addEventListener("mousewheel",e=>{e.target.blur()}),t.on("click",(function(e){e.preventDefault(),Object(c.d)("Two-factor Authentication Resend Code"),s.a.ajax({dataType:"json",method:"POST",url:i,success:function(){Object(u.a)({success:Object(oe.d)(".Retrying")})}})})),e.find("#remember").on("change",(function(){Object(c.d)("Two-factor Authentication Remember Changed")})),i&&s.a.ajax({dataType:"json",method:"POST",url:i})})})),s()((function(){var e=".NS-two_factor_authentication_new";function t(){s()(".NS-phone_numbers__edit").is(":visible")?s()(e).find(".js-back:not(.edit-back-button)").hide():s()(e).find(".js-back").show()}s()(document).on("click",e+" .js-confirmation .js-next",(function(t){s()(e+" .js-confirmation").addClass("hide"),s()(e+" .js-setup").removeClass("hide").trigger("resize"),s()(e+" .js-devices").removeClass("hide"),t.preventDefault()})),s()(document).on("click",e+" .js-devices .js-back",(function(n){var a=s()(this).closest(e);a.find(".js-devices").addClass("hide"),a.find(".js-confirmation").removeClass("hide"),a.find(".js-setup").removeClass("hide").trigger("resize"),t(),n.preventDefault()})),s()(document).on("phone_number:added",e,(function(e){s()(e.target).closest("form").submit()})),s()(document).on("click",e+" a.js-enable_edit_phone",(function(n){var a=s()(this).closest(e);a.find(".js-edit_phone").removeClass("hide"),a.find(".js-previous_phone").addClass("hide"),a.find(".js-submit").addClass("hide"),a.trigger("resize"),t(),n.preventDefault()})),s()(document).on("submit",e+" form.js-method",(function(t){var n=s()(this),a=n.closest(e);s.a.ajax({url:n.attr("action"),type:n.attr("method"),data:n.serialize(),dataType:"json",success:function(e){e.success?"phone"===e.otp_delivery_method?(a.find(".js-devices").addClass("hide"),a.find(".js-qr_code").removeClass("hide"),a.find(".edit-back-button").addClass("hide")):window.location.reload(!0):Object(u.a)(e)}}),t.preventDefault()}))})),s()((function(){var e=".NS-two_factor_authentication_show";s()(document).on("click",e+" .js-manage_phone_fallback",(function(){s()(this).closest(e).find(".js-tfa_manage").addClass("hide"),s()(e).find(".js-edit_phone").removeClass("hide"),s()(".NS-phone_numbers__edit").is(":visible")&&(s()(e).find(".intro").hide(),s()(e).find(".disable").removeClass("hide"),s()(e).find(".edit-back-button").html("Nevermind"),s()(e).on("click",".edit-back-button",(function(){window.location.reload(!0)})))})),s()(document).on("phone_number:added",e,(function(){var t=s()(this).closest(e).find(".js-manage_phone_fallback").data("url");t&&s.a.ajax({url:t,type:"POST",dataType:"json",success:function(e){e.success?(Object(u.a)({success:e.success}),window.location.reload(!0,800)):Object(u.a)({error:e.error})}})}))})),Object(y.a)("#users_edit_account",(function(e){var t=!1;e.find("a.change_password_toggle").on("click",(function(n){n.preventDefault();var a=s()("li.change_password",e);t?(a.fadeOut(),a.find("input").prop("disabled",!0),a.find("input").val(""),t=!1):(a.fadeIn(),a.find("input").prop("disabled",!1),a.first().find("input").focus(),t=!0)}))}));n("TO/6");Object(y.a)("body#users_edit_profile",(function(e){e.find("input.file").ksr_uploader()})),s()((function(){s()(".js-track-login").on("click",()=>Object(w.n)(w.d.CTA_CLICKED,{context_cta:w.c.LOG_IN_OR_SIGN_UP,context_type:null})),s.a.trim(s()(".fieldset-errors").html()).length?(s()("li#email-confirmation-input").toggleClass("display-none block"),s()("li#password-confirmation-input").toggleClass("display-none block")):(s()("#email-input").one("focus",(function(){s()("li#email-confirmation-input").toggleClass("display-none block")})),s()("#password-input").one("focus",(function(){s()("li#password-confirmation-input").toggleClass("display-none block")}))),s()("#toggle-terms").on("click",(function(){s()("span#policies").toggleClass("display-none block"),s()("#space-terms").toggleClass("block display-none"),s()("span#more-terms").toggleClass("block display-none"),s()("span#less-terms").toggleClass("display-none block")})),s()("#toggle-facebook").on("click",(function(){s()("span#continue").toggleClass("display-none block"),s()("span#more-facebook").toggleClass("block display-none"),s()("span#less-facebook").toggleClass("display-none block")})),s()(document).on("blur","#new_user input#user_email",(function(){s()(this).mailcheck({suggested:function(e,t){var n=s()('<div class="mailcheck_suggestion f5 grey-dark mb1">'+j.default.t("onloads.views.users.new.Did_you_mean",{suggestion:t.full})+"</div>");e.siblings(".mailcheck_suggestion").remove(),n.find("a").on("click",(function(n){n.preventDefault(),e.val(t.full)})),e.before(n),n.slideDown(),"undefined"!=typeof ga&&ga("send","event","Regular Signup Errors","Invalid domain or TLD detected",e.val())},ignoreTLDs:!0})})),s()(".js-track-signup").on("click",()=>{const e=document.getElementById("user_newsletter_opt_in").checked;Object(w.n)(w.d.CTA_CLICKED,{context_cta:w.c.SIGN_UP_SUBMIT,context_type:1==e?"subscription_true":"subscription_false"})})})),Object(y.a)(".NS_users__profile",(function(){s()("#profile_tools .js-profile-share-link").click((function(e){s()("#profile_tools .share_hover").toggle(),e.preventDefault()})),s()("a.twitter").click((function(e){window.open(s()(this).attr("href"),"twTweet","top=100,left=100,width=600px,height=400px,location=no,menubar=no,toolbar=no,scrollbars=yes"),e.preventDefault()})),s()("a.facebook").click((function(e){window.open(s()(this).attr("href"),"fbShare","top=100,left=100,width=640px,height=350px,location=no,menubar=no,toolbar=no,scrollbars=yes"),e.preventDefault()}))})),s()((function(){s()(".NS-users-_urls_fields").livequery((function(){var e=s()(this),t=s()("div.new.template",e);t.on("click","a.add",(function(n){n.preventDefault();var a=t.find("input.text"),i=t.clone_form_template(),r=i.find("input.keep_box");let o=a.val();""!==o?(/^https?:\/\//.test(o)||(o="https://"+o),i.addClass("field-selected"),i.find("a.add").remove(),i.find("input.text").val(o),i.find("span.value").text(o),a.trigger("dirty"),r.val(0).prop("checked",!0),a.val(""),s()("div.urls",e).append(i),i.trigger("shifted")):i.remove()})),e.on("click",".url .remove a",(function(e){e.preventDefault();var t=s()(this),n=t.closest("div.url");t.siblings(".checkbox").prop("checked",!1),n.trigger("dirty"),n.trigger("shifted"),n.hide()})),t.find("input.text").on("keypress",(function(e){13===(e.keyCode||e.which)&&(e.preventDefault(),t.find("a.add").click())}))}))})),s()((function(){function e(){var e=s()('div[id="forgot-password"]');e.removeClass("current"),e.siblings("#login, #verify").addClass("current"),s()(".modal_dialog #facebook, .modal_dialog #verify").show()}function t(t){var n=s()(t).closest(".current");n.is("#verify")||n.removeClass("current"),s()("#login-signup #forgot-password").addClass("current"),s()(".modal_dialog #facebook, .modal_dialog #verify").hide(),s()(document).one("closed.modal_dialog",e)}s()(document).on("click","#retry-forgot-password",(function(e){var n=this.href,a=s()('div[id="forgot-password"]');t(this),s.a.ajax({url:n,dataType:"html",success:function(e){(a=a.replaceAll(e)).addClass("current")}}),e.preventDefault()})),s()(document).on("click","#login-signup a.link_to_forgot-password-dialog",(function(e){e.preventDefault(),t(this),s()(document).on("jGrowl.close_200","form#reset",(function(){s()(".modal_dialog").trigger("close.modal_dialog")}))})),s()(document).on("form-submit-notify","#forgot-password #reset",e);var n=s()("#user_sessions_new, #users_new");n.length&&(s()(".current",n).find("input:visible:first").focus(),s()("#user_weekly_newsletter").change((function(){s()(this).is(":checked")?Object(c.d)("Checked Newsletter"):Object(c.d)("Unchecked Newsletter")})),s()(".fieldset-errors").livequery((function(){if(""!==s.a.trim(s()(".fieldset-errors").text())){var e=s()(".fieldset-errors h2").text(),t=s()(".fieldset-errors li").text();Object(c.d)("Errored User Signup",{error_type:e,error_text:t})}})),s()("input",n).focus((function(){s()("#login, #signup").removeClass("current"),s()(this).closest("#login, #signup").addClass("current")})),s()(".js-tracking-login").on("click",()=>{Object(w.n)(w.d.CTA_CLICKED,{context_cta:w.c.LOG_IN_SUBMIT})}))}));n("uOK1");Object(y.a)(".NS_video_tracks__caption_video",(function(){var e=new window.VideoTrack(window.videoTrackJSON);new window.VideoTrackView({model:e,el:"#video_track"}).render()}));var vt=n("gN63");var kt=n("g84z");s()((function(){s()(document).on("click",".js-unwatch a",(function(e){e.preventDefault();const{token:t}=Object(kt.a)(window.location.search),n=Object(vt.b)("Project",R.a.data.id);var a,i;(a=n,i=t,Object(vt.c)("\n  mutation UnwatchPrelaunchProject($projectId: ID!) {\n    unwatchProject(input:{id: $projectId}) {\n      project {\n        isWatched\n        pid\n      }\n    }\n  }\n",{projectId:a},{projectShareToken:i})).then(e=>{if(e.errors){const t=e.errors.map(e=>e.message);throw new Error(t.join(","))}e.data&&R.a.set("is_starred",!1)}).catch(e=>{Object(u.a)({error:e})})}))}));s()((function(){s()(document).on("click",".js-watch a",(function(e){e.preventDefault();const{token:t}=Object(kt.a)(window.location.search),n=Object(vt.b)("Project",R.a.data.id);var a,i;(a=n,i=t,Object(vt.c)("\n  mutation WatchProject($projectId: ID!) {\n    watchProject(input:{id: $projectId}) {\n      project {\n        isWatched\n        pid\n      }\n    }\n  }\n",{projectId:a},{projectShareToken:i})).then(e=>{if(e.errors){const t=e.errors.map(e=>e.message);throw new Error(t.join(","))}e.data&&(R.a.set("is_starred",!0),Object(u.a)({success:Object(oe.b)("project_page.back_and_star.Youll_be_the_first_to_receive_project_launch")}))}).catch(e=>{Object(u.a)({error:e})})}))})),s()((function(){s()(".widget_show").livequery((function(){var e=s()(this),t=e.find(".size form"),n=e.find(".video .code"),a=t.find(".custom"),i=n.data("path");function r(e,t){var r=Object(p.a)("widgets/_video_embed_code",{width:e,height:t,path:i});a.find("input#width").val(e),a.find("input#height").val(t),n.find("textarea").val(r)}r(480,Math.ceil(270)),t.find("input.radio").on("change",(function(){var e=s()("input.radio:checked"),a=e.closest("label");t.find("label").removeClass("selected"),a.addClass("selected"),r(a.data("width"),a.data("height")),n.find("textarea").select(),e.is("#widget-size_size-custom")&&a.find("input.text").val("").eq(0).select()})),a.find("input").on("keyup input cut paste",(function(e){var t=s()(e.target),n=a.find("input#width").val(),i=a.find("input#height").val();t.is("#width")?i=Math.ceil(n/(16/9)):n=Math.ceil(i*(16/9)),r(n,i)}))}))}))},oMXI:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i}));const a=()=>!(!window.location||!window.location.hostname)&&/(ksr)\.test|localhost/.test(window.location.hostname),i=()=>!(!window.location||!window.location.hostname)&&/^(staging\.kickstarter\.com)$/.test(window.location.hostname),r=()=>!(!window.location||!window.location.hostname)&&/^(www\.kickstarter\.com)$/.test(window.location.hostname)},oa44:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("c5x8"),i=n("6zsG"),r=n("q1tI"),o=n.n(r);const s=({asChild:e,atoms:t,children:n,...r})=>{const s=e?i.a:"div";return o.a.createElement(s,Object.assign({},r,{className:Object(a.b)(["kds-surface",t],r)}),n)}},ocnG:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("q1tI"),i=n.n(a),r=n("dRu9");const o=(e={},t={})=>{const n={...e,...t},a=`${(e.transform||"").trim()} ${(t.transform||"").trim()}`.trim();return a?{...n,transform:a}:n},s=({open:e=!0,keepMounted:t=!1,duration:n=300,delay:s=0,easing:c="ease-in-out",transitionProperty:l="all",children:d,transitions:u,...m})=>{const p=n+s,h={transitionDuration:n+"ms",transitionDelay:s+"ms",transitionTimingFunction:c,transitionProperty:l},f=Object(a.useMemo)(()=>((...e)=>e.reduce((e,t)=>({entering:o(e.entering,t.entering),entered:o(e.entered,t.entered),exiting:o(e.exiting,t.exiting),exited:o(e.exited,t.exited)}),{}))(...u),u);return i.a.createElement(r.a,Object.assign({appear:!0,mountOnEnter:!t,unmountOnExit:!t},m,{in:e,timeout:p}),e=>{const t={...h,...f[e]};return"function"==typeof d?d(t):i.a.cloneElement(d,{style:{...t,...d.props.style}})})}},"p0+n":function(e,t,n){"use strict";var a=n("zm9w"),i=n("GRmu"),r=n("+2Rf"),o=n.n(r),s=(n("yvkg"),n("xG9w"));!function(){function e(e,t){var n=e.add(t);n.siblings().removeClass("current_tab"),n.addClass("current_tab"),o()(document).trigger("tab")}o()("body.admin").delegate(".tab","click",(function(){var t,n=o()(this),a=n.attr("class").match(/tab_\d+/),i=n.find("a");a&&(t=o()("."+a[0].replace(/tab/,"pane"))),a&&t.length&&(i.length&&""===o.a.trim(t.html())?(n.addClass("submitting"),t.html(o()('<div class="spinner" />').spin("ksr","#000")),o.a.ajax({url:i.attr("href")+".js",type:"GET",complete:function(a){n.removeClass("submitting"),t.html(a.responseText),e(n,t)}})):e(n,t),history.pushState(null,null,i.attr("href")))})),o()("body.admin").delegate(".tab_label a","click",(function(e){e.preventDefault()})),o()("body.admin").delegate(".expand, .collapse","click",(function(e){e.preventDefault(),o()(this).add(o()(this).siblings(".expand, .collapse, .expandable")).toggle()})),o()(".toggle-apple-id-form").on("click",()=>{o()("#apple-id-form").toggleClass("hidden")});function t(e){return"string"!=typeof e?"":e.replace(/.$/,(function(e){return"e"===e?"ed":e+"ed"}))}s.default.each(["user","project","task","backing"],(function(e){o()(document).on("click",".js-"+e+"_notes_hider, .js-"+e+"_notes_shower",(function(){o()(".js-"+e+"_note").toggle(),o()(".js-"+e+"_notes_shower").toggle(),o()(".js-"+e+"_notes_hider").toggle()}))})),o()(".js-admin_notes_expand").one("click",(function(e){var t=o()(this);e.preventDefault(),o.a.ajax({url:t.prop("href"),type:"GET",dataType:"html",success:function(e){t.closest(".js-notes").find(".expandable.ajax-container").html(e)}})})),o()("body.admin").delegate(".batch_action .select_all","click",(function(e){e.preventDefault();var t=o()(this),n=t.closest(".batch_action").parent().find("input.checkbox:not([disabled])");n.length?"Select all"===t.text()?(n.prop("checked",!0),t.text("Deselect all")):(n.prop("checked",!1),t.text("Select all")):Object(i.a)({error:"Nothing to select."})})),o()("body.admin").delegate('.batch_action button[type="submit"]',"click",(function(e){e.preventDefault();var n=o()(this),r=n.closest("form"),s=n.closest(".batch_action"),c=s.parent(),l=c.find("input.checkbox:checked"),d=l.map((function(e,t){return function(e){if("string"!=typeof e)return"";var t=e.match(/\d+/);return t?t[0]:null}(t.id)})).get(),u=n.attr("name"),m=r.attr("action"),p=s.data("type"),h=s.data("terse_type"),f=p.replace(/s$/,""),g={},_=c.find(".batch_"+u+"_info").data("confirm_url");if(c.find("input.checkbox:not(checked)").each((function(){o()(this).parent().removeClass("highlight")})),l.length){var b=[];l.each((function(){var e;o()(this).hasClass("string"!=typeof(e=u)?"":e.replace(/.$/,(function(e){return"e"===e?"able":e+"able"})))?o()(this).parent().removeClass("highlight"):(b.push(o()(this)),o()(this).parent().addClass("highlight"))})),b.length?Object(i.a)({error:"You selected "+b.length+" "+a.b.pluralize(h,b.length)+" that cannot be "+t(u)+". Please unselect those and try again."}):(g[p]=d,o.a.ajax({url:_,data:g,type:"get"}).done((function(e){o.a.modal_confirm((function(){o.a.ajax({type:"PUT",url:m,data:g,success:function(){l.each((function(){var e=o()(this);e.attr({checked:!1,disabled:!0}),e.closest("."+f).addClass(t(u)).find(".status").html(t(u))})),Object(i.a)({success:"Selected "+h+" were "+t(u)})},error:function(){Object(i.a)({error:"There was a problem "+u+"ing one or more of those "+h+". Please refresh the page and try again."})}})}),{title:"Batch "+u,message:e,confirm_text:a.b.capitalize(u)+" "+d.length+" "+a.b.pluralize(h,d.length),cancel_text:"cancel"===u?"never mind":"cancel"})})))}else Object(i.a)({error:"No "+h+" selected to "+u+"."})})),o()(document).on("submit",".zendesk_ticket form",(function(e){var t=o()(this);t.find(".submit").hide(),t.find(".loading").show(),e.preventDefault(),o.a.ajax({url:t.attr("action"),type:"POST",data:t.serialize(),dataType:"JSON",success:function(e){var n="https://kickstarter.zendesk.com/tickets/"+e.id,a=o()("<a/>");a.attr("href",n),a.text(n),a.addClass("associated_zendesk_ticket right"),t.closest(".modal_dialog").trigger("close"),Object(i.a)({success:"Ticket sent successfully!"}),o()("#send_to_zendesk").append(a)},complete:function(){t.find(".submit").show(),t.find(".loading").hide()}})})),o()("#Fulfillment").ready((function(){var e=o()("#Fulfillment").data("fulfillmentStatsUrl");e&&o.a.ajax({url:e,type:"GET",complete:function(e){o()("#Fulfillment").append(e.responseText)}})})),o()("#PulseFeedback").ready((function(){var e=o()("#PulseFeedback").data("pulseFeedbackUrl");e&&o.a.ajax({url:e,type:"GET",complete:function(e){o()("#PulseFeedback").append(e.responseText)}})}))}()},p7Bz:function(e,t,n){"use strict";n.r(t);var a=n("h4vE"),i=n("mq2H"),r=n("nuFJ"),o=n("Y0SK"),s=n("+2Rf"),c=n.n(s);function l(e){var t;return null===(t=[{regex:/drafts/,contextSection:"updates"},{regex:/published/,contextSection:"updates"},{regex:/backers\/report\/index/,contextSection:"backer_report"},{regex:/messages\/inbox/,contextSection:"messages"},{regex:/dashboard/,contextSection:"dashboard"},{regex:/surveys/,contextSection:"surveys"},{regex:/collaborators/,contextSection:"collaborators"},{regex:/fulfillment/,contextSection:"fulfillment"}].find(t=>e.pathname.match(t.regex)))||void 0===t?void 0:t.contextSection}Object(a.a)(".NS_projects__creator_nav",(function(){var e=c()("body");c()(".js-expand-creator-nav").on("click",(function(t){e.hasClass("creator_nav_visible")?(Object(i.n)(i.d.CTA_CLICKED,{context_page:i.e.CREATOR_DASHBOARD,context_section:l(location),context_type:i.a.MENU,context_location:i.m.CREATOR_NAV_SIDEBAR,context_cta:i.c.CLOSE}),e.removeClass("creator_nav_visible"),Object(o.d)()&&c()("#creator_menu").removeClass("hide")):(e.addClass("creator_nav_visible"),Object(o.d)()&&c()("#creator_menu").addClass("hide")),Object(r.a)(),t.preventDefault()}))}))},pTxv:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return m})),n.d(t,"f",(function(){return p})),n.d(t,"e",(function(){return h})),n.d(t,"a",(function(){return f}));var a=n("iuhU"),i=n("2DJ9"),r=n("9mow"),o=n("/IHD"),s=n("q1tI"),c=n.n(s);const l=e=>{const{atoms:t,children:n,fullWidth:a,iconName:s,iconClassName:l,iconLabel:d,kind:u,loading:m,size:p="medium",theme:h,type:f="button",...g}=e,_=Object(o.a)("ksr-button","bttn keyboard-focusable","bttn-"+p,u?"bttn-"+u:"",h?"theme--"+h:"",a&&"flex w100p",l,t),b=()=>c.a.createElement(c.a.Fragment,null,s&&c.a.createElement(i.a,{name:s,size:"20",atoms:[Object(o.a)("mr1")],label:d}),n);return c.a.createElement(r.a,Object.assign({className:_,type:f},g),m?c.a.createElement(i.a,{name:"icon--circle-loader",size:"20",atoms:[Object(o.a)("pb1px")]}):c.a.createElement(b,null))},d=e=>{const{atoms:t,...n}=e,a=[Object(o.a)(t,"fill-bttn-icon hover-fill-bttn-icon")];return c.a.createElement(l,Object.assign({kind:"primary",atoms:a},n))},u=e=>{const{atoms:t,...n}=e,a=[Object(o.a)(t,"fill-bttn-icon hover-fill-bttn-icon")];return c.a.createElement(l,Object.assign({kind:"secondary",atoms:a},n))},m=e=>{const{atoms:t,...n}=e,a=[Object(o.a)(t,"fill-bttn-icon hover-fill-bttn-icon")];return c.a.createElement(l,Object.assign({kind:"tertiary",atoms:a},n))},p=e=>{const{atoms:t,...n}=e,a=[Object(o.a)(t,"fill-bttn-icon hover-fill-bttn-icon")];return c.a.createElement(l,Object.assign({atoms:a},n))},h=e=>{const{atoms:t,...n}=e,i=[Object(a.b)("bg-transparent","navy-600","hover-text-underline",{"text-underline":e.underline},t)];return c.a.createElement(l,Object.assign({atoms:i,kind:"text"},n))},f=e=>{const{className:t,...n}=e,a=Object(o.a)("bttn keyboard-focusable",e.className);return c.a.createElement(r.a,Object.assign({className:a},n))}},pe0Q:function(e,t,n){"use strict";n.d(t,"a",(function(){return P}));var a=n("mv45"),i=n("eEls"),r=n("/j8J"),o=n("v9JK"),s=n("94td"),c=n("arGM"),l=n("q1tI"),d=n.n(l);const u=({onClose:e})=>d.a.createElement(o.a,{headerCopy:Object(s.b)("project_page.back_and_star.Save"),secondaryCloseCopy:Object(s.b)("project_page.back_and_star.Close"),onClose:e,size:"small"},d.a.createElement(s.a,{i18nKey:"project_page.back_and_star.Log_in_to_your_kickstarter_account",LogIn:d.a.createElement("a",{href:Object(c.e)("/login")},d.a.createElement(s.a,{i18nKey:"project_page.back_and_star.Log_in"}))}),d.a.createElement("br",null),d.a.createElement("br",null),d.a.createElement(s.a,{i18nKey:"project_page.back_and_star.Dont_have_one_yet",SignUp:d.a.createElement("a",{href:Object(c.e)("/signup")},d.a.createElement(s.a,{i18nKey:"project_page.back_and_star.Sign_up"}))})),m=({onClose:e,onClick:t,loggedOut:n})=>d.a.createElement(o.a,{headerCopy:Object(s.b)("project_page.back_and_star.project_saved"),secondaryCloseCopy:Object(s.b)("project_page.back_and_star.Close"),onClose:e,size:"small"},d.a.createElement("div",{id:"focus-grabber"}),d.a.createElement(s.a,{i18nKey:"project_page.back_and_star.well_send_you_an_email"}),!n&&d.a.createElement(d.a.Fragment,null," ",d.a.createElement(s.a,{i18nKey:"project_page.back_and_star.well_also_use",yourRecommendationsLink:d.a.createElement("a",{href:Object(c.e)("/recommendations")},d.a.createElement(s.a,{i18nKey:"project_page.back_and_star.your_recommendations"})),userSettingLink:d.a.createElement("a",{href:Object(c.e)("/settings")},d.a.createElement(s.a,{i18nKey:"project_page.back_and_star.user_settings"}))}),d.a.createElement("br",null),d.a.createElement(s.a,{i18nKey:"project_page.back_and_star.To_view_and_manage_projects",savedProjectsLink:d.a.createElement("a",{href:Object(c.e)("/profile/saved_projects"),className:"keyboard-focusable"},d.a.createElement(s.a,{i18nKey:"project_page.back_and_star.saved_projects"}))})),d.a.createElement(o.c,{theme:"create",onClick:t},d.a.createElement(s.a,{i18nKey:"project_page.back_and_star.ok_got_it"})));var p=n("VA/9"),h=n("DE4Y"),f=n("pTxv"),g=n("2DJ9"),_=n("EoiL"),b=n("T8n5");const v=({onClose:e})=>d.a.createElement(o.a,{secondaryCloseCopy:Object(s.b)("project_page.back_and_star.Close"),onClose:e,size:"small"},d.a.createElement("div",{id:"focus-grabber"}),d.a.createElement("div",{className:"flex"},d.a.createElement(g.a,{atoms:["fill-celebrate-700","flex-none"],name:"icon--alert",size:"30"}),d.a.createElement(_.a,{type:"subhead-600",weight:"normal",atoms:["display-inline","ml2 mb2","align-bottom"]},Object(s.b)("project_page.back_and_star.Verify_to_receive_reminders"))),d.a.createElement(b.a,{atoms:["mb4"]},Object(s.b)("project_page.back_and_star.Youve_saved_this_project")),d.a.createElement(f.b,{theme:"support",fullWidth:!0,onClick:e},Object(s.b)("project_page.back_and_star.ok_got_it"))),k=Object(p.a)(({userMetadata:e,updateUserSetting:t,onCloseModal:n})=>{const a=async()=>{n(),await t(h.cb.confirmed_watch_notice)};return e.isLoggedOut?d.a.createElement(u,{onClose:n}):e.isEmailVerified?e.isFirstTimeWatching?d.a.createElement(m,{onClick:a,onClose:n}):null:d.a.createElement(v,{onClose:n})});function y(e){return!e.isLoggedOut}var E=n("sIuw"),j=n("aYzK");const w=Object(a.k)(j.a,e=>e.data.project?Object(a.l)({trackingContext:e.ownProps.trackingContext,style:e.ownProps.style,initialIsWatched:e.ownProps.initialIsWatched,isWatched:e.data.project.isWatched,isWatchable:e.data.project.isWatchable,isLaunched:e.data.project.isLaunched,projectId:e.data.project.id,onWatchToggle:e.ownProps.onWatchToggle,userMetadata:Object(E.a)(e.data.me),children:e.ownProps.children}):{...Object(a.d)(),...e.ownProps});var S=n("RWo0");const O=({onClose:e,error:t})=>t.indexOf("not authorized")>0?d.a.createElement(N,{onClose:e}):d.a.createElement(o.a,{headerCopy:Object(s.b)("project_page.errors.Somethings_gone_wrong"),secondaryCloseCopy:Object(s.b)("project_page.back_and_star.Close"),onClose:e,size:"small"},d.a.createElement("div",{id:"focus-grabber"}),d.a.createElement(b.a,{atoms:["mt2 mb0"]},Object(s.b)("project_page.errors.Team_notified")),d.a.createElement(o.c,{theme:"support",onClick:e},Object(s.b)("project_page.back_and_star.Close"))),N=({onClose:e})=>d.a.createElement(o.a,{secondaryCloseCopy:Object(s.b)("project_page.back_and_star.Close"),onClose:e,size:"small"},d.a.createElement("div",{id:"focus-grabber"}),d.a.createElement(g.a,{atoms:["fill-celebrate-700"],name:"icon--alert",size:"30"}),d.a.createElement(_.a,{type:"subhead-600",weight:"normal",atoms:["display-inline","ml2","align-bottom"]},Object(s.b)("project_page.back_and_star.First_confirm_your_account")),d.a.createElement(b.a,{atoms:["mt2 mb0"]},Object(s.b)("project_page.back_and_star.Resend_a_verification_email")),d.a.createElement(o.c,{theme:"support",onClick:()=>{window.location.href="/settings/account"}},d.a.createElement(s.a,{i18nKey:"project_page.back_and_star.visit_settings"})));var C=n("XbX9");n("VX74");const I={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnwatchProject"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"trackingContext"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unwatchProject"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"projectId"}}},{kind:"ObjectField",name:{kind:"Name",value:"trackingContext"},value:{kind:"Variable",name:{kind:"Name",value:"trackingContext"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"project"}}]}},{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"user"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"project"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Project"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"pid"}},{kind:"Field",name:{kind:"Name",value:"isDisliked"}},{kind:"Field",name:{kind:"Name",value:"isLiked"}},{kind:"Field",name:{kind:"Name",value:"isWatched"}},{kind:"Field",name:{kind:"Name",value:"isWatchable"}},{kind:"Field",name:{kind:"Name",value:"isLaunched"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uid"}},{kind:"Field",name:{kind:"Name",value:"canSeeConfirmWatchModal"}},{kind:"Field",name:{kind:"Name",value:"canSeeConfirmSignalModal"}},{kind:"Field",name:{kind:"Name",value:"isEmailVerified"}}]}}]};const x=Object(a.j)(I,e=>({unwatchProject:()=>e.mutate({variables:{projectId:e.ownProps.projectId,trackingContext:e.ownProps.trackingContext||""}}),userMetadata:e.ownProps.userMetadata,onClick:e.ownProps.onClick,onSuccess:e.ownProps.onSuccess,onFailure:e.ownProps.onFailure,children:e.ownProps.children,watchCopy:e.ownProps.watchCopy}))(e=>d.a.createElement(r.a,{onClick:async function(){e.onClick(),y(e.userMetadata)&&(await e.unwatchProject(),Object(C.a)(!1),e.onSuccess())},isWatched:!0,watchCopy:e.watchCopy},e.children));var T=n("/nlg");const A={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"WatchProject"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"trackingContext"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"watchProject"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"projectId"}}},{kind:"ObjectField",name:{kind:"Name",value:"trackingContext"},value:{kind:"Variable",name:{kind:"Name",value:"trackingContext"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"project"}}]}},{kind:"Field",name:{kind:"Name",value:"user"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"user"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"project"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Project"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"pid"}},{kind:"Field",name:{kind:"Name",value:"isDisliked"}},{kind:"Field",name:{kind:"Name",value:"isLiked"}},{kind:"Field",name:{kind:"Name",value:"isWatched"}},{kind:"Field",name:{kind:"Name",value:"isWatchable"}},{kind:"Field",name:{kind:"Name",value:"isLaunched"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"user"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uid"}},{kind:"Field",name:{kind:"Name",value:"canSeeConfirmWatchModal"}},{kind:"Field",name:{kind:"Name",value:"canSeeConfirmSignalModal"}},{kind:"Field",name:{kind:"Name",value:"isEmailVerified"}}]}}]};const D=Object(a.j)(A,e=>({watchProject:()=>e.mutate({variables:{projectId:e.ownProps.projectId,trackingContext:e.ownProps.trackingContext||""}}),userMetadata:e.ownProps.userMetadata,onClick:e.ownProps.onClick,onSuccess:e.ownProps.onSuccess,children:e.ownProps.children,watchCopy:e.ownProps.watchCopy}))(e=>d.a.createElement(r.a,{onClick:async function(){if(e.onClick(),y(e.userMetadata))try{await e.watchProject(),Object(C.a)(!0),e.onSuccess()}catch(t){e.onFailure&&e.onFailure(Object(T.a)(t))}},isWatched:!1,watchCopy:e.watchCopy},e.children)),P=w(e=>{if(!Object(a.i)(e)){const t=Object(S.a)({isWatching:e.initialIsWatched,projectCanRemind:!1,projectIsLaunched:!1});return d.a.createElement("div",{style:e.style},d.a.createElement(r.a,{watchCopy:t,isWatched:e.initialIsWatched,onClick:i.c},e.children))}const[t,n]=Object(l.useState)(!1),[o,s]=Object(l.useState)(""),c=()=>{var t;((t=e.userMetadata).isLoggedOut||t.isFirstTimeWatching||!t.isEmailVerified)&&n(!0)},u=t=>{e.onWatchToggle&&e.onWatchToggle(t)},m=Object(S.a)({isWatching:e.isWatched,projectCanRemind:e.isWatchable,projectIsLaunched:e.isLaunched});return d.a.createElement(d.a.Fragment,null,t&&d.a.createElement(k,{userMetadata:e.userMetadata,onCloseModal:()=>n(!1)}),!!o&&d.a.createElement(O,{onClose:()=>s(""),error:o}),d.a.createElement("div",{style:e.style},e.isWatched?d.a.createElement(x,{children:e.children,projectId:e.projectId,userMetadata:e.userMetadata,onClick:c,onSuccess:()=>u(!1),trackingContext:e.trackingContext||"",watchCopy:m}):d.a.createElement(D,{children:e.children,projectId:e.projectId,userMetadata:e.userMetadata,onClick:c,onSuccess:()=>u(!0),onFailure:e=>{s(e)},trackingContext:e.trackingContext||"",watchCopy:m})))})},pj8f:function(e,t,n){"use strict";let a;n.r(t),n.d(t,"Honeybadger",(function(){return a})),a="undefined"!=typeof document?n("dvPR").Honeybadger:()=>{}},poNw:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("mm3F");const i=e=>({activeDragCounter:0,asset:null,effects:{create:()=>Promise.resolve(Object(a.noopAction)()),read:()=>Promise.resolve(Object(a.noopAction)()),destroy:()=>Promise.resolve(Object(a.noopAction)()),onSuccess:()=>Promise.resolve(Object(a.noopAction)()),...e},errors:[],isDeleting:!1,isDisabled:!1,isShowingDeleteAssetModal:!1,progress:0,uploadedAt:null,uploaderStatus:"EMPTY",imageAssetWidth:null})},"q/jZ":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("wdXr"),i=n("q1tI"),r=n.n(i);const o=({children:e,fallback:t,rootMargin:n})=>{const{targetRef:i,didIntersect:o}=Object(a.a)({rootMargin:n});return r.a.createElement(r.a.Fragment,null,o?e:r.a.createElement("div",{ref:i},t))}},q1z7:function(e,t,n){(function(a){var i,r,o;o="object"==typeof self&&self.self===self&&self||"object"==typeof a&&a.global===a&&a,i=[n("xG9w"),n("+2Rf"),t],void 0===(r=function(e,t,n){o.Backbone=function(e,t,n,a){var i=e.Backbone,r=Array.prototype.slice;t.VERSION="1.6.0",t.$=a,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var o,s=t.Events={},c=/\s+/,l=function(e,t,a,i,r){var o,s=0;if(a&&"object"==typeof a){void 0!==i&&"context"in r&&void 0===r.context&&(r.context=i);for(o=n.keys(a);s<o.length;s++)t=l(e,t,o[s],a[o[s]],r)}else if(a&&c.test(a))for(o=a.split(c);s<o.length;s++)t=e(t,o[s],i,r);else t=e(t,a,i,r);return t};s.on=function(e,t,n){return this._events=l(d,this._events||{},e,t,{context:n,ctx:this,listening:o}),o&&((this._listeners||(this._listeners={}))[o.id]=o,o.interop=!1),this},s.listenTo=function(e,t,a){if(!e)return this;var i=e._listenId||(e._listenId=n.uniqueId("l")),r=this._listeningTo||(this._listeningTo={}),s=o=r[i];s||(this._listenId||(this._listenId=n.uniqueId("l")),s=o=r[i]=new g(this,e));var c=u(e,t,a,this);if(o=void 0,c)throw c;return s.interop&&s.on(t,a),this};var d=function(e,t,n,a){if(n){var i=e[t]||(e[t]=[]),r=a.context,o=a.ctx,s=a.listening;s&&s.count++,i.push({callback:n,context:r,ctx:r||o,listening:s})}return e},u=function(e,t,n,a){try{e.on(t,n,a)}catch(e){return e}};s.off=function(e,t,n){return this._events?(this._events=l(m,this._events,e,t,{context:n,listeners:this._listeners}),this):this},s.stopListening=function(e,t,a){var i=this._listeningTo;if(!i)return this;for(var r=e?[e._listenId]:n.keys(i),o=0;o<r.length;o++){var s=i[r[o]];if(!s)break;s.obj.off(t,a,this),s.interop&&s.off(t,a)}return n.isEmpty(i)&&(this._listeningTo=void 0),this};var m=function(e,t,a,i){if(e){var r,o=i.context,s=i.listeners,c=0;if(t||o||a){for(r=t?[t]:n.keys(e);c<r.length;c++){var l=e[t=r[c]];if(!l)break;for(var d=[],u=0;u<l.length;u++){var m=l[u];if(a&&a!==m.callback&&a!==m.callback._callback||o&&o!==m.context)d.push(m);else{var p=m.listening;p&&p.off(t,a)}}d.length?e[t]=d:delete e[t]}return e}for(r=n.keys(s);c<r.length;c++)s[r[c]].cleanup()}};s.once=function(e,t,n){var a=l(p,{},e,t,this.off.bind(this));return"string"==typeof e&&null==n&&(t=void 0),this.on(a,t,n)},s.listenToOnce=function(e,t,n){var a=l(p,{},t,n,this.stopListening.bind(this,e));return this.listenTo(e,a)};var p=function(e,t,a,i){if(a){var r=e[t]=n.once((function(){i(t,r),a.apply(this,arguments)}));r._callback=a}return e};s.trigger=function(e){if(!this._events)return this;for(var t=Math.max(0,arguments.length-1),n=Array(t),a=0;a<t;a++)n[a]=arguments[a+1];return l(h,this._events,e,void 0,n),this};var h=function(e,t,n,a){if(e){var i=e[t],r=e.all;i&&r&&(r=r.slice()),i&&f(i,a),r&&f(r,[t].concat(a))}return e},f=function(e,t){var n,a=-1,i=e.length,r=t[0],o=t[1],s=t[2];switch(t.length){case 0:for(;++a<i;)(n=e[a]).callback.call(n.ctx);return;case 1:for(;++a<i;)(n=e[a]).callback.call(n.ctx,r);return;case 2:for(;++a<i;)(n=e[a]).callback.call(n.ctx,r,o);return;case 3:for(;++a<i;)(n=e[a]).callback.call(n.ctx,r,o,s);return;default:for(;++a<i;)(n=e[a]).callback.apply(n.ctx,t);return}},g=function(e,t){this.id=e._listenId,this.listener=e,this.obj=t,this.interop=!0,this.count=0,this._events=void 0};g.prototype.on=s.on,g.prototype.off=function(e,t){var n;this.interop?(this._events=l(m,this._events,e,t,{context:void 0,listeners:void 0}),n=!this._events):(this.count--,n=0===this.count),n&&this.cleanup()},g.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},s.bind=s.on,s.unbind=s.off,n.extend(t,s);var _=t.Model=function(e,t){var a=e||{};t||(t={}),this.preinitialize.apply(this,arguments),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(a=this.parse(a,t)||{});var i=n.result(this,"defaults");a=n.defaults(n.extend({},i,a),i),this.set(a,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(_.prototype,s,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},matches:function(e){return!!n.iteratee(e,this)(this.attributes)},set:function(e,t,a){if(null==e)return this;var i;if("object"==typeof e?(i=e,a=t):(i={})[e]=t,a||(a={}),!this._validate(i,a))return!1;var r=a.unset,o=a.silent,s=[],c=this._changing;this._changing=!0,c||(this._previousAttributes=n.clone(this.attributes),this.changed={});var l=this.attributes,d=this.changed,u=this._previousAttributes;for(var m in i)t=i[m],n.isEqual(l[m],t)||s.push(m),n.isEqual(u[m],t)?delete d[m]:d[m]=t,r?delete l[m]:l[m]=t;if(this.idAttribute in i){var p=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,p,a)}if(!o){s.length&&(this._pending=a);for(var h=0;h<s.length;h++)this.trigger("change:"+s[h],this,l[s[h]],a)}if(c)return this;if(!o)for(;this._pending;)a=this._pending,this._pending=!1,this.trigger("change",this,a);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var a in this.attributes)t[a]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&n.clone(this.changed);var t,a=this._changing?this._previousAttributes:this.attributes,i={};for(var r in e){var o=e[r];n.isEqual(a[r],o)||(i[r]=o,t=!0)}return!!t&&i},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=n.extend({parse:!0},e);var t=this,a=e.success;return e.success=function(n){var i=e.parse?t.parse(n,e):n;if(!t.set(i,e))return!1;a&&a.call(e.context,t,n,e),t.trigger("sync",t,n,e)},q(this,e),this.sync("read",this,e)},save:function(e,t,a){var i;null==e||"object"==typeof e?(i=e,a=t):(i={})[e]=t;var r=(a=n.extend({validate:!0,parse:!0},a)).wait;if(i&&!r){if(!this.set(i,a))return!1}else if(!this._validate(i,a))return!1;var o=this,s=a.success,c=this.attributes;a.success=function(e){o.attributes=c;var t=a.parse?o.parse(e,a):e;if(r&&(t=n.extend({},i,t)),t&&!o.set(t,a))return!1;s&&s.call(a.context,o,e,a),o.trigger("sync",o,e,a)},q(this,a),i&&r&&(this.attributes=n.extend({},c,i));var l=this.isNew()?"create":a.patch?"patch":"update";"patch"!==l||a.attrs||(a.attrs=i);var d=this.sync(l,this,a);return this.attributes=c,d},destroy:function(e){e=e?n.clone(e):{};var t=this,a=e.success,i=e.wait,r=function(){t.stopListening(),t.trigger("destroy",t,t.collection,e)};e.success=function(n){i&&r(),a&&a.call(e.context,t,n,e),t.isNew()||t.trigger("sync",t,n,e)};var o=!1;return this.isNew()?n.defer(e.success):(q(this,e),o=this.sync("delete",this,e)),i||r(),o},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||$();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend({},e,{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var a=this.validationError=this.validate(e,t)||null;return!a||(this.trigger("invalid",this,a,n.extend(t,{validationError:a})),!1)}});var b=t.Collection=function(e,t){t||(t={}),this.preinitialize.apply(this,arguments),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},v={add:!0,remove:!0,merge:!0},k={add:!0,remove:!1},y=function(e,t,n){n=Math.min(Math.max(n,0),e.length);var a,i=Array(e.length-n),r=t.length;for(a=0;a<i.length;a++)i[a]=e[a+n];for(a=0;a<r;a++)e[a+n]=t[a];for(a=0;a<i.length;a++)e[a+r+n]=i[a]};n.extend(b.prototype,s,{model:_,preinitialize:function(){},initialize:function(){},toJSON:function(e){return this.map((function(t){return t.toJSON(e)}))},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,k))},remove:function(e,t){t=n.extend({},t);var a=!n.isArray(e);e=a?[e]:e.slice();var i=this._removeModels(e,t);return!t.silent&&i.length&&(t.changes={added:[],merged:[],removed:i},this.trigger("update",this,t)),a?i[0]:i},set:function(e,t){if(null!=e){(t=n.extend({},v,t)).parse&&!this._isModel(e)&&(e=this.parse(e,t)||[]);var a=!n.isArray(e);e=a?[e]:e.slice();var i=t.at;null!=i&&(i=+i),i>this.length&&(i=this.length),i<0&&(i+=this.length+1);var r,o,s=[],c=[],l=[],d=[],u={},m=t.add,p=t.merge,h=t.remove,f=!1,g=this.comparator&&null==i&&!1!==t.sort,_=n.isString(this.comparator)?this.comparator:null;for(o=0;o<e.length;o++){r=e[o];var b=this.get(r);if(b){if(p&&r!==b){var k=this._isModel(r)?r.attributes:r;t.parse&&(k=b.parse(k,t)),b.set(k,t),l.push(b),g&&!f&&(f=b.hasChanged(_))}u[b.cid]||(u[b.cid]=!0,s.push(b)),e[o]=b}else m&&(r=e[o]=this._prepareModel(r,t))&&(c.push(r),this._addReference(r,t),u[r.cid]=!0,s.push(r))}if(h){for(o=0;o<this.length;o++)u[(r=this.models[o]).cid]||d.push(r);d.length&&this._removeModels(d,t)}var E=!1,j=!g&&m&&h;if(s.length&&j?(E=this.length!==s.length||n.some(this.models,(function(e,t){return e!==s[t]})),this.models.length=0,y(this.models,s,0),this.length=this.models.length):c.length&&(g&&(f=!0),y(this.models,c,null==i?this.length:i),this.length=this.models.length),f&&this.sort({silent:!0}),!t.silent){for(o=0;o<c.length;o++)null!=i&&(t.index=i+o),(r=c[o]).trigger("add",r,this,t);(f||E)&&this.trigger("sort",this,t),(c.length||d.length||l.length)&&(t.changes={added:c,removed:d,merged:l},this.trigger("update",this,t))}return a?e[0]:e}},reset:function(e,t){t=t?n.clone(t):{};for(var a=0;a<this.models.length;a++)this._removeReference(this.models[a],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return r.apply(this.models,arguments)},get:function(e){if(null!=e)return this._byId[e]||this._byId[this.modelId(this._isModel(e)?e.attributes:e,e.idAttribute)]||e.cid&&this._byId[e.cid]},has:function(e){return null!=this.get(e)},at:function(e){return e<0&&(e+=this.length),this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,!0)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var a=t.length;return n.isFunction(t)&&(t=t.bind(this)),1===a||n.isString(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return this.map(e+"")},fetch:function(e){var t=(e=n.extend({parse:!0},e)).success,a=this;return e.success=function(n){var i=e.reset?"reset":"set";a[i](n,e),t&&t.call(e.context,a,n,e),a.trigger("sync",a,n,e)},q(this,e),this.sync("read",this,e)},create:function(e,t){var a=(t=t?n.clone(t):{}).wait;if(!(e=this._prepareModel(e,t)))return!1;a||this.add(e,t);var i=this,r=t.success;return t.success=function(e,t,n){a&&(e.off("error",i._forwardPristineError,i),i.add(e,n)),r&&r.call(n.context,e,t,n)},a&&e.once("error",this._forwardPristineError,this),e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e,t){return e[t||this.model.prototype.idAttribute||"id"]},values:function(){return new j(this,w)},keys:function(){return new j(this,S)},entries:function(){return new j(this,O)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){return this._isModel(e)?(e.collection||(e.collection=this),e):((t=t?n.clone(t):{}).collection=this,(a=this.model.prototype?new this.model(e,t):this.model(e,t)).validationError?(this.trigger("invalid",this,a.validationError,t),!1):a);var a},_removeModels:function(e,t){for(var n=[],a=0;a<e.length;a++){var i=this.get(e[a]);if(i){var r=this.indexOf(i);this.models.splice(r,1),this.length--,delete this._byId[i.cid];var o=this.modelId(i.attributes,i.idAttribute);null!=o&&delete this._byId[o],t.silent||(t.index=r,i.trigger("remove",i,this,t)),n.push(i),this._removeReference(i,t)}}return e.length>0&&!t.silent&&delete t.index,n},_isModel:function(e){return e instanceof _},_addReference:function(e,t){this._byId[e.cid]=e;var n=this.modelId(e.attributes,e.idAttribute);null!=n&&(this._byId[n]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){delete this._byId[e.cid];var n=this.modelId(e.attributes,e.idAttribute);null!=n&&delete this._byId[n],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,a){if(t){if(("add"===e||"remove"===e)&&n!==this)return;if("destroy"===e&&this.remove(t,a),"changeId"===e){var i=this.modelId(t.previousAttributes(),t.idAttribute),r=this.modelId(t.attributes,t.idAttribute);null!=i&&delete this._byId[i],null!=r&&(this._byId[r]=t)}}this.trigger.apply(this,arguments)},_forwardPristineError:function(e,t,n){this.has(e)||this._onModelEvent("error",e,t,n)}});var E="function"==typeof Symbol&&Symbol.iterator;E&&(b.prototype[E]=b.prototype.values);var j=function(e,t){this._collection=e,this._kind=t,this._index=0},w=1,S=2,O=3;E&&(j.prototype[E]=function(){return this}),j.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var e,t=this._collection.at(this._index);if(this._index++,this._kind===w)e=t;else{var n=this._collection.modelId(t.attributes,t.idAttribute);e=this._kind===S?n:[n,t]}return{value:e,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var N=t.View=function(e){this.cid=n.uniqueId("view"),this.preinitialize.apply(this,arguments),n.extend(this,n.pick(e,I)),this._ensureElement(),this.initialize.apply(this,arguments)},C=/^(\S+)\s*(.*)$/,I=["model","collection","el","id","attributes","className","tagName","events"];n.extend(N.prototype,s,{tagName:"div",$:function(e){return this.$el.find(e)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0]},delegateEvents:function(e){if(e||(e=n.result(this,"events")),!e)return this;for(var t in this.undelegateEvents(),e){var a=e[t];if(n.isFunction(a)||(a=this[a]),a){var i=t.match(C);this.delegate(i[1],i[2],a.bind(this))}}return this},delegate:function(e,t,n){return this.$el.on(e+".delegateEvents"+this.cid,t,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,n){return this.$el.off(e+".delegateEvents"+this.cid,t,n),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(e)}},_setAttributes:function(e){this.$el.attr(e)}});var x=function(e,t,a,i){n.each(a,(function(n,a){t[a]&&(e.prototype[a]=function(e,t,n,a){switch(t){case 1:return function(){return e[n](this[a])};case 2:return function(t){return e[n](this[a],t)};case 3:return function(t,i){return e[n](this[a],T(t,this),i)};case 4:return function(t,i,r){return e[n](this[a],T(t,this),i,r)};default:return function(){var t=r.call(arguments);return t.unshift(this[a]),e[n].apply(e,t)}}}(t,n,a,i))}))},T=function(e,t){return n.isFunction(e)?e:n.isObject(e)&&!t._isModel(e)?A(e):n.isString(e)?function(t){return t.get(e)}:e},A=function(e){var t=n.matches(e);return function(e){return t(e.attributes)}};n.each([[b,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models"],[_,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes"]],(function(e){var t=e[0],a=e[1],i=e[2];t.mixin=function(e){var a=n.reduce(n.functions(e),(function(e,t){return e[t]=0,e}),{});x(t,e,a,i)},x(t,n,a,i)})),t.sync=function(e,a,i){var r=D[e];n.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var o={type:r,dataType:"json"};if(i.url||(o.url=n.result(a,"url")||$()),null!=i.data||!a||"create"!==e&&"update"!==e&&"patch"!==e||(o.contentType="application/json",o.data=JSON.stringify(i.attrs||a.toJSON(i))),i.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),i.emulateHTTP&&("PUT"===r||"DELETE"===r||"PATCH"===r)){o.type="POST",i.emulateJSON&&(o.data._method=r);var s=i.beforeSend;i.beforeSend=function(e){if(e.setRequestHeader("X-HTTP-Method-Override",r),s)return s.apply(this,arguments)}}"GET"===o.type||i.emulateJSON||(o.processData=!1);var c=i.error;i.error=function(e,t,n){i.textStatus=t,i.errorThrown=n,c&&c.call(i.context,e,t,n)};var l=i.xhr=t.ajax(n.extend(o,i));return a.trigger("request",a,l,i),l};var D={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var P=t.Router=function(e){e||(e={}),this.preinitialize.apply(this,arguments),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},R=/\((.*?)\)/g,F=/(\(\?)?:\w+/g,L=/\*\w+/g,M=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(P.prototype,s,{preinitialize:function(){},initialize:function(){},route:function(e,a,i){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(a)&&(i=a,a=""),i||(i=this[a]);var r=this;return t.history.route(e,(function(n){var o=r._extractParameters(e,n);!1!==r.execute(i,o,a)&&(r.trigger.apply(r,["route:"+a].concat(o)),r.trigger("route",a,o),t.history.trigger("route",r,a,o))})),this},execute:function(e,t,n){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(M,"\\$&").replace(R,"(?:$1)?").replace(F,(function(e,t){return t?e:"([^/?]+)"})).replace(L,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var a=e.exec(t).slice(1);return n.map(a,(function(e,t){return t===a.length-1?e||null:e?decodeURIComponent(e):null}))}});var U=t.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},V=/^[#\/]|\s+$/g,H=/^\/+|\/+$/g,B=/#.*$/;U.started=!1,n.extend(U.prototype,s,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===e.charAt(0)?e.slice(1):e},getFragment:function(e){return null==e&&(e=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),e.replace(V,"")},start:function(e){if(U.started)throw new Error("Backbone.history has already been started");if(U.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._trailingSlash=this.options.trailingSlash,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(H,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var a=document.body,i=a.insertBefore(this.iframe,a.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var r=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};if(this._usePushState?r("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?r("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),U.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe.contentWindow)),t===this.fragment)return!this.matchRoot()&&this.notfound();this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return this.matchRoot()?(e=this.fragment=this.getFragment(e),n.some(this.handlers,(function(t){if(t.route.test(e))return t.callback(e),!0}))||this.notfound()):this.notfound()},notfound:function(){return this.trigger("notfound"),!1},navigate:function(e,t){if(!U.started)return!1;t&&!0!==t||(t={trigger:!!t}),e=this.getFragment(e||"");var n=this.root;this._trailingSlash||""!==e&&"?"!==e.charAt(0)||(n=n.slice(0,-1)||"/");var a=n+e;e=e.replace(B,"");var i=this.decodeFragment(e);if(this.fragment!==i){if(this.fragment=i,this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,a);else{if(!this._wantsHashChange)return this.location.assign(a);if(this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var r=this.iframe.contentWindow;t.replace||(r.document.open(),r.document.close()),this._updateHash(r.location,e,t.replace)}}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var a=e.href.replace(/(javascript:|#).*$/,"");e.replace(a+"#"+t)}else e.hash="#"+t}}),t.history=new U,_.extend=b.extend=P.extend=N.extend=U.extend=function(e,t){var a,i=this;return a=e&&n.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)},n.extend(a,i,t),a.prototype=n.create(i.prototype,e),a.prototype.constructor=a,a.__super__=i.prototype,a};var $=function(){throw new Error('A "url" property or function must be specified')},q=function(e,t){var n=t.error;t.error=function(a){n&&n.call(t.context,e,a,t),e.trigger("error",e,a,t)}};return t._debug=function(){return{root:e,_:n}},t}(o,n,e,t)}.apply(t,i))||(e.exports=r)}).call(this,n("yLpj"))},qAuv:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n("q1tI"),i=n.n(a);const r=600,o=900,s=1100,c=e=>.6*e+"rem",l=(e,t,n,a)=>{const i=[t&&"width: "+c(t),n&&"height: "+c(n)].filter(Boolean);if(0===i.length)return null;const r=`#${e}{${i.join(";")}}`;return a?`@media (min-width:${a}px){${r}}`:r},d={counter:0},u=({id:e="__size_"+ ++d.counter,width:t,smWidth:n,mdWidth:a,lgWidth:c,height:u,smHeight:m,mdHeight:p,lgHeight:h,children:f})=>{const g=[l(e,t,u),l(e,n,m,r),l(e,a,p,o),l(e,c,h,s)].filter(Boolean).join("\n");return i.a.createElement("div",{id:e},i.a.createElement("style",null,g),f)}},qKHs:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("xG9w"),o=n("DQv1");n("RIhn");i()((function(){i()(".render_mustache").livequery((function(){var e=i()(this),t=r.default.extend(e.data("data"),e.data("extend")),n=e.data("partials")?e.data("partials").split(","):void 0,a=e.data("template");e.append(Object(o.a)(a,t,n))}))}))},qPAc:function(e,t,n){"use strict";var a=n("94td");const i={pollUrlFactory:()=>null,submitButtonText:Object(a.b)("project_page.comments.Post_Comment"),placeholderText:Object(a.b)("project_page.comments.What_would_you"),showCommentsWithoutPledges:!1,showNonBackerMessage:!0,hideBackground:!1};t.a=i},qYa2:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return c}));var a=n("94td"),i=n("MTFr");const r=e=>!(!e.dataTransfer.types||-1===e.dataTransfer.types.indexOf("Files")),o=(e,t)=>{let n=[];return e.size>t.bytes&&(n=[...n,Object(a.b)("uploaders.This_file_is_too_big",{megabytes:t.megabytes})]),t.contentTypes.includes(e.type)||(n=[...n,Object(a.b)("uploaders.This_file_has_an_invalid_filetype")]),n},s=e=>({...i.g,...e}),c=(e,t,n,a,i,r,o)=>{const s=new XMLHttpRequest;s.open("POST",e),s.onload=()=>{204===s.status?r({s3Key:t,fileName:encodeURIComponent(n.name),contentType:n.type,updatedAt:(n.lastModifiedDate||new Date).getTime(),fileSize:n.size,previewUrl:URL.createObjectURL(n)}):i("Upload unsuccessful")},s.onerror=i,s.upload.onprogress=e=>{if(e.lengthComputable){const t=e.loaded/e.total*100;o(t)}},s.send(a)}},qcI4:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return m}));var a=n("xG9w"),i=n("itcf"),r=n("XLBa");let o=n("qtWx").a.extend();o.on_initialize((function(){this.data.id&&(this.constructor.records[this.data.id]=this)})),a.default.extend(o,{records:{},find:function(e){var t=this;return a.default.isArray(e)?a.default.compact(a.default.map(e,(function(e){return t.records[e]}))):this.records[e]},every:function(e){a.default.each(this.records,e),this.listen("new",(function(t){e.call(this,t.new)}))},has:function(e,t){if(void 0===this.prototype["has_"+e]){var n=t.through;this.prototype[e]=[],this.on_initialize((function(){this.on_change(e+"_fetched",(function(t){var i=t[e+"_fetched"]||[],r=this[e],o=a.default.compact(a.default.map(i,(function(e){if(e&&e.id&&!a.default.include(r,e.id))return new window[n](e).get("id")})));this["set_"+e](a.default.union(r,o))}))})),this.prototype["get_"+e]=function(){return window[n].find(this[e])},this.prototype["has_"+e]=function(t){return(t=i(t)).length&&0===Object(a.default)(this[e]).difference(t).length},this.prototype["add_"+e]=function(t){t=i(t),(t=Object(a.default)(t).difference(this[e])).length&&this["set_"+e](a.default.union(this[e],t))},this.prototype["remove_"+e]=function(t){t=i(t),(t=Object(a.default)(t).intersection(this[e])).length&&this["set_"+e](Object(a.default)(this[e]).difference(t))},this.prototype["set_"+e]=function(t){if(t=i(t),!a.default.isEqual(a.default.clone(t).sort(),a.default.clone(this[e]).sort())){this[e]=t;var n={};n[e]=t,this._broadcast(n)}}}function i(e){return"object"!=typeof e?e=[e]:e.get&&(e=[e.get("id")]),e}}});let s=o.extend(),c=o.extend(),l=o.extend(),d=o.extend(),u=o.extend(),m=o.extend();d.on_initialize((function(){"function"==typeof r.a&&this.on_change((function(){Object(r.a)("Project",this.get())}))})),d.has("creator",{through:"User"}),d.has("backers",{through:"User"}),d.set_computed_value("usd_pledged",(function(){return this.pledged*this.static_usd_rate}),{changes_on:["pledged"]}),d.set_computed_value("convert_pledged",(function(){return this.pledged*this.fx_rate}),{changes_on:["pledged"]}),u.has("created_projects",{through:"Project"}),u.has("backed_projects",{through:"Project"}),u.has("backings",{through:"Backing"}),u.prototype.api_url=function(e,t){var n=this.get("urls").api.user;if(n)return"string"==typeof e&&(n=n.replace(/([^\?]*)(.*)/,(function(t,n,a){return n+"/"+e+a}))),(t||void 0===t&&!0===e)&&api_oauth_token&&(n=Object(i.a)(n).replace(/http:/,"https:")),n},l.on_initialize((function(){"function"==typeof r.a&&this.on_change((function(){Object(r.a)("Comment",this.get())}))})),c.set_computed_value("net_amount",(function(){return this.amount-this.shipping_amount}),{changes_on:["shipping_amount","amount"]})},qn6j:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));let a=function(e){return e.INCREMENT="increment",e.GAUGE="gauge",e.TIME="time",e}({})},qtVb:function(e,t,n){var a=n("+2Rf");n("+2Rf");!function(e){function t(t,n){this.$elem=t,this.options=e.extend({},{adjust_on:"mobius:loaded_page scroll resize sticky_bar:position load hashchange",parent:t.parent(),attach_to:"top",lock_to_bottom:!0},n),this.paused=!1,this.last_scroll_top=0,this.last_up=!1,this.fixed=!1,this.original_top=t.offset().top,this.original_bottom=this.original_top+t.height(),this.update_window_larger_then_elem(),this.attach_to_top="top"===this.options.attach_to,this.attach_to_bottom=!this.attach_to_top,this.bind_events(),this.reposition()}function n(t,n){this.$elem=t,this.options=e.extend({},{adjust_on:"shifted scroll resize load hashchange"},n),this.original_top=t.offset().top,this.bind_events(),this.reposition()}e.fn.sticky_bar=function(n){return n=n||{},e(this).each((function(){var a=e(this).data("stickybar");a?e(this).trigger("shifted"):(a=new t(e(this),n),e(this).data("stickybar",a))}))},e.fn.simple_sticky_bar=function(t){return t=t||{},e(this).each((function(){var a=e(this).data("simple_stickybar");a?e(this).trigger("shifted"):(a=new n(e(this),t),e(this).data("simple_stickybar",a))}))},e.extend(n.prototype,{bind_events:function(){var t=this;e(window).on(this.options.adjust_on,(function(e){t.reposition(e)}))},reposition:function(){e(window).scrollTop()<this.original_top?(this.$elem.css("position","static"),this.$elem.css("top","auto")):(this.$elem.css("position","fixed"),this.$elem.css("top",0))}}),e.extend(t.prototype,{bind_events:function(){var t=this;e(window).resize((function(e){e.target===window&&t.update_window_larger_then_elem()})),e(document).on("shifted",(function(){t.fixed=!1,t.$elem.css("position","static"),t.$elem.css("top","auto"),t.$elem.css("bottom","auto"),t.original_top=t.$elem.offset().top,t.original_bottom=t.original_top+t.$elem.height(),t.reposition()})),e(window).on(this.options.adjust_on,(function(e){t.paused||t.reposition(e)})),this.$elem.on("sticky_bar:fix_to_bottom",(function(){t.fixed=!0,t.$elem.css("position","fixed"),t.$elem.css("top",-(t.$elem.height()-e(window).height()))})),this.$elem.on("sticky_bar:pause",(function(){t.paused=!0})),this.$elem.on("sticky_bar:unpause",(function(){t.paused=!1}))},update_window_larger_then_elem:function(){this.window_larger_then_elem=e(window).height()>this.$elem.height()},lockToBottom:function(e){this.fixed=!1,this.$elem.css("position","absolute"),this.$elem.css("top",e-this.$elem.outerHeight()-this.$elem.offsetParent().offset().top)},reposition:function(t){var n=e(window).scrollTop(),a=n+e(window).height(),i=this.$elem.offset().top,r=i+this.$elem.height(),o=this.options.parent,s=o.offset().top+o.outerHeight(),c=t&&"scroll"===t.type,l=!(n>this.last_scroll_top),d=l!==this.last_up;e("body").width()<640||this.attach_to_top&&n<this.original_top||this.attach_to_bottom&&a>this.original_bottom?(this.fixed=!1,this.$elem.css("position","static"),this.$elem.css("top","auto"),this.$elem.css("bottom","auto")):this.options.lock_to_bottom&&!this.window_larger_then_elem&&a>s||this.options.lock_to_bottom&&this.window_larger_then_elem&&n+this.$elem.height()>s?this.lockToBottom(s):d&&c?this.window_larger_then_elem||(this.fixed=!1,this.$elem.css("position","absolute"),this.$elem.css("top",i),this.$elem.css("bottom","auto")):this.fixed||(this.attach_to_top?this.window_larger_then_elem||(!c||l)&&n<i?(this.fixed=!0,this.$elem.css("position","fixed"),this.$elem.css("top",0)):c&&l||!(a>r)||(this.fixed=!0,this.$elem.css("position","fixed"),this.$elem.css("top",-(this.$elem.height()-e(window).height()))):(this.window_larger_then_elem||(!c||!l)&&a>r)&&(this.fixed=!0,this.$elem.css("position","fixed"),this.$elem.css("bottom",0))),this.was_fixed!==this.fixed&&this.$elem.trigger("sticky_bar:fixed_changed",[this.fixed]),this.last_scroll_top=n,this.last_up=l}})}(a)},qtWx:function(e,t,n){"use strict";var a=n("xG9w"),i=n("+2Rf"),r=n.n(i);function o(){}o.prototype.initialize=function(){},o.extend=function(e){var t=function(){this.initialize.apply(this,arguments)};for(var n in this)this.hasOwnProperty(n)&&(t[n]=a.default.isFunction(this[n])?this[n]:a.default.clone(this[n]));function i(){this.constructor=t}return i.prototype=this.prototype,t.prototype=new i,t.__super__=this.prototype,e&&(t.prototype.initialize=e),t};var s=o.extend((function(e){var t=this,n=arguments;this.data={},e&&this.set(e),a.default.each(this.constructor.initializers,(function(e){e.apply(t,n)})),this.data.id&&this.constructor.records&&(this.constructor.records[this.data.id]=this),this.constructor._broadcast({new:this.data})}));s._computed_values={},a.default.extend(s,{listen:function(e,t){var n=this;if(a.default.isObject(e)&&a.default.each(e,(function(e,t){n.listen(t,e)})),void 0===this.listeners&&(this.listeners={}),void 0===this.listeners._global&&(this.listeners._global=[]),"function"!=typeof e)return void 0===this.listeners[e]&&(this.listeners[e]=[]),this.listeners[e].push(t),this;this.listeners._global.push(e)},_broadcast:function(e,t,n){var i;void 0===this.listeners&&(this.listeners={}),void 0===this.listeners._global&&(this.listeners._global=[]);var r=this;if(t=t||"",a.default.each(a.default.keys(e),(function(i){"object"!=typeof e[i]||null===e[i]||a.default.isArray(e[i])||r._broadcast(e[i],t+i+".",n),void 0!==r.listeners[t+i]&&a.default.each(r.listeners[t+i],(function(t){t.call(r,e,n)}))})),!t)for(i=0;i<this.listeners._global.length;i+=1)this.listeners._global[i].call(this,e,n)},on_initialize:function(e){void 0===this.initializers&&(this.initializers=[]),this.initializers.push(e)},get_computed_values:function(){return this._computed_values},set_computed_value:function(e,t,n){var i=this;this._computed_values[e]=t,n&&a.default.isArray(n.changes_on)&&a.default.each(n.changes_on,(function(t){i.prototype.on_change(t,(function(){var t={};t[e]=this.get(e),this._broadcast(t)}))}))}}),s.prototype.on_change=s.prototype.listen=s.listen,s.prototype.change=function(){this._broadcast({})},s.prototype._broadcast=s._broadcast,s.prototype.set=function(e,t,n){var i,o;return"object"==typeof e?(i=e,n=t):i="string"==typeof e?function e(t,n){var a={},i=t.shift();return t.length?a[i]=e(t,n):a[i]=n,a}(e.split("."),t):{},n||(n={}),o=function e(t,n){var a={};for(var i in n)n.hasOwnProperty(i)&&("object"==typeof n[i]&&null!==n[i]?a[i]=t?e(t[i],n[i]):n[i]:t&&t[i]===n[i]||(a[i]=n[i]));return a}(this.data,i),n.overwrite?this.data=a.default.extend(this.data,i):this.data=r.a.extend(!0,this.data,i),void 0!==n.silent&&n.silent||this._broadcast(o,void 0,n),this},s.prototype.replace=function(e,t,n){return(n=n||{}).silent=!0,this.set(e,null,n),delete n.silent,this.set(e,t,n)},s.prototype.get=function(e){if("string"==typeof e){if("function"==typeof this.constructor.get_computed_values()[e])return this.constructor.get_computed_values()[e].call(this.data);var t=e.split("."),n=this.data;return a.default.each(t,(function(e){n=n[e]})),a.default.clone(n)}return r.a.extend(!0,{},this.data,this.compute_values())},s.prototype.compute_values=function(){var e=this.data,t={};return a.default.each(this.constructor.get_computed_values(),(function(n,a){t[a]=n.call(e)})),t};t.a=s},"rFP+":function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("h4vE");Object(r.a)(".js-nav--subnav",(function(e){e.on("change_current",(function(e,t){var n=i()(this),a=i()(t);a.length&&(n.find(".current").removeClass("current"),a.addClass("current"),n.find(".js-nav--subnav__selected-indicator").css({left:a.position().left,width:a.outerWidth()}),i()(window).resize((function(){n.find(".js-nav--subnav__selected-indicator").css({left:a.position().left,width:a.outerWidth()})})))}));var t=window.location.pathname,n=e.find(".nav--subnav__item__link").filter((function(){return new URL(this.href).pathname===t}));e.trigger("change_current",n)}))},rMRV:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("q1tI"),i=n("Nz1K");const r=e=>{let t="";return null!=e&&""!==e.trim()&&(t=Object(i.b)(e.replace(/<(b\b|strong\b).*?>/g,'<span class="bold">').replace(/<em\b.*?>/g,'<span class="text-italic">').replace(/<\/(b|strong|em)>/g,"</span>"))),a.createElement("div",{dangerouslySetInnerHTML:{__html:t}})}},rV3q:function(e,t,n){"use strict";var a=n("h4vE"),i=n("mq2H"),r=n("NxQb"),o=n("zm9w"),s=n("nuFJ"),c=n("0VSk"),l=n("+2Rf"),d=n.n(l),u=n("xG9w");Object(a.a)(".NS_layouts__notifications",(function(e){function t(t){const n=d()(".js-banner-text",e);if(0===n.length)return;const a=u.default.pairs(u.default.countBy(d()(".js-alert-box",e).map((function(){return d()(this).data("category")})).get(),e=>e)),i=u.default.reduce(a,(e,t)=>e+t[1],0),s=d()(".js-cta",e),l=d()(".js-banner-dismiss",e),m=d()(".js-banner-toggle-button",e);if(1===i&&t){n.html(d()(".js-alert-body",e).html()),n.has("a")&&d()(".js-banner-text a").addClass("white text-underline");const t=d()(".js-alert-cta")[0];t?(s.html(t),s.show()):(s.html(""),s.hide());const a=d()(".js-alert-dismiss",e);a.length?(l[0].setAttribute("href",a.attr("href")),l.show()):l.hide(),m.hide()}else{const t=u.default.map(a,e=>e[0]).sort().map(e=>`<span class='bold'>${c.default.t(e)}</span>`),p=`<span class='bold'>${c.default.t("banners.title.alerts",{count:i})}</span>`,h=o.b.to_sentence(t);Object(r.a)("notification_banner_update_2024")?n.html(c.default.t("banners.title.list",{alerts:p,categories:h})):n.html(c.default.t("banners.title.text",{alerts:p,categories:h})),d()(".js-alert-title--urgent",e).text(c.default.t("banners.subtitles.urgent")),d()(".js-alert-title--nonurgent",e).text(2===d()(".js-alert-section",e).length?c.default.t("banners.subtitles.nonurgent.more"):c.default.t("banners.subtitles.nonurgent.less")),s.hide(),l.hide(),m.show()}d()(".js-banner-buttons-container",e).show()}t(!0),d()(".js-alert-body").has("a")&&d()(".js-alert-body a").addClass("text-underline"),d()("#easyship_blog").on("click",(function(){Object(i.n)(i.d.CTA_CLICKED,{context_cta:i.c.BANNER,context_type:i.a.EASYSHIP})})),e.on("click",".js-alert-dismiss, .js-banner-dismiss",(function(){function e(e){e.slideUp(200,(function(){d()(this).remove(),t(!1),Object(s.a)()}))}const n=d()(this),a=n.closest(".js-banner-wrap"),i=n.closest(".js-alert-wrap"),r=".js-alert-box";return 1===a.find(r).length?e(a):1===i.find(r).length?e(i):e(n.closest(r)),d.a.post(n.attr("href"),{_method:"delete"}),!1})),e.on("click",".js-banner-toggle, .js-banner-toggle-button",()=>{d()(".js-banner-wrap",e).toggleClass("bg-red-400 bg-grey-200",500),d()(".js-banner-text",e).toggleClass("o0p",500).toggleClass("pointer-events-none",500),d()(".alert-container",e).toggleClass("alert-container--open",500),d()(".js-banner-toggle-icon",e).toggleClass("rotate-180",500),setTimeout(()=>{Object(s.a)()},501)})}))},rcUh:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("q1tI");const i=e=>{const t=e.vertical?"pt"+e.vertical:"",n=e.horizontal?"pl"+e.horizontal:"";return a.createElement("span",{className:`block ${t} ${n}`})}},relC:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return _}));var a=n("sezs"),i=n("dPds"),r=n("9jZ4"),o=n("q1tI"),s=n.n(o),c=n("5x/L");const l={error:"icon--error",warning:"icon--warning",description:"icon--info"};var d=function({className:e,isWarning:t,isInvalid:n,isDisabled:o,description:d,warningMessage:u,errorMessage:m,status:p,helperIcon:h,fieldSize:f}){const g={description:{message:d,hidden:!1},warning:{message:u,hidden:!t||o},error:{message:m,hidden:!n||o}};return"stable"===f||[...Object(r.a)(g).map(([,{message:e}])=>e),p].some(r.e)?s.a.createElement(c.a,{className:e,slot:"description",elementType:"ul","data-size":f},Object(r.a)(g).filter(([,{message:e}])=>Object(r.e)(e)).map(([e,{message:t,hidden:n=!1}])=>s.a.createElement(i.a.BodySM,{as:"li",key:e,className:"kds-field__"+e,hidden:n,"aria-hidden":n},!1!==h?s.a.createElement(a.a,{name:"string"==typeof h?h:l[e],size:"sm",atoms:["kds-field__icon"]}):null,t)),void 0!==p&&s.a.createElement(i.a.BodySM,{as:"li",className:"kds-field__status"},p)):null};var u=n("ZT9a"),m=n("1PrN"),p=n("Ktal"),h=n("9tEJ");function f(e){const{wrapperProps:t,helpProps:n}=function(e){const{description:t,errorMessage:n,helpPosition:a="after",fieldSize:i="dynamic",helperIcon:r,status:o,warningMessage:s,...c}=e,{isDisabled:l,isInvalid:d,isReadOnly:u,isRequired:m,isWarning:p}=e;return{helpProps:{...{isDisabled:l,isInvalid:d,isReadOnly:u,isRequired:m,isWarning:p},className:void 0,description:t,errorMessage:n,fieldSize:i,helperIcon:r,status:o,warningMessage:s},wrapperProps:{helpPosition:a,...c}}}(e),{isWarning:a}=t,{children:i}=t,r={...t,fieldHelp:s.a.createElement(f.Help,Object(u.a)(n,{className:"kds-field__help"}))},o="function"==typeof i?e=>g(r,e):g(r);return s.a.createElement(f.Wrapper,Object.assign({},t,{"data-warning":a||void 0}),o)}function g({label:e,children:t,fieldHelp:n,helpPosition:a},i){return s.a.createElement(s.a.Fragment,null,Object(r.e)(e)&&s.a.createElement(f.Label,null,e),"before"===a&&n,s.a.createElement(f.Content,null,"function"==typeof t?t(i):t),"after"===a&&n)}function _(e){const{atoms:t,description:n,errorMessage:a,fieldSize:i,helperIcon:r,helpPosition:o,isInvalid:s,isWarning:c,label:l,status:d,warningMessage:u,...m}=e;return{fieldProps:{atoms:t,description:n,errorMessage:a,fieldSize:i,helperIcon:r,helpPosition:o,isInvalid:s,isWarning:c,label:l,status:d,warningMessage:u},...m}}f.Wrapper=({as:e,children:t,...n})=>{const a=e||m.a;return s.a.createElement(a,Object(u.a)(n,{className:"kds-field"}),t)},f.Label=e=>s.a.createElement(p.a,Object(u.a)(e,{className:"kds-field__label"})),f.Content=e=>s.a.createElement("div",Object(u.a)(e,{className:"kds-field__content"})),f.Group=e=>s.a.createElement(h.a,Object(u.a)(e,{className:"kds-field__group"})),f.Help=d},riAN:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return s})),n.d(t,"h",(function(){return a})),n.d(t,"i",(function(){return u}));const a={type:"visa",patterns:["4","450823","450875","450878"],lengths:[13,16],cvcLengths:[3],luhn:!0},i={type:"mastercard",patterns:["51","52","53","54","55","22","23","24","25","26","27"],lengths:[16],cvcLengths:[3],luhn:!0},r={type:"amex",patterns:["34","37"],lengths:[15],cvcLengths:[3,4],luhn:!0},o={type:"diners"},s={type:"unionpay"},c={type:"discover",patterns:["60","64","65","622"],lengths:[16],cvcLengths:[3],luhn:!0},l={type:"jcb",patterns:["35"],lengths:[16],cvcLengths:[3],luhn:!0},d={type:null,patterns:["0","1","2","3","4","5","6","7","8","9",""],lengths:[16],cvcLengths:[3],luhn:!0},u=[a,i,r,c,l,d]},"rm+a":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=e=>{"loading"===document.readyState?setTimeout(()=>a(e),10):e()}},rpKd:function(e,t,n){"use strict";t.a='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M19 3H5C3.34315 3 2 4.34315 2 6V14C2 15.6569 3.34315 17 5 17H19C20.6569 17 22 15.6569 22 14V6C22 4.34315 20.6569 3 19 3ZM4 6C4 5.44772 4.44772 5 5 5H19C19.5523 5 20 5.44772 20 6V14C20 14.5523 19.5523 15 19 15H5C4.44772 15 4 14.5523 4 14V6ZM5 19C4.44772 19 4 19.4477 4 20C4 20.5523 4.44772 21 5 21H19C19.5523 21 20 20.5523 20 20C20 19.4477 19.5523 19 19 19H5Z" fill="#3C3C3C"/>\n</svg>\n'},s3Av:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("q1tI"),i=n.n(a);class r extends i.a.Component{constructor(e){super(e),this.state={caughtError:!1}}componentDidCatch(e,t){if(this.setState({caughtError:!0}),this.props.KSRError){let n={componentStack:t.componentStack};this.props.KSRErrorTag&&(n.tags=this.props.KSRErrorTag),this.props.KSRError.notify(e,n)}}render(){if(this.state.caughtError){const e=this.props.fallbackComponent,t=this.props.fallbackProps||{};return e?i.a.createElement(e,t):null}return this.props.children}}},sFEt:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);i()(document).on("click","input#share_a_link",(function(){i()("#share_a_link").focus().select()}))},sIuw:function(e,t,n){"use strict";function a(e){return{isLoggedOut:!e,isFirstTimeWatching:Boolean(null==e?void 0:e.canSeeConfirmWatchModal),isFirstTimeLikingOrDisliking:Boolean(null==e?void 0:e.canSeeConfirmSignalModal),isEmailVerified:Boolean(null==e?void 0:e.isEmailVerified)}}n.d(t,"a",(function(){return a}))},sSbI:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return u}));var a=n("Z0cm"),i=n.n(a),r=n("q1tI"),o=n.n(r);const s=({url:e,altText:t})=>o.a.createElement("div",{key:e,className:"w100p aspect-ratio aspect-ratio--16x9"},o.a.createElement("img",{src:e,alt:t})),c=e=>t=>{let n=t;return t.preview&&t.preview.projectHeaderStoreName&&(n=t[t.preview.projectHeaderStoreName]),e(n)},l=e=>e&&e.data&&e.data.usd_type,d=e=>e.descriptionPhotos&&i()(e.descriptionPhotos)&&e.descriptionPhotos.length>0,u=(e,t)=>t?[{element:o.a.createElement("div",{key:"video-or-image"},e)},...t.map(e=>({element:o.a.createElement("div",{key:e.id},o.a.createElement(s,{url:e.imageUrl,alt:e.imageCaption})),caption:e.imageCaption}))]:[]},sett:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return p}));n("uT+I"),n("/IHD"),n("X+my");var a=n("q1tI"),i=n.n(a);n("dDCb");n("SmhT");i.a.Component;var r=n("g1y3"),o=n("2gvo"),s=n("7LsF"),c=n("0AyS");const l={name:"create","primary-light":"ksr-green-500","primary-dark":"ksr-green-700","primary-accent":"ksr-green-500"},d=e=>i.a.createElement(s.a,Object.assign({theme:l},e)),u=e=>i.a.createElement(r.a,Object.assign({theme:l},e)),m=e=>i.a.createElement(c.a,Object.assign({theme:l},e)),p=e=>i.a.createElement(o.a,Object.assign({theme:l},e))},sezs:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("q1tI"),i=n.n(a),r=n("c5x8"),o=n("tmVa");function s({name:e,size:t=o.b,atoms:n,...a}){const{svgProps:s,useProps:l}=c({name:e,size:t}),{fill:d}=s;return i.a.createElement("svg",Object.assign({},a,s,{className:Object(r.a)(n,"kds-icon",t!==o.b&&"kds-icon--"+t),"aria-label":s["aria-label"],"aria-hidden":s["aria-hidden"],fill:d}),i.a.createElement("use",l))}const c=({name:e,size:t=o.b})=>{const n=Object(o.d)(e,t);return{svgProps:{style:o.c[t]},useProps:{xlinkHref:"#"+n}}}},t1f3:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("94td"),i=n("q1tI");const r=({name:e,atoms:t,width:n})=>{const r=(e=>{switch(e){case"book":return{url:"https://i.kickstarter.com/neijqbvs-open.png?fit=scale-down&origin=static&width=1000&sig=jctQQuUnR32TUTbfyisfNOn2%2BVpQiNsoea%2F9f0boKz8%3D",altText:Object(a.b)("illustrations.A_book")};case"blue-stairs":return{url:"https://i.kickstarter.com/FINAL_KSR_10_BLUE-STAIRS_01.png?fit=scale-down&origin=static&width=1000&sig=nExJAcxHxyQaAdF6TF88Z5Uafm%2FJA2EcPixNhtSNLS4%3D",altText:Object(a.b)("illustrations.Blue_stairs")};case"camera":return{url:"https://i.kickstarter.com/fzezqniu-camera.png?fit=scale-down&origin=static&width=1000&sig=%2FuiwtJpmDNDZrlTWkr6NfE4obVZirxMsH2Im3856q3Y%3D",altText:Object(a.b)("illustrations.A_camera")};case"coral-cube":return{url:"https://i.kickstarter.com/FINAL_KSR_10_CORAL-CUBE_01.png?fit=scale-down&origin=static&width=1000&sig=T9KzEukvUO1wUeSS3lR5dM%2F2xIQDqXs08n40MbK%2FRrQ%3D",altText:Object(a.b)("illustrations.A_coral_colored_cube")};case"coral-hollow-cylinder":return{url:"https://i.kickstarter.com/FINAL_KSR_10_CORAL-TUBE_01.png?fit=scale-down&origin=static&width=1000&sig=Ll1tArN8RggGNz7dosTFfx9XW3yiDavDItszIQFF3I8%3D",altText:Object(a.b)("illustrations.A_coral_colored_cylinder")};case"coral-sphere":return{url:"https://i.kickstarter.com/FINAL_KSR_10_CORAL-SPHERE_01.png?fit=scale-down&origin=static&width=1000&sig=1n%2FFZU9sm0CM7m9DB2niTX5k2IgUvvl7aB4Wr0eN6IE%3D",altText:Object(a.b)("illustrations.A_coral_colored_sphere")};case"film-roll":return{url:"https://i.kickstarter.com/h0mqnt9o-film_reel.png?fit=scale-down&origin=static&width=1000&sig=qzRpUkUND1KWk4YeSAQ%2BtghRXiJBdvnxFoQjkYxzY9c%3D",altText:Object(a.b)("illustrations.A_film_roll")};case"film-slate":return{url:"https://i.kickstarter.com/fjxhzezi-film_slate.png?fit=scale-down&origin=static&width=1000&sig=UJsX9GTC2%2FADK44YEhxq4ob8zN1eRVgUUxzyw%2BY5qg0%3D",altText:Object(a.b)("illustrations.A_film_slate")};case"geometric-shape":return{url:"https://i.kickstarter.com/llmd9vvt-geometric_shape.png?fit=scale-down&origin=static&width=1000&sig=j8WEEV3m6T7%2BGg7Vs9CBPcr1q23fjL8fatGqKPmRm5Q%3D",altText:Object(a.b)("illustrations.A_geometric_shape")};case"paintbrush":return{url:"https://i.kickstarter.com/k7mir4uc-paintbrush.png?fit=scale-down&origin=static&width=1000&sig=9oD7PIHfWe%2BIj%2FPtEbRu1XHBz69UKda%2F4rMgFs5by6Y%3D",altText:Object(a.b)("illustrations.A_paintbrush")};case"teeth-chattering":return{url:"https://i.kickstarter.com/FINAL_KSR_10_CHATTERING_TEETH_02.png?fit=scale-down&origin=static&width=1000&sig=0%2FrBwTQlcx3dkw4VZvHtHmu6ZneqrwmedtBUn1FYvkQ%3D",altText:Object(a.b)("illustrations.Teeth_chattering")};case"yellow-disc":return{url:"https://i.kickstarter.com/FINAL_KSR_10_YELLOW-DISC_01.png?fit=scale-down&origin=static&width=1000&sig=ghYO%2BKLWKVx18%2Fy57hbPSVPx88QypvZbuGYpNZvCL6Q%3D",altText:Object(a.b)("illustrations.A_yellow_colored_disc")};case"yellow-stairs":return{url:"https://i.kickstarter.com/lt35ik9d-Stairs_8.png?origin=static&sig=k%2BCHWqPrjokjP%2FtQedjnOvHVL3Gejpu4nt2puJu9CpA%3D",altText:Object(a.b)("illustrations.A_yellow_colored_staircase")};default:return{url:"",altText:""}}})(e);return i.createElement("img",{className:t&&t.join(" "),src:r.url,alt:r.altText,width:n})}},tODT:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("yUSt"),i=n("q1tI"),r=n.n(i),o=n("9tEJ"),s=n("c5x8");const c=r.a.forwardRef(({atoms:e,children:t,...n},i)=>r.a.createElement(a.Container,{asChild:!0},r.a.createElement(o.a,Object.assign({},n,{ref:i,className:Object(s.b)([e,"kds-input-group"],n)}),t)))},tQbK:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("SKdt"),o=n("SmhT");n("RIhn");i()((function(){var e;function t(t){var n=i()(t.currentTarget);if(!n.hasClass("ksr-popover-excluded")){var o=i()('.ksr-popover[data-target-id="#'+n.attr("id")+'"], .js-popover[data-target-id="#'+n.attr("id")+'"]');if(!o.hasClass("visible")&&!o.hasClass("block"))return function(t){var n=t.data("ksr_popover_override");if("function"==typeof n&&!n(t))return;var o=i()(t.data("targetId"));o.hasClass("js-popover-trigger")?o.removeClass("shadow-2 border-transparent").addClass("border-dark-grey-500"):o.addClass("ksr-popover-active");e&&a();e=t,t.hasClass("js-popover")?t.addClass("block"):t.addClass("visible");i()("body").addClass("ksr-popover-visible"),r.a.mobile&&i()("body, html").addClass("ksr-mobile-popover-visible");s(t),i()(document).trigger("ksr_popover:opened",{$popover:t})}(o),!1;a()}}var n={};function a(t){var n=(t=t||{}).update_focus||!1;if(e){var a=i()(e.data("targetId"));a.hasClass("js-popover-trigger")?a.addClass("shadow-2 border-transparent").removeClass("border-dark-grey-500"):a.removeClass("ksr-popover-active"),e.hasClass("js-popover")?e.removeClass("block"):e.removeClass("visible"),i()("body").removeClass("ksr-popover-visible"),i()("body, html").removeClass("ksr-mobile-popover-visible"),n&&a.find(".ksr-icon__arrow-down").focus(),i()(document).trigger("ksr_popover:closed",{$popover:e}),e=!1}}function s(e){var t,n=e.data("targetId"),a=i()(n),o=i()(window).width(),s=a.offset().top+a.outerHeight()+20;if(e.hasClass("js-popover"))o<600?e.css({top:0,left:0}):(t=a.offset().left,t-=Math.max(0,t+e.outerWidth()-(o-4)),t=Math.max(4,t),e.offset({left:t,top:s}));else{if(r.a.mobile)return;t=a.offset().left-32,t-=Math.max(0,t+e.outerWidth()-(o-32)),t=Math.max(4,t),e.offset({left:t,top:s}),e.find(".arrow").css({left:a.offset().left-e.offset().left+a.outerWidth()/2})}}i()(".ksr-popover, .js-popover").livequery((function(){var e=i()(this).data("targetId");n[e]||(i()(document).on("click",e,t),n[e]=!0)})),i()(document).on("click",".ksr-popover .close, .js-popover .close",(function(e){a(),e.preventDefault()})),i()(document).on("ksr_popover:reposition",".ksr-popover, .js-popover",(function(){s(i()(this))})),i()(document).on("ksr_popover:close",".ksr-popover, .js-popover",(function(){a()})),i()(document).on("click",(function(t){i()(t.target).closest(e).length||a()})),i()(document).on("keydown",(function(e){e.keyCode===o.d&&a({update_focus:!0})})),i()(document).on("ksr_popover:opened",(function(e,t){t.$popover.aria_set_visible().aria_focus_first_element().aria_activate_keyboard_tabindex()})),i()(document).on("ksr_popover:closed",(function(e,t){t.$popover.aria_set_hidden().aria_deactivate_keyboard_tabindex()}))}))},taau:function(e,t,n){"use strict";n.d(t,"a",(function(){return v.a})),n.d(t,"b",(function(){return oe}));var a=n("Rfcb"),i=n.n(a),r=n("q1tI"),o=n.n(r),s=n("7o2S"),c=n("xvMM"),l=n("qPyV"),d=n.n(l),u=n("iuhU"),m=n("94td"),p=n("sezs"),h=n("L/h+"),f=n("2DJ9"),g=n("VF4V"),_=n("mEsB"),b=n("NOdp"),v=n("Ach1"),k=n("NAv5"),y=n("/MMT");const E=(e,t,n,a,i)=>{let r=e.url;const o=(null==t?void 0:t.match(v.a))?v.a:t;if(o&&(r+="?ref="+o),n){const e=r.includes("?")?"&":"?";r+=`${e}term=${encodeURIComponent(n)}`}if(a){const e=r.includes("?")?"&":"?";r+=`${e}total_hits=${a}`}if(i){const e=r.includes("?")?"&":"?";r+=`${e}category_id=${i}`}return r},j=(e,t)=>{e.currentTarget.contains(e.relatedTarget)||t()},w=e=>Object(r.useMemo)(()=>{if([y.a.submitted,y.a.started].includes(e.state))return"prelaunch";if(e.state===y.a.successful&&e.isInPostCampaignPledgingPhase)return"late_pledges_active";if(e.showTrustStatus){if(e.state===y.a.canceled)return"canceled";if(e.state===y.a.failed)return"failed";if(e.state===y.a.suspended)return"suspended";if(e.state===y.a.successful||e.deadlineAt&&1e3*e.deadlineAt<Date.now())return"ended"}else if(e.state===y.a.successful||e.state===y.a.failed||e.state===y.a.canceled||e.deadlineAt&&1e3*e.deadlineAt<Date.now())return"ended";return"active"},[e]),S={active:"icon--clock",ended:"icon--flag",prelaunch:"icon--calendar",late_pledges_active:"icon--late-pledges",canceled:"icon--clock",failed:"icon--clock",suspended:"icon--clock"},O="pointer-events-none bg-black white border-none m0 radius4px px1 py1";function N({progress:e,deadlineAt:t,color:n,isAnimated:a}){return o.a.createElement("div",{className:"flex flex-column relative"},(({progress:e,deadlineAt:t})=>Object(r.useMemo)(()=>{if(!t)return!1;const n=new Date(1e3*t),a=new Date,i=Object(k.differenceInDays)(n,a),r=Object(k.differenceInHours)(n,a);return e>90&&e<100&&i>0&&r>0},[e,t]))({progress:e,deadlineAt:t})&&o.a.createElement("div",{className:"absolute bg-ksr10-green soft-black radius4px-top radius4px-left px1 py0 z1 ml-auto r0 medium",style:{bottom:8}},Object(m.b)("project_card.Almost_funded")),o.a.createElement("div",{className:"w100p flex items-center justify-start"},o.a.createElement("div",{className:Object(u.b)(a&&"progress-bar-pulse"),style:{borderBottomLeftRadius:20,borderBottomRightRadius:e>=100?20:16,borderTopRightRadius:e>=100?0:16,backgroundColor:n,width:(e<=100?e:100)+"%",height:8}})))}const C=({description:e,category:t,location:n,variant:a})=>{const[i,c]=Object(r.useState)(!1);return o.a.createElement("div",{className:Object(u.b)("flex-column project-card-root__extra-info t100p click-through z3 l0 r0")},o.a.createElement("p",{className:Object(u.b)("pb3 soft-black m0","compact"===a?"type-14 lh20px":"type-16 lh24px")},e),o.a.createElement("div",{className:"flex flex-wrap items-center gap4/5"},(null==t?void 0:t.name)&&o.a.createElement(s.a,{href:t.url,onPress:()=>Object(v.b)(t.name),small:!0},t.name),(null==n?void 0:n.displayableName)&&o.a.createElement(s.a,{href:n.discoverUrl,onPress:()=>Object(v.d)(n.displayableName||""),small:!0},n.displayableName)))},I=({variant:e})=>{const t=Object(c.a)(),n=Object(m.b)("project_card.Project_we_love");return o.a.createElement("a",{href:"/discover/pwl?ref=project_pwl_badge",className:Object(u.b)("relative keyboard-focusable focus-invisible",{t2px:"big"===e||"default"===e}),onClick:e=>e.stopPropagation(),"aria-label":n},o.a.createElement(_.a,Object.assign({label:n,placement:"top",labelClasses:O},!t&&{open:!1}),o.a.createElement(f.a,{name:"icon--project-we-love",size:"20",atoms:["mr4px valign-top no-outline"]})))},x=({project:e,creator:t,omitCreatorTooltip:n=!1,handleWatchProjectClick:a,isProjectWatched:i,backers:r,variant:s,disableHover:l=!1})=>{var p,g;const v=d()(r,"id").slice(0,2),k=Object(c.a)(),y=i?Object(m.b)("project_card.Unsave_this_project"):Object(m.b)("project_card.Save_this_project");return o.a.createElement("div",{className:Object(u.b)("project-card-details project-card__grid-details",{w100p:!l})},o.a.createElement(b.a,{slug:e.slug,hide:n},o.a.createElement("div",{className:"flex items-end justify-between flex-column",style:{minWidth:"4rem"}},o.a.createElement("a",{href:null==t?void 0:t.url,className:"keyboard-focusable focus-invisible",onClick:e=>e.stopPropagation()},o.a.createElement(h.a,{imageUrl:(null==t?void 0:t.imageUrl)||"",style:{borderColor:"#E0E0E0",width:"4rem",height:"4rem"}})))),o.a.createElement("div",{className:"col-start-3 row-start-1 self-start"},o.a.createElement("div",{className:"flex items-end justify-between flex-column h100p col-start-3 row-start-1"},o.a.createElement("div",{className:"flex items-center justify-center mr-3px z1",style:{width:"2.4rem",height:"2.4rem"}},o.a.createElement("button",{onClick:e=>{e.preventDefault(),e.stopPropagation(),a()},onKeyDown:e=>{"Enter"===e.key&&a()},className:"no-outline","aria-label":y},o.a.createElement(_.a,Object.assign({label:y,placement:"top",labelClasses:O},!k&&{open:!1}),o.a.createElement(f.a,{name:i?"icon--bookmark":"icon--bookmark-outline",size:i?"20":"16",atoms:["fill-dark-grey-500 keyboard-focusable focus-invisible"]})))),v&&v.length>0&&"compact"!==s&&o.a.createElement(_.a,{label:Object(m.b)("project_card.Backed_by_"+v.length.toString(),{backerOneName:null===(p=v[0])||void 0===p?void 0:p.name,backerTwoName:null===(g=v[1])||void 0===g?void 0:g.name}),placement:"top",labelClasses:O},o.a.createElement("div",{className:"flex items-center project-card-backers-list mt no-outline",style:{marginTop:"1.6rem"}},v.map((e,t)=>o.a.createElement(h.a,{key:e.id,atoms:[0===t?"z2":"z1"],imageUrl:e.imageUrl,borderColor:"white",size:4,style:{maxWidth:"24px",height:"2.4rem"}})))))))},T=({beforeContent:e,children:t,...n})=>o.a.createElement("span",Object.assign({},n,{className:Object(u.b)("card-title",n.className)}),o.a.createElement("span",{className:"visibility-hidden pointer-events-none"},e),t,!!e&&o.a.createElement("span",{className:"visibility-visible pointer-events-auto absolute t0 l0"},e)),A=({project:e,status:t,creator:n,variant:a,refTag:i,term:s,totalHits:c,categoryId:l,allProjectPids:d})=>{const h=Object(r.useMemo)(()=>(e=>{if("prelaunch"===e.status)return Object(m.b)("components.project_card.launching_soon");if("late_pledges_active"===e.status)return`${Object(m.b)("components.project_card.late_pledges_active")} • ${Object(m.b)("components.project_card.percent_funded",{amount:Math.round(e.percentFunded)})}`;if(["canceled","failed","suspended","ended"].includes(e.status||"")){if(e.showTrustCaptions&&e.deadlineAt){const t=new Date(1e3*e.deadlineAt);return`${Object(m.b)("components.project_card.ended_with_month_year",{monthYear:Object(k.format)(t,"MMM YYYY")})} • ${Object(m.b)("components.project_card.percent_funded",{amount:Math.round(e.percentFunded)})}`}return`${Object(m.b)("components.project_card.ended")} • ${Object(m.b)("components.project_card.percent_funded",{amount:Math.round(e.percentFunded)})}`}if(!e.deadlineAt)return"";const t=new Date(1e3*e.deadlineAt),n=new Date,a=Object(k.differenceInDays)(t,n),i=Object(k.differenceInHours)(t,n);return`${a>0?Object(m.b)("components.project_card.days_left",{count:a}):Object(m.b)("components.project_card.hours_left",{count:i>0?i:0})} • ${Object(m.b)("components.project_card.percent_funded",{amount:Math.round(e.percentFunded)})}`})({...e,status:t,showTrustCaptions:"trust"===a}),[e]),f=Object(r.useMemo)(()=>S[{status:t}.status],[t]);return o.a.createElement("div",{className:"project-card-details project-card__basic-details flex flex-column grow1"},o.a.createElement(T,{className:Object(u.b)("kds-pr-06",{"type-20 medium lh24px kds-line-clamp-3 mb0 relative":["big","default","trust"].includes(a),"type-16 medium lh20px kds-line-clamp-2 mb0 0_32px relative":"compact"===a}),beforeContent:e.isProjectWeLove&&o.a.createElement(I,{variant:a})},o.a.createElement("a",{href:E(e,i,s,c,l),className:"project-card__title soft-black hover-soft-black keyboard-focusable focus-invisible",onClick:t=>Object(v.e)(i,d,e),onAuxClick:t=>{t.button===D&&Object(v.e)(i,d,e)}},e.name)),o.a.createElement("div",{className:"flex flex-column gap4px grow1"},o.a.createElement("p",{className:"type-14 lh16px medium clamp-1 mb0",style:{color:"#4D4D4D",letterSpacing:"0.28px"}},o.a.createElement("a",{href:null==n?void 0:n.url,className:"project-card__creator keyboard-focusable focus-invisible pointer type-12 dark-grey-500 hover-dark-grey-500 hover-border-soft-black",onClick:e=>e.stopPropagation()},o.a.createElement(g.a,null,null==n?void 0:n.name))),h&&o.a.createElement("div",{className:"flex relative"},o.a.createElement(p.a,{name:f,size:"sm",atoms:["project-card__icon","fill-dark-grey-500","absolute","l-8px"]}),o.a.createElement("p",{className:"type-14 lh16px medium kds-line-clamp-2 mb0",style:{color:"#4D4D4D",letterSpacing:"0.28px"}},h))))},D=1;var P=n("ulZh"),R=n.n(P);const F=(e,t)=>{var n;return Boolean(null===(n=e.video)||void 0===n?void 0:n.videoSources)&&!("prelaunch"===t)},L=({video:e,fallBackImageUrl:t,projectName:n})=>{const{handlerProps:a,player:i,playing:s}=(e=>{const t=Object(r.useRef)(null),[n,a]=Object(r.useState)(!1),[i,o]=Object(r.useState)(null),s=Object(r.useMemo)(()=>window.matchMedia("(hover: none)").matches||window.matchMedia("(prefers-reduced-motion: reduce").matches,[]);Object(r.useEffect)(()=>{var n,a;if(!s&&(null==e||null===(n=e.videoSources)||void 0===n||null===(a=n.hls)||void 0===a?void 0:a.src)&&t.current&&R.a.isSupported()){const n=new R.a({autoStartLoad:!1});n.loadSource(e.videoSources.hls.src),n.on(R.a.Events.MANIFEST_PARSED,()=>{n.attachMedia(t.current)});const a=()=>n.startLoad(-1);return t.current.addEventListener("play",a),()=>{var e;return null===(e=t.current)||void 0===e?void 0:e.removeEventListener("play",a)}}},[t,s]);const c=Object(r.useCallback)(()=>{const e=null==t?void 0:t.current;if(e&&!s&&!n){const t=e.play();o(t),t.then(()=>{a(!0),o(null)})}},[]),l=Object(r.useCallback)(()=>{const e=null==t?void 0:t.current;e&&!s&&(i?i.then(()=>{e.pause(),a(!1)}):a(!1))},[t,i]);return{handlerProps:{onMouseOver:c,onFocus:c,onMouseLeave:l,onBlur:l},player:t,playing:n}})(e),c={width:"100%",aspectRatio:(16/9).toString(),borderTopRightRadius:8,borderTopLeftRadius:8},l=Object(m.b)("project_card.video_alt_text",{projectName:n}),d=o.a.createElement("img",{src:t,alt:l,className:Object(u.a)("w100p z1",{hide:s,block:!s}),style:c});return(null==e?void 0:e.videoSources)?o.a.createElement("div",Object.assign({tabIndex:0,"aria-hidden":!0,role:"presentation"},a),d,o.a.createElement("div",{className:Object(u.a)("project-card-root__video-backdrop w100p",{hide:!s,"is-playing":s}),style:{aspectRatio:(16/9).toString(),backgroundImage:`url(${t})`,borderTopRightRadius:8,borderTopLeftRadius:8,overflow:"hidden"}},o.a.createElement("video",{className:Object(u.a)({w100p:s}),style:{aspectRatio:(16/9).toString()},ref:i,preload:"none",poster:e.previewImageUrl||t,muted:!0,controls:!1,role:"application","aria-label":l,title:l,tabIndex:-1},Object.entries(e.videoSources||[]).map(([e,t])=>(null==t?void 0:t.src)&&(null==t?void 0:t.type)?o.a.createElement("source",{key:e,src:t.src,type:t.type}):null)))):d};var M=({project:e,category:t,location:n,creator:a,variant:i="big",refTag:l,term:d,totalHits:u,allProjectPids:m,...p})=>{const h="project-card-"+e.slug,f=w(e),[g,_]=(Object(c.a)(),Object(r.useState)(!1));return o.a.createElement("div",{id:h,className:"project-card-root relative flex flex-column pointer gapx4/5",style:{maxWidth:"66rem",padding:0}},o.a.createElement(A,{project:e,status:f,creator:a,variant:i,refTag:l,term:d,totalHits:u,categoryId:null==t?void 0:t.id,allProjectPids:m}),o.a.createElement("div",{className:"project-card__media"},o.a.createElement("a",{href:E(e,l,d,u,null==t?void 0:t.id),className:"lh0",onClick:e=>e.stopPropagation()},F(e,f)?o.a.createElement(L,{video:e.video,fallBackImageUrl:e.imageUrl,projectName:e.name}):o.a.createElement("img",{src:e.imageUrl,alt:e.name,className:"w100p z1",style:{borderTopRightRadius:8,borderTopLeftRadius:8,aspectRatio:(16/9).toString()}})),!e.prelaunchActivated&&o.a.createElement(N,{progress:e.percentFunded,color:"ended"===f?"#B3B3B3":"#05CE78",deadlineAt:e.deadlineAt,isAnimated:"late_pledges_active"===f})),o.a.createElement(x,Object.assign({project:e,status:f,location:n,category:t,creator:a,variant:i,allProjectPids:m},p)),o.a.createElement("div",{className:"flex flex-column project-card-extra-info-big project-card__expanded-details"},o.a.createElement("p",{className:"type-16 lh24px soft-black m0"},e.description),o.a.createElement("div",{className:"flex flex-wrap items-center gap4/5"},(null==t?void 0:t.name)&&o.a.createElement(s.a,{href:t.url,small:!0,onPress:()=>Object(v.b)(t.name)},t.name),(null==n?void 0:n.displayableName)&&o.a.createElement(s.a,{href:n.discoverUrl,small:!0,onPress:()=>Object(v.b)(n.displayableName||"")},n.displayableName))))},U=n("hMJ7");var V=({project:e,category:t,creator:n,location:a,hoverInPlace:i=!1,disableHover:s=!1,variant:l="default",refTag:d,term:m,totalHits:p,allProjectPids:h,...f})=>{const g=w(e),[_,b]=Object(r.useState)(!1),[k,S]=Object(r.useState)(!1),O="compact"===l?{maxWidth:"31rem"}:{},I=Object(c.a)(),{isFocusVisible:T}=Object(U.d)();return o.a.createElement("div",{className:Object(u.b)("project-card-root","relative flex flex-column w100p pointer gapx4/5",{"absolute t0 l0":_&&i,"is-hovered":_,"is-focused":k}),style:O,onMouseEnter:()=>{!s&&I&&b(!0)},onMouseLeave:()=>b(!1),onFocus:e=>j(e,()=>{!s&&I&&S(T)}),onBlur:e=>j(e,()=>S(!1))},o.a.createElement(A,{project:e,status:g,creator:n,variant:l,refTag:d,term:m,totalHits:p,categoryId:null==t?void 0:t.id,allProjectPids:h}),o.a.createElement("div",{className:Object(u.b)("absolute bg-white expandable-background",{"is-expanded":_||k})}),o.a.createElement("div",{className:"project-card__media"},o.a.createElement("a",{href:E(e,d,m,p,null==t?void 0:t.id),onClick:t=>Object(v.e)(d,h,e),onAuxClick:t=>{t.button===H&&Object(v.e)(d,h,e)}},F(e,g)?o.a.createElement(L,{video:e.video,fallBackImageUrl:e.imageUrl,projectName:e.name}):o.a.createElement("img",{src:e.imageUrl,alt:e.name,className:"w100p z1",style:{borderTopRightRadius:8,borderTopLeftRadius:8,aspectRatio:(16/9).toString(),display:"block"}})),![y.a.started,y.a.submitted].includes(e.state)&&o.a.createElement(N,{progress:e.percentFunded,color:"ended"===g?"#B3B3B3":"#05CE78",deadlineAt:e.deadlineAt,isAnimated:"late_pledges_active"===g})),o.a.createElement(x,Object.assign({project:e,status:g,category:t,creator:n,location:a,variant:l,disableHover:s,omitCreatorTooltip:!I,allProjectPids:h},f)),o.a.createElement("div",{className:Object(u.b)("project-card-root__extra-info-container project-card__expanded-details",{"is-visible":_||k})},o.a.createElement(C,{description:e.description,category:t,location:a,variant:l})))};const H=1;var B=n("mv45"),$=(n("VX74"),n("DE4Y"));const q={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UnwatchProject"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unwatchProject"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"projectId"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isWatched"}}]}}]}}]}}]};const Y=Object(B.j)(q,e=>({...e.ownProps,unwatchProject:()=>e.mutate({variables:{projectId:e.ownProps.project.id}})})),z={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"WatchProject"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"projectId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"watchProject"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"projectId"}}}]}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isWatched"}}]}}]}}]}}]};const G=Object(B.j)(z,e=>({...e.ownProps,watchProject:()=>e.mutate({variables:{projectId:e.ownProps.project.id}})}));var K=n("W2vU");const W=({children:e})=>{const[t,n]=Object(r.useState)("auto"),a=Object(K.a)(250),i=Object(r.useRef)(null);return Object(r.useEffect)(()=>{if(i.current){var e;const t=null===(e=i.current)||void 0===e?void 0:e.children;(null==t?void 0:t[0])&&n((null==t?void 0:t[0]).offsetHeight+"px")}},[a,i.current]),o.a.createElement("div",{className:"griddable-card",ref:i,style:{height:t}},e)};var J=n("j7ql"),X=n("dPds"),Z=n("btCt"),Q=n("1OuE"),ee=n("FiUa");const te=({latestPost:e,refTag:t})=>e?o.a.createElement("a",{href:`${e.url}?ref=${t}`,target:"_blank",className:"kds-text-primary kds-ml-02 kds-focus-ring kds-rounded-sm",style:{"--kds-focus-ring-offset":"-4px"}},o.a.createElement("div",{className:"radius8px kds-border hover:kds-border-bold active:kds-border-active flex flex-row items-center kds-p-04"},o.a.createElement("div",{className:"flex flex-column kds-gap-03 w100p"},o.a.createElement("div",{className:"flex flex-row"},o.a.createElement(X.a.HeadingXS,{as:"div"},Object(m.b)("project_update.Update_sequence",{sequence:e.number})),o.a.createElement(X.a.HeadingXS,{as:"div",className:"kds-ml-auto"},Object(Q.b)("LL",e.publishedAt||0))),o.a.createElement("div",null,o.a.createElement(X.a.HeadingMD,{as:"h6"},e.title))))):null,ne=({commentsCount:e,projectUrl:t,refTag:n})=>o.a.createElement("a",{href:`${t}/comments?ref=${n}`,target:"_blank",className:"kds-text-primary kds-ml-02 kds-focus-ring kds-rounded-sm",style:{"--kds-focus-ring-offset":"-4px"}},o.a.createElement("div",{className:"radius8px kds-border hover:kds-border-bold active:kds-border-active flex flex-row items-center kds-p-04"},o.a.createElement("div",{className:"flex flex-row items-center kds-gap-01"},o.a.createElement(p.a,{name:"icon--chat"}),o.a.createElement(X.a.HeadingSM,{as:"span"},e)),o.a.createElement("div",{className:"flex flex-row items-center kds-gap-01 kds-ml-auto"},o.a.createElement(X.a.BodySM,{as:"span"},Object(m.b)("components.trust_card.View_comments")),o.a.createElement(p.a,{name:"icon--arrow-right",size:"sm"})))),ae=({tooltipDescription:e,badgeText:t,badgeIcon:n,badgeVariant:a})=>{const i=o.a.createElement(ee.a,{icon:n,variant:a},t);return e?o.a.createElement(J.a,{description:e,placement:"right",atoms:["text-preline"]},o.a.createElement(J.a.Trigger,null,i)):o.a.createElement(o.a.Fragment,null,i)},ie=1;var re=({project:e,category:t,creator:n,location:a,hoverInPlace:i=!1,disableHover:s=!1,variant:l="trust",refTag:d,term:p,totalHits:h,allProjectPids:f,commentsCount:g,latestPost:_,fulfillmentStatus:b,fulfillmentStatusUpdatedAt:k,hasProjectNotice:S,...O})=>{const I=Object(Z.a)(),T=w({...e,showTrustStatus:!0}),[D,P]=Object(r.useState)("xs"===I),[R,M]=Object(r.useState)(!1),V=Object(c.a)(),{isFocusVisible:H}=Object(U.d)(),B=(({status:e,fulfillmentStatus:t,fulfillmentStatusUpdatedAt:n,hasProjectNotice:a})=>{if(a)return{badgeText:Object(m.b)("components.trust_card.Restricted_badge"),badgeIcon:"icon--error",badgeVariant:"danger",tooltipDescription:Object(m.b)("components.trust_card.Restricted_tooltip")};if("canceled"===e)return{badgeText:Object(m.b)("components.trust_card.Funding_canceled_badge"),badgeIcon:"icon--info",tooltipDescription:Object(m.b)("components.trust_card.Funding_canceled_tooltip")};if("failed"===e)return{badgeText:Object(m.b)("components.trust_card.Funding_unsuccessful_badge"),badgeIcon:"icon--info",tooltipDescription:Object(m.b)("components.trust_card.Funding_unsuccessful_tooltip")};if("suspended"===e)return{badgeText:Object(m.b)("components.trust_card.Suspended_badge"),badgeIcon:"icon--info",badgeVariant:"danger",tooltipDescription:Object(m.b)("components.trust_card.Suspended_tooltip")};if(("ended"===e||"late_pledges_active"===e)&&t&&n){if([$.u.ALL_REWARDS_MADE,$.u.FULFILLING_ALL_REWARDS,$.u.FULFILLING_SOME_REWARDS].includes(t))return{badgeText:Object(m.b)("components.trust_card.Marked_as_in_fulfillment_badge"),tooltipDescription:Object(m.b)("components.trust_card.Marked_as_in_fulfillment_tooltip",{fulfillmentStatusDate:Object(Q.b)("LL",n)})};if([$.u.NO_REWARDS_MADE,$.u.SOME_REWARDS_MADE].includes(t))return{badgeText:Object(m.b)("components.trust_card.Marked_as_in_production_badge"),tooltipDescription:Object(m.b)("components.trust_card.Marked_as_in_production_tooltip",{fulfillmentStatusDate:Object(Q.b)("LL",n)})};if(t===$.u.FULFILLMENT_COMPLETE)return{badgeText:Object(m.b)("components.trust_card.Marked_as_fulfilled_badge"),tooltipDescription:Object(m.b)("components.trust_card.Marked_as_fulfilled_tooltip",{fulfillmentStatusDate:Object(Q.b)("LL",n)})}}return null})({status:T,fulfillmentStatus:b,fulfillmentStatusUpdatedAt:k,hasProjectNotice:S});return o.a.createElement("div",{className:Object(u.b)("project-card-root","project-card-trust-grid","relative flex flex-column w100p pointer gapx4/5",{"absolute t0 l0":D&&i,"is-hovered":D,"is-focused":R}),onMouseEnter:()=>{!s&&V&&P(!0)},onMouseLeave:()=>P(!1),onFocus:e=>j(e,()=>{!s&&V&&M(H)}),onBlur:e=>j(e,()=>M(!1))},o.a.createElement(A,{project:e,status:T,creator:n,variant:l,refTag:d,term:p,totalHits:h,categoryId:null==t?void 0:t.id,allProjectPids:f}),o.a.createElement("div",{className:Object(u.b)("bg-white expandable-background",{"is-expanded":D||R||"xs"===I,absolute:"xs"!==I,hide:"xs"===I})}),o.a.createElement("div",{className:"project-card__media"},o.a.createElement("a",{href:E(e,d,p,h,null==t?void 0:t.id),onClick:t=>Object(v.e)(d,f,e),onAuxClick:t=>{t.button===ie&&Object(v.e)(d,f,e)}},o.a.createElement("div",{className:"relative"},F(e,T)?o.a.createElement(L,{video:e.video,fallBackImageUrl:e.imageUrl,projectName:e.name}):o.a.createElement("img",{src:e.imageUrl,alt:e.name,className:"w100p z1",style:{borderTopRightRadius:8,borderTopLeftRadius:8,aspectRatio:(16/9).toString(),display:"block"}}),!["prelaunch","active"].includes(T)&&B&&o.a.createElement("div",{style:{position:"absolute",right:4,bottom:3}},o.a.createElement(ae,B)))),![y.a.started,y.a.submitted].includes(e.state)&&o.a.createElement(N,{progress:e.percentFunded,color:["canceled","failed","suspended","ended"].includes(T)?"#B3B3B3":"#05CE78",deadlineAt:e.deadlineAt,isAnimated:"late_pledges_active"===T})),o.a.createElement(x,Object.assign({project:e,status:T,creator:n,variant:l,disableHover:s,omitCreatorTooltip:!V,allProjectPids:f},O)),o.a.createElement("div",{className:Object(u.b)("project-card-root__extra-info-container project-card__expanded-details",{"is-visible":D||R||"xs"===I})},["late_pledges_active","ended"].includes(T)?o.a.createElement("div",{className:"flex flex-column kds-gap-02"},_&&o.a.createElement(te,{latestPost:_,refTag:d}),o.a.createElement(ne,{commentsCount:g,projectUrl:e.url,refTag:d})):o.a.createElement(C,{description:e.description,category:t,location:a,variant:l})))};const oe=i()(G,Y)((function(e){const t=(e=>{const[t,n]=Object(r.useState)(e.project.isWatched),a=Object(r.useMemo)(()=>t?e.unwatchProject:e.watchProject,[t]),i=Object(r.useMemo)(()=>t?"unwatchProject":"watchProject",[t]),o=Object(r.useCallback)(()=>{window.current_user?a&&a().then(e=>{e.data&&(n(e.data[i].project.isWatched),Object(v.f)(e.data[i].project.isWatched))}):window.location.href=`/login?ref=save&ref=${window.location.pathname}${window.location.search}`},[a,e.project.isWatched]);return{isProjectWatched:t,handleWatchProjectClick:o}})(e);let n;if(!e.project)return null;switch(e.variant){case"default":case"compact":case void 0:n=o.a.createElement(V,Object.assign({},e,t));break;case"big":n=o.a.createElement(M,Object.assign({},e,t));break;case"trust":n=o.a.createElement(re,Object.assign({},e,t));break;default:throw new Error("Invalid variant provided")}return(null==e?void 0:e.griddable)?o.a.createElement(W,null,n):o.a.createElement("div",null,n)}));t.c=oe},tmAf:function(e,t,n){"use strict";var a=n("ioZw");t.a=function(e){return e.show_more_backings=e.total>e.backings.length,e.count=e.total,e.backings=e.backings.map(e=>Object(a.a)(Object.assign(e.get()))),e}},tmVa:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return s}));const a=["md","sm"],i=a[0],r=(e,t=i)=>{var n;const r=s[e];if(r){if(t in r)return null!==(n=r[t])&&void 0!==n?n:a.find(e=>r[e]);console.warn(`No "${t}" icon found in KDS_ICONS for "${e}"`)}else console.warn(`No icons found in KDS_ICONS for "${e}"`)},o={md:{width:24,aspectRatio:"1"},sm:{width:16,aspectRatio:"1"}},s={"icon--activity-feed":{md:"icon--activity-feed.kds"},"icon--add-heading":{md:"icon--add-heading.kds"},"icon--advanced-analytics":{md:"icon--advanced-analytics.kds"},"icon--alt-text":{md:"icon--alt-text.kds"},"icon--arrow-down":{sm:"icon--arrow-down.sm.kds",md:"icon--arrow-down.kds"},"icon--arrow-left":{sm:"icon--arrow-left.sm.kds",md:"icon--arrow-left.kds"},"icon--arrow-right":{sm:"icon--arrow-right.sm.kds",md:"icon--arrow-right.kds"},"icon--arrow-up":{sm:"icon--arrow-up.sm.kds",md:"icon--arrow-up.kds"},"icon--award":{md:"icon--award.kds"},"icon--bar-graph":{md:"icon--bar-graph.kds"},"icon--bell":{md:"icon--bell.kds"},"icon--bold":{md:"icon--bold.kds"},"icon--bolt":{md:"icon--bolt.kds"},"icon--bookmark-filled":{md:"icon--bookmark-filled.kds"},"icon--bookmark":{md:"icon--bookmark.kds"},"icon--bulleted-list":{md:"icon--bulleted-list.kds"},"icon--calendar":{sm:"icon--calendar.sm.kds",md:"icon--calendar.kds"},"icon--caption":{md:"icon--caption.kds"},"icon--captions":{md:"icon--captions.kds"},"icon--cart":{md:"icon--cart.kds"},"icon--category":{sm:"icon--category.sm.kds",md:"icon--category.kds"},"icon--chat":{md:"icon--chat.kds"},"icon--check":{sm:"icon--check.sm.kds",md:"icon--check.kds"},"icon--chevron-down":{sm:"icon--chevron-down.sm.kds",md:"icon--chevron-down.kds"},"icon--chevron-left":{sm:"icon--chevron-left.sm.kds",md:"icon--chevron-left.kds"},"icon--chevron-right":{sm:"icon--chevron-right.sm.kds",md:"icon--chevron-right.kds"},"icon--chevron-up":{sm:"icon--chevron-up.sm.kds",md:"icon--chevron-up.kds"},"icon--circle-around":{md:"icon--circle-around.kds"},"icon--circle-backward":{md:"icon--circle-backward.kds"},"icon--circle-forward":{md:"icon--circle-forward.kds"},"icon--circle":{md:"icon--circle.kds"},"icon--clock":{sm:"icon--clock.sm.kds",md:"icon--clock.kds"},"icon--close":{sm:"icon--close.sm.kds",md:"icon--close.kds"},"icon--collapse":{md:"icon--collapse.kds"},"icon--conversion":{md:"icon--conversion.kds"},"icon--convert":{md:"icon--convert.kds"},"icon--copy":{md:"icon--copy.kds"},"icon--credit-card":{md:"icon--credit-card.kds"},"icon--date-and-time":{sm:"icon--date-and-time.sm.kds",md:"icon--date-and-time.kds"},"icon--download":{md:"icon--download.kds"},"icon--drag":{md:"icon--drag.kds"},"icon--edit":{md:"icon--edit.kds"},"icon--ellipsis":{md:"icon--ellipsis.kds"},"icon--error":{sm:"icon--error.sm.kds",md:"icon--error.kds"},"icon--expand":{md:"icon--expand.kds"},"icon--external":{sm:"icon--external.sm.kds",md:"icon--external.kds"},"icon--filters":{md:"icon--filters.kds"},"icon--flag":{sm:"icon--flag.sm.kds",md:"icon--flag.kds"},"icon--fulfillment":{md:"icon--fulfillment.kds"},"icon--globe":{md:"icon--globe.kds"},"icon--hamburger":{md:"icon--hamburger.kds"},"icon--heading":{md:"icon--heading.kds"},"icon--heart-filled":{sm:"icon--heart-filled.sm.kds",md:"icon--heart-filled.kds"},"icon--heart":{sm:"icon--heart.sm.kds",md:"icon--heart.kds"},"icon--hide":{sm:"icon--hide.sm.kds",md:"icon--hide.kds"},"icon--home":{md:"icon--home.kds"},"icon--human":{sm:"icon--human.sm.kds",md:"icon--human.kds"},"icon--humans":{md:"icon--humans.kds"},"icon--image":{md:"icon--image.kds"},"icon--inbox":{md:"icon--inbox.kds"},"icon--info":{sm:"icon--info.sm.kds",md:"icon--info.kds"},"icon--intermediate":{sm:"icon--intermediate.sm.kds",md:"icon--intermediate.kds"},"icon--italic":{md:"icon--italic.kds"},"icon--late-pledges":{sm:"icon--late-pledges.sm.kds",md:"icon--late-pledges.kds"},"icon--lightbulb":{md:"icon--lightbulb.kds"},"icon--line-graph":{md:"icon--line-graph.kds"},"icon--link":{md:"icon--link.kds"},"icon--location":{sm:"icon--location.sm.kds",md:"icon--location.kds"},"icon--locked":{sm:"icon--locked.sm.kds",md:"icon--locked.kds"},"icon--log-out":{md:"icon--log-out.kds"},"icon--logo":{md:"icon--logo.kds",sm:"icon--logo.sm.kds"},"icon--media-embed":{md:"icon--media-embed.kds"},"icon--message":{md:"icon--message.kds"},"icon--minus":{md:"icon--minus.kds"},"icon--mobile":{md:"icon--mobile.kds"},"icon--mute":{md:"icon--mute.kds"},"icon--numbered-list":{md:"icon--numbered-list.kds"},"icon--order-management":{md:"icon--order-management.kds"},"icon--pause":{md:"icon--pause.kds"},"icon--pin":{md:"icon--pin.kds"},"icon--play-filled":{md:"icon--play-filled.kds"},"icon--play":{md:"icon--play.kds"},"icon--pledges":{md:"icon--pledges.kds"},"icon--pledge-redemption":{md:"icon--pledge-redemption.kds"},"icon--plus-human":{md:"icon--plus-human.kds"},"icon--minus-human":{md:"icon--minus-human.kds"},"icon--plus":{md:"icon--plus.kds"},"icon--prohibited":{md:"icon--prohibited.kds"},"icon--pullquote":{md:"icon--pullquote.kds"},"icon--q-and-a":{md:"icon--q-and-a.kds"},"icon--question":{md:"icon--question.kds"},"icon--reply":{md:"icon--reply.kds"},"icon--reward":{sm:"icon--reward.sm.kds",md:"icon--reward.kds"},"icon--search":{md:"icon--search.kds"},"icon--sentiment-neutral-filled":{md:"icon--sentiment-neutral-filled.kds"},"icon--sentiment-neutral":{md:"icon--sentiment-neutral.kds"},"icon--sentiment-satisfied-filled":{md:"icon--sentiment-satisfied-filled.kds"},"icon--sentiment-satisfied":{md:"icon--sentiment-satisfied.kds"},"icon--sentiment-unsatisfied-filled":{md:"icon--sentiment-unsatisfied-filled.kds"},"icon--sentiment-unsatisfied":{md:"icon--sentiment-unsatisfied.kds"},"icon--settings":{md:"icon--settings.kds"},"icon--shipping":{md:"icon--shipping.kds"},"icon--show":{md:"icon--show.kds"},"icon--sidebar-close":{md:"icon--sidebar-close.kds"},"icon--sidebar-open":{md:"icon--sidebar-open.kds"},"icon--spinner":{md:"icon--spinner.kds"},"icon--star":{sm:"icon--star.sm.kds",md:"icon--star.kds"},"icon--stopwatch":{md:"icon--stopwatch.kds"},"icon--success":{sm:"icon--success.sm.kds",md:"icon--success.kds"},"icon--survey":{md:"icon--survey.kds"},"icon--survey-open-text":{md:"icon--survey-open-text.kds"},"icon--survey-single-choice":{md:"icon--survey-single-choice.kds"},"icon--survey-multiple-choice":{md:"icon--survey-multiple-choice.kds"},"icon--task-partially-complete":{sm:"icon--task-partially-complete.sm.kds",md:"icon--task-partially-complete.kds"},"icon--task-to-do":{sm:"icon--task-to-do.sm.kds",md:"icon--task-to-do.kds"},"icon--tax-documents":{md:"icon--tax-documents.kds"},"icon--trash":{md:"icon--trash.kds"},"icon--unlink":{md:"icon--unlink.kds"},"icon--unlocked":{sm:"icon--unlocked.sm.kds",md:"icon--unlocked.kds"},"icon--upload":{md:"icon--upload.kds"},"icon--verified":{sm:"icon--verified.sm.kds",md:"icon--verified.kds"},"icon--video":{md:"icon--video.kds"},"icon--volume-down":{md:"icon--volume-down.kds"},"icon--volume-up":{md:"icon--volume-up.kds"},"icon--warning":{sm:"icon--warning.sm.kds",md:"icon--warning.kds"},"icon--shopify-logo":{md:"icon--shopify-logo.kds"}},c=Object.keys(s);c.filter(e=>"md"in s[e]),c.filter(e=>"sm"in s[e])},tr1H:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a={PROCOMM:"procomm",SYSINT:"sysint",POST_UPDATES:"post_updates",REWARDS_FULFILLMENT:"rewards_fulfillment",EVENTS_CLEANUP:"events_cleanup"}},u5Zg:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("GRmu"),o=n("qcI4"),s=n("TIPN"),c=n("/AD1");i()((function(){i()("#last-updated-link").on("click",e=>{e.preventDefault(),Object(s.e)({to:i()(".NS_projects__content").offset().top,easing:"easeInOutCubic",duration:300,offset:20})}),i()(document).on("project_added_to_curated_page",(function(e,t){var n=i()("#add_to_curated_page_widget .button-curate");n.addClass("on"),n.attr("href",t.edit_url)})),void 0!==c.a&&c.a.on_change("pledged",(function(){var e=i()("#stats"),t=e[0].className.match(/digits_\d+/),n="digits_"+Math.floor(c.a.get("pledged")).toString().length;t&&t[0]!==n&&e.removeClass(t[0]).addClass(n)})),i()(".js-checkout-poller").livequery((function(){var e=i()(this),t=i()('<span class="spinner" />').spin("ksr","#333");e.append(t),i.a.pollster(e.data("href"),(function(t){return"successful"===t.state?(window.location.reload(),!0):"failed"===t.state?(Object(r.a)({error:t.state_reason}),e.closest(".notification-message").remove(),!0):void 0}),{delay:2500})}));var e={};i()(".poll[data-dynamic]").livequery((function(){var t,n=i()(this),a=parseInt(n.data("dynamic"),10),r=n.data("poll_url");function s(e){var n,i=e.responseText;if("string"==typeof i)try{i=JSON.parse(i)}catch(e){i={}}i.project&&(n=o.e.find(i.project.id),a=i.poll_interval_override||function(e,t,n){var a;return t.get("pledged")!==n.pledged||t.get("comments_count")!==n.comments_count?(a=e-Math.ceil((e-5)/2),Math.max(a,5)):(a=e+10,Math.min(a,60))}(a,n,i.project),n.set(i.project)),t(a)}r&&"number"==typeof a&&!isNaN(a)&&(t=function(t){e[r]=setTimeout((function(){e[r]=i.a.ajax({global:!1,url:r,complete:s})}),1e3*t)})(a)}),(function(){var t=e[i()(this).data("poll_url")];"number"==typeof t?clearTimeout(t):"function"==typeof t.abort&&t.abort()}))}))},uAMZ:function(e,t,n){var a=n("+2Rf");n("+2Rf");!function(e){function t(e,t){return"function"==typeof e?e.call(t):e}function n(e){for(;e=e.parentNode;)if(e==document)return!0;return!1}var a=0;function i(t,n){this.$element=e(t),this.options=n,this.enabled=!0,this.fixTitle()}i.prototype={show:function(){var i,r;if(n(this.$element[0])&&(i=this.$element,(!("object"==typeof HTMLElement?i instanceof HTMLElement:i&&"object"==typeof i&&1===i.nodeType&&"string"==typeof i.nodeName)||this.$element.is(":visible"))&&this.enabled&&(r=this.getTitle()))){var o=this.tip();o.find(".tipsy-inner"+this.options.theme)[this.options.html?"html":"text"](r),o[0].className="tipsy"+this.options.theme,this.options.className&&o.addClass(t(this.options.className,this.$element[0])),o.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).prependTo(document.body);var s=e.extend({},this.$element.offset());s=this.$element.parents("svg").size()>0?e.extend(s,this.$element[0].getBBox()):e.extend(s,{width:this.$element[0].offsetWidth||0,height:this.$element[0].offsetHeight||0});var c,l=o[0].offsetWidth,d=o[0].offsetHeight,u=t(this.options.gravity,this.$element[0]);switch(u.charAt(0)){case"n":c={top:s.top+s.height+this.options.offset,left:s.left+s.width/2-l/2};break;case"s":c={top:s.top-d-this.options.offset,left:s.left+s.width/2-l/2};break;case"e":c={top:s.top+s.height/2-d/2,left:s.left-l-this.options.offset};break;case"w":c={top:s.top+s.height/2-d/2,left:s.left+s.width+this.options.offset}}if(2==u.length&&("w"==u.charAt(1)?c.left=s.left+s.width/2-15:c.left=s.left+s.width/2-l+15),o.css(c).addClass("tipsy-"+u+this.options.theme),o.find(".tipsy-arrow"+this.options.theme)[0].className="tipsy-arrow"+this.options.theme+" tipsy-arrow-"+u.charAt(0)+this.options.theme,this.options.fade?(this.options.shadow&&e(".tipsy-inner").css({"box-shadow":"0px 0px "+this.options.shadowBlur+"px "+this.options.shadowSpread+"px rgba(0, 0, 0, "+this.options.shadowOpacity+")","-webkit-box-shadow":"0px 0px "+this.options.shadowBlur+"px "+this.options.shadowSpread+"px rgba(0, 0, 0, "+this.options.shadowOpacity+")"}),o.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity})):o.css({visibility:"visible",opacity:this.options.opacity}),this.options.aria){var m="tipsyuid"+a++;o.attr("id",m),this.$element.attr("aria-describedby",m)}}},hide:function(){this.options.fade?this.tip().stop().fadeOut((function(){e(this).remove()})):this.tip().remove(),this.options.aria&&this.$element.removeAttr("aria-describedby")},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("original-title"))&&e.attr("original-title",e.attr("title")||"").removeAttr("title")},getTitle:function(){var e,t=this.$element,n=this.options;return this.fixTitle(),"string"==typeof n.title?e=t.attr("title"==n.title?"original-title":n.title):"function"==typeof n.title&&(e=n.title.call(t[0])),(e=(""+e).replace(/(^\s*|\s*$)/,""))||n.fallback},tip:function(){return this.$tip||(this.$tip=e('<div class="tipsy'+this.options.theme+'"></div>').html('<div class="tipsy-arrow'+this.options.theme+'"></div><div class="tipsy-inner'+this.options.theme+'"></div>').attr("role","tooltip"),this.$tip.data("tipsy-pointee",this.$element[0])),this.$tip},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled}},e.fn.tipsy=function(t){if(e.fn.tipsy.enable(),!0===t)return this.data("tipsy");if("string"==typeof t){var a=this.data("tipsy");return a&&a[t](),this}function r(n){var a=e.data(n,"tipsy");return a||(a=new i(n,e.fn.tipsy.elementOptions(n,t)),e.data(n,"tipsy",a)),a}function o(){if(!0===e.fn.tipsy.enabled){var a=r(this);a.hoverState="in",0===t.delayIn?a.show():(a.fixTitle(),setTimeout((function(){"in"==a.hoverState&&n(a.$element)&&a.show()}),t.delayIn))}}function s(){var e=r(this);e.hoverState="out",0===t.delayOut?e.hide():setTimeout((function(){"out"!=e.hoverState&&e.$element&&e.$element.is(":visible")||e.hide()}),t.delayOut)}if((t=e.extend({},e.fn.tipsy.defaults,t)).theme=t.theme&&""!==t.theme?"-"+t.theme:"",t.live||this.each((function(){r(this)})),"manual"!=t.trigger){var c="hover"==t.trigger?"mouseenter mouseover touchstart":"focus",l="hover"==t.trigger?"mouseleave mouseout touchmove touchleave":"blur";if(t.live&&!0!==t.live)e(this).on(c,t.live,o),e(this).on(l,t.live,s);else{if(t.live&&!e.live)throw"Since jQuery 1.9, pass selector as live argument. eg. $(document).tipsy({live: 'a.live'});";var d=t.live?"live":"bind";this[d](c,o)[d](l,s)}}return this},e.fn.tipsy.defaults={aria:!1,className:null,delayIn:0,delayOut:0,fade:!1,shadow:!1,shadowBlur:8,shadowOpacity:1,shadowSpread:0,fallback:"",gravity:"n",html:!1,live:!1,offset:0,opacity:.8,title:"title",trigger:"hover",theme:""},e.fn.tipsy.revalidate=function(){e(".tipsy").each((function(){var t=e.data(this,"tipsy-pointee");t&&n(t)||e(this).remove()}))},e.fn.tipsy.enable=function(){e.fn.tipsy.enabled=!0},e.fn.tipsy.disable=function(){e.fn.tipsy.enabled=!1},e.fn.tipsy.elementOptions=function(t,n){return e.metadata?e.extend({},n,e(t).metadata()):n},e.fn.tipsy.autoNS=function(){return e(this).offset().top>e(document).scrollTop()+e(window).height()/2?"s":"n"},e.fn.tipsy.autoWE=function(){return e(this).offset().left>e(document).scrollLeft()+e(window).width()/2?"e":"w"},e.fn.tipsy.autoNWNE=function(){return e(this).offset().left>e(document).scrollLeft()+e(window).width()/2?"ne":"nw"},e.fn.tipsy.autoSWSE=function(){return e(this).offset().left>e(document).scrollLeft()+e(window).width()/2?"se":"sw"},e.fn.tipsy.autoBounds=function(t,n,a){return function(){var i={ns:a[0],ew:a.length>1&&a[1]},r=e(document).scrollTop()+t,o=e(document).scrollLeft()+n,s=e(this);return s.offset().top<r&&(i.ns="n"),s.offset().left<o&&(i.ew="w"),e(window).width()+e(document).scrollLeft()-s.offset().left<n&&(i.ew="e"),e(window).height()+e(document).scrollTop()-s.offset().top<t&&(i.ns="s"),i.ns+(i.ew?i.ew:"")}}}(a)},uBBe:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n("lHf8"),i=n("2DJ9"),r=n("mv45"),o=n("94td"),s=n("q1tI"),c=n.n(s),l=n("wdXr"),d=n("5j0V");const u=Object(r.j)(d.a,e=>{const{projectId:t,className:n,location:a}=e.ownProps;return{className:n,makeRequest:()=>e.mutate({variables:{projectId:t,location:a}}),location:a}})(({makeRequest:e,className:t="",location:n})=>{const[r,d]=Object(s.useState)(!1),[u,m]=Object(s.useState)(!1),{targetRef:p,didIntersect:h}=Object(l.a)({rootMargin:"0%"});return u?null:c.a.createElement("div",{"data-test-id":"project-update-request-form",className:"p2 bg-trust-100 trust-700 type-16 flex justify-between items-center "+t},r?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{"data-test-id":"project-update-request-success-message"},c.a.createElement(i.a,{name:"icon--check",size:"20",atoms:["fill-trust-700","mr2"]}),Object(o.b)("project_page.project_update_request.Thanks_we_will_request")),c.a.createElement("div",{className:"flex justify-end"},c.a.createElement(a.a,{"data-test-id":"project-update-request-dismiss",atoms:["mx3","text-underline","type-16"],color:"trust-blue",onClick:()=>m(!0)},Object(o.b)("project_page.project_update_request.Ok")))):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"mr2 flex2",ref:p},Object(o.b)("project_page.project_update_request.Would_you_like_to_request")),c.a.createElement("div",{className:"flex justify-end flex1"},c.a.createElement(a.a,{"data-test-id":"project-update-request-submit",atoms:["mr4","text-underline","type-16"],color:"trust-blue",onClick:t=>{t.preventDefault(),e(),d(!0)}},Object(o.b)("project_page.project_update_request.Yes_request")),c.a.createElement(a.a,{"data-test-id":"project-update-request-no",atoms:["text-underline","type-16"],color:"trust-blue",onClick:()=>{m(!0)}},Object(o.b)("project_page.project_update_request.No_request")))))})},uBwy:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("q1tI");const i=()=>a.createElement("span",null,String.fromCharCode(160))},uJlH:function(e,t,n){"use strict";var a=n("KKf6"),i=n("ese3"),r=n("2UXI"),o=n("0VSk"),s=n("+2Rf");n("+2Rf");!function(e){function t(t,n){this.$elem=t,this.$close_a=t.find("a.modal_dialog_close");var a=t.children(),i=a.children(),r=i.children(),o=t.add(a).add(i).add(r).add(this.$close_a);this.options=e.extend({close_link:o,scroll_margin:20,ignore_parent:!1,prevent_close:!1},n),this.prevent_close=this.options.prevent_close,this.prevent_close&&this.$close_a.hide(),this.options.ignore_parent||this._bind_parent_modal(),this._remember_original_css(),this._attach()}e.fn.modal_dialog=function(n){return n=n||{},e(this).each((function(){var a=e(this).data("modal_dialog");a||(a=new t(e(this),n),e(this).data("modal_dialog",a)),a.open()}))};var s={};e.create_modal_dialog=function(n,a,i){i=i||{},n.length&&(n="<h4>"+n+"</h4>");var r,o=e('<div class="modal_dialog '+(void 0!==i.theme?i.theme:"dark")+(void 0!==i.class_name?" "+i.class_name:"")+'"'+(void 0!==i.id?' id="'+i.id+'" ':" ")+'style="display: none;"><div class="modal_dialog_outer"><div class="modal_dialog_sizer" style="display: table-cell; vertical-align: middle;"><div class="modal_dialog_inner"><div class="modal_dialog_content"><div class="modal_dialog_head">'+n+'<a class="modal_dialog_close" href="#"><span class="ss-icon ss-delete"></span></a></div><div class="modal_dialog_body">'+a+'</div></div></div><span class="modal_dialog_ie_hack"></span></div></div></div>');return e("body").append(o),r=new t(o,i),o.data("modal_dialog",r),o},e.create_login_modal=function(t,n){Object(r.d)("Application Login or Signup",{context:"Login",type:"modal",intent:n});var a=e.create_modal_dialog("",t);a.data("modal_dialog").open(),"undefined"!=typeof FB&&FB.XFBML.parse(a.find(".modal_dialog_body")[0])},e.open_remote_modal_dialog=function(t,n){var a=e(".modal_dialog:visible");if(!a.data("modal_dialog")||a.data("modal_dialog").remote_url!==t){var r=function(t,n){var a,r=e([]);return e.each(s,(function(e){Object(i.a)(t,e,{include_query:!0})&&(a=this)})),a||((r=e.create_modal_dialog(n.title||"","spinner",n)).addClass("spinning"),(a=r.data("modal_dialog")).remote_url=t,a.remote_xhr=e.ajax({url:t,type:"get",dataType:n.dataType,beforeSend:n.beforeSend,success:function(a){var i=e(a);n.remote_modal_dialog_contents_loaded&&n.remote_modal_dialog_contents_loaded.apply(this,[i,n,t]),r.find(".modal_dialog_body").html(i),r.removeClass("spinning"),r.trigger("size_change"),r.trigger("modal_dialog:remote_dialog_loaded")},error:function(){r.trigger("modal_dialog:errored",arguments),r.remove(),delete s[t]}}),n.do_not_cache||(s[t]=a)),a}(t,n=n||{});return r.open(),r}},e.extend(t.prototype,{_attach:function(){if(this._attached)return;var t=this,a=e(this.options.close_link);this._attached=!0,this.overflow_scroll="scroll"===this.$elem.css("overflow"),this.$elem.on("close.modal_dialog",(function(){t.close()})),this.$elem.on("size_change.modal_dialog",(function(){t._on_size_changed()})),this.$elem.on("prevent_close.modal_dialog",(function(){t._set_prevent_close(!0)})),this.$elem.on("allow_close.modal_dialog",(function(){t._set_prevent_close(!1)})),e(window).on("resize.modal_dialog",(function(){t._on_size_changed()})),a.on("click.modal_dialog",(function(e){-1!==a.index(e.target)&&(t.close(e),e.preventDefault())}));const i=this.$elem.find(".modal_dialog_content")[0];i&&n.e(0).then(n.bind(null,"bdgK")).then(({default:e})=>{new e(()=>{t._on_size_changed()}).observe(i)}),this.$elem.keydown((function(e){27===e.keyCode&&(t.close(e),e.preventDefault())}))},_detach:function(){this._attached=!1,e(this.options.close_link).off("click.modal_dialog"),this.$elem.off("size_change.modal_dialog"),e(window).off("resize.modal_dialog")},_bind_parent_modal:function(){this.$parent_modal=e([]),this.$elem.on("before_close.modal_dialog",(function(){var t=e(this).data("modal_dialog").$parent_modal;t.show(),t=e([])}))},_on_size_changed:function(e){var t=this.$elem.find("div.modal_dialog_inner");!this.overflow_scroll&&t.height()>this._get_viewport_height()?this._resize_to_position_absolute(e):this._resize_to_position_fixed()},_resize_to_position_fixed:function(){this._apply_original_css()},_resize_to_position_absolute:function(t){var n=e(document).height(),a=document.documentElement&&document.documentElement.scrollTop||e("body")[0].scrollTop+e("html")[0].scrollTop,i=this.$elem.find("div.modal_dialog_inner"),r=i.height(),o=this.options.scroll_margin,s=a+r+2*o,c=(s>n?s:n)-a-r-2*o,l="absolute"===this.$elem.css("position");this.$elem.css("position","absolute"),this.$elem.css("top","0"),this.$elem.css("height",n),l&&!t||(i.css("margin-top",a+o),i.css("margin-bottom",c))},_remember_original_css:function(){this._elem_original_css={},this._inner_original_css={};var t=this.$elem.find("div.modal_dialog_inner"),n=["position","top"],a=["margin-top","margin-bottom"],i=this;e.each(n,(function(e){var t=n[e];i._elem_original_css[t]=i.$elem.css(t)})),e.each(a,(function(e){var n=a[e];i._inner_original_css[n]=t.css(n)}))},_get_viewport_height:function(){return a.a.msie?window.document.documentElement.clientHeight:window.innerHeight},_apply_original_css:function(){var e,t,n=this.$elem.find("div.modal_dialog_inner");for(e in this._elem_original_css)this._elem_original_css.hasOwnProperty(e)&&(t=this._elem_original_css[e],this.$elem.css(e,t));for(e in this._inner_original_css)this._inner_original_css.hasOwnProperty(e)&&(t=this._inner_original_css[e],n.css(e,t));this.$elem.css("height","100%")},_set_prevent_close:function(e){this.prevent_close=e,e?this.$close_a.hide():this.$close_a.show()},open:function(){var t=this.$elem.parents("body");t.length&&t.append(this.$elem),this.options.ignore_parent||(this.$parent_modal=e(".modal_dialog:visible"),this.$parent_modal.hide()),this.$elem.show(),this._on_size_changed(!0),this.overflow_scroll&&e("html").css("overflow","hidden"),this.$elem.trigger("modal_dialog:opened",[this]),this._attach()},close:function(t){this.prevent_close||(this.$elem.trigger("before_close.modal_dialog",[t]),t&&t.isDefaultPrevented()||(this._detach(),this.options.do_not_cache?this.$elem.remove():this.$elem.hide(),this.overflow_scroll&&e("html").css("overflow","scroll"),this.$elem.trigger("closed.modal_dialog",[t])))}}),e.modal_confirm=function(t,n){var a,i,r,s={message:o.default.t("library.modal_dialog.Do_you_really_want_to_do_this"),confirm_text:o.default.t("library.modal_dialog.Confirm"),cancel_text:o.default.t("library.modal_dialog.Cancel"),title:o.default.t("library.modal_dialog.Are_you_sure")};a='<div style="max-width:600px;">'+(n=e.extend({},s,n)).message+'<p class="clearfix"><a class="confirm btn btn--blue left" href="#">'+n.confirm_text+'</a><a class="cancel button-space left ml1 lh40 grey-dark" href="#">'+n.cancel_text+"</a></p></div>",i=e.create_modal_dialog(n.title,a),r=i.data("modal_dialog"),i.find(".cancel").click((function(e){e.preventDefault(),r.close()})),i.find(".confirm").click((function(e){e.preventDefault(),t.call(i),r.close()})),r.open()}}(s)},uOK1:function(e,t,n){"use strict";var a=n("q1tI"),i=n.n(a),r=n("i8i4"),o=n.n(r),s=n("+2Rf"),c=n.n(s),l=n("xG9w"),d=n("q1z7"),u=n.n(d),m=n("wpot"),p=n("YEaP"),h=n("0VSk"),f=n("SmhT");n("gtN/");window.VideoTrackView=u.a.View.extend({VIDEO_PAUSE_LENGTH:1e3,PIXELS_PER_SECOND:100,MINIMUM_MILLISECONDS:2e3,NEW_CAPTION_OFFSET:-500,events:{"click .js-timeline":"jumpTimelineEvent","click .js-cue":"pauseEvent","keypress .js-cue-textarea":"autoPauseEvent","keydown .js-cue-textarea":"catchWaywardKeysEvent","keyup .js-cue-textarea":"typeInCueEvent","cut .js-cue-textarea":"cutPasteInCueEvent","paste .js-cue-textarea":"cutPasteInCueEvent","mousemove .js-timeline":"showHoverLineEvent","mouseleave .js-timeline":"hideHoverLineEvent","click .js-save-track":"saveTrackEvent","click .js-destroy-cue":"destroyCueEvent"},initialize:function(){this.model.on("add:cues_attributes",l.default.bind(this.addCue,this)),this.model.on("destroy:cues_attributes",l.default.bind(this.removeCue,this)),this.model.on("add:cues_attributes destroy:cues_attributes",l.default.bind(this.dirty,this)),this.model.on("change:cues_attributes[*]",l.default.bind(this.dirty,this)),this.model.on("change:cues_attributes[*].start_time",l.default.bind(this.adjustCue,this)),this.model.on("change:cues_attributes[*].end_time",l.default.bind(this.adjustCue,this)),this.model.on("reset:cues_attributes",l.default.bind(this.renderCuesOnTimeline,this)),this._initializeDraggableBar(),this._initializeUnsavedNavigation(),this._initializeDocumentListeners(),this.disableSaveButton()},initializeVideo:function(){this.video=new window.CaptioningVideo(this.videoEl()),this.video.importTrackFrom(this.model),this._initializeVideoMetadata()},videoEl:function(){return this.$el.find("video").get(0)},_initializeVideoMetadata:function(){var e=this;this.video.el.readyState>=this.video.el.HAVE_METADATA?this.renderTimeline():this.video.$el.one("loadedmetadata",(function(){e.renderTimeline()}))},_initializeDraggableBar:function(){var e=this;this.$el.on("mousedown touchstart",".js-non-draggable",(function(e){e.stopImmediatePropagation()})),this.$el.draggable_bar(".js-timeline",(function(t,n,a){var i,r,o,s=e.$el.find(".js-timeline"),l=c()(n),d=l.data("cue-cid")||l.closest("[data-cue-cid]").data("cue-cid"),u=e.model.get("cues_attributes"),m=u.get(d);m&&(e.video.pause(),i=m.get("start_time"),r=t*s.width()+s.scrollLeft()-a,r-=s.width()/2,l.is(".js-cue-handle")&&(r+=l.width()),r=e.xFromTimeline(r),l.is(".js-cue-handle")?(r=e._pointWithinBounds(u.indexOf(m),r),r=Math.max(i+e.MINIMUM_MILLISECONDS,r),m.set("end_time",r)):(o=m.get("end_time")-i,r=e._rangeWithinBounds(u.indexOf(m),r,o),m.set({start_time:r,end_time:r+o})))}))},_pointWithinBounds:function(e,t){var n=this.model.get("cues_attributes"),a=n.at(e),i=n.at(e+1);return i&&i.get("start_time")<t&&(t=i.get("start_time")-1),Math.max(t,a.get("start_time")+.5)},_rangeWithinBounds:function(e,t,n){var a=this.model.get("cues_attributes"),i=a.at(e-1),r=a.at(e+1);return n=n||0,r&&r.get("start_time")<t+n&&(t=r.get("start_time")-n-1),i&&i.get("end_time")>t&&(t=i.get("end_time")+1),Math.max(0,Math.min(this.video.duration(),t+n)-n)},_initializeUnsavedNavigation:function(){var e=this;c()(window).on("beforeunload.video_tracks",(function(){if(e._dirty)return h.default.t("views.video_track.You_have_unsaved_changes")}))},_initializeDocumentListeners:function(){var e=this;c()(document).on("keydown.video_tracks",(function(t){e.handleKeyboardShortcutsFromEvent(t)})).on("keyup.video_tracks",(function(t){if(t.which===f.c&&!t.shiftKey){var n,a=e.getCurrentCue();n=a?a.get("end_time")+1:e.video.getCurrentTime(),e.addCueAt(n),t.preventDefault()}}))},remove:function(){c()(window).off(".video_tracks"),c()(document).off(".video_tracks"),u.a.View.prototype.remove.apply(this,arguments)},render:function(){var e,t={track:this.model.toJSON(),encodings:this.model.get("encodings")||{},editProjectPath:this.$el.data("edit-project-path")},n=Math.random().toString(16).substr(2);return(e=l.default.clone(t.encodings)).high&&(e.high+=(e.high.split("?")[1]?"&":"?")+n),t.encodings=e,o.a.render(_(t),this.el),this.initializeVideo(),this},createSpoke:function(e,t){var n=(t=t||{}).level||(e%1e4==0?3:e%5e3==0?2:e%500==0?1:0);return{msecs:e/1e3,x:this.xOnTimeline(e),level:n,displayText:n>1}},renderTimeline:function(){var e,t=this.video.duration(),n=this.xOnTimeline(t),a=this,i=l.default.range(500,t,500),r={};r.timelineEnd=n,r.spokes=l.default.map(i,(function(e){return a.createSpoke(e)})),r.spokes.push(this.createSpoke(0,{level:4})),r.spokes.push(this.createSpoke(this.video.duration(),{level:4})),o.a.render(g(r),this.$el.find(".timeline_wrapper").get(0)),e=this.$el.find(".timeline"),this.renderCuesOnTimeline(),this._attachEventsToTimeline(e)},renderCuesOnTimeline:function(){var e=this.model.get("cues_attributes");this.$el.find(".js-timeline__cues").empty(),e.forEach(l.default.bind(this.adjustCue,this)),e.length>0&&this.focusCue(e.first())},_attachEventsToTimeline:function(e){var t=this;this.video.$el.on("timeupdate",(function(){var n,a=t.video.getCurrentTime(),i=t.xOnTimeline(a);t.video.paused()||e.scrollLeft(i),t.$(".js-timeline-line").css("left",i+e.width()/2),(n=t.model.get("cues_attributes").find((function(e){return e.get("start_time")<=a&&e.get("end_time")>a})))&&t.focusCue(n)})),this.video.$el.on("play",(function(){t.$(".js-timeline").css("overflow-x","hidden")})),this.video.$el.on("pause",(function(){t.$(".js-timeline").css("overflow-x","scroll")}))},enableSaveButton:function(){this.$(".js-save-track").text(h.default.t("views.video_track.Save")).addClass("btn--green").removeClass("btn--gray").prop("disabled",!1)},disableSaveButton:function(){this.$(".js-save-track").text(h.default.t("views.video_track.Saved")).removeClass("btn--green").addClass("btn--gray").prop("disabled",!0)},dirty:function(){this._dirty=!0,this._saving||this.enableSaveButton()},addCue:function(e){this.adjustCue(e),this.focusCue(e)},removeCue:function(e){this.$cue(e.cid).remove()},adjustCue:function(e){var t=this.$cue(e.cid),n=e.get("start_time"),a=e.get("end_time");t.css("left",Math.floor(this.xOnTimeline(n))),t.width(Math.floor(this.xOnTimeline(a-n)))},$cue:function(e){var t=this.$(".js-timeline"),n=t.find('[data-cue-cid="'+e+'"]'),a=this.model.get("cues_attributes").get(e);return a?(0===n.length&&((n=t.find(".js-cue-template").clone()).removeClass("js-cue-template"),n.addClass("js-cue"),n.attr("data-cue-cid",e),n.find(".js-cue-textarea").val(a.get("body")),n.appendTo(t.find(".js-timeline__cues"))),n.removeClass("hidden"),n):n},cue:function(e){var t=c()(e),n=t.data("cue-cid")||t.closest("[data-cue-cid]").data("cue-cid");return this.model.get("cues_attributes").get(n)},autoPause:function(){var e=this;this.video.paused()&&!this.unpauseTimer||(this.video.pause(),this.unsetPauseTimer(),this.unpauseTimer=setTimeout((function(){delete e.unpauseTimer,e.video.play()}),this.VIDEO_PAUSE_LENGTH))},unsetPauseTimer:function(){clearTimeout(this.unpauseTimer)},focusCue:function(e){this.showingCue(e)||this.video.setCurrentTime(e.get("start_time")),this.$cue(e.cid).find(":input").focus()},xOnTimeline:function(e){return e*this.PIXELS_PER_SECOND/1e3},xFromTimeline:function(e){return e/this.PIXELS_PER_SECOND*1e3},saveTrack:function(){var e=this.$(".js-save-track"),t=this.$(".js-last-save"),n=this.$(".js-timeline__cues :input"),a=this.model.save(),i=this;a&&(this._saving=!0,this._dirty=!1,this.disableSaveButton(),e.text(h.default.t("views.video_track.Saving")),n.prop("disabled",!0),a.success((function(){i.timedText(t)})).error((function(){e.text(h.default.t("views.video_track.Errored"))})).always((function(){i._saving=!1,i._dirty?i.enableSaveButton():i.disableSaveButton(),n.prop("disabled",!1)})))},focusPreviousCue:function(){var e,t=this.model.get("cues_attributes"),n=this.video.getCurrentTime();(e=l.default.last(t.filter((function(e){return e.get("end_time")<n}))))&&this.focusCue(e)},focusNextCue:function(){var e,t=this.model.get("cues_attributes"),n=this.video.getCurrentTime();(e=t.find((function(e){return e.get("start_time")>n})))&&this.focusCue(e)},getCurrentCue:function(){var e=this.model.get("cues_attributes"),t=this.video.getCurrentTime();return e.find((function(e){return e.get("start_time")<=t&&e.get("end_time")>=t}))},showingCue:function(e){var t=this.video.getCurrentTime(),n=e.get("start_time"),a=e.get("end_time");return t>=n&&t<a},pointOnTimeline:function(e){var t=this.$(".js-timeline");return e-=t.offset().left,e+=t.scrollLeft(),e-=t.width()/2,this.xFromTimeline(e)},willOverlapCues:function(e,t){return!!this.model.get("cues_attributes").find((function(n){var a=n.get("start_time"),i=n.get("end_time");return a>=e&&a<e+t||i>=e&&i<e+t}))},alignWithCursor:function(e,t){var n=this.$(".js-timeline"),a=n.offset().left,i=n.scrollLeft();e.removeClass("hidden"),e.css("left",p.a.pageX(t)-a+i)},addCueAt:function(e,t){var n=this.model.get("cues_attributes");t=t||this.MINIMUM_MILLISECONDS,this.willOverlapCues(e,t)||n.add({start_time:e,end_time:e+t})},jumpTimelineEvent:function(e){var t,n=c()(e.target);n.is(".js-timeline")?this.video.setCurrentTime(0):n.is(".js-timeline--area")&&(t=this.pointOnTimeline(p.a.pageX(e)),this.video.setCurrentTime(t))},addCueEvent:function(e){var t=this.pointOnTimeline(p.a.pageX(e));this.addCueAt(t),e.preventDefault()},pauseEvent:function(){this.video.pause()},autoPauseEvent:function(){this.autoPause()},catchWaywardKeysEvent:function(e){e.which===f.a?this.autoPause():e.which!==f.c||e.shiftKey||e.preventDefault()},typeInCueEvent:function(e){var t=this.cue(e.currentTarget);if(e.which!==f.c||e.shiftKey)t.set("body",c()(e.currentTarget).val());else{var n=this.video.getCurrentTime(),a=t.get("start_time"),i=n;t.shouldOverrideEndTime&&(n<a&&(i=a,a=n),(i+=this.NEW_CAPTION_OFFSET)-a<this.MINIMUM_MILLISECONDS&&(i=a+this.MINIMUM_MILLISECONDS),t.set({start_time:a,end_time:i})),this.addCueAt(Math.max(t.get("end_time"),i)+1),e.stopPropagation()}e.preventDefault()},cutPasteInCueEvent:function(e){var t=this.cue(e.currentTarget);setTimeout((function(){t.set("body",c()(e.currentTarget).val())}),0)},destroyCueEvent:function(e){this.cue(e.currentTarget).destroy(),e.preventDefault()},showHoverLineEvent:function(e){var t=this.$(".js-timeline-mouse-line");this.alignWithCursor(t,e)},hideHoverLineEvent:function(){this.$(".js-timeline-mouse-line").addClass("hidden")},saveTrackEvent:function(e){!this._saving&&this._dirty&&this.saveTrack(),e.preventDefault()},handleKeyboardShortcuts:function(e,t){return e===f.d?(this.video.paused()?this.video.play():this.video.pause(),this.$(".js-onboarding").addClass("fade-out"),!0):e===f.m&&(t?this.focusPreviousCue():this.focusNextCue(),!0)},handleKeyboardShortcutsFromEvent:function(e){return!!this.handleKeyboardShortcuts(e.which,e.shiftKey)&&(e.preventDefault(),!0)},timedText:function(e,t,n){var a=this;t=t||1e3,n=n||new Date,clearTimeout(this.timedTextTimeoutId),this.timedTextTimeoutId=setTimeout((function(){a.timedText(e,t,n)}),t),this._renderLastSaved(e,n)},_renderLastSaved:function(e,t){e.text(h.default.t("views.video_track.Saved")+" "+Object(m.a)(new Date,t))}});const g=({spokes:e,timelineEnd:t})=>i.a.createElement("div",{className:"timeline relative bg-white clear border-top js-timeline user-select-none"},i.a.createElement("div",{className:"timeline_scroller z1 relative js-timeline--area",style:{width:t}},i.a.createElement("div",{className:"timeline_spokes absolute grey"},e.map((e,t)=>i.a.createElement("div",{key:t},i.a.createElement("div",{className:`spoke spoke--level-${e.level} absolute`,style:{bottom:0,left:e.x}}),e.displayText&&i.a.createElement("div",{className:"absolute pl2",style:{bottom:15,left:e.x}},e.msecs,"s"))),i.a.createElement("div",{className:"spoke end",style:{bottom:0,left:0}}),i.a.createElement("div",{className:"spoke end",style:{bottom:0,left:t}})),i.a.createElement("div",{className:"js-timeline__cues absolute"}),i.a.createElement("div",{className:"js-cue-template timeline_handle z1 absolute bg-white border radius2px tiny_type hidden"},i.a.createElement("div",{className:"timeline_drag_handle js-cue-handle absolute"},i.a.createElement("span",{className:"ss-icon ss-navigateright"})),i.a.createElement("div",{className:"js-non-draggable"},i.a.createElement("div",{className:"cue-textarea-wrapper"},i.a.createElement("textarea",{className:"cue-textarea js-cue-textarea",placeholder:h.default.t("video_tracks.Transcribe_and_press_Enter"),maxLength:"200"})),i.a.createElement("div",{className:"caption-actions"},i.a.createElement("a",{href:"javascript:void(0)",className:"js-destroy-cue"},i.a.createElement("div",{className:"ss-icon ss-delete"})))))),i.a.createElement("div",{className:"timeline_hover_line js-timeline-mouse-line absolute hidden"}),i.a.createElement("div",{className:"timeline_line absolute z1 js-timeline-line"})),_=({track:e,encodings:t,editProjectPath:n})=>i.a.createElement("div",null,i.a.createElement("div",{className:"clearfix mt3 mt5-sm"},i.a.createElement("div",{className:"f5 right mt3 mt5-sm"},i.a.createElement("button",{className:"btn btn--gray button_save_track right js-save-track",disabled:!0},h.default.t("views.video_track.Saved")),i.a.createElement("div",{className:"right mr2 js-last-save mt2 grey-dark"})),i.a.createElement("h2",{className:"mb2"},h.default.t("views.video_track.Language_track",{label:e.label})),i.a.createElement("a",{className:"left mb3 mb5-sm regular blue",href:n},i.a.createElement("span",{className:"ss-icon ss-navigateleft",style:{fontSize:"0.8em"}})," ",h.default.t("views.video_track.Back_to_edit"))),i.a.createElement("div",{className:"container-flex bg-grey-light border radius2px mb3 mb10-sm"},i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col col-4 mt3 mt5-sm mr2 ml3 ml5-sm"},i.a.createElement("h4",{className:"grey-dark"},h.default.t("views.video_track.Controls")),i.a.createElement("hr",null),i.a.createElement("h5",{className:"grey-dark inline-block mb0"},h.default.t("views.video_track.Play_pause")),i.a.createElement("span",{className:"grey-dark f5 regular inline-block right mb2"},i.a.createElement("span",{className:"border radius2px key"},h.default.t("views.video_track.Esc"))),i.a.createElement("hr",{className:"mt2"}),i.a.createElement("h5",{className:"grey-dark inline-block mb0"},h.default.t("views.video_track.Add_caption")),i.a.createElement("span",{className:"grey-dark f5 regular inline-block right mb2"},i.a.createElement("span",{className:"border radius2px key"},h.default.t("views.video_track.Enter"))),i.a.createElement("hr",{className:"mt2"}),i.a.createElement("h5",{className:"grey-dark inline-block mb0"},h.default.t("views.video_track.Line_break")),i.a.createElement("span",{className:"grey-dark f5 regular inline-block right mb2"},i.a.createElement("span",{className:"border radius2px key"},h.default.t("views.video_track.Shift")),"+",i.a.createElement("span",{className:"border radius2px key"},h.default.t("views.video_track.Enter"))),i.a.createElement("hr",{className:"mt2"}),i.a.createElement("h5",{className:"grey-dark inline-block mb0"},h.default.t("views.video_track.Next_caption")),i.a.createElement("span",{className:"grey-dark f5 regular inline-block right mb2"},i.a.createElement("span",{className:"border radius2px key"},h.default.t("views.video_track.Tab"))),i.a.createElement("hr",{className:"mt2"}),i.a.createElement("h5",{className:"grey-dark inline-block mb0"},h.default.t("views.video_track.Previous_caption")),i.a.createElement("span",{className:"grey-dark f5 regular inline-block right mb2"},i.a.createElement("span",{className:"border radius2px key"},h.default.t("views.video_track.Shift")),"+",i.a.createElement("span",{className:"border radius2px key"},h.default.t("views.video_track.Tab"))),i.a.createElement("hr",{className:"mt2"})),i.a.createElement("div",{className:"col col-7 mt3 mt5-sm pb3 pb5-sm ml2"},i.a.createElement("div",{className:"onboarding js-onboarding"},i.a.createElement("div",{className:"onboarding-copy formatted-lists"},i.a.createElement("h3",{className:"mb3 mb5-sm"},h.default.t("views.video_track.Getting_started")),i.a.createElement("ol",null,i.a.createElement("li",{dangerouslySetInnerHTML:{__html:h.default.t("views.video_track.Press_esc_to_play")}}),i.a.createElement("li",null,h.default.t("views.video_track.When_you_type_the_video")),i.a.createElement("li",{dangerouslySetInnerHTML:{__html:h.default.t("views.video_track.When_its_time_to_start_a_new_caption")}})),i.a.createElement("h3",{className:"center mt3 mt7-sm",dangerouslySetInnerHTML:{__html:h.default.t("views.video_track.Press_esc_and_start_typing")}})),i.a.createElement("div",{className:"onboarding-bg"})),i.a.createElement("div",{className:"video-player show-controls-below js-video-player"},i.a.createElement("video",null,t&&i.a.createElement("source",{src:t.high,type:"video/mp4"})),i.a.createElement("div",{className:"play_button_big play_button_dark absolute-center radius2px has_played_hide play_button_big_hide"},i.a.createElement("span",{className:"ss-icon ss-play"}),h.default.t("views.video_track.Play")),i.a.createElement("div",{className:"player_controls white bg-green-dark"},i.a.createElement("div",{className:"left"},i.a.createElement("a",{className:"button button_icon button_dark playpause play mr2"},i.a.createElement("span",{className:"play ss-icon ss-play"}),i.a.createElement("span",{className:"pause ss-icon ss-pause"})),i.a.createElement("span",{className:"time current_time f12 left"},"00:00")),i.a.createElement("div",{className:"right"},i.a.createElement("span",{className:"time total_time f12 left mr2"},"00:00"),i.a.createElement("a",{className:"left button button_icon button_icon_white volume"},i.a.createElement("span",{className:"ss-icon ss-volume icon_volume_nudge"}),i.a.createElement("span",{className:"ss-icon ss-highvolume"})),i.a.createElement("div",{className:"volume_container left"},i.a.createElement("div",{className:"progress_bar progress_bar_dark progress_bg"},i.a.createElement("div",{className:"progress_bar_bg"}),i.a.createElement("div",{className:"progress progress_bar_progress"}),i.a.createElement("div",{className:"progress_handle progress_bar_handle"}))),i.a.createElement("a",{className:"left button button_icon button_icon_white fullscreen"},i.a.createElement("span",{className:"ss-icon ss-expand"}),i.a.createElement("span",{className:"ss-icon ss-contract"}))),i.a.createElement("div",{className:"clip"},i.a.createElement("div",{className:"progress_container pr2 pl2"},i.a.createElement("div",{className:"progress_bar progress_bar_dark progress_bg"},i.a.createElement("div",{className:"progress_bar_bg"}),i.a.createElement("div",{className:"buffer progress_bar_buffer"}),i.a.createElement("div",{className:"progress progress_bar_progress"}),i.a.createElement("div",{className:"progress_handle progress_bar_handle"})))),i.a.createElement("div",{className:"clear"}))))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col col-12 relative"},i.a.createElement("div",{className:"timeline_wrapper"})))))},"uT+I":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("8Np1"),i=n("/IHD"),r=n("hPy8"),o=n("q1tI");const s=e=>o.createElement(r.c,null,t=>o.createElement(a.a,Object.assign({},e,{atoms:Object(i.b)(e.atoms,t.body.atoms),tag:"div"}),e.children))},ubxe:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);i()((function(){i()("body#help_fees form.select_country").on("change",(function(){i()(this).submit()}))}))},udTa:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t)=>(...n)=>new Promise(a=>setTimeout(()=>a(t(...n)),e))},"ude/":function(e,t,n){"use strict";var a=n("L/h+"),i=n("94td"),r=n("zm9w"),o=n("q1tI"),s=n.n(o);const c=({friends:e})=>s.a.createElement("span",{className:"mr1"},e.map(e=>s.a.createElement(a.a,{key:e.imageUrl,size:4,atoms:["mr1"],imageUrl:e.imageUrl})));t.a=({friends:e})=>{if(null===e||!e.length)return null;const t=e.slice(0,2),n=t.map(e=>""+escape(e.name.split(" ")[0]));if(n.length<e.length){const t=e.length-n.length,a=Object(i.b)("project_page.social_facepile.amount_more",{count:t});n.push(""+a)}const a=Object(i.b)("project_page.social_facepile.friends_are_backers",{friends:r.b.to_sentence(n),count:n.length});return s.a.createElement("div",{className:"mt2"},s.a.createElement(c,{friends:t}),s.a.createElement("span",{className:"type-13"},unescape(a)))}},uoVB:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u}));var a=n("wOBM"),i=n("gN63"),r=n("I3Sk");const o=["checkout_add_ons_minimum_usd","checkout_amount_total_usd","checkout_bonus_amount_usd","checkout_reward_minimum_usd","checkout_shipping_amount_usd"],s=e=>{Object.keys(e).map(t=>{if(e[t]&&o.includes(t))return e[t]=function(e){const t=Object(a.a)(e),n=isNaN(t)?0:t,i=window.current_project,r=parseFloat(i.data.usd_exchange_rate);return parseFloat((n*r).toFixed(2))}(String(e[t]))})},c=e=>{const t=e.reward_data;let n=[];return t.rewards_items&&(n=t.rewards_items.map(e=>({id:e.item_id.toString(),name:e.item.name,quantity:e.quantity}))),{id:t.id?t.id.toString():"",amount:{currency:window.current_project.data.currency,amount:t.minimum,symbol:window.current_project.data.currency_symbol},available:t.available||!1,backersCount:t.backers_count||0,remainingQuantity:t.remaining||0,description:t.description||"",isMaxPledge:!1,limitPerBacker:0,limit:t.limit,name:t.title,shippingPreference:t.shipping_preference,shippingSummary:t.shipping_summary||"",startsAt:null,endsAt:null,shippingRules:[],items:n,allowedAddons:[],estimatedDeliveryOn:t.estimated_delivery_on?new Date(1e3*parseInt(t.estimated_delivery_on,10)).toISOString():null,image:null,isPostCampaignPledgingEnabled:t.late_pledge_enabled,audienceData:t.audienceData,featured:t.featured}},l=e=>{let t=0;return"string"==typeof e?t=Number(parseFloat(e).toFixed(2)):"number"==typeof e&&(t=Number(e.toFixed(2))),t};const d=(e,t,n)=>{var a;const i=null==e||null===(a=e.amount)||void 0===a?void 0:a.amount,o={checkout_reward_estimated_delivery_on:(null==e?void 0:e.estimatedDeliveryOn)?new Date(Date.parse(e.estimatedDeliveryOn)).toISOString():null,checkout_reward_minimum_usd:i?Number(parseFloat(i).toFixed(2)):void 0,checkout_reward_is_limited_quantity:!!(null==e?void 0:e.limit)&&e.limit>0,checkout_reward_shipping_enabled:(null==e?void 0:e.shippingRules)?e.shippingRules.length>0:void 0,checkout_reward_id:null==e?void 0:e.id,checkout_reward_shipping_preference:null==e?void 0:e.shippingPreference,checkout_reward_title:null==e?void 0:e.name,checkout_reward_has_image:Boolean(null==e?void 0:e.image),checkout_reward_is_featured_reward:Boolean(null==e?void 0:e.featured),checkout_reward_late_pledge_enabled:Boolean(null==e?void 0:e.isPostCampaignPledgingEnabled)};if(n){o.checkout_add_ons_count_total=n.length;const e=[...new Set(n.map(e=>e.id))];o.checkout_add_ons_count_unique=e.length,o.checkout_add_ons_ids=e,o.checkout_add_ons_minimum_usd=Object(r.d)(n)}return(null==t?void 0:t.bonusAmount)&&(o.checkout_bonus_amount_usd=l(t.bonusAmount)),void 0!==(null==t?void 0:t.shippingAmount)&&(o.checkout_shipping_amount_usd=l(t.shippingAmount)),(null==t?void 0:t.totalPledge)&&(o.checkout_amount_total_usd=l(t.totalPledge)),"USD"!==window.current_project.data.currency&&s(o),c=o,Object.fromEntries(Object.entries(c).filter(([e,t])=>null!==t));var c},u=e=>{var t;const n=e.amount&&e.amount.amount;return{checkout_reward_estimated_delivery_on:e.estimatedDeliveryOn?new Date(Date.parse(e.estimatedDeliveryOn)).toISOString():null,checkout_reward_minimum_usd:n?Number(parseFloat(n).toFixed(2)):void 0,checkout_reward_is_limited_quantity:!!e.limit&&e.limit>0,checkout_reward_shipping_enabled:(null===(t=e.shippingRules)||void 0===t?void 0:t.length)>0,checkout_reward_id:e.id?Number(Object(i.a)(e.id)).toString():"",checkout_reward_shipping_preference:e.shippingPreference,checkout_reward_title:e.name,checkout_reward_has_image:Boolean(null==e?void 0:e.image),checkout_reward_is_featured_reward:Boolean(null==e?void 0:e.featured),checkout_reward_late_pledge_enabled:Boolean(null==e?void 0:e.isPostCampaignPledgingEnabled)}}},"v+Hr":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return l}));const a={add_ons:{pathname:[/^\/projects\/.+pledge\/new$/,/^\/projects\/.+pledge\/edit$/],hash:"add-ons"},rewards:{pathname:[/^\/projects\/.+pledge\/new$/,/^\/projects\/.+pledge\/edit$/],hash:""},thanks:{pathname:[/^\/projects\/.+checkouts\/.*\/thanks$/],hash:""},checkout:{pathname:[/^\/checkouts\/.*\/payments\/new$/],hash:""},checkout_guest:{pathname:[/^\/checkouts\/.*\/guest$/,/^\/checkouts\/.*\/guest.+/],hash:""},manage_pledge:{pathname:[/^\/projects\/.+pledge$/],hash:""},build:{pathname:[/^\/projects\/.+build$/,/^\/projects\/.*\/edit.+$/],hash:""},project:{pathname:[/^\/projects.+/],hash:""},discover:{pathname:[/^\/discover.+/,/^\/recommendations$/,/^\/discover$/],hash:""},activity_feed:{pathname:[/^\/activity$/],hash:""},backings:{pathname:[/^\/profile\/backings$/],hash:""},build_onboarding:{pathname:[/^\/start$/],hash:""},created_projects:{pathname:[/^\/profile\/projects$/],hash:""},how_it_works:{pathname:[/^\/how-it-works$/],hash:""},learn:{pathname:[/^\/learn$/],hash:""},log_in:{pathname:[/^\/login$/,/^\/user_sessions$/],hash:""},log_out:{pathname:[/^\/logout$/],hash:""},sign_up:{pathname:[/^\/signup$/],hash:""},messages:{pathname:[/^\/messages.+/],hash:""},profile:{pathname:[/^\/profile\/.+$/,/^\/profile\/.+comments$/,/^\/profile\/.+about$/,/^\/profile\/projects$/,/^\/profile\/following$/,/^\/profile\/following\/followers$/,/^\/profile\/following\/blocked$/],hash:""},settings:{pathname:[/^\/settings.+/],hash:""},shopify_landing_page:{pathname:[/^\/shopify$/],hash:""},taste_quiz:{pathname:[/^\/personalize$/],hash:""},section:{pathname:[/^\/arts$/,/^\/comics\-illustration$/,/^\/design-tech$/,/^\/film$/,/^\/food-craft$/,/^\/games$/,/^\/music$/,/^\/publishing$/],hash:""}};let i=function(e){return e.ADD_ONS="add_ons",e.ADD_ONS_SUMMARY="add_ons_summary",e.ADDRESS="address",e.AI_POLICY="ai_policy",e.ALL_REWARDS="all_rewards",e.APP_STORE="app_store",e.APPLE_PAY="apple_pay",e.AVAILABLE="available",e.BACKER_SUMMARY="backer_summary",e.BANK_ACCOUNT="bank_account",e.BUSINESS="business",e.CATEGORY="category",e.CONTENTS_ALL_PHYSICAL="contents_all_physical",e.CONTENTS_NON_PHYSICAL="contents_non_physical",e.CONTENTS_SOME_PHYSICAL="contents_some_physical",e.CREDIT_CARD="credit_card",e.DELIVERY_DIGITAL="delivery_digital",e.DELIVERY_LOCAL_PICKUP="delivery_local_pickup",e.DELIVERY_SHIPPING_RESTRICTED="delivery_shipping_restricted",e.DELIVERY_SHIPPING_UNRESTRICTED="delivery_shipping_unrestricted",e.DFM="dfm",e.DRAFTS="drafts",e.EASYSHIP="12_12_easyship_banner",e.EDITORIAL="editorial",e.EXPIRED="expired",e.FEATURED_PROJECT="featured_project",e.FOLLOW_USER="follow",e.FULFILLING_ALL="fulfilling_all",e.FULFILLING_SOME="fulfilling_some",e.FULFILLMENT_COMPLETE="fulfillment_complete",e.IDEA="idea",e.INDIVIDUAL="individual",e.ITEM_SUMMARY="item_summary",e.JUST_BACKED="just_backed",e.LOCATION="location",e.MENU="menu",e.NEW_ADDRESS="new_address",e.NO_REWARDS="no_rewards",e.NONPROFIT="non_profit",e.PAYMENT_METHOD="payment_method",e.PII_CONFIRMATION="pii_confirmation",e.PLAY_STORE="play_store",e.PLEDGE_MANAGER="pledge_manager",e.PREPRODUCTION="preproduction",e.PRODUCTION="production",e.PROJECT="project",e.PROOF_OF_CONCEPT="proof_of_concept",e.PUBLISHED="published",e.QUANTITY_LIMITED="quantity_limited",e.QUANTITY_UNLIMITED="quantity_unlimited",e.RECOMMENDED="recommended",e.RESULTS="results",e.REWARD="reward",e.REWARD_DESCRIPTION="reward_description",e.REWARD_SUMMARY="reward_summary",e.REWARD_UNIT="reward_unit",e.SAVED_ADDRESS="saved_address",e.SKU_QUANTITIES="sku_quantities",e.SOME_REWARDS="some_rewards",e.SUBCATEGORY="subcategory",e.TAG="tag",e.UNFOLLOW_USER="unfollow",e.UNWATCH="unwatch",e.WATCH="watch",e.WORKING_PROTOTYPE="working",e}({}),r=function(e){return e.SELECT="select",e.DESELECT="deselect",e}({});const o=e=>{const t=e.match(/^section-(.*?)-view-more-recommendations-p\d$/),n=t&&t[1].replace(/-/g,"_")||"";return"homepage"!==n?n:""},s=e=>{const t={discover_advanced:[/^discovery_category$/],discover_overlay:[/^discovery_overlay$/,/^discover_overlay$/],discovery:[/^discover.*$/],"thanks-recommendations":[/^thanks-recommendations$/],featured_project:[/^section-homepage-featured-project$/],"homepage-recommendations":[/^section-homepage-view-more-recommendations-p\d$/],"section-recommendations":[/^section-.*-view-more-recommendations-p\d$/],quick_search_overlay:[/^nav-search$/,/^nav_search$/],editorial_collection:[/^section-homepage$/]},n=Object.keys(t);for(const a of n){const n=t[a]||[];for(const t of n)if(void 0!==t&&t.test(e))return a}return""},c=e=>{switch(e){case"section-arts":return"arts";case"section-design-tech":return"design_tech";case"section-comics-illustration":return"comics_illustration";case"section-film":return"film";case"section-food-craft":return"food_craft";case"section-games":return"games";case"section-music":return"music";case"section-publishing":return"publishing";default:return}},l=e=>{const t=e.pathname,n=e.hash;if("/"===t)return"home";if(t){const e=Object.keys(a);for(const i of e){const e=a[i];if(e){const a=e.pathname,r=e.hash;for(const e of a){const a=""===r||n.includes(r);if(new RegExp(e).test(t)&&a)return i}}}}return"other"}},v3o6:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var a=n("n2oK"),i=n("gN63");const r=e=>({checkout_reward_estimated_delivery_on:e.reward_data.estimated_delivery_on,checkout_reward_minimum_usd:Number(parseFloat(e.reward_data.converted_minimum).toFixed(2))||Number(parseFloat(e.reward_data.minimum).toFixed(2)),checkout_reward_is_limited_quantity:!!e.reward_data.limit&&e.reward_data.limit>0,checkout_reward_is_limited_time:!(!e.reward_data.ends_at&&!e.reward_data.starts_at),checkout_reward_shipping_enabled:e.reward_data.shipping_enabled,checkout_reward_id:e.reward_data.id,checkout_reward_shipping_preference:e.reward_data.shipping_preference,checkout_reward_title:e.reward_data.title,checkout_reward_late_pledge_enabled:e.reward_data.late_pledge_enabled}),o=e=>{var t;const n=e.amount&&e.amount.amount;return{checkout_reward_estimated_delivery_on:e.estimatedDeliveryOn?Object(a.a)(Date.parse(e.estimatedDeliveryOn)):null,checkout_reward_minimum_usd:n?Number(parseFloat(n).toFixed(2)):void 0,checkout_reward_is_limited_quantity:!!e.limit&&e.limit>0,checkout_reward_is_limited_time:!(!e.endsAt&&!e.startsAt),checkout_reward_shipping_enabled:(null===(t=e.shippingRules)||void 0===t?void 0:t.length)>0,checkout_reward_id:e.id?Number(Object(i.a)(e.id)):null,checkout_reward_shipping_preference:e.shippingPreference,checkout_reward_title:e.name,checkout_reward_late_pledge_enabled:e.isPostCampaignPledgingEnabled}}},v9JK:function(e,t,n){"use strict";var a=n("WSTq");n.d(t,"a",(function(){return a.a}));var i=n("nU83");n.d(t,"c",(function(){return i.b})),n.d(t,"b",(function(){return i.a}))},vJTS:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n("iuhU"),i=n("NP8z"),r=n("q1tI"),o=n("Ty5D"),s=n("1uD7");const c=(e,t)=>"#"===e.charAt(0)?{...t,hash:e.substring(1)}:e,l=e=>{const{selected:t,href:n,onClick:l,children:d,useReactRouter:u}=e;let m;try{m=Object(o.i)()}catch(e){m=null}const p=Object(a.b)("border-left border-left3px",`pl${i.a-1} ml-${i.a-1}`,t?"border-left-create-500":"border-left-transparent");return m&&u?r.createElement("li",{className:Object(a.b)("mb3",p)},r.createElement(s.a,{to:c(n,m),className:"text-decoration-none-important support-700 flex flex-column outline-none"},d)):r.createElement("li",{className:Object(a.b)("mb3",p)},r.createElement("a",{href:n,target:"_self",className:"text-decoration-none-important support-700 flex flex-column outline-none",onClick:l},d))}},vXqN:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n("q1tI"),i=n.n(a),r=n("RK67"),o=n("/MKj");class s extends i.a.Component{constructor(e){super(e),this.state={hasError:!1}}componentDidCatch(e,t){this.setState(()=>({hasError:!0})),this.props.onComponentError(e,t,this.props.tags)}render(){return this.state.hasError?this.props.fallbackRender?this.props.fallbackRender():i.a.createElement("div",null):this.props.children}}const c=e=>t=>{const n={...e,...t};return i.a.createElement(s,n)};t.b=Object(o.c)(null,e=>({onComponentError:(t,n,a)=>e(Object(r.c)(t,n,a))}))(s)},vhOl:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("GRmu"),o=n("0VSk");n("RIhn");!function(){function e(e){e.data("is-blocking")?(e.text(o.default.t("onloads.views.user_blocks.block_button.Blocked")),e.removeClass("btn btn--text grey-dark btn--small"),e.addClass("btn btn--gray")):(e.text(o.default.t("onloads.views.user_blocks.block_button.Block")),e.removeClass("btn btn--gray"),e.addClass("btn grey-dark btn--small")),e.removeClass("hidden")}i()(".js-block-user").livequery((function(){var t=i()(this);t.on("click",(function(n){var a=t.data("is-blocking")?t.data("unblock-path"):t.data("block-path");t.prop("disabled",!0),i.a.ajax({url:a,dataType:"json",method:"post"}).success((function(n){200===n.status?function(t){!0===t.data("is-blocking")?(t.data("is-blocking",!1),e(t),t.trigger("ksr:unblock_user")):(t.data("is-blocking",!0),e(t),t.trigger("ksr:block_user"))}(t):Object(r.a)({error:n.message})})).complete((function(){t.prop("disabled",!1)})),n.preventDefault()})),t.on("mouseenter focus",(function(){!function(e){e.data("is-blocking")&&(e.data("previous-html",e.html()),e.html(o.default.t("onloads.views.user_blocks.block_button.Unblock")))}(t)})),t.on("mouseleave blur",(function(){!function(e){var t=e.data("previous-html");e.data("is-blocking")&&t&&e.html(t)}(t)})),t.on("ksr:unblock_user",(function(){t.addClass("hidden")})),e(t)}))}()},vtU4:function(e,t,n){"use strict";n.d(t,"b",(function(){return r}));var a=n("8ZZx");n.d(t,"a",(function(){return a.a}));const i="/projects/:projectCreator/:projectSlug/posts",r={POSTS_FEED:{path:i,url:(e,t)=>`/projects/${e}/${t}/posts`},PROJECT_PAGE:{path:"/projects/:projectCreator/:projectSlug/",url:(e,t)=>`/projects/${e}/${t}`},VIEW_POST:{path:i+"/:postId",url:(e,t,n)=>`/projects/${e}/${t}/posts/${n}`},POST_COMMENTS:{path:i+"/:postId/comments",url:(e,t,n)=>`/projects/${e}/${t}/posts/${n}/comments`},PREVIEW_POST:{path:i+"/:postId/preview",url:(e,t,n)=>`/projects/${e}/${t}/posts/${n}/preview`},NEW_FREEFORM_POST:{path:i+"/freeform/new",url:(e,t)=>`/projects/${e}/${t}/posts/freeform/new`},EDIT_FREEFORM_POST:{path:i+"/freeform/:postId/edit",url:(e,t,n)=>`/projects/${e}/${t}/posts/freeform/${n}/edit`},NEW_CREATOR_INTERVIEW:{path:i+"/interview/new",url:(e,t)=>`/projects/${e}/${t}/posts/interview/new`},EDIT_CREATOR_INTERVIEW:{path:i+"/interview/:postId/edit",url:(e,t,n)=>`/projects/${e}/${t}/posts/interview/${n}/edit`},PROJECT_PLEDGE:{path:"/projects/:projectCreator/:projectSlug/pledge/new",url:(e,t)=>`/projects/${e}/${t}/pledge/new`},USER_PROFILE:{path:"/profile/:userSlug",url:e=>"/profile/"+e}}},"w/TO":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c}));var a=n("cDWt");const i=e=>{const t=s(e());return t.isSuccess?{}:r(t.value)},r=e=>{const{errors:t}=e;return Object.keys(t).reduce((e,n)=>({...e,[n]:t[n].value}),{})},o=e=>s(e()).isSuccess,s=e=>e.reduce((e,t)=>e.concat(t),Object(a.b)()),c=e=>({state:t,fields:n})=>{const{touched:a,errors:i}=t,r=n.filter(e=>!(!a[e]||!i[e])).map(e=>i[e]).reduce((e,t)=>e.concat(t),[]).map(t=>e[t]||t);return r.length>0?r:null}},w1Ho:function(e,t,n){"use strict";var a=n("h4vE"),i=n("+2Rf"),r=n.n(i);function o(e){const t=document.documentElement.style,n=e.borderBoxSize[0].blockSize.toString();window.requestAnimationFrame(()=>{const e=t.getPropertyValue("--block-size--admin-nav");n!==e&&t.setProperty("--block-size--admin-nav",n)})}Object(a.a)(".NS_layouts__admin_navigation",(function(){var e=r()("#admin-menu-toggle"),t=r()("#admin-menu");e.click((function(e){t.toggle(),e.preventDefault()}));const n=Array.from(document.querySelectorAll("#admin-nav-wrap")).pop();n&&function(e,t){const n=new ResizeObserver(e=>{e.forEach(t)});n.observe(e)}(n,o)}))},w2Ho:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n("v9JK"),i=n("94td"),r=n("VA/9"),o=n("DE4Y"),s=n("q1tI"),c=n.n(s);const l=Object(r.a)(({updateUserSetting:e,onCloseModal:t})=>c.a.createElement(a.a,{headerCopy:Object(i.b)("project_interactions.signal_modal_confirmation.Improve_your_personalized_recommendations"),secondaryCloseCopy:Object(i.b)("project_interactions.signal_modal_confirmation.Close"),onClose:t,size:"small"},c.a.createElement("div",{id:"focus-grabber"}),c.a.createElement(i.a,{i18nKey:"project_interactions.signal_modal_confirmation.Liking_or_disliking_projects_helps_us_understand",personalizeLink:c.a.createElement("a",{href:"/personalize"},c.a.createElement(i.a,{i18nKey:"project_interactions.signal_modal_confirmation.What_excites_you"}))}),c.a.createElement(a.c,{theme:"create",onClick:async()=>{t(),await e(o.cb.confirmed_signal_notice)}},c.a.createElement(i.a,{i18nKey:"project_interactions.signal_modal_confirmation.Got_it"})))),d=({onClose:e})=>c.a.createElement(a.a,{headerCopy:Object(i.b)("project_interactions.log_in_to_signal_modal.One_more_step"),secondaryCloseCopy:Object(i.b)("project_interactions.log_in_to_signal_modal.Close"),onClose:e,size:"small"},c.a.createElement(i.a,{i18nKey:"project_interactions.log_in_to_signal_modal.Log_in_or_sign_up_to_keep_fine_tuning_your_experience",loginLink:c.a.createElement("a",{href:"/login"},c.a.createElement(i.a,{i18nKey:"project_interactions.log_in_to_signal_modal.Log_in"})),signUpLink:c.a.createElement("a",{href:"/signup"},c.a.createElement(i.a,{i18nKey:"project_interactions.log_in_to_signal_modal.Sign_up"}))})),u=({children:e,userMetadata:t})=>{const[n,a]=Object(s.useState)(),[i,r]=Object(s.useState)(!1),o=t.isLoggedOut;return c.a.createElement(c.a.Fragment,null,n&&c.a.createElement(l,{onCloseModal:()=>a(!1),userMetadata:t}),o&&i&&c.a.createElement(d,{onClose:()=>r(!1)}),e(o,()=>{t.isFirstTimeLikingOrDisliking&&a(!0)},()=>{r(!0)}))}},wOBM:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t)=>{if(!e)return 0;const n=t&&t.precision||2,a=Math.max(2,n);return parseFloat(e.replace(/[^0-9.,-]/g,"").replace(new RegExp(`[\\.,](\\d{1,${a}}$)`,"g"),".$1").replace(new RegExp(`[\\.,](?!\\d{1,${a}}$)`,"g"),""))}},wXnf:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("94td"),i=n("q1tI"),r=n.n(i);const o=({risks:e})=>r.a.createElement("div",{id:"risks-and-challenges",className:"mb3 mb10-sm mb3 js-risks"},r.a.createElement("div",{className:"mobile-show py3"}),r.a.createElement("h2",{className:"normal mb4"},Object(a.b)("project_page.campaign.Risks_and_challenges")),r.a.createElement("p",{className:"js-risks-text text-preline"},e),r.a.createElement("a",{target:"_blank",className:"ksr-green-700 bold type-16",href:"/help/hc/sections/115001107133"},Object(a.b)("project_page.campaign.Learn_about_accountability_on_Kickstarter")))},wdXr:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n("q1tI");const i=(e,t)=>{const n=Object.keys(t);for(const a of n){if(e[a]!==t[a])return{...e,...t}}return e},r={isIntersecting:!1,didIntersect:!1},o=(e={})=>{var t;const n=Object(a.useRef)(null),[o,s]=(c=r,Object(a.useReducer)(i,c));var c;return Object(a.useEffect)(()=>{const t=n.current;if(!(t instanceof Element))return;const a=new IntersectionObserver(([e])=>{e.isIntersecting?s({isIntersecting:e.isIntersecting,didIntersect:!0}):s({isIntersecting:e.isIntersecting})},e);return a.observe(t),()=>a.unobserve(t)},[n.current,e.rootMargin,null===(t=e.threshold)||void 0===t?void 0:t.join(",")]),{targetRef:n,...o}}},wpot:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n("NmtT"),i=n.n(a),r=n("bgw5"),o=n.n(r),s=n("Us+F"),c=n.n(s),l=n("/S0t"),d=n.n(l),u=n("LKA2"),m=n.n(u);const p={de:o(),en:c(),es:d(),fr:m()},h=(e,t)=>((e,t,n)=>i()(t,n,{addSuffix:!0,locale:p[e]}))(window.I18n.locale,e,t)},x6TX:function(e,t,n){"use strict";n.d(t,"h",(function(){return a})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"l",(function(){return l})),n.d(t,"n",(function(){return d})),n.d(t,"m",(function(){return u})),n.d(t,"i",(function(){return m})),n.d(t,"j",(function(){return p})),n.d(t,"k",(function(){return h})),n.d(t,"f",(function(){return f})),n.d(t,"g",(function(){return g}));const a=()=>({type:"NOOP"}),i=()=>({type:"NAVIGATION/CLOSE_MODAL"}),r=()=>({type:"NAVIGATION/COMPLETE_UPLOAD"}),o=(e=!0)=>({type:"NAVIGATION/COMPLETE_SAVE",saveSuccessful:e}),s=(e=[])=>({type:"NAVIGATION/INITIALIZE_SAVE",commands:e}),c=()=>({type:"NAVIGATION/INITIALIZE_UPLOAD"}),l=e=>({type:"NAVIGATION/UPDATE_OVERRIDE",override:e}),d=e=>({type:"NAVIGATION/UPDATE_PROJECT_NAME",name:e}),u=e=>({type:"NAVIGATION/UPDATE_PROJECT_CATEGORY",category:e}),m=e=>({type:"NAVIGATION/OPEN_MODAL",modal:e}),p=()=>({type:"NAVIGATION/RESET_PAGE_DIRTY"}),h=()=>({type:"NAVIGATION/SET_PAGE_DIRTY"}),f=e=>({type:"NAVIGATION/INIT",slug:e}),g=e=>({type:"NAVIGATION/INIT_RESPONSE",response:e})},xKJO:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("ECYc");const i={incrementPostView(e){a.a.increment("post_view,client_type="+e)},incrementPostPin(e,t){a.a.increment(`post_pin,client_type=${e},action=${t}`)}}},xWgL:function(e,t,n){"use strict";n.d(t,"a",(function(){return F})),n.d(t,"b",(function(){return L}));var a=n("noZS"),i=n.n(a),r=n("vJTS"),o=n("mv45"),s=n("mq2H"),c=n("v+Hr"),l=n("94td"),d=n("TIPN"),u=n("/IHD"),m=n("a8OY"),p=n("sSbI"),h=n("UNyc"),f=n("DI+Y"),g=n("c7Xp"),_=n("7V7b");n("VX74"),n("DE4Y");const b={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"Campaign"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"project"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"isSharingProjectBudget"}},{kind:"Field",name:{kind:"Name",value:"risks"}},{kind:"Field",name:{kind:"Name",value:"story"},arguments:[{kind:"Argument",name:{kind:"Name",value:"assetWidth"},value:{kind:"IntValue",value:"680"}}]},{kind:"Field",name:{kind:"Name",value:"storyRteVersion"}},{kind:"Field",name:{kind:"Name",value:"currency"}},{kind:"Field",name:{kind:"Name",value:"spreadsheet"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayMode"}},{kind:"Field",name:{kind:"Name",value:"public"}},{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"data"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"value"}},{kind:"Field",name:{kind:"Name",value:"phase"}},{kind:"Field",name:{kind:"Name",value:"rowNum"}}]}},{kind:"Field",name:{kind:"Name",value:"dataLastUpdatedAt"}}]}},{kind:"Field",name:{kind:"Name",value:"environmentalCommitments"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"commitmentCategory"}},{kind:"Field",name:{kind:"Name",value:"description"}}]}},{kind:"Field",name:{kind:"Name",value:"aiDisclosure"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"fundingForAiAttribution"}},{kind:"Field",name:{kind:"Name",value:"fundingForAiConsent"}},{kind:"Field",name:{kind:"Name",value:"fundingForAiOption"}},{kind:"Field",name:{kind:"Name",value:"generatedByAiConsent"}},{kind:"Field",name:{kind:"Name",value:"generatedByAiDetails"}},{kind:"Field",name:{kind:"Name",value:"otherAiDetails"}},{kind:"Field",name:{kind:"Name",value:"involvesAi"}},{kind:"Field",name:{kind:"Name",value:"involvesFunding"}},{kind:"Field",name:{kind:"Name",value:"involvesGeneration"}},{kind:"Field",name:{kind:"Name",value:"involvesOther"}}]}}]}}]}}]};const v=Object(o.c)(e=>{if(e.data&&e.data.error)return Object(o.d)(e.data.error);if(!e.data||!e.data.project||!e.data.project)return Object(o.d)();const{id:t,aiDisclosure:n,isSharingProjectBudget:a,currency:i,environmentalCommitments:r,risks:s,story:c,storyRteVersion:l,spreadsheet:d}=e.data.project;return Object(o.l)({id:t,aiDisclosure:n,isSharingProjectBudget:a,currency:i,basePath:e.ownProps.basePath,spreadsheet:d,environmentalCommitments:Object(_.b)(r),risks:s,slug:e.ownProps.slug,story:c,storyRteVersion:l||""})}),k=Object(f.graphql)(b,Object(g.a)(v));var y=n("q1tI"),E=n.n(y),j=n("/MKj"),w=n("JN/F"),S=n("l2NB"),O=n("2DJ9"),N=n("cI5m");const C=({disclosure:{fundingForAiAttribution:e,fundingForAiConsent:t,fundingForAiOption:n,generatedByAiConsent:a,generatedByAiDetails:i,involvesAi:r,involvesFunding:o,involvesGeneration:d,involvesOther:u,otherAiDetails:m}})=>r?E.a.createElement("div",{className:"mb3 mb10-sm mb3"},E.a.createElement("div",{className:"mb6"},E.a.createElement("h2",{className:"normal mb1"},Object(l.b)("project_page.campaign.AI_use"))),o&&E.a.createElement("div",{className:"border-bottom mb2"},E.a.createElement("h3",{className:"normal type-18"},Object(l.b)("project_page.campaign.AI_funding_involvement")),e&&E.a.createElement("div",{className:"flex flex-auto flex-row"},E.a.createElement(O.a,{name:"icon--check",size:"20",atoms:["fill-ksr-green-700 mr3 shrink0"]}),E.a.createElement("p",{style:{marginBottom:"1.5rem"}},Object(l.b)("project_page.campaign.AI_funding_attribution"))),t&&E.a.createElement("div",{className:"flex flex-row"},E.a.createElement(O.a,{name:"icon--check",size:"20",atoms:["fill-ksr-green-700 mr3 shrink0"]}),E.a.createElement("p",{style:{marginBottom:"1.5rem"}},Object(l.b)("project_page.campaign.AI_funding_consent"))),n&&E.a.createElement("div",{className:"flex flex-row"},E.a.createElement(O.a,{name:"icon--check",size:"20",atoms:["fill-ksr-green-700 mr3 shrink0"]}),E.a.createElement("p",null,Object(l.b)("project_page.campaign.AI_funding_opt")))),d&&E.a.createElement("div",{className:"border-bottom mb2"},E.a.createElement("h3",{className:"normal type-18 mt5"},Object(l.b)("project_page.campaign.AI_generation")),E.a.createElement("h4",{className:"bold lh4",style:{marginBottom:"1.5rem"}},Object(l.b)("project_page.campaign.AI_generation_details")),E.a.createElement("p",{className:"border-left border-create-700 border-left5px pl3"},E.a.createElement(N.a,{options:{target:"_blank"}},i)),E.a.createElement("h4",{className:"bold lh4",style:{marginBottom:"1.5rem"}},Object(l.b)("project_page.campaign.AI_generation_consent")),E.a.createElement("p",{className:"border-left border-create-700 border-left5px pl3"},E.a.createElement(N.a,{options:{target:"_blank"}},a))),u&&E.a.createElement("div",{className:"border-bottom mb2"},(o||d)&&E.a.createElement("h3",{className:"normal type-18 mt5"},Object(l.b)("project_page.campaign.AI_other")),E.a.createElement("p",null,E.a.createElement(N.a,{options:{target:"_blank"}},m))),E.a.createElement("div",{className:"mt5"},E.a.createElement("a",{target:"_blank",className:"ksr-green-700 bold type-16",href:"https://help.kickstarter.com/hc/articles/16848396410267",onClick:()=>{Object(s.n)(s.d.CTA_CLICKED,{context_cta:s.c.HELP,context_type:c.b.AI_POLICY,context_page:"project",context_section:"campaign"})}},Object(l.b)("project_page.campaign.AI_policy")))):null;var I=n("EEgz"),x=n("DUhn"),T=n("wXnf"),A=n("6zik");class D extends E.a.Component{constructor(...e){super(...e),this.state={start:0,end:0,active:!1},this.calculatePosition=()=>{const e=window.pageYOffset||document.documentElement.scrollTop,t=this.props.sectionRef.current.getBoundingClientRect();if(t){const n=t.top+e;return{start:n,end:n+t.height}}return{start:0,end:0}},this.onScroll=()=>{const e=this.props.offset||0,t=this.calculatePosition(),{start:n,end:a,active:i}=this.state;if(t.start!==n||t.end!==a)return this.setState({...t});!i&&window.scrollY+e>n&&window.scrollY+e<a&&(this.setState({active:!0}),this.props.onEnterFromTop&&this.props.onEnterFromTop()),i&&window.scrollY+e>a&&(this.setState({active:!1}),this.props.onExitBelow&&this.props.onExitBelow()),i&&window.scrollY+e<n&&(this.setState({active:!1}),this.props.onExitAbove&&this.props.onExitAbove())}}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){window.removeEventListener("scroll",this.onScroll)}render(){return this.props.children}}class P extends E.a.Component{constructor(e){super(e),this.sectionsList=void 0,this.endOfCampaign=void 0,this.headingAnchors=void 0,this.observer=void 0,this.endOfCampaign=E.a.createRef(),this.sectionsList=i()(Object(w.a)(),t=>({id:t.id,name:t.name,ref:E.a.createRef(),shouldRender:this.shouldRender(t.id,e)})),this.headingAnchors=[];const t=this.shouldRender("environmental-commitments",e),n=this.shouldRender("use-of-ai",e),a=this.shouldRender("project-budget",e);e.dispatch(Object(S.b)({environmentalCommitmentsExists:t,projectHasAI:n,projectBudgetExists:a})),this.navigationSectionChanged=this.navigationSectionChanged.bind(this),this.handleCampaignNavItemClicked=this.handleCampaignNavItemClicked.bind(this),this.state={entries:{}};this.observer=new IntersectionObserver(t=>{const n=t.reduce((e,t)=>{const n=t.target.id,a=e[n];return a?{...e,[n]:{...a,isIntersecting:t.isIntersecting}}:{...e,[n]:{id:t.target.id,isIntersecting:t.isIntersecting,name:t.target.textContent||""}}},this.state.entries);this.setState({entries:n});const a=Object.values(this.state.entries).filter(e=>e.isIntersecting);if(0===a.length)return;let i=a[0];a.length>1&&"story"===i.id&&(i=a[1]),i&&e.dispatch(Object(S.a)({activeSection:{id:i.id,name:i.name}}))},{root:document.querySelector(".story-content"),rootMargin:"0px 0px -60% 0px",threshold:1})}observeHeadingAnchors(){if(!this.observer)return;const e=document.querySelectorAll("h3.page-anchor");this.headingAnchors=Array.from(e).map(e=>({id:e.id||"",name:e.textContent||"",ref:null,shouldRender:!0})),e.length&&e.forEach(e=>{var t;null==this||null===(t=this.observer)||void 0===t||t.observe(e)})}componentDidMount(){this.observeHeadingAnchors()}componentDidUpdate(){this.observeHeadingAnchors()}componentWillUnmount(){if(!this.observer)return;const e=document.querySelectorAll("h3.page-anchor");e.length&&e.forEach(e=>{var t;null==this||null===(t=this.observer)||void 0===t||t.unobserve(e)})}shouldRender(e,t){switch(e){case"story":return!0;case"project-budget":return t.isSharingProjectBudget;case"risks-and-challenges":return!0;case"use-of-ai":return!(!t.aiDisclosure||!t.aiDisclosure.involvesAi);case"environmental-commitments":return t.environmentalCommitments&&t.environmentalCommitments.length>0;default:return!1}}navigationSectionChanged(e,t){const n=this.props.activeSection;e&&!n||n&&e&&n.id!==e.id?t(Object(S.a)({activeSection:{id:e.id,name:e.name,forceScroll:!1}})):e||t(Object(S.a)({activeSection:void 0})),this.setState({activeSection:e})}handleCampaignNavItemClicked(e,t){e.preventDefault(),"risks-and-challenges"===t.id&&Object(s.n)(s.d.CTA_CLICKED,{context_cta:s.c.RISKS,context_location:"side_nav"}),"use-of-ai"===t.id&&Object(s.n)(s.d.CTA_CLICKED,{context_cta:s.c.USE_OF_AI,context_type:c.b.AI_POLICY,context_page:"project",context_section:"campaign"}),this.props.dispatch(Object(S.a)({activeSection:{id:t.id,name:t.name}})),t.ref?Object(d.c)({ref:t.ref,offset:this.props.getHeightOffset(),duration:300}):Object(d.b)(t.id,this.props.getHeightOffset(),300)}render(){const{dispatch:e,stickyTopAtom:t,isFlaggingDisabled:n}=this.props,a=this.props.activeSection||{id:"story"},i=Object.values(this.sectionsList).filter(e=>e.shouldRender),o=[...this.headingAnchors,...i.slice(1)];return E.a.createElement("section",{className:"project-content"},E.a.createElement("div",{className:"row"},E.a.createElement("nav",{className:Object(u.a)("col col-3 important-stick-md hide block-lg pb4 pl2 pr1 pl0 clip auto-scroll-y h100vpSticky scrollbar-gutter-stable",t)},o.map(e=>E.a.createElement(r.a,{key:e.id,selected:!!a&&e.id===a.id,href:e.id,onClick:t=>this.handleCampaignNavItemClicked(t,e)},E.a.createElement("strong",{className:"break-word"},e.name)))),E.a.createElement("div",{className:"col col-12 grid-col-9-lg z1"},E.a.createElement("div",{className:"max-w113 m-auto"},i.map(t=>E.a.createElement("div",{key:t.id},t.shouldRender&&E.a.createElement(D,{sectionRef:t.ref,onEnterFromTop:()=>{"story"!==t.id&&this.navigationSectionChanged(t,e)},offset:(this.props.getHeightOffset()||0)+151},E.a.createElement("div",{ref:t.ref},"story"===t.id&&E.a.createElement("div",null,E.a.createElement(A.a,{storyHTML:this.props.story})),"project-budget"===t.id&&E.a.createElement("div",{className:"pt4"},E.a.createElement("div",{id:t.id,className:"pt4"},E.a.createElement(I.a,{currency:this.props.currency,spreadsheet:this.props.spreadsheet}))),"risks-and-challenges"===t.id&&E.a.createElement("div",{className:"pt8"},E.a.createElement(T.a,{risks:this.props.risks})),"use-of-ai"===t.id&&null!==this.props.aiDisclosure&&E.a.createElement("div",{className:"pt8"},E.a.createElement(C,{disclosure:this.props.aiDisclosure})),"environmental-commitments"===t.id&&E.a.createElement("div",{className:"pt8"},E.a.createElement(x.a,{commitments:this.props.environmentalCommitments})))))),E.a.createElement(D,{sectionRef:this.endOfCampaign,onExitBelow:()=>this.navigationSectionChanged(void 0,e)},E.a.createElement("div",{className:"border-bottom mb4 mb9-md",ref:this.endOfCampaign},E.a.createElement("div",{className:"mb9 type-16"},E.a.createElement(l.a,{i18nKey:"project_page.faq.Questions_about_this_project"}),E.a.createElement("a",{href:this.props.basePath+"/faqs",className:"bold link-blue type-16"},E.a.createElement(l.a,{i18nKey:"project_page.faq.Check_out_the_faq"}))))),!n&&E.a.createElement(h.a,null)))))}}const R=e=>Object(o.a)(k,m.b,Object(j.c)(e,e=>({dispatch:e})))(P),F=R(Object(p.a)(e=>({activeSection:e.campaignNavigation.activeSection}))),L=R(e=>({activeSection:e.activeSection}))},xdbW:function(e,t,n){"use strict";var a=n("xG9w"),i=n("+2Rf"),r=n.n(i),o=n("Q4Yj"),s=n("zm9w");r()((function(){r()(document).on("click",".NS_post_likes__namepile a#full_namepile",(function(e){e.preventDefault();var t=r()(this);r.a.ajax({url:t.attr("href"),dataType:"json",type:"GET",success:function(e){var n=a.default.map(e.users,(function(e){return Object(o.a)('<a href="{{url}}">{{name}}</a>',e)}));n=s.b.to_sentence(n),t.parent().html(n+" like this update.")}})}))}))},xj30:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a),r=n("h4vE");Object(r.a)(".NS-features__toggle",(function(e){e.find(".js-featured-toggle").on("click",(function(e){e.preventDefault();var t=i()(this),n=t.closest(".NS-features__toggle"),a=t.closest(".featured, .unfeatured");i.a.ajax({type:a.data("method"),url:a.data("url"),data:a.find(":input").serialize(),dataType:"json",success:function(e){n.toggleClass("featured",e.featured),e.remove_featurings_path&&n.find(".featured").data("url",e.remove_featurings_path)},error:function(){growl({error:"Unable to complete your request"})}})}))}))},xvMM:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=()=>{var e,t,n;return null!==(e=null===(t=(n=window).matchMedia)||void 0===t?void 0:t.call(n,"(hover: hover)").matches)&&void 0!==e&&e}},xyIz:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return d}));var a=n("l7kV"),i=n("sezs"),r=n("9jZ4"),o=n("q1tI"),s=n.n(o),c=n("c5x8");const l=["gray","green","purple","blue","danger","warning","outlined"],d=({children:e,atoms:t,icon:n,variant:a,disabled:o=!1,...l})=>s.a.createElement("kds-badge",Object.assign({},l,{class:Object(c.a)(t)||void 0,"aria-disabled":o?"true":void 0,"data-variant":a}),n&&s.a.createElement(i.a,{name:n,size:"sm"}),n&&Object(r.e)(e)&&"string"!=typeof e?s.a.createElement("span",{className:"kds-badge__content"},e):e);Object(a.a)("kds-badge")},y2df:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));let a=function(e){return e.CTA_CLICKED="CTA Clicked",e.PAGE_VIEWED="Page Viewed",e.CARD_CLICKED="Card Clicked",e.VIDEO_PLAYBACK_STARTED="Video Playback Started",e.VIDEO_PLAYBACK_COMPLETED="Video Playback Completed",e.OPENED_DISCOVER_OVERLAY="Viewed Discovery Filters",e.CLOSED_DISCOVER_OVERLAY="Closed Discovery Filter",e}({})},y4o6:function(e,t,n){"use strict";n.d(t,"a",(function(){return k}));var a=n("iuhU"),i=n("sezs"),r=n("dPds"),o=n("mv45"),s=n("94td"),c=n("NxQb"),l=n("xKJO"),d=n("GnmY"),u=n("q1tI"),m=n("JhfJ"),p=n("ObC8"),h=n("2nV0"),f=n("lM4U");const g=e=>{const{header:t,body:n,button:a}=_(e.isPinned);return u.createElement(h.a.Modal,{isOpen:!0,onClose:e.onClose},u.createElement(f.a,{title:t,content:n,onClose:e.onClose,actions:({close:t})=>u.createElement(u.Fragment,null,u.createElement(p.a,{variant:"filled/destructive",onPress:t},Object(s.b)("project_updates.No_go_back")),u.createElement(p.a,{onPress:()=>e.onConfirm()},a))}))},_=e=>e?{header:Object(s.b)("project_updates.Unpin_this_update?"),body:Object(s.b)("project_updates.Youll_no_longer_see_it_at_the_top"),button:Object(s.b)("project_updates.Yes_unpin_it")}:{header:Object(s.b)("project_updates.Pin_this_update?"),body:Object(s.b)("project_updates.Youll_see_it_at_the_top"),button:Object(s.b)("project_updates.Yes_pin_it")};class b extends u.Component{constructor(...e){super(...e),this.state={isPinModalShowing:!1}}render(){const{canPin:e,isPinned:t,onPinCompletion:n,onUnpinPost:o,onPinPost:d,onRefetch:m,relayId:p,type:h,trackingContext:f}=this.props,{pinColor:_,pinCopy:b,trackingFn:k,telegrafAction:y}=v(t),E=t?o:d;return Object(c.a)("pinned_posts_on_feed")&&e||!t?Object(c.a)("pinned_posts_on_feed")&&e?u.createElement(u.Fragment,null,u.createElement("button",{onClick:e=>{e.preventDefault(),this.setState({isPinModalShowing:!0})},className:"kds-button is-compact absolute kds-top-0 kds-right-0","data-variant":"borderless"},u.createElement(i.a,{name:"icon--pin",atoms:Object(a.b)("kds-mr-01",_)}),b),this.state.isPinModalShowing&&u.createElement(g,{isPinned:t,onConfirm:()=>{k(h,f),l.a.incrementPostPin(window.clientType,y),E({id:p}).then(()=>m&&m()).then(n),this.setState({isPinModalShowing:!1})},onClose:()=>{this.setState({isPinModalShowing:!1})}})):null:u.createElement(r.a.HeadingSM,{as:"span",className:"kds-text-accent-green flex items-center kds-gap-02"},u.createElement(i.a,{name:"icon--pin",atoms:_}),Object(s.b)("project_updates.Pinned"))}}const v=e=>e?{pinColor:"kds-fill-icon-green",pinCopy:Object(s.b)("project_updates.Pinned"),trackingFn:d.d,telegrafAction:"unpin"}:{pinColor:"",pinCopy:Object(s.b)("project_updates.Pin"),trackingFn:d.c,telegrafAction:"pin"},k=Object(o.a)(m.b,m.d)(b)},yTGw:function(e,t,n){"use strict";n.d(t,"a",(function(){return d.a})),n.d(t,"b",(function(){return a}));var a={};n.r(a),n.d(a,"WithGroupControl",(function(){return c})),n.d(a,"Control",(function(){return l}));var i=n("Zkg7"),r=n("6zsG"),o=n("q1tI"),s=n.n(o);const c=({as:e,...t})=>s.a.createElement(i.b.Control,{asChild:!0},s.a.createElement(e,t)),l=Object(r.b)("div",{className:"kds-text-field__control"},c);var d=n("Z4QI")},yUSt:function(e,t,n){"use strict";n.r(t),n.d(t,"Container",(function(){return i})),n.d(t,"Control",(function(){return r}));var a=n("6zsG");const i=Object(a.b)("div",{className:"kds-input-group"}),r=Object(a.b)("div",{className:"kds-input-group__control"})},yhqc:function(e,t,n){"use strict";function a(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,a){return t+t+n+n+a+a}));var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null}function i(e,t,n){var a=[e,t,n].map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)}));return.2126*a[0]+.7152*a[1]+.0722*a[2]}var r,o,s,c=(e,t)=>{const n=a(e),r=a(t),o=i(n.r,n.g,n.b),s=i(r.r,r.g,r.b);return(o>s?(s+.05)/(o+.05):(o+.05)/(s+.05))<1/4.5},l=n("qcI4"),d=n("K+Nk"),u=n("+2Rf"),m=n.n(u),p=n("xG9w"),h=n("yQm5"),f=n.n(h);r=l.a.extend(),o={},s={},void 0!==window.project_profile_color_defaults&&(s=Object(d.a)(window.project_profile_color_defaults)),r.prototype.COLOR_DEFAULTS=s,r.prototype.publishSuccess=function(){this.syncDiscardState(),this.get("feature_image_attributes._destroy")&&this.replace("feature_image_attributes",{}),this.get("background_image_attributes._destroy")&&this.replace("background_image_attributes",{})},r.prototype.syncDiscardState=function(){this.setDiscardState(this.data)},r.prototype.setDiscardState=function(e){o=m.a.extend(!0,{},e)},r.prototype.discard=function(){this.set(o,{overwrite:!0})},r.prototype.tryFixValidationErrors=function(e){var t=(e=e||{}).default_url;["name","blurb","link_text","link_url"].forEach(e=>{var t=this.get(e);t&&this.set(e,t.trim())});var n=this.get("link_url"),a=this.get("link_text");if(!n&&/^http|^www/.test(a)){var i=this.validateURL(a);this.set("link_url",i),this.set("link_text",this.trimURL(i))}else!n&&a?this.set("link_url",t):n&&!/^http/.test(n)&&this.set("link_url","http://"+n)},r.prototype.validateURL=function(e){return/^http/.test(e)?e:"http://"+e},r.prototype.trimURL=function(e){return new f.a(e).hostname()},r.prototype.validate=function(){var e={};""===this.get("name").trim()&&(e.name=!0);const t=this.get("background_color"),n=this.get("text_color");if(t||n){const a="#F7F7F9",i="#020621",r=t||a,o=n||i,s=null!=this.get("background_image_attributes").id;c(r,o)||s||(e.color_contrast=!0)}const a=this.get("link_background_color"),i=this.get("link_text_color");if(a||i){const t="#2752ff",n="#FFFFFF";c(a||t,i||n)||(e.color_contrast=!0)}return e},r.prototype.data_for_rails=function(){return p.default.reduce(this.data,(e,t,n)=>(e[`project_profile[${n}]`]=t,e),{})},r.set_computed_value("background_image_opacity_percent",(function(){return 100*this.background_image_opacity}),{changes_on:["background_image_opacity"]}),r.set_computed_value("text_color_or_default",(function(){return this.text_color?"#"+this.text_color:"#"+r.prototype.COLOR_DEFAULTS.text_color}),{changes_on:["text_color"]}),r.set_computed_value("link_text_color_or_default",(function(){return this.link_text_color?"#"+this.link_text_color:"#"+r.prototype.COLOR_DEFAULTS.link_text_color}),{changes_on:["link_text_color"]}),r.set_computed_value("background_color_or_default",(function(){return""!==this.background_color?"#"+this.background_color:this.background_image_attributes.id&&!this.background_image_attributes._destroy?"#"+r.prototype.COLOR_DEFAULTS.background_color_with_image:"#"+r.prototype.COLOR_DEFAULTS.background_color}),{changes_on:["background_image_attributes","background_color"]}),r.set_computed_value("link_background_color_or_default",(function(){var e=this.link_background_color;return e?"#"+e:"#"+r.prototype.COLOR_DEFAULTS.link_background_color}),{changes_on:["link_background_color"]}),window.CurrentProjectProfile=r},ykOr:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return c}));var a=n("0fse"),i=n("R3y7");const r={byId:{}},o=e=>({type:"CLICKED_WATCHING",project:e}),s=e=>({type:"LOAD_PROJECT_DATA",projects:e}),c=(e=r,t)=>{switch(t.type){case"LOAD_PROJECT_DATA":return{...e,byId:{...e.byId,...l(t.projects)}};case"CLICKED_WATCHING":return Object(a.f)(e,a.a.action(Object(i.a)(t.project)));case"WATCHING_UPDATE_SUCCESS":const n=t.pid;return{...e,byId:{...e.byId,[n]:{...e.byId[n],isWatched:t.isWatching}}};case"NOOP":default:return e}},l=(e=[])=>e.reduce((e,t)=>(e[t.pid]=t,e),{})},ysdo:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n("pTxv"),i=n("Wwun"),r=n("t1f3"),o=n("2DJ9"),s=n("EoiL"),c=n("T8n5"),l=n("UUNB"),d=n("SmhT"),u=n("/IHD"),m=n("q1tI"),p=n.n(m);const h=["fixed","t0","b0","l0","r0","z-modal-3","scroll-y","py12","px3","flex","pointer","bg-white_80"].join(" "),f=e=>{const{onClose:t,headerIcon:n,headerText:f,bodyText:g,buttonText:_,bodyListItems:b,listItemArrowFillColor:v="fill-make100-yellow",dialogBgColor:k="bg-ksr10-blue"}=e;return Object(m.useEffect)(()=>(document.documentElement.classList.add("clip"),()=>{document.documentElement.classList.remove("clip")})),p.a.createElement(p.a.Fragment,null,Object(l.a)(d.d)&&t(),p.a.createElement("div",{className:h,onClick:t,role:"presentation"},p.a.createElement(i.a,{"aria-label":"Modal",className:"relative m-auto w100p",focusTrapOptions:{clickOutsideDeactivates:!0,fallbackFocus:!0}},p.a.createElement("div",{role:"dialog",onClick:e=>e.stopPropagation(),className:Object(u.a)("cursor-default relative z3 max-w75 white mx-auto p4 p6-md clip",k)},p.a.createElement("div",{className:"relative z1"},n,p.a.createElement(s.a,{level:3,type:"subhead-600",atoms:["mt4"]},f),p.a.createElement(c.a,{atoms:["mt4","mb5"]},g),b&&p.a.createElement("ul",{className:"mb10"},b.map((e,t)=>p.a.createElement("li",{key:t,className:"flex mb3 type-16"},p.a.createElement(o.a,{name:"icon--chevron-right",atoms:[v,"mx2"],size:"large"}),p.a.createElement("span",{className:"flex1"},e)))),p.a.createElement(a.c,{theme:"support",fullWidth:!0,onClick:t},_)),p.a.createElement(r.a,{name:"coral-cube",atoms:["absolute","b-18","l-6","pointer-events-none"],width:200}),p.a.createElement(r.a,{name:"coral-hollow-cylinder",atoms:["absolute","t-18","r-6","pointer-events-none"],width:200})))))}},yvkg:function(e,t,n){n("+2Rf"),n("+2Rf");!function(e,t){e.fn.spin=function(n,a){return this.each((function(){var i=e(this),r=i.data();r.spinner&&(r.spinner.stop(),delete r.spinner),!1!==n&&(n=e.extend({color:a||i.css("color")},e.fn.spin.presets[n]||n),r.spinner=new t(n).spin(this))}))},e.fn.spin.presets={tiny:{lines:8,length:2,width:2,radius:3},small:{lines:8,length:4,width:3,radius:5},large:{lines:10,length:8,width:4,radius:8}}}(n("+2Rf"),n("RnbG"))},"z+X6":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n("ANjH"),i=n("0fse");const r=(e,t,n="Kickstarter",r=[])=>{return r=[Object(i.d)(),...r].filter(Boolean),Object(a.createStore)(e,t,(o={name:n},"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__(o):a.compose)(...r));var o}},z0kN:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i}));const a=e=>t=>`${e}${t}`,i=e=>e.replace(/[^\w\-]+/g,"-").replace(/-{2,}/g,"-").replace(/^-|-$/g,"").toLowerCase()},zEur:function(e,t,n){"use strict";var a=n("h4vE"),i=n("2UXI");Object(a.a)("body#survey_responses_new",(function(e){var t=e.find("input:hidden#dirty");e.length&&(e.on("keydown","input:text",(function(e){13===e.which&&e.preventDefault()})),"0"===t.val()?t.val("1"):Object(i.d)("Back to Survey Response Page"))}))},zSSS:function(e,t,n){"use strict";n.d(t,"b",(function(){return Ie})),n.d(t,"a",(function(){return xe}));var a,i,r,o=n("iuhU"),s=n("NAv5"),c=n("pTxv"),l=n("39MV"),d=n("mq2H"),u=n("94td"),m=n("q1tI"),p=n.n(m),h=n("NP8z");const f=(null===(a=window.current_project)||void 0===a||null===(i=a.data)||void 0===i||null===(r=i.urls)||void 0===r?void 0:r.web.rewards)||"",g=({rewardId:e,disabled:t=!1,atoms:n=[],href:a=`${f}#${Object(h.c)(e)}`,type:i="button",onClick:r,...o})=>p.a.createElement(c.c,Object.assign({},o,{theme:"create",size:"medium",disabled:t,type:t?i:void 0,href:t?void 0:a,onClick:r,atoms:["mr2 "+n]}),Object(u.b)("project_page.reward.Details"));var _=n("XXIi"),b=n("DE4Y"),v=n("mv45"),k=n("eEls"),y=n("a8OY"),E=n("J2iB"),j=n.n(E),w=n("xweI"),S=n.n(w),O=n("ZCHx");n("VX74");const N=(e,t)=>e.map(e=>{const n=e.estimatedMin&&Number(e.estimatedMin.amount),a=e.estimatedMax&&Number(e.estimatedMax.amount),i=n&&a&&a>n,r=Number(e.cost.amount),o=r>0?` +(${Object(l.c)(r,t)})`:"",s=n&&Object(l.c)(n,t),c=a&&n&&i?` (${Object(u.b)("project_page.reward.Est_shipping_range",{min:s,max:a})})`:` (${Object(u.b)("project_page.reward.Est_shipping_number",{estimate:s})})`,d=n&&a?c:o;return{label:e.location.name+d,value:e.location.id}}),C=({rules:e,currency:t,selected:n,onChange:a=k.c,hasErrors:i=!1,CurrentProjectConversionEstimate:r})=>{const o=Object(l.b)(e,n);return p.a.createElement(p.a.Fragment,null,p.a.createElement("label",{className:"type-10 mb1"},Object(u.b)("rewards.shipping_destination")),p.a.createElement(O.a,{options:S()(N(e,t||b.n.USD),"label"),placeholder:Object(u.b)("rewards.Select_a_country"),selectedValue:n,onChange:t=>a(Object(l.b)(e,t)),hasErrors:i,name:"shipping-destination",id:"shipping-destination"}),o&&r&&p.a.createElement(r,{amount:o.cost.amount}))};var I=n("jSx7"),x=n("iqnZ"),T=n("WEJ0");const A=({onClick:e})=>m.createElement("button",{className:"pointer text-underline type-14 navy-600 bg-transparent",onClick:e},Object(u.b)("project_build_editor.navigation.Cancel"));var D=n("1UYd"),P=n("mZYE");const R=(e,t)=>!e.available||t.errors.amount||t.errors.shipping||t.loading||e.shippingEnabled&&j()(t.selectedShippingRule),F=({currency:e,variant:t,displayConvertAmount:n,onCancelPledge:a,reward:i,shippingRules:r,fxRate:o,usdType:s,user:c})=>{var l;const u=Object(I.f)(r||[]),{pledgeData:m,updatePledgeAmount:h,updateShippingRule:f,submitPledge:g}=Object(x.a)({minAmount:i.amount.amount,shippingRules:u,user:c,currency:e,usdType:s,rewardId:i.id,shippingEnabled:i.shippingEnabled});return p.a.createElement("div",{className:"mt0 new-form flex flex-column gap3"},p.a.createElement(p.a.Fragment,null,p.a.createElement("form",{onSubmit:e=>{e.preventDefault()}},i.shippingEnabled&&p.a.createElement("div",{className:"mb3"},p.a.createElement(C,{currency:e,rules:u,selected:(null===(l=m.selectedShippingRule)||void 0===l?void 0:l.location.id)||"",onChange:f,hasErrors:m.errors.shipping})),p.a.createElement(P.a,{convert:n,elementId:i.id,fxRate:o,onChange:h,pledgeData:m,userCurrency:null==c?void 0:c.chosenCurrency}))),p.a.createElement("div",null,p.a.createElement(D.a,{onClick:e=>{g(e),Object(T.c)(d.c.REWARD_CONTINUE,t)},disabled:R(i,m)}),p.a.createElement("div",{className:"text-center mt2"},p.a.createElement(A,{onClick:e=>{a(e),Object(T.c)(d.c.REWARD_CANCEL,t)}}))))};var L=n("DI+Y");const M={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ShippingRules"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"rewardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"usdType"}},{kind:"Field",name:{kind:"Name",value:"reward"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"rewardId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"shippingEnabled"}},{kind:"Field",name:{kind:"Name",value:"simpleShippingRulesExpanded"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currency"}},{kind:"Field",name:{kind:"Name",value:"locationName"}},{kind:"Field",name:{kind:"Name",value:"locationId"}},{kind:"Field",name:{kind:"Name",value:"cost"}},{kind:"Field",name:{kind:"Name",value:"estimatedMin"}},{kind:"Field",name:{kind:"Name",value:"estimatedMax"}},{kind:"Field",name:{kind:"Name",value:"country"}}]}}]}}]}}]};const U=Object(v.c)(e=>{if(e.data&&e.data.error)return Object(v.d)(e.data.error);if(!e.data||!e.data.reward)return Object(v.d)();const{usdType:t,reward:n}=e.data;return Object(v.l)({usdType:t,shippingEnabled:n.shippingEnabled,shippingRules:n.simpleShippingRulesExpanded})}),V=Object(L.graphql)(M,U),H=Object(k.a)(V,y.b)(e=>Object(v.i)(e)?p.a.createElement(F,e):null),B=({href:e})=>p.a.createElement(c.b,{href:e,className:"bttn bttn-primary bttn-medium theme--create w100p"},Object(u.b)("rewards.Your_pledge_info")),$=({backing:e,currency:t,disableCta:n,disableCtaText:a,handleCancelPledge:i,isUserCreator:r,onDetailsButtonClick:s,onShowPledgeForm:c,pledgeFormOpen:m,reward:f,state:v,usdType:k,variant:y,preview:E,...j})=>{var w;const S=[b.J.CANCELED,b.J.SUCCESSFUL,b.J.FAILED].includes(v),O=Object(h.e)(null==e||null===(w=e.originalOrUpgradedReward)||void 0===w?void 0:w.id)===f.id&&S;return m&&!E?p.a.createElement(H,Object.assign({currency:t,isUserCreator:r,onCancelPledge:i,reward:f,rewardId:Object(h.f)(f.id),state:v,usdType:k,variant:y},j)):p.a.createElement("div",{className:"flex justify-between"},p.a.createElement(g,{disabled:E,rewardId:f.id,atoms:[Object(o.b)({"display-none-md":y===_.a.RewardsTab})],onClick:()=>{s(),Object(T.c)(d.c.REWARD_DETAILS,y)}}),O&&p.a.createElement(p.a.Fragment,null,p.a.createElement(B,{href:(null==e?void 0:e.backingDetailsPageUrl)||""})),!O&&p.a.createElement(D.a,{onClick:()=>{c(),Object(T.c)(d.c.PLEDGE_INITIATE,y)},disabled:n||!f.available,disabledText:a,text:Object(u.b)("project_page.reward.Pledge",{amount:Object(l.c)(f.amount.amount,t,k)})}))};var q=n("KBQY"),Y=n("RBqt"),z=n("6Y6I"),G=n("Drj3"),K=n("uT+I");const W=p.a.memo(({preface:e,info:t,containerAtoms:n,variant:a="default"})=>"rewards_tab"===a?p.a.createElement(K.a,{atoms:n},p.a.createElement(z.a,null,e),p.a.createElement(G.b,{tag:"div"},t)):p.a.createElement(K.a,{atoms:n},p.a.createElement(Y.a,{color:"dark-grey-500",atoms:["block","text-uppercase","type-10","ls0_5px"]},e),p.a.createElement(Y.a,{color:"soft-black",atoms:["lh3","type-14"]},t)));var J=n("8plM"),X=n("d+2v"),Z=n("EoiL"),Q=n("T8n5"),ee=n("/IHD");function te({children:e,toggleTruncation:t,isTruncated:n,style:a={},...i}){return p.a.createElement("button",Object.assign({type:"button"},i,{onClick:t,className:Object(o.b)(n?"mb1":"mb2"," r0 pl6 pr2 type-14 gradient-transparent-to-white-20p hover-ksr-green-700",i.className),style:{bottom:n?"-0.1rem":"-2rem",outline:"none",...a}}),e)}var ne=n("nbmp");const ae=55,ie=e=>{const{children:t,ToggleButton:n=te,expandText:a,collapseText:i,atoms:r=[],isInitiallyTruncated:s=!0,truncateHeightThreshold:c=ae,truncationHeight:l="h9"}=e,d=p.a.useRef(null),[u,h]=Object(m.useState)(s);Object(m.useEffect)(()=>{h(s)},[s]);const[f,g]=Object(m.useState)(0);Object(m.useLayoutEffect)(()=>{d.current&&g(d.current.offsetHeight)},[]);const _=Object(ee.a)(u&&"clip",u&&l),b=s&&Object(ne.b)(c,f),v=p.a.createElement(n,{toggleTruncation:()=>h(!u),isTruncated:u},u?a:i);return p.a.createElement(p.a.Fragment,null,b?p.a.createElement("div",{className:Object(o.b)("relative",r)},p.a.createElement("div",{className:_},t(d)),v):t(d))},re=({id:e,children:t,...n})=>{var a,i;const r=p.a.useRef(null),{observer:o}=null!==(a="observer"in n?n:void 0)&&void 0!==a?a:{},{onIntersectionChange:s,...c}=null!==(i="onIntersectionChange"in n?n:void 0)&&void 0!==i?i:{};p.a.useEffect(()=>{const t=r.current;if(!t)return;if(!o&&!s)return;const n=null!=o?o:new IntersectionObserver(([t])=>null==s?void 0:s({id:e,entry:t}),c);return n.observe(t),()=>{n.unobserve(t)}},[]);const l=e;return p.a.createElement("div",{"data-observer-id":l,ref:r},t)};var oe=n("aTUb"),se=n("NxQb");const ce=({items:e})=>p.a.createElement("div",null,p.a.createElement(Y.a,{color:"dark-grey-500",atoms:["block text-uppercase type-10 ls1px"]},Object(u.b)("project_page.reward.Includes")),p.a.createElement("ul",{className:"type-14 pl2"},e.map(e=>p.a.createElement("li",{key:e.id,className:"inside disc"},e.quantity>1?p.a.createElement(p.a.Fragment,null,p.a.createElement("span",{className:"bold"},e.quantity,"×")," ",e.name):e.name)))),le={default:{description:{className:"body-100 dark-grey-500 lh3 text-prewrap mb4 mr3"}},rewards_tab:{description:{className:Object(o.b)(G.a,"text-prewrap")}},rewards_tab_large:{description:{className:"type-16 support-700 text-prewrap"}}},de=p.a.memo(e=>{var t;const{enableTruncation:n,description:a,items:i=[]}=e,r=Object(u.b)("project_page.reward.Read_more"),o=Object(u.b)("project_page.reward.Less"),s=le[null!==(t=e.variant)&&void 0!==t?t:"default"];if(!(a||i.length>0))return null;const c=()=>p.a.createElement(p.a.Fragment,null,a&&p.a.createElement("div",{className:s.description.className},a),i.length>0&&p.a.createElement(ce,{items:i}));return n?p.a.createElement(ie,{expandText:r,collapseText:o},e=>p.a.createElement("div",{ref:e},p.a.createElement(c,null))):p.a.createElement(c,null)});var ue=n("PXbY");const me=e=>{const{shippingPreference:t,shippingSummary:n,variant:a}=e;return n?p.a.createElement(W,Object.assign({},e,{preface:Object(u.b)("project_page.reward."+(t===ue.c.local?"Reward_location":"Ships_to")),info:n,containerAtoms:["flex1",..."default"===a?["mb2","flex1"]:[]]})):null},pe=({total:e,images:t=[],...n})=>p.a.createElement(W,Object.assign({},n,{preface:"Backers",info:p.a.createElement("div",{className:"flex items-center gap4px"},p.a.createElement("span",{"aria-label":e+" backers"},e),t.length>0&&p.a.createElement("span",{className:"flex z0 mt-1"},t.slice(0,3).map((e,t,n)=>e.url?p.a.createElement("img",{key:e.url,src:e.url,alt:e.altText,width:"24",height:"24",className:Object(o.b)("block","ml-"+(t>0?2:0),"z"+(n.length-t),"border border2px border-white radius100p","shadow-reward-avatar")}):null)))}));var he=n("I3Sk"),fe=n("5KaY"),ge=n("EcEN");const _e=p.a.memo(({name:e,image:t,caption:n,description:a})=>{const[i]=p.a.useState(Object(ge.v4)());return p.a.createElement("div",{className:"border border-support-700 mb3 py3 px3 radius4px clip"},p.a.createElement(K.a,{atoms:["flex","flex-wrap","flex-row-reverse","gap3","items-center","justify-between"]},Object(ee.d)(t)&&p.a.createElement(be,{url:t.url,altText:t.altText}),p.a.createElement(K.a,{atoms:["flex1","flex","flex-column","gap1"]},p.a.createElement(Z.a,{level:3,atoms:["medium","support-700","type-14","lh16px","m0"]},e),n&&p.a.createElement(Q.a,{atoms:["type-12","support-500","m0"]},n),a&&p.a.createElement(fe.a,{id:"description-"+i,cacheId:a,max:40,inline:!0,expandText:"… "+Object(u.b)("rewards.See_more"),collapseText:Object(u.b)("rewards.Less")},p.a.createElement(G.b,{tag:"div"},a)))))});function be(e){const{url:t,altText:n}=e;return Object(ee.d)(t)?p.a.createElement(K.a,{atoms:["self-start","shrink0","my-3","mr-3"]},p.a.createElement("img",{className:"object-cover block aspect-1x1",src:t,alt:n,width:"80"})):null}const ve={item:"rewards.items_included",addon:"rewards.optional_addons_text"},ke={item:({quantity:e,...t})=>({...t,caption:""+Object(u.b)("rewards.Quantity",{count:e})}),addon:({convertedAmount:e,...t})=>({...t,...e?{caption:Object(he.b)(parseInt(e.amount,10),e.currency)}:{}})},ye=({reward:e})=>{const t=[["item",e.items],["addon",e.displayableAddons]];return p.a.createElement("div",null,t.map(([e,t],n)=>t.length>0&&p.a.createElement("div",{className:Object(o.b)(n>0&&"mt4","flex flex-column gap1"),key:e},p.a.createElement(z.a,null,p.a.createElement(u.a,{i18nKey:ve[e],count:t.length})),p.a.createElement("div",null,t.map(t=>p.a.createElement(_e,Object.assign({key:t.id},ke[e](t))))))))};var Ee=n("Y+p1"),je=n.n(Ee),we=n("oAcR"),Se=n("URF7"),Oe=n("nWi4");const Ne=({reward:e,open:t=!1,atoms:n=[],...a})=>{var i,r,s;const c=(null===(i=e.items)||void 0===i?void 0:i.length)>0,l=(null===(r=e.displayableAddons)||void 0===r?void 0:r.length)>0;return c||l?p.a.createElement("div",Object.assign({},a,{className:Object(o.b)(Object(ee.a)(n))}),t?p.a.createElement(ye,{reward:e}):(null===(s=e.items)||void 0===s?void 0:s.length)>0&&p.a.createElement(Oe.b,{items:e.items,hasAddons:l})):null},Ce=({toggleTruncation:e,isTruncated:t})=>p.a.createElement(c.e,{atoms:[Object(o.b)("create-700","type-16","w100p","type-1","gradient-transparent-to-white-vertical-40p","border-none","pt2",{absolute:t})],style:{bottom:"-0.1rem",outline:"none"},onClick:e},t?Object(u.b)("rewards.See_more"):Object(u.b)("rewards.Less")),Ie=({backedByMe:e=!1,ctaProps:t,isInPostCampaignPledgingPhase:n,reward:a,compact:i=!1,className:r,layoutAtoms:c,selected:d=!1,onSelect:f,viewportObserverProps:g={},preview:_=!1,...b})=>{var v;const{image:k}=a,y=null!==(v=[e&&"border-trust-500",d&&"border-create-700"].find(Boolean))&&void 0!==v?v:"border-support-300",E={default:{container:Object(o.b)(!c&&"flex flex-col flex-wrap items-start justify-between gap7"),reward:"border",details:"display-none","reward.items":"display-grid","reward.description":"block","reward.details-button":"display-inline"},md:i?{}:{"reward.items":"display-none-md","reward.description":"display-none-md","reward.details-button":"display-none-md",details:"block-md"},lg:i?{}:{details:Object(o.b)(!c&&"basis60p-lg"),reward:Object(o.b)(!c&&"basis25p-lg stick-lg t0-lg")}},j="z3",w="z2",S="z1",[O,N]=Object(oe.a)(!1),C=Object(m.useCallback)(()=>{N()},[]),[I,,x,T]=Object(oe.a)(!1),A=Object(m.useCallback)(T,[]),D=Object(m.useCallback)(()=>{x(),null==f||f(a.id)},[f,a.id]),P=p.a.createElement(de,{enableTruncation:!1,description:a.description,variant:"rewards_tab"}),R=function({backersCount:e,backerImages:t,shippingSummary:n,shippingPreference:a,estimatedDeliveryOn:i,endsAt:r,limit:o,remainingQuantity:c},d){return[null!==e&&p.a.createElement(pe,{key:"backersCount",total:e,images:t,variant:"rewards_tab"}),!!n&&p.a.createElement(me,{key:"shippingSummary",shippingPreference:a,shippingSummary:n,containerAtoms:["mb0"],variant:"rewards_tab"}),!!i&&p.a.createElement(W,{key:"estimatedDeliveryOn",preface:Object(u.b)("project_page.reward.Estimated_delivery"),info:Object(q.a)("MMM YYYY",i),variant:"rewards_tab"}),null!==r&&Object(s.isAfter)(1e3*r,Date.now())&&d&&p.a.createElement(W,{key:"endsAt",preface:Object(u.b)("project_page.reward.Limited_time"),info:Object(u.b)("project_page.reward.Ends_in_days",{days:Object(s.differenceInDays)(new Date(1e3*r),Date.now())}),variant:"rewards_tab"}),null!==o&&o>0&&p.a.createElement(W,{key:"limitedQuantity",preface:Object(u.b)("project_page.reward.Limited_quantity"),info:Object(l.d)(o,c),variant:"rewards_tab"})]}(a,n),F=a.audienceData.secret||Object(se.a)("featured_rewards_2025")&&a.featured;return p.a.createElement("article",Object.assign({"data-test-id":Object(h.c)(a.id),id:Object(h.c)(a.id),className:Object(o.b)(Te(E,"container"),r,null==c?void 0:c.container,!c&&"mt-2 ml-2")},b,{style:{width:"100%"}}),p.a.createElement("div",{className:Object(o.b)(Te(E,"reward"),"relative",y,null==c?void 0:c.reward,!c&&"mt2 ml2","radius4px","w100p")},e&&p.a.createElement(Se.a,{shouldRender:e}),p.a.createElement(re,Object.assign({id:Object(h.c)(a.id),threshold:.8},g),p.a.createElement("div",null,Object(ee.d)(k)&&Object(ee.d)(null==k?void 0:k.url)&&p.a.createElement("div",{className:"relative "+j},p.a.createElement(J.a,Object.assign({},k,{url:k.url,omitLayout:!0}))),p.a.createElement("div",{className:"p3 pt4"},F&&p.a.createElement("div",{className:"flex flex-wrap kds-gap-02"},a.audienceData.secret&&p.a.createElement(X.a,null),a.featured&&p.a.createElement(we.a,null)),p.a.createElement("header",{className:Object(o.b)(`flex justify-between relative ${j} bg-white p3 mx-3 py1 mb-1`,{mt1:e})},p.a.createElement(Z.a,{level:3,weight:"semibold",color:"support-700",atoms:["type-18","m0","mr1","text-wrap-balance","break-word"]},a.name),a.amount.amount&&a.amount.currency&&p.a.createElement("div",null,p.a.createElement(Q.a,{color:"support-700",atoms:["type-18","m0","shrink0"]},Object(l.c)(a.amount.amount,a.amount.currency)),(null==t?void 0:t.displayConvertAmount)?p.a.createElement(Q.a,{atoms:["dark-grey-500","type-10","text-uppercase"]},Object(u.b)("project_page.reward.About_amount",{amount:Object(l.c)(a.convertedAmount.amount,a.convertedAmount.currency)})):null)),p.a.createElement(ie,{ToggleButton:Ce,isInitiallyTruncated:I,truncateHeightThreshold:175,truncationHeight:"h18"},e=>p.a.createElement("div",{ref:e},P&&p.a.createElement("div",{className:Object(o.b)(Te(E,"reward.description"),S,"mt1","break-word")},P),R&&p.a.createElement("div",{className:`display-grid gap4 ${S} mt4 grid-cols-2`},R),p.a.createElement(Ne,{reward:a,open:!i&&O,id:a.id,atoms:["mt4",S,i?"":"display-none-md"]})))),t&&p.a.createElement("div",{className:Object(o.b)("bg-white p3 mt-3 radius8px-top",{"stick b0 shadow-bottom-sheet":I||O},!i&&"relative-md shadow-none-md",w)},p.a.createElement($,Object.assign({pledgeFormOpen:I,onDetailsButtonClick:C,onShowPledgeForm:D,handleCancelPledge:A},t,{reward:a})))))),!i&&p.a.createElement("aside",{className:Object(o.b)(Te(E,"details"),null==c?void 0:c.details,!c&&"mt2 ml2")},p.a.createElement("div",{className:"flex flex-column justify-between gap7"},p.a.createElement(de,{enableTruncation:!1,description:a.description,variant:"rewards_tab_large"}),p.a.createElement(ye,{reward:a}))))},xe=p.a.memo(Ie,(function(e,t){return e.backedByMe===t.backedByMe&&e.compact===t.compact&&e.selected===t.selected&&e.preview===t.preview&&je()(e.reward,t.reward)&&je()(e.ctaProps,t.ctaProps)}));const Te=(e,t)=>Object(o.b)(Object.values(e).map(e=>null==e?void 0:e[t]))},zhmz:function(e,t,n){"use strict";var a=n("+2Rf"),i=n.n(a);n("RIhn");i()("form:not([data-ksrjson])","submit").livequery((function(e){var t=i()(this);t.is(".submitting-non-ajax")?e.preventDefault():t.attr("target")||(i()(window).on("unload",(function(){t.removeClass("submitting-non-ajax")})),t.addClass("submitting-non-ajax"))}))},zjD3:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));const a=(e,t="-")=>0===e?t:e},zm9w:function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var a=n("4Toj"),i=n.n(a),r=n("1OuE"),o=n("4LGs");const s={"'":"&#39;","`":"&#96;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};var c=e=>Object(o.a)(s,e),l=n("0VSk");const d={AUD:"AU$ ",CAD:"CA$ ",CHF:"CHF ",DKK:"DKK ",EUR:"€",GBP:"£",HKD:"HK$ ",JPY:"¥",MXN:"MX$ ",NOK:"NOK ",NZD:"NZ$ ",PLN:"PLN ",SEK:"SEK ",SGD:"S$ ",USD:"$"},u=["de","es","fr","it"];let m={..."undefined"!=typeof window?window.formatters:{},is_right_adjusted_locale:function(e){return u.includes(e)},currency_symbol:function(e,t){let n="";return n="USD"==e&&t&&"international"==t.usd_type?"US"+this.currency_symbol_mappings[e]+" ":this.currency_symbol_mappings[e],t&&t.withoutSpace?n.trim():n},currency_symbol_mappings:d,money:function(e,t){return t={separator:l.default.t("number.currency.format.separator"),delimiter:l.default.t("number.currency.format.delimiter"),format:l.default.t("number.currency.format.format"),...t},isNaN(t.precision)&&(t.precision=l.default.t("number.currency.format.precision")),"truncate_zeros"===t.type&&(t.precision=parseFloat(e)%1==0?0:2),this.interpolate(t.format,{n:this.format_number(e,t),u:this.currency_symbol(t.currency,t)})},shorter_money:function(e,t){return void 0===t&&(t={}),e<100?t.precision=2:(t.precision=0,e=Math.floor(e)),this.money(e,t)},percent:function(e,t){return t={delimiter:l.default.t("number.percentage.format.delimiter"),format:l.default.t("number.percentage.format.format"),...t},this.interpolate(t.format,{n:this.format_number(e,t)})},format_number:function(e,t){var n,a,i;return t={separator:l.default.t("number.format.separator"),delimiter:l.default.t("number.format.delimiter"),...t},isNaN(t.precision)?t.precision=l.default.t("number.format.precision"):t.precision=Math.abs(t.precision),n=t.precision||t.round?Math.abs(e).toFixed(t.precision):parseInt(Math.abs(e),10).toString(),i=(a=String(parseInt(n,10))).split("").reverse().join("").replace(/(\d{3})(?=\d)/g,"$1"+t.delimiter.split("").reverse().join("")).split("").reverse().join(""),e<0&&(i="-"+i),t.precision&&(i+=t.separator+Math.abs(n-a).toFixed(t.precision).slice(2)),i},interpolate:function(e,t){return e.replace(/\%([\w]+)/g,(function(e,n){return t[n]||""}))},pluralize:function(e,t){var n,a=e,i=["zombie","zombies","cow()","ki(i?)ne","move","moves","sex","sexes","child","children","man","men","person","people","database","databases","quiz","quizzes","matrix","matrices","(vert|ind)ex","(vert|ind)ices","(^ox)","(^ox)en","(alias|status)","(alias|status)es","(octop|vir)us","(octop|vir)i","(cris|ax|test)is","(cris|ax|test)es","shoe","shoes","o","oes","bus","buses","(m|l)ouse","(m|l)ice","(x|ch|ss|sh)","(x|ch|ss|sh)es","movie","movies","series","series","([^aeiouy]|qu)y","([^aeiouy]|qu)ies","([lr])f","([lr])ves","tive","tives","hive","hives","([^f])fe","([^f])ves","(analy|ba|diagno|parenthe|progno|synop|the)sis","(analy|ba|diagno|parenthe|progno|synop|the)ses","([ti])um","([ti])a","news","news","([^s])","()s"],r=i.map(e=>new RegExp(e+"$","i")),o=!1,s=0;function c(e,n){var a=i[s+(1===t?0:1)-s%2];return void 0!==n&&(a=a.replace(/\(.*\)/,n)),a}function l(e,t){return t.toUpperCase()}for(;!o&&s<i.length;)n=r[s+=1],e.match(n)&&(o=!0,a=e.replace(n,c),e.match(/^[A-Z][^A-Z]+$/)?a=a.replace(/^([a-z])/,l):e.match(/^[A-Z]+$/)&&(a=a.toUpperCase()));return a},capitalize:function(e){return"string"!=typeof e?"":e.replace(/^(\w)|\s(\w)/g,(function(e){return e.toUpperCase()}))},to_sentence:function(e,t){switch(t={words_connector:l.default.t("support.array.words_connector"),two_words_connector:l.default.t("support.array.two_words_connector"),last_word_connector:l.default.t("support.array.last_word_connector"),...t},e.length){case 0:return"";case 1:return String(e[0]);case 2:return e[0]+t.two_words_connector+e[1];default:return e.slice(0,-1).join(t.words_connector)+t.last_word_connector+e[e.length-1]}},paragraphize:function(e){return(e=(e=(e=c(e)).replace(/\r\n?/g,"\n")).trim()).length>0&&(e="<p>"+(e=(e=e.replace(/\n{2,}/g,"</p><p>")).replace(/\n/g,"<br />"))+"</p>"),e},time_ago_in_words:function(e){if(!e)return"?";("number"==typeof e||"string"==typeof e&&e.match(/^\d+$/))&&(e=parseInt(1e3*e,10));const t=e,n=i()(Date.now(),e);void 0===m.distance_date_intervals&&(m.distance_date_intervals=[{min:5,i18n_key:"schwamm.just_now"},{min:29,i18n_key:"schwamm.less_than_a_minute_ago"},{min:2640,i18n_key:"schwamm.m_minutes_ago",count_key:"m"},{min:82800,i18n_key:"schwamm.about_h_hours_ago",count_key:"h"},{min:604800,i18n_key:"schwamm.d_days_ago",count_key:"d"},{min:15552e3,i18n_key:"schwamm.on_datetime",count_key:"t"},{min:0,i18n_key:"schwamm.on_year",count_key:"y"}]);const a=m.distance_date_intervals.sort((e,t)=>e.min-t.min),o=a[a.length-1],s=a.reduce((e,t)=>t.min>n&&e===o?t:e,o),c={m:Math.round(n/60),h:Math.round(n/3600),d:Math.round(n/86400),t:Object(r.a)("MMMM D",t),y:Object(r.a)("LL",t)},d=l.default.t(s.i18n_key,{count:c[s.count_key]});return d.match(/NaN|undefined/)?"":d}};"undefined"!=typeof window&&(window.formatters=m);t.b=m}},[[28,1,0]]]);